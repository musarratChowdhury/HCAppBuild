(self.webpackChunkHCApp=self.webpackChunkHCApp||[]).push([[179],{4670:(Qe,Y,T)=>{"use strict";T.d(Y,{PV:()=>be,jQ:()=>l,ok:()=>Z,x4:()=>F});class l{constructor(){this.roomId="",this.name="",this.matchType="",this.roomCreatedAt="",this.roomCreatedBy="",this.maxBalls=0,this.totalWickets=0,this.teamA=new N,this.teamB=new N,this.inMatchData=new q,this.isTossStage=!1,this.firstInnings=new W,this.secondInnings=new W,this.currentInnings=new W,this.playerList=[],this.gameOver=!1}}class N{constructor(){this.name="",this.customDisplayName="",this.isBatting=!1,this.isBowling=!1,this.captain=new Z,this.onStrike=new Z,this.bowling=new Z,this.player1=new Z,this.player2=new Z,this.thisOver=[],this.thisOverDisplay=[],this.players=[]}}class Z{constructor(){this.roomId="",this.roomIdString="",this.playerId="",this.currentConnectionId="",this.teamName="",this.name="",this.roomName="",this.number=0,this.runs=0,this.wicketsLeft=0,this.isOnStrike=!1,this.ballsPlayed=0,this.isBatting=!1,this.hasWonToss=!1,this.runRate=0,this.strikeRate=0,this.captainsChoice="",this.isTossing=!1,this.isCaptain=!1,this.isHeads=!1,this.isReady=!1,this.isLocked=!1,this.lockedWith=0,this.hasSelectedNumber=!1}}class W{constructor(){this.name="1st",this.isOn=!1,this.batting=new Z,this.bowling=new Z,this.battingTeam=new N,this.bowlingTeam=new N,this.ballsPlayed=0,this.wickets=0,this.runs=0}}class q{constructor(){this.isSameNumber=!1,this.playerWithHeads=new Z,this.playerWithTails=new Z,this.playerWithTossWin=new Z,this.playerWithTossLoss=new Z,this.playerWithTossWinId="",this.playerWithTossLossId=""}}var be=(()=>((be=be||{})[be.IsDraw=0]="IsDraw",be[be.WonByRun=1]="WonByRun",be[be.WonByWicket=2]="WonByWicket",be))();class F{constructor(){this.winnerTeam=new N,this.matchWinType=be.IsDraw,this.wonByRun=0,this.wonByWicket=0,this.teamA=new N,this.teamB=new N}}},1911:(Qe,Y,T)=>{"use strict";T.d(Y,{b9:()=>Ue,YW:()=>pe});var l=T(6593),N=T(6814),Z=T(95),W=T(6538),q=T(4946);const he=[{path:"",redirectTo:"setup",pathMatch:"full"},{path:"",children:[{path:"setup",loadChildren:()=>T.e(802).then(T.bind(T,802)).then(L=>L.SetupModule)},{path:"game",loadChildren:()=>T.e(488).then(T.bind(T,4488)).then(L=>L.GameModule)},{path:"result",loadChildren:()=>T.e(151).then(T.bind(T,8151)).then(L=>L.ResultModule)}]},{path:"**",redirectTo:"game"}];let be=(()=>{class L{}return L.\u0275fac=function(J){return new(J||L)},L.\u0275mod=q.oAB({type:L}),L.\u0275inj=q.cJS({imports:[l.b2,Z.u5,W.Bz.forRoot(he,{useHash:!0}),W.Bz]}),L})();var F=T(4274),k=T(8956),K=T(1982),oe=T(6690);let ve=(()=>{class L{constructor(J,ge,te){this.socketService=J,this.localStorageService=ge,this.router=te,this.title="HCApp",J.Emitter.on(F.f.InitialFormSubmit,z=>{k.G.invoke(F.f.InitialFormSubmit,z)}),k.G.on(F.f.FirstPlayerJoined,z=>{J.CurrentPlayer=z.playerList.find(j=>j.currentConnectionId==k.G.connectionId),J.MatchData=z,J.Emitter.emit(F.f.LOADGAMESCREEN,z),this.localStorageService.setData("matchData",z)}),k.G.on(F.f.PLAYERJOINED,z=>{""==J.CurrentPlayer.playerId&&(J.CurrentPlayer=z.playerList.find(j=>j.currentConnectionId==k.G.connectionId)),z.playerList.forEach(j=>{J.CurrentPlayer.teamName==j.teamName?J.isTeamMate(j.playerId)||J.Teammates.push(j):J.isOpponent(j.playerId)||J.OppoPlayers.push(j)}),J.MatchData=z,J.Emitter.emit(F.f.LOADGAMESCREEN,z),J.Emitter.emit(F.f.PLAYERJOINED,z),this.localStorageService.setData("matchData",z)}),k.G.on(F.f.AllPlayersJoined,z=>{J.MatchData=z,this.localStorageService.setData("matchData",z),setTimeout(()=>{J.Emitter.emit(F.p.InitiateTossStage,J.MatchData)},1e3)}),J.Emitter.on(F.f.PlayerReady,()=>{""!=J.CurrentPlayer.roomId?k.G.invoke(F.f.PlayerReady,J.CurrentPlayer?.roomId,J.CurrentPlayer):console.error("room id not found on current player")}),k.G.on(F.f.PlayerReadyReceived,z=>{z.currentConnectionId!=this.socketService.CurrentPlayer.currentConnectionId&&J.Emitter.emit(F.f.PlayerReadyReceived,z)}),J.Emitter.on(F.f.PlayerConfirmed,z=>{J.CurrentPlayer.isLocked=!0,J.CurrentPlayer.lockedWith=parseInt(z),""!=J.CurrentPlayer.roomId?k.G.invoke(F.f.PlayerConfirmed,J.CurrentPlayer.roomId,J.CurrentPlayer):console.log("room id not found")}),k.G.on(F.f.PlayerConfirmedReceived,z=>{this.socketService.isTeamMate(z.currentInnings.batting.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",z.currentInnings.batting.lockedWith):this.socketService.isTeamMate(z.currentInnings.bowling.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",z.currentInnings.bowling.lockedWith):this.socketService.Emitter.emit("ShowOppoisLocked")}),k.G.on(F.f.TossDecision,z=>{let j=this.socketService.CurrentPlayer.playerId,fe=z.inMatchData.playerWithTossWin.playerId,le=z.inMatchData.playerWithTossLoss.playerId;j==fe||this.socketService.isTeamMate(fe)?this.socketService.Emitter.emit(F.f.TossDecision,{tosswinner:!0,msg:"You have won the toss",myNumber:z.inMatchData.playerWithTossWin.lockedWith,oppoNumber:z.inMatchData.playerWithTossLoss.lockedWith}):(j==le||this.socketService.isTeamMate(le))&&this.socketService.Emitter.emit(F.f.TossDecision,{tosswinner:!1,msg:"You have lost the toss",myNumber:z.inMatchData.playerWithTossLoss.lockedWith,oppoNumber:z.inMatchData.playerWithTossWin.lockedWith})}),J.Emitter.on(F.f.CaptainsChoice,z=>{J.CurrentPlayer.captainsChoice=z,k.G.invoke(F.f.CaptainsChoice,J.CurrentPlayer.roomId,J.CurrentPlayer)}),k.G.on(F.f.StartMatch,z=>{console.info("after receiving start match event from server : ",z),z.currentInnings.batting.playerId==J.CurrentPlayer.playerId&&(J.CurrentPlayer.isOnStrike=!0),z.currentInnings.bowling.playerId==J.CurrentPlayer.playerId&&(J.CurrentPlayer.isOnStrike=!0),J.Emitter.emit(F.f.StartMatch,z),J.MatchData=z,this.localStorageService.setData("matchData",z)}),k.G.on(F.f.UpdateScore,z=>{console.info("update score event : ",z),z.currentInnings.batting.playerId==J.CurrentPlayer.playerId&&(J.CurrentPlayer.isOnStrike=!0),z.currentInnings.bowling.playerId==J.CurrentPlayer.playerId&&(J.CurrentPlayer.isOnStrike=!0),J.Emitter.emit(F.f.UpdateScore,z),J.MatchData=z,this.localStorageService.setData("matchData",z)}),k.G.on(F.f.GameOver,z=>{console.info("game over event : ",z),this.socketService.MatchResult=z,this.socketService.Emitter.emit(F.p.ShowMatchWinLose,z)}),this.socketService.Emitter.on(F.f.DeleteRoom,z=>{k.G.invoke(F.f.DeleteRoom,z)}),k.G.on(F.f.RoomDeleted,z=>{console.log("previous room deleted")})}}return L.\u0275fac=function(J){return new(J||L)(q.Y36(K.$),q.Y36(oe.J),q.Y36(W.F0))},L.\u0275cmp=q.Xpm({type:L,selectors:[["app-root"]],decls:14,vars:0,consts:[["routerLink","/game","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/setup","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/result","routerLinkActive","active","ariaCurrentWhenActive","page"]],template:function(J,ge){1&J&&(q.TgZ(0,"h2"),q._uU(1,"App is working"),q.qZA(),q.TgZ(2,"nav")(3,"ul")(4,"li")(5,"a",0),q._uU(6,"Game"),q.qZA()(),q.TgZ(7,"li")(8,"a",1),q._uU(9,"Setup"),q.qZA()(),q.TgZ(10,"li")(11,"a",2),q._uU(12,"Result"),q.qZA()()()(),q._UZ(13,"router-outlet"))},dependencies:[W.lC,W.rH,W.Od],styles:["@font-face{font-family:SunnySpells;src:url(SunnySpells.d4013c07149a7a90.ttf)}@font-face{font-family:FredokaOne;src:url(FredokaOne-Regular.818774f549fcbdf1.ttf)}@font-face{font-family:LedBoard;src:url(LedBoard.b6a4846da22262bc.TTF)}@font-face{font-family:LedBoardR;src:url(LEDBDREV.b992883ab656f374.TTF)}@font-face{font-family:LCD2N;src:url(LCD2N___.3422a3060eb00dc0.TTF)}@font-face{font-family:LCDN;src:url(LCD-N___.2924199b10f46e6a.TTF)}[_ngcontent-%COMP%]:root{--notification-font: SunnySpells;--scoreboard-font: LCDN;--this-over-font: LedBoardR}body[_ngcontent-%COMP%]{height:100vh;display:grid;justify-content:center;align-items:center}"]}),L})();var xe=T(9659);const pe=new q.OlP("EmitteryInstance"),Oe={provide:pe,useClass:xe.Z};let Ue=(()=>{class L{}return L.\u0275fac=function(J){return new(J||L)},L.\u0275mod=q.oAB({type:L,bootstrap:[ve]}),L.\u0275inj=q.cJS({providers:[{provide:N.S$,useClass:N.Do},Oe],imports:[l.b2,be]}),L})()},6690:(Qe,Y,T)=>{"use strict";T.d(Y,{J:()=>N});var l=T(4946);let N=(()=>{class Z{constructor(){}loadData(q){return localStorage.getItem(q)?JSON.parse(localStorage.getItem(q)):null}setData(q,he){localStorage.setItem(q,JSON.stringify(he))}deleteData(q){localStorage.removeItem(q)}}return Z.\u0275fac=function(q){return new(q||Z)},Z.\u0275prov=l.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},4274:(Qe,Y,T)=>{"use strict";T.d(Y,{f:()=>l,p:()=>N});var l=(()=>((l=l||{}).GamePageLoaded="gamepageLoaded",l.InitialFormSubmit="initialFormSubmit",l.FirstPlayerJoined="FirstPlayerJoined",l.PLAYERJOINED="PLAYERJOINED",l.AllPlayersJoined="AllPlayersJoined",l.PlayerReady="PlayerReady",l.PlayerReadyReceived="PlayerReadyReceived",l.PlayerConfirmed="PlayerConfirmed",l.PlayerConfirmedReceived="PlayerConfirmedReceived",l.LOADGAMESCREEN="LOADGAMESCREEN",l.TossDecision="TossDecision",l.CaptainsChoice="CaptainsChoice",l.StartMatch="StartMatch",l.UpdateScore="UpdateScore",l.GameOver="GameOver",l.DeleteRoom="DeleteMatchRoom",l.RoomDeleted="RoomDeleted",l))(),N=(()=>((N=N||{}).InitiateTossStage="InitiateTossStage",N.ShowTheLockedNumber="ShowTheLockedNumber",N.ShowOppoisLocked="ShowOppoisLocked",N.ShowMatchWinLose="ShowMatchWinLose",N))()},1982:(Qe,Y,T)=>{"use strict";T.d(Y,{$:()=>he});var l=T(9659),N=T(1911),Z=T(4670),W=T(4946),q=T(6690);let he=(()=>{class be{constructor(k,K){this.emittery=k,this.localStorageService=K,this.CurrentPlayer=new Z.ok,this.OppoPlayers=[],this.Teammates=[],this.MatchData=new Z.jQ,this.MatchResult=new Z.x4,k=new l.Z,l.Z.isDebugEnabled=!1}TurnOffDebugger(){l.Z.isDebugEnabled=!1}get Emitter(){return this.emittery}isTeamMate(k){return this.Teammates.some(K=>K.playerId==k)}isOpponent(k){return this.OppoPlayers.some(K=>K.playerId==k)}}return be.\u0275fac=function(k){return new(k||be)(W.LFG(N.YW),W.LFG(q.J))},be.\u0275prov=W.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},8956:(Qe,Y,T)=>{"use strict";T.d(Y,{G:()=>Zt});var l={};T.r(l),T.d(l,{fixNegotiationNeeded:()=>me,shimAddTrackRemoveTrack:()=>_t,shimAddTrackRemoveTrackWithNative:()=>rt,shimGetDisplayMedia:()=>fe,shimGetSendersWithDtmf:()=>ce,shimGetStats:()=>Ee,shimGetUserMedia:()=>j,shimMediaStream:()=>le,shimOnTrack:()=>Q,shimPeerConnection:()=>Ne,shimSenderReceiverGetStats:()=>ze});var N={};T.r(N),T.d(N,{shimGetDisplayMedia:()=>Re,shimGetUserMedia:()=>Fe,shimPeerConnection:()=>Le,shimReplaceTrack:()=>Ye});var Z={};T.r(Z),T.d(Z,{shimAddTransceiver:()=>en,shimCreateAnswer:()=>ir,shimCreateOffer:()=>Wt,shimGetDisplayMedia:()=>et,shimGetParameters:()=>wn,shimGetUserMedia:()=>Kt,shimOnTrack:()=>ft,shimPeerConnection:()=>Ct,shimRTCDataChannel:()=>vn,shimReceiverGetStats:()=>Lt,shimRemoveStream:()=>yn,shimSenderGetStats:()=>ht});var W={};T.r(W),T.d(W,{shimAudioContext:()=>tt,shimCallbacksAPI:()=>Jt,shimConstraints:()=>An,shimCreateOfferLegacy:()=>We,shimGetUserMedia:()=>On,shimLocalStreamsAPI:()=>un,shimRTCIceServerUrls:()=>Ot,shimRemoteStreamsAPI:()=>ke,shimTrackEventTransceiver:()=>sn});var q={};T.r(q),T.d(q,{removeExtmapAllowMixed:()=>Qt,shimAddIceCandidateNullOrEmpty:()=>to,shimConnectionState:()=>Hr,shimMaxMessageSize:()=>kn,shimRTCIceCandidate:()=>Nn,shimSendThrowTypeError:()=>rn});var he=T(5861),be=T(6593),F=T(2264);let k=!0,K=!0;function oe(s,i,c){const f=s.match(i);return f&&f.length>=c&&parseInt(f[c],10)}function ve(s,i,c){if(!s.RTCPeerConnection)return;const f=s.RTCPeerConnection.prototype,m=f.addEventListener;f.addEventListener=function(P,A){if(P!==i)return m.apply(this,arguments);const B=$=>{const ee=c($);ee&&(A.handleEvent?A.handleEvent(ee):A(ee))};return this._eventMap=this._eventMap||{},this._eventMap[i]||(this._eventMap[i]=new Map),this._eventMap[i].set(A,B),m.apply(this,[P,B])};const b=f.removeEventListener;f.removeEventListener=function(P,A){if(P!==i||!this._eventMap||!this._eventMap[i])return b.apply(this,arguments);if(!this._eventMap[i].has(A))return b.apply(this,arguments);const B=this._eventMap[i].get(A);return this._eventMap[i].delete(A),0===this._eventMap[i].size&&delete this._eventMap[i],0===Object.keys(this._eventMap).length&&delete this._eventMap,b.apply(this,[P,B])},Object.defineProperty(f,"on"+i,{get(){return this["_on"+i]},set(P){this["_on"+i]&&(this.removeEventListener(i,this["_on"+i]),delete this["_on"+i]),P&&this.addEventListener(i,this["_on"+i]=P)},enumerable:!0,configurable:!0})}function xe(s){return"boolean"!=typeof s?new Error("Argument type: "+typeof s+". Please use a boolean."):(k=s,s?"adapter.js logging disabled":"adapter.js logging enabled")}function pe(s){return"boolean"!=typeof s?new Error("Argument type: "+typeof s+". Please use a boolean."):(K=!s,"adapter.js deprecation warnings "+(s?"disabled":"enabled"))}function Oe(){if("object"==typeof window){if(k)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function Ue(s,i){K&&console.warn(s+" is deprecated, please use "+i+" instead.")}function G(s){return"[object Object]"===Object.prototype.toString.call(s)}function J(s){return G(s)?Object.keys(s).reduce(function(i,c){const f=G(s[c]),m=f?J(s[c]):s[c],b=f&&!Object.keys(m).length;return void 0===m||b?i:Object.assign(i,{[c]:m})},{}):s}function ge(s,i,c){!i||c.has(i.id)||(c.set(i.id,i),Object.keys(i).forEach(f=>{f.endsWith("Id")?ge(s,s.get(i[f]),c):f.endsWith("Ids")&&i[f].forEach(m=>{ge(s,s.get(m),c)})}))}function te(s,i,c){const f=c?"outbound-rtp":"inbound-rtp",m=new Map;if(null===i)return m;const b=[];return s.forEach(P=>{"track"===P.type&&P.trackIdentifier===i.id&&b.push(P)}),b.forEach(P=>{s.forEach(A=>{A.type===f&&A.trackId===P.id&&ge(s,A,m)})}),m}const z=Oe;function j(s,i){const c=s&&s.navigator;if(!c.mediaDevices)return;const f=function(A){if("object"!=typeof A||A.mandatory||A.optional)return A;const B={};return Object.keys(A).forEach($=>{if("require"===$||"advanced"===$||"mediaSource"===$)return;const ee="object"==typeof A[$]?A[$]:{ideal:A[$]};void 0!==ee.exact&&"number"==typeof ee.exact&&(ee.min=ee.max=ee.exact);const Ce=function(He,St){return He?He+St.charAt(0).toUpperCase()+St.slice(1):"deviceId"===St?"sourceId":St};if(void 0!==ee.ideal){B.optional=B.optional||[];let He={};"number"==typeof ee.ideal?(He[Ce("min",$)]=ee.ideal,B.optional.push(He),He={},He[Ce("max",$)]=ee.ideal,B.optional.push(He)):(He[Ce("",$)]=ee.ideal,B.optional.push(He))}void 0!==ee.exact&&"number"!=typeof ee.exact?(B.mandatory=B.mandatory||{},B.mandatory[Ce("",$)]=ee.exact):["min","max"].forEach(He=>{void 0!==ee[He]&&(B.mandatory=B.mandatory||{},B.mandatory[Ce(He,$)]=ee[He])})}),A.advanced&&(B.optional=(B.optional||[]).concat(A.advanced)),B},m=function(A,B){if(i.version>=61)return B(A);if((A=JSON.parse(JSON.stringify(A)))&&"object"==typeof A.audio){const $=function(ee,Ce,He){Ce in ee&&!(He in ee)&&(ee[He]=ee[Ce],delete ee[Ce])};$((A=JSON.parse(JSON.stringify(A))).audio,"autoGainControl","googAutoGainControl"),$(A.audio,"noiseSuppression","googNoiseSuppression"),A.audio=f(A.audio)}if(A&&"object"==typeof A.video){let $=A.video.facingMode;$=$&&("object"==typeof $?$:{ideal:$});const ee=i.version<66;if($&&("user"===$.exact||"environment"===$.exact||"user"===$.ideal||"environment"===$.ideal)&&(!c.mediaDevices.getSupportedConstraints||!c.mediaDevices.getSupportedConstraints().facingMode||ee)){let Ce;if(delete A.video.facingMode,"environment"===$.exact||"environment"===$.ideal?Ce=["back","rear"]:("user"===$.exact||"user"===$.ideal)&&(Ce=["front"]),Ce)return c.mediaDevices.enumerateDevices().then(He=>{let St=(He=He.filter(Gt=>"videoinput"===Gt.kind)).find(Gt=>Ce.some(zt=>Gt.label.toLowerCase().includes(zt)));return!St&&He.length&&Ce.includes("back")&&(St=He[He.length-1]),St&&(A.video.deviceId=$.exact?{exact:St.deviceId}:{ideal:St.deviceId}),A.video=f(A.video),z("chrome: "+JSON.stringify(A)),B(A)})}A.video=f(A.video)}return z("chrome: "+JSON.stringify(A)),B(A)},b=function(A){return i.version>=64?A:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[A.name]||A.name,message:A.message,constraint:A.constraint||A.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(c.getUserMedia=function(A,B,$){m(A,ee=>{c.webkitGetUserMedia(ee,B,Ce=>{$&&$(b(Ce))})})}.bind(c),c.mediaDevices.getUserMedia){const A=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(B){return m(B,$=>A($).then(ee=>{if($.audio&&!ee.getAudioTracks().length||$.video&&!ee.getVideoTracks().length)throw ee.getTracks().forEach(Ce=>{Ce.stop()}),new DOMException("","NotFoundError");return ee},ee=>Promise.reject(b(ee))))}}}function fe(s,i){if((!s.navigator.mediaDevices||!("getDisplayMedia"in s.navigator.mediaDevices))&&s.navigator.mediaDevices){if("function"!=typeof i)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");s.navigator.mediaDevices.getDisplayMedia=function(f){return i(f).then(m=>{const b=f.video&&f.video.width,P=f.video&&f.video.height;return f.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:m,maxFrameRate:f.video&&f.video.frameRate||3}},b&&(f.video.mandatory.maxWidth=b),P&&(f.video.mandatory.maxHeight=P),s.navigator.mediaDevices.getUserMedia(f)})}}}function le(s){s.MediaStream=s.MediaStream||s.webkitMediaStream}function Q(s){if("object"==typeof s&&s.RTCPeerConnection&&!("ontrack"in s.RTCPeerConnection.prototype)){Object.defineProperty(s.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(c){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=c)},enumerable:!0,configurable:!0});const i=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=f=>{f.stream.addEventListener("addtrack",m=>{let b;b=s.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(A=>A.track&&A.track.id===m.track.id):{track:m.track};const P=new Event("track");P.track=m.track,P.receiver=b,P.transceiver={receiver:b},P.streams=[f.stream],this.dispatchEvent(P)}),f.stream.getTracks().forEach(m=>{let b;b=s.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(A=>A.track&&A.track.id===m.id):{track:m};const P=new Event("track");P.track=m,P.receiver=b,P.transceiver={receiver:b},P.streams=[f.stream],this.dispatchEvent(P)})},this.addEventListener("addstream",this._ontrackpoly)),i.apply(this,arguments)}}else ve(s,"track",i=>(i.transceiver||Object.defineProperty(i,"transceiver",{value:{receiver:i.receiver}}),i))}function ce(s){if("object"==typeof s&&s.RTCPeerConnection&&!("getSenders"in s.RTCPeerConnection.prototype)&&"createDTMFSender"in s.RTCPeerConnection.prototype){const i=function(m,b){return{track:b,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===b.kind?m.createDTMFSender(b):null),this._dtmf},_pc:m}};if(!s.RTCPeerConnection.prototype.getSenders){s.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const m=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(A,B){let $=m.apply(this,arguments);return $||($=i(this,A),this._senders.push($)),$};const b=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(A){b.apply(this,arguments);const B=this._senders.indexOf(A);-1!==B&&this._senders.splice(B,1)}}const c=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(b){this._senders=this._senders||[],c.apply(this,[b]),b.getTracks().forEach(P=>{this._senders.push(i(this,P))})};const f=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(b){this._senders=this._senders||[],f.apply(this,[b]),b.getTracks().forEach(P=>{const A=this._senders.find(B=>B.track===P);A&&this._senders.splice(this._senders.indexOf(A),1)})}}else if("object"==typeof s&&s.RTCPeerConnection&&"getSenders"in s.RTCPeerConnection.prototype&&"createDTMFSender"in s.RTCPeerConnection.prototype&&s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)){const i=s.RTCPeerConnection.prototype.getSenders;s.RTCPeerConnection.prototype.getSenders=function(){const f=i.apply(this,[]);return f.forEach(m=>m._pc=this),f},Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function Ee(s){if(!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[f,m,b]=arguments;if(arguments.length>0&&"function"==typeof f)return i.apply(this,arguments);if(0===i.length&&(0===arguments.length||"function"!=typeof f))return i.apply(this,[]);const P=function(B){const $={};return B.result().forEach(Ce=>{const He={id:Ce.id,timestamp:Ce.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Ce.type]||Ce.type};Ce.names().forEach(St=>{He[St]=Ce.stat(St)}),$[He.id]=He}),$},A=function(B){return new Map(Object.keys(B).map($=>[$,B[$]]))};return arguments.length>=2?i.apply(this,[function($){m(A(P($)))},f]):new Promise((B,$)=>{i.apply(this,[function(ee){B(A(P(ee)))},$])}).then(m,b)}}function ze(s){if(!("object"==typeof s&&s.RTCPeerConnection&&s.RTCRtpSender&&s.RTCRtpReceiver))return;if(!("getStats"in s.RTCRtpSender.prototype)){const c=s.RTCPeerConnection.prototype.getSenders;c&&(s.RTCPeerConnection.prototype.getSenders=function(){const b=c.apply(this,[]);return b.forEach(P=>P._pc=this),b});const f=s.RTCPeerConnection.prototype.addTrack;f&&(s.RTCPeerConnection.prototype.addTrack=function(){const b=f.apply(this,arguments);return b._pc=this,b}),s.RTCRtpSender.prototype.getStats=function(){const b=this;return this._pc.getStats().then(P=>te(P,b.track,!0))}}if(!("getStats"in s.RTCRtpReceiver.prototype)){const c=s.RTCPeerConnection.prototype.getReceivers;c&&(s.RTCPeerConnection.prototype.getReceivers=function(){const m=c.apply(this,[]);return m.forEach(b=>b._pc=this),m}),ve(s,"track",f=>(f.receiver._pc=f.srcElement,f)),s.RTCRtpReceiver.prototype.getStats=function(){const m=this;return this._pc.getStats().then(b=>te(b,m.track,!1))}}if(!("getStats"in s.RTCRtpSender.prototype)||!("getStats"in s.RTCRtpReceiver.prototype))return;const i=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof s.MediaStreamTrack){const f=arguments[0];let m,b,P;return this.getSenders().forEach(A=>{A.track===f&&(m?P=!0:m=A)}),this.getReceivers().forEach(A=>(A.track===f&&(b?P=!0:b=A),A.track===f)),P||m&&b?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):m?m.getStats():b?b.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}function rt(s){s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(P=>this._shimmedLocalStreams[P][0])};const i=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(P,A){if(!A)return i.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const B=i.apply(this,arguments);return this._shimmedLocalStreams[A.id]?-1===this._shimmedLocalStreams[A.id].indexOf(B)&&this._shimmedLocalStreams[A.id].push(B):this._shimmedLocalStreams[A.id]=[A,B],B};const c=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(P){this._shimmedLocalStreams=this._shimmedLocalStreams||{},P.getTracks().forEach($=>{if(this.getSenders().find(Ce=>Ce.track===$))throw new DOMException("Track already exists.","InvalidAccessError")});const A=this.getSenders();c.apply(this,arguments);const B=this.getSenders().filter($=>-1===A.indexOf($));this._shimmedLocalStreams[P.id]=[P].concat(B)};const f=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(P){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[P.id],f.apply(this,arguments)};const m=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(P){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},P&&Object.keys(this._shimmedLocalStreams).forEach(A=>{const B=this._shimmedLocalStreams[A].indexOf(P);-1!==B&&this._shimmedLocalStreams[A].splice(B,1),1===this._shimmedLocalStreams[A].length&&delete this._shimmedLocalStreams[A]}),m.apply(this,arguments)}}function _t(s,i){if(!s.RTCPeerConnection)return;if(s.RTCPeerConnection.prototype.addTrack&&i.version>=65)return rt(s);const c=s.RTCPeerConnection.prototype.getLocalStreams;s.RTCPeerConnection.prototype.getLocalStreams=function(){const ee=c.apply(this);return this._reverseStreams=this._reverseStreams||{},ee.map(Ce=>this._reverseStreams[Ce.id])};const f=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(ee){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},ee.getTracks().forEach(Ce=>{if(this.getSenders().find(St=>St.track===Ce))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[ee.id]){const Ce=new s.MediaStream(ee.getTracks());this._streams[ee.id]=Ce,this._reverseStreams[Ce.id]=ee,ee=Ce}f.apply(this,[ee])};const m=s.RTCPeerConnection.prototype.removeStream;function b($,ee){let Ce=ee.sdp;return Object.keys($._reverseStreams||[]).forEach(He=>{const St=$._reverseStreams[He];Ce=Ce.replace(new RegExp($._streams[St.id].id,"g"),St.id)}),new RTCSessionDescription({type:ee.type,sdp:Ce})}s.RTCPeerConnection.prototype.removeStream=function(ee){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.apply(this,[this._streams[ee.id]||ee]),delete this._reverseStreams[this._streams[ee.id]?this._streams[ee.id].id:ee.id],delete this._streams[ee.id]},s.RTCPeerConnection.prototype.addTrack=function(ee,Ce){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const He=[].slice.call(arguments,1);if(1!==He.length||!He[0].getTracks().find(zt=>zt===ee))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(zt=>zt.track===ee))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const Gt=this._streams[Ce.id];if(Gt)Gt.addTrack(ee),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const zt=new s.MediaStream([ee]);this._streams[Ce.id]=zt,this._reverseStreams[zt.id]=Ce,this.addStream(zt)}return this.getSenders().find(zt=>zt.track===ee)},["createOffer","createAnswer"].forEach(function($){const ee=s.RTCPeerConnection.prototype[$],Ce={[$](){const He=arguments;return arguments.length&&"function"==typeof arguments[0]?ee.apply(this,[Gt=>{const zt=b(this,Gt);He[0].apply(null,[zt])},Gt=>{He[1]&&He[1].apply(null,Gt)},arguments[2]]):ee.apply(this,arguments).then(Gt=>b(this,Gt))}};s.RTCPeerConnection.prototype[$]=Ce[$]});const A=s.RTCPeerConnection.prototype.setLocalDescription;s.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function P($,ee){let Ce=ee.sdp;return Object.keys($._reverseStreams||[]).forEach(He=>{const St=$._reverseStreams[He],Gt=$._streams[St.id];Ce=Ce.replace(new RegExp(St.id,"g"),Gt.id)}),new RTCSessionDescription({type:ee.type,sdp:Ce})}(this,arguments[0]),A.apply(this,arguments)):A.apply(this,arguments)};const B=Object.getOwnPropertyDescriptor(s.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(s.RTCPeerConnection.prototype,"localDescription",{get(){const $=B.get.apply(this);return""===$.type?$:b(this,$)}}),s.RTCPeerConnection.prototype.removeTrack=function(ee){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!ee._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(ee._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let He;this._streams=this._streams||{},Object.keys(this._streams).forEach(St=>{this._streams[St].getTracks().find(zt=>ee.track===zt)&&(He=this._streams[St])}),He&&(1===He.getTracks().length?this.removeStream(this._reverseStreams[He.id]):He.removeTrack(ee.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Ne(s,i){!s.RTCPeerConnection&&s.webkitRTCPeerConnection&&(s.RTCPeerConnection=s.webkitRTCPeerConnection),s.RTCPeerConnection&&i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(c){const f=s.RTCPeerConnection.prototype[c],m={[c](){return arguments[0]=new("addIceCandidate"===c?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),f.apply(this,arguments)}};s.RTCPeerConnection.prototype[c]=m[c]})}function me(s,i){ve(s,"negotiationneeded",c=>{const f=c.target;if(!(i.version<72||f.getConfiguration&&"plan-b"===f.getConfiguration().sdpSemantics)||"stable"===f.signalingState)return c})}var ae=T(4191),Ie=T.n(ae);function Fe(s){const i=s&&s.navigator,f=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(m){return f(m).catch(b=>Promise.reject(function(m){return{name:{PermissionDeniedError:"NotAllowedError"}[m.name]||m.name,message:m.message,constraint:m.constraint,toString(){return this.name}}}(b)))}}function Re(s){"getDisplayMedia"in s.navigator&&s.navigator.mediaDevices&&(s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||(s.navigator.mediaDevices.getDisplayMedia=s.navigator.getDisplayMedia.bind(s.navigator)))}function Le(s,i){if(s.RTCIceGatherer&&(s.RTCIceCandidate||(s.RTCIceCandidate=function(m){return m}),s.RTCSessionDescription||(s.RTCSessionDescription=function(m){return m}),i.version<15025)){const f=Object.getOwnPropertyDescriptor(s.MediaStreamTrack.prototype,"enabled");Object.defineProperty(s.MediaStreamTrack.prototype,"enabled",{set(m){f.set.call(this,m);const b=new Event("enabled");b.enabled=m,this.dispatchEvent(b)}})}s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)&&Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new s.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),s.RTCDtmfSender&&!s.RTCDTMFSender&&(s.RTCDTMFSender=s.RTCDtmfSender);const c=Ie()(s,i.version);s.RTCPeerConnection=function(m){return m&&m.iceServers&&(m.iceServers=function ne(s,i){let c=!1;return(s=JSON.parse(JSON.stringify(s))).filter(f=>{if(f&&(f.urls||f.url)){let m=f.urls||f.url;f.url&&!f.urls&&Ue("RTCIceServer.url","RTCIceServer.urls");const b="string"==typeof m;return b&&(m=[m]),m=m.filter(P=>{if(0===P.indexOf("stun:"))return!1;const A=P.startsWith("turn")&&!P.startsWith("turn:[")&&P.includes("transport=udp");return A&&!c?(c=!0,!0):A&&!c}),delete f.url,f.urls=b?m[0]:m,!!m.length}})}(m.iceServers),Oe("ICE servers after filtering:",m.iceServers)),new c(m)},s.RTCPeerConnection.prototype=c.prototype}function Ye(s){s.RTCRtpSender&&!("replaceTrack"in s.RTCRtpSender.prototype)&&(s.RTCRtpSender.prototype.replaceTrack=s.RTCRtpSender.prototype.setTrack)}function Kt(s,i){const c=s&&s.navigator,f=s&&s.MediaStreamTrack;if(c.getUserMedia=function(m,b,P){Ue("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),c.mediaDevices.getUserMedia(m).then(b,P)},!(i.version>55&&"autoGainControl"in c.mediaDevices.getSupportedConstraints())){const m=function(P,A,B){A in P&&!(B in P)&&(P[B]=P[A],delete P[A])},b=c.mediaDevices.getUserMedia.bind(c.mediaDevices);if(c.mediaDevices.getUserMedia=function(P){return"object"==typeof P&&"object"==typeof P.audio&&(P=JSON.parse(JSON.stringify(P)),m(P.audio,"autoGainControl","mozAutoGainControl"),m(P.audio,"noiseSuppression","mozNoiseSuppression")),b(P)},f&&f.prototype.getSettings){const P=f.prototype.getSettings;f.prototype.getSettings=function(){const A=P.apply(this,arguments);return m(A,"mozAutoGainControl","autoGainControl"),m(A,"mozNoiseSuppression","noiseSuppression"),A}}if(f&&f.prototype.applyConstraints){const P=f.prototype.applyConstraints;f.prototype.applyConstraints=function(A){return"audio"===this.kind&&"object"==typeof A&&(A=JSON.parse(JSON.stringify(A)),m(A,"autoGainControl","mozAutoGainControl"),m(A,"noiseSuppression","mozNoiseSuppression")),P.apply(this,[A])}}}}function et(s,i){s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||s.navigator.mediaDevices&&(s.navigator.mediaDevices.getDisplayMedia=function(f){if(!f||!f.video){const m=new DOMException("getDisplayMedia without video constraints is undefined");return m.name="NotFoundError",m.code=8,Promise.reject(m)}return!0===f.video?f.video={mediaSource:i}:f.video.mediaSource=i,s.navigator.mediaDevices.getUserMedia(f)})}function ft(s){"object"==typeof s&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ct(s,i){if("object"!=typeof s||!s.RTCPeerConnection&&!s.mozRTCPeerConnection)return;!s.RTCPeerConnection&&s.mozRTCPeerConnection&&(s.RTCPeerConnection=s.mozRTCPeerConnection),i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(m){const b=s.RTCPeerConnection.prototype[m],P={[m](){return arguments[0]=new("addIceCandidate"===m?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),b.apply(this,arguments)}};s.RTCPeerConnection.prototype[m]=P[m]});const c={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},f=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[b,P,A]=arguments;return f.apply(this,[b||null]).then(B=>{if(i.version<53&&!P)try{B.forEach($=>{$.type=c[$.type]||$.type})}catch($){if("TypeError"!==$.name)throw $;B.forEach((ee,Ce)=>{B.set(Ce,Object.assign({},ee,{type:c[ee.type]||ee.type}))})}return B}).then(P,A)}}function ht(s){if("object"!=typeof s||!s.RTCPeerConnection||!s.RTCRtpSender||s.RTCRtpSender&&"getStats"in s.RTCRtpSender.prototype)return;const i=s.RTCPeerConnection.prototype.getSenders;i&&(s.RTCPeerConnection.prototype.getSenders=function(){const m=i.apply(this,[]);return m.forEach(b=>b._pc=this),m});const c=s.RTCPeerConnection.prototype.addTrack;c&&(s.RTCPeerConnection.prototype.addTrack=function(){const m=c.apply(this,arguments);return m._pc=this,m}),s.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Lt(s){if("object"!=typeof s||!s.RTCPeerConnection||!s.RTCRtpSender||s.RTCRtpSender&&"getStats"in s.RTCRtpReceiver.prototype)return;const i=s.RTCPeerConnection.prototype.getReceivers;i&&(s.RTCPeerConnection.prototype.getReceivers=function(){const f=i.apply(this,[]);return f.forEach(m=>m._pc=this),f}),ve(s,"track",c=>(c.receiver._pc=c.srcElement,c)),s.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function yn(s){!s.RTCPeerConnection||"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(c){Ue("removeStream","removeTrack"),this.getSenders().forEach(f=>{f.track&&c.getTracks().includes(f.track)&&this.removeTrack(f)})})}function vn(s){s.DataChannel&&!s.RTCDataChannel&&(s.RTCDataChannel=s.DataChannel)}function en(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.addTransceiver;i&&(s.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const f=arguments[1],m=f&&"sendEncodings"in f;m&&f.sendEncodings.forEach(P=>{if("rid"in P&&!/^[a-z0-9]{0,16}$/i.test(P.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in P&&!(parseFloat(P.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in P&&!(parseFloat(P.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const b=i.apply(this,arguments);if(m){const{sender:P}=b,A=P.getParameters();(!("encodings"in A)||1===A.encodings.length&&0===Object.keys(A.encodings[0]).length)&&(A.encodings=f.sendEncodings,P.sendEncodings=f.sendEncodings,this.setParametersPromises.push(P.setParameters(A).then(()=>{delete P.sendEncodings}).catch(()=>{delete P.sendEncodings})))}return b})}function wn(s){if("object"!=typeof s||!s.RTCRtpSender)return;const i=s.RTCRtpSender.prototype.getParameters;i&&(s.RTCRtpSender.prototype.getParameters=function(){const f=i.apply(this,arguments);return"encodings"in f||(f.encodings=[].concat(this.sendEncodings||[{}])),f})}function Wt(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function ir(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.createAnswer;s.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function un(s){if("object"==typeof s&&s.RTCPeerConnection){if("getLocalStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in s.RTCPeerConnection.prototype)){const i=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addStream=function(f){this._localStreams||(this._localStreams=[]),this._localStreams.includes(f)||this._localStreams.push(f),f.getAudioTracks().forEach(m=>i.call(this,m,f)),f.getVideoTracks().forEach(m=>i.call(this,m,f))},s.RTCPeerConnection.prototype.addTrack=function(f,...m){return m&&m.forEach(b=>{this._localStreams?this._localStreams.includes(b)||this._localStreams.push(b):this._localStreams=[b]}),i.apply(this,arguments)}}"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(c){this._localStreams||(this._localStreams=[]);const f=this._localStreams.indexOf(c);if(-1===f)return;this._localStreams.splice(f,1);const m=c.getTracks();this.getSenders().forEach(b=>{m.includes(b.track)&&this.removeTrack(b)})})}}function ke(s){if("object"==typeof s&&s.RTCPeerConnection&&("getRemoteStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in s.RTCPeerConnection.prototype))){Object.defineProperty(s.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(c){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=c),this.addEventListener("track",this._onaddstreampoly=f=>{f.streams.forEach(m=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(m))return;this._remoteStreams.push(m);const b=new Event("addstream");b.stream=m,this.dispatchEvent(b)})})}});const i=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){const f=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(m){m.streams.forEach(b=>{if(f._remoteStreams||(f._remoteStreams=[]),f._remoteStreams.indexOf(b)>=0)return;f._remoteStreams.push(b);const P=new Event("addstream");P.stream=b,f.dispatchEvent(P)})}),i.apply(f,arguments)}}}function Jt(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype,c=i.createOffer,f=i.createAnswer,m=i.setLocalDescription,b=i.setRemoteDescription,P=i.addIceCandidate;i.createOffer=function($,ee){const He=c.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return ee?(He.then($,ee),Promise.resolve()):He},i.createAnswer=function($,ee){const He=f.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return ee?(He.then($,ee),Promise.resolve()):He};let A=function(B,$,ee){const Ce=m.apply(this,[B]);return ee?(Ce.then($,ee),Promise.resolve()):Ce};i.setLocalDescription=A,A=function(B,$,ee){const Ce=b.apply(this,[B]);return ee?(Ce.then($,ee),Promise.resolve()):Ce},i.setRemoteDescription=A,A=function(B,$,ee){const Ce=P.apply(this,[B]);return ee?(Ce.then($,ee),Promise.resolve()):Ce},i.addIceCandidate=A}function On(s){const i=s&&s.navigator;if(i.mediaDevices&&i.mediaDevices.getUserMedia){const c=i.mediaDevices,f=c.getUserMedia.bind(c);i.mediaDevices.getUserMedia=m=>f(An(m))}!i.getUserMedia&&i.mediaDevices&&i.mediaDevices.getUserMedia&&(i.getUserMedia=function(f,m,b){i.mediaDevices.getUserMedia(f).then(m,b)}.bind(i))}function An(s){return s&&void 0!==s.video?Object.assign({},s,{video:J(s.video)}):s}function Ot(s){if(!s.RTCPeerConnection)return;const i=s.RTCPeerConnection;s.RTCPeerConnection=function(f,m){if(f&&f.iceServers){const b=[];for(let P=0;P<f.iceServers.length;P++){let A=f.iceServers[P];!A.hasOwnProperty("urls")&&A.hasOwnProperty("url")?(Ue("RTCIceServer.url","RTCIceServer.urls"),A=JSON.parse(JSON.stringify(A)),A.urls=A.url,delete A.url,b.push(A)):b.push(f.iceServers[P])}f.iceServers=b}return new i(f,m)},s.RTCPeerConnection.prototype=i.prototype,"generateCertificate"in i&&Object.defineProperty(s.RTCPeerConnection,"generateCertificate",{get:()=>i.generateCertificate})}function sn(s){"object"==typeof s&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function We(s){const i=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(f){if(f){typeof f.offerToReceiveAudio<"u"&&(f.offerToReceiveAudio=!!f.offerToReceiveAudio);const m=this.getTransceivers().find(P=>"audio"===P.receiver.track.kind);!1===f.offerToReceiveAudio&&m?"sendrecv"===m.direction?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":"recvonly"===m.direction&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):!0===f.offerToReceiveAudio&&!m&&this.addTransceiver("audio"),typeof f.offerToReceiveVideo<"u"&&(f.offerToReceiveVideo=!!f.offerToReceiveVideo);const b=this.getTransceivers().find(P=>"video"===P.receiver.track.kind);!1===f.offerToReceiveVideo&&b?"sendrecv"===b.direction?b.setDirection?b.setDirection("sendonly"):b.direction="sendonly":"recvonly"===b.direction&&(b.setDirection?b.setDirection("inactive"):b.direction="inactive"):!0===f.offerToReceiveVideo&&!b&&this.addTransceiver("video")}return i.apply(this,arguments)}}function tt(s){"object"!=typeof s||s.AudioContext||(s.AudioContext=s.webkitAudioContext)}var Tr=T(2917),an=T.n(Tr);function Nn(s){if(!s.RTCIceCandidate||s.RTCIceCandidate&&"foundation"in s.RTCIceCandidate.prototype)return;const i=s.RTCIceCandidate;s.RTCIceCandidate=function(f){if("object"==typeof f&&f.candidate&&0===f.candidate.indexOf("a=")&&((f=JSON.parse(JSON.stringify(f))).candidate=f.candidate.substr(2)),f.candidate&&f.candidate.length){const m=new i(f),b=an().parseCandidate(f.candidate),P=Object.assign(m,b);return P.toJSON=function(){return{candidate:P.candidate,sdpMid:P.sdpMid,sdpMLineIndex:P.sdpMLineIndex,usernameFragment:P.usernameFragment}},P}return new i(f)},s.RTCIceCandidate.prototype=i.prototype,ve(s,"icecandidate",c=>(c.candidate&&Object.defineProperty(c,"candidate",{value:new s.RTCIceCandidate(c.candidate),writable:"false"}),c))}function kn(s,i){if(!s.RTCPeerConnection)return;"sctp"in s.RTCPeerConnection.prototype||Object.defineProperty(s.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const P=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===i.browser&&i.version>=76){const{sdpSemantics:B}=this.getConfiguration();"plan-b"===B&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(function(A){if(!A||!A.sdp)return!1;const B=an().splitSections(A.sdp);return B.shift(),B.some($=>{const ee=an().parseMLine($);return ee&&"application"===ee.kind&&-1!==ee.protocol.indexOf("SCTP")})}(arguments[0])){const B=function(A){const B=A.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===B||B.length<2)return-1;const $=parseInt(B[1],10);return $!=$?-1:$}(arguments[0]),$=function(A){let B=65536;return"firefox"===i.browser&&(B=i.version<57?-1===A?16384:2147483637:i.version<60?57===i.version?65535:65536:2147483637),B}(B),ee=function(A,B){let $=65536;"firefox"===i.browser&&57===i.version&&($=65535);const ee=an().matchPrefix(A.sdp,"a=max-message-size:");return ee.length>0?$=parseInt(ee[0].substr(19),10):"firefox"===i.browser&&-1!==B&&($=2147483637),$}(arguments[0],B);let Ce;Ce=0===$&&0===ee?Number.POSITIVE_INFINITY:0===$||0===ee?Math.max($,ee):Math.min($,ee);const He={};Object.defineProperty(He,"maxMessageSize",{get:()=>Ce}),this._sctp=He}return P.apply(this,arguments)}}function rn(s){if(!s.RTCPeerConnection||!("createDataChannel"in s.RTCPeerConnection.prototype))return;function i(f,m){const b=f.send;f.send=function(){const A=arguments[0];if("open"===f.readyState&&m.sctp&&(A.length||A.size||A.byteLength)>m.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+m.sctp.maxMessageSize+" bytes)");return b.apply(f,arguments)}}const c=s.RTCPeerConnection.prototype.createDataChannel;s.RTCPeerConnection.prototype.createDataChannel=function(){const m=c.apply(this,arguments);return i(m,this),m},ve(s,"datachannel",f=>(i(f.channel,f.target),f))}function Hr(s){if(!s.RTCPeerConnection||"connectionState"in s.RTCPeerConnection.prototype)return;const i=s.RTCPeerConnection.prototype;Object.defineProperty(i,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(i,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(c){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),c&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=c)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(c=>{const f=i[c];i[c]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=m=>{const b=m.target;if(b._lastConnectionState!==b.connectionState){b._lastConnectionState=b.connectionState;const P=new Event("connectionstatechange",m);b.dispatchEvent(P)}return m},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),f.apply(this,arguments)}})}function Qt(s,i){if(!s.RTCPeerConnection||"chrome"===i.browser&&i.version>=71||"safari"===i.browser&&i.version>=605)return;const c=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(m){if(m&&m.sdp&&-1!==m.sdp.indexOf("\na=extmap-allow-mixed")){const b=m.sdp.split("\n").filter(P=>"a=extmap-allow-mixed"!==P.trim()).join("\n");s.RTCSessionDescription&&m instanceof s.RTCSessionDescription?arguments[0]=new s.RTCSessionDescription({type:m.type,sdp:b}):m.sdp=b}return c.apply(this,arguments)}}function to(s,i){if(!s.RTCPeerConnection||!s.RTCPeerConnection.prototype)return;const c=s.RTCPeerConnection.prototype.addIceCandidate;!c||0===c.length||(s.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===i.browser&&i.version<78||"firefox"===i.browser&&i.version<68||"safari"===i.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():c.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const sr=function $e({window:s}={},i={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const c=Oe,f=function L(s){const i={browser:null,version:null};if(typeof s>"u"||!s.navigator)return i.browser="Not a browser.",i;const{navigator:c}=s;if(c.mozGetUserMedia)i.browser="firefox",i.version=oe(c.userAgent,/Firefox\/(\d+)\./,1);else if(c.webkitGetUserMedia||!1===s.isSecureContext&&s.webkitRTCPeerConnection&&!s.RTCIceGatherer)i.browser="chrome",i.version=oe(c.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(c.mediaDevices&&c.userAgent.match(/Edge\/(\d+).(\d+)$/))i.browser="edge",i.version=oe(c.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!s.RTCPeerConnection||!c.userAgent.match(/AppleWebKit\/(\d+)\./))return i.browser="Not a supported browser.",i;i.browser="safari",i.version=oe(c.userAgent,/AppleWebKit\/(\d+)\./,1),i.supportsUnifiedPlan=s.RTCRtpTransceiver&&"currentDirection"in s.RTCRtpTransceiver.prototype}return i}(s),m={browserDetails:f,commonShim:q,extractVersion:oe,disableLog:xe,disableWarnings:pe};switch(f.browser){case"chrome":if(!l||!Ne||!i.shimChrome)return c("Chrome shim is not included in this adapter release."),m;if(null===f.version)return c("Chrome shim can not determine version, not shimming."),m;c("adapter.js shimming chrome."),m.browserShim=l,to(s,f),j(s,f),le(s),Ne(s,f),Q(s),_t(s,f),ce(s),Ee(s),ze(s),me(s,f),Nn(s),Hr(s),kn(s,f),rn(s),Qt(s,f);break;case"firefox":if(!Z||!Ct||!i.shimFirefox)return c("Firefox shim is not included in this adapter release."),m;c("adapter.js shimming firefox."),m.browserShim=Z,to(s,f),Kt(s,f),Ct(s,f),ft(s),yn(s),ht(s),Lt(s),vn(s),en(s),wn(s),Wt(s),ir(s),Nn(s),Hr(s),kn(s,f),rn(s);break;case"edge":if(!N||!Le||!i.shimEdge)return c("MS edge shim is not included in this adapter release."),m;c("adapter.js shimming edge."),m.browserShim=N,Fe(s),Re(s),Le(s,f),Ye(s),kn(s,f),rn(s);break;case"safari":if(!W||!i.shimSafari)return c("Safari shim is not included in this adapter release."),m;c("adapter.js shimming safari."),m.browserShim=W,to(s,f),Ot(s),We(s),Jt(s),un(s),ke(s),sn(s),On(s),tt(s),Nn(s),kn(s,f),rn(s),Qt(s,f);break;default:c("Unsupported browser!")}return m}({window:typeof window>"u"?void 0:window});function Nt(s,i,c,f){Object.defineProperty(s,i,{get:c,set:f,enumerable:!0,configurable:!0})}var bt=sr.default||sr,Gn=new(function(){function s(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return s.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},s.prototype.isBrowserSupported=function(){var i=this.getBrowser(),c=this.getVersion();return!!this.supportedBrowsers.includes(i)&&("chrome"===i?c>=this.minChromeVersion:"firefox"===i?c>=this.minFirefoxVersion:"safari"===i&&!this.isIOS&&c>=this.minSafariVersion)},s.prototype.getBrowser=function(){return bt.browserDetails.browser},s.prototype.getVersion=function(){return bt.browserDetails.version||0},s.prototype.isUnifiedPlanSupported=function(){var i=this.getBrowser(),c=bt.browserDetails.version||0;if("chrome"===i&&c<this.minChromeVersion)return!1;if("firefox"===i&&c>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var f,m=!1;try{(f=new RTCPeerConnection).addTransceiver("audio"),m=!0}catch{}finally{f&&f.close()}return m},s.prototype.toString=function(){return"Supports:\n    browser:".concat(this.getBrowser(),"\n    version:").concat(this.getVersion(),"\n    isIOS:").concat(this.isIOS,"\n    isWebRTCSupported:").concat(this.isWebRTCSupported(),"\n    isBrowserSupported:").concat(this.isBrowserSupported(),"\n    isUnifiedPlanSupported:").concat(this.isUnifiedPlanSupported())},s}()),Xt={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},dr=function(){function s(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Xt,this.browser=Gn.getBrowser(),this.browserVersion=Gn.getVersion(),this.supports=function(){var c,i={browser:Gn.isBrowserSupported(),webRTC:Gn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!i.webRTC)return i;try{c=new RTCPeerConnection(Xt),i.audioVideo=!0;var f=void 0;try{f=c.createDataChannel("_PEERJSTEST",{ordered:!0}),i.data=!0,i.reliable=!!f.ordered;try{f.binaryType="blob",i.binaryBlob=!Gn.isIOS}catch{}}catch{}finally{f&&f.close()}}catch{}finally{c&&c.close()}return i}(),this.pack=F.pack,this.unpack=F.unpack,this._dataCount=1}return s.prototype.noop=function(){},s.prototype.validateId=function(i){return!i||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(i)},s.prototype.chunk=function(i){for(var c=[],f=i.size,m=Math.ceil(f/Mt.chunkedMTU),b=0,P=0;P<f;){var A=Math.min(f,P+Mt.chunkedMTU),B=i.slice(P,A);c.push({__peerData:this._dataCount,n:b,data:B,total:m}),P=A,b++}return this._dataCount++,c},s.prototype.blobToArrayBuffer=function(i,c){var f=new FileReader;return f.onload=function(m){m.target&&c(m.target.result)},f.readAsArrayBuffer(i),f},s.prototype.binaryStringToArrayBuffer=function(i){for(var c=new Uint8Array(i.length),f=0;f<i.length;f++)c[f]=255&i.charCodeAt(f);return c.buffer},s.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},s.prototype.isSecure=function(){return"https:"===location.protocol},s}(),Mt=new dr;Nt({},"Peer",()=>ao,s=>ao=s);var Tn,Jn=Object.prototype.hasOwnProperty,$t="~";function jn(){}function De(s,i,c){this.fn=s,this.context=i,this.once=c||!1}function re(s,i,c,f,m){if("function"!=typeof c)throw new TypeError("The listener must be a function");var b=new De(c,f||s,m),P=$t?$t+i:i;return s._events[P]?s._events[P].fn?s._events[P]=[s._events[P],b]:s._events[P].push(b):(s._events[P]=b,s._eventsCount++),s}function U(s,i){0==--s._eventsCount?s._events=new jn:delete s._events[i]}function ie(){this._events=new jn,this._eventsCount=0}Object.create&&(jn.prototype=Object.create(null),(new jn).__proto__||($t=!1)),ie.prototype.eventNames=function(){var c,f,i=[];if(0===this._eventsCount)return i;for(f in c=this._events)Jn.call(c,f)&&i.push($t?f.slice(1):f);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(c)):i},ie.prototype.listeners=function(i){var f=this._events[$t?$t+i:i];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,b=f.length,P=new Array(b);m<b;m++)P[m]=f[m].fn;return P},ie.prototype.listenerCount=function(i){var f=this._events[$t?$t+i:i];return f?f.fn?1:f.length:0},ie.prototype.emit=function(i,c,f,m,b,P){var A=$t?$t+i:i;if(!this._events[A])return!1;var ee,Ce,B=this._events[A],$=arguments.length;if(B.fn){switch(B.once&&this.removeListener(i,B.fn,void 0,!0),$){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,c),!0;case 3:return B.fn.call(B.context,c,f),!0;case 4:return B.fn.call(B.context,c,f,m),!0;case 5:return B.fn.call(B.context,c,f,m,b),!0;case 6:return B.fn.call(B.context,c,f,m,b,P),!0}for(Ce=1,ee=new Array($-1);Ce<$;Ce++)ee[Ce-1]=arguments[Ce];B.fn.apply(B.context,ee)}else{var St,He=B.length;for(Ce=0;Ce<He;Ce++)switch(B[Ce].once&&this.removeListener(i,B[Ce].fn,void 0,!0),$){case 1:B[Ce].fn.call(B[Ce].context);break;case 2:B[Ce].fn.call(B[Ce].context,c);break;case 3:B[Ce].fn.call(B[Ce].context,c,f);break;case 4:B[Ce].fn.call(B[Ce].context,c,f,m);break;default:if(!ee)for(St=1,ee=new Array($-1);St<$;St++)ee[St-1]=arguments[St];B[Ce].fn.apply(B[Ce].context,ee)}}return!0},ie.prototype.on=function(i,c,f){return re(this,i,c,f,!1)},ie.prototype.once=function(i,c,f){return re(this,i,c,f,!0)},ie.prototype.removeListener=function(i,c,f,m){var b=$t?$t+i:i;if(!this._events[b])return this;if(!c)return U(this,b),this;var P=this._events[b];if(P.fn)P.fn===c&&(!m||P.once)&&(!f||P.context===f)&&U(this,b);else{for(var A=0,B=[],$=P.length;A<$;A++)(P[A].fn!==c||m&&!P[A].once||f&&P[A].context!==f)&&B.push(P[A]);B.length?this._events[b]=1===B.length?B[0]:B:U(this,b)}return this},ie.prototype.removeAllListeners=function(i){var c;return i?this._events[c=$t?$t+i:i]&&U(this,c):(this._events=new jn,this._eventsCount=0),this},ie.prototype.off=ie.prototype.removeListener,ie.prototype.addListener=ie.prototype.on,ie.prefixed=$t,ie.EventEmitter=ie,Tn=ie;var ue={};Nt(ue,"LogLevel",()=>nt,s=>nt=s),Nt(ue,"default",()=>_n,s=>_n=s);var Ve=function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var m,P,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(m=f.next()).done;)b.push(m.value)}catch(A){P={error:A}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(P)throw P.error}}return b},Ze=function(s,i,c){if(c||2===arguments.length)for(var b,f=0,m=i.length;f<m;f++)(b||!(f in i))&&(b||(b=Array.prototype.slice.call(i,0,f)),b[f]=i[f]);return s.concat(b||Array.prototype.slice.call(i))},nt=(()=>((nt=nt||{})[nt.Disabled=0]="Disabled",nt[nt.Errors=1]="Errors",nt[nt.Warnings=2]="Warnings",nt[nt.All=3]="All",nt))(),pt=function(){function s(){this._logLevel=nt.Disabled}return Object.defineProperty(s.prototype,"logLevel",{get:function(){return this._logLevel},set:function(i){this._logLevel=i},enumerable:!1,configurable:!0}),s.prototype.log=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=nt.All&&this._print.apply(this,Ze([nt.All],Ve(i),!1))},s.prototype.warn=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=nt.Warnings&&this._print.apply(this,Ze([nt.Warnings],Ve(i),!1))},s.prototype.error=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=nt.Errors&&this._print.apply(this,Ze([nt.Errors],Ve(i),!1))},s.prototype.setLogFunction=function(i){this._print=i},s.prototype._print=function(i){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];var m=Ze(["PeerJS: "],Ve(c),!1);for(var b in m)m[b]instanceof Error&&(m[b]="("+m[b].name+") "+m[b].message);i>=nt.All?console.log.apply(console,Ze([],Ve(m),!1)):i>=nt.Warnings?console.warn.apply(console,Ze(["WARNING"],Ve(m),!1)):i>=nt.Errors&&console.error.apply(console,Ze(["ERROR"],Ve(m),!1))},s}(),_n=new pt,zn={};Nt(zn,"Socket",()=>Gr,s=>Gr=s);var Mn,Bt=(()=>((Bt=Bt||{}).Data="data",Bt.Media="media",Bt))(),yt=(()=>((yt=yt||{}).BrowserIncompatible="browser-incompatible",yt.Disconnected="disconnected",yt.InvalidID="invalid-id",yt.InvalidKey="invalid-key",yt.Network="network",yt.PeerUnavailable="peer-unavailable",yt.SslUnavailable="ssl-unavailable",yt.ServerError="server-error",yt.SocketError="socket-error",yt.SocketClosed="socket-closed",yt.UnavailableID="unavailable-id",yt.WebRTC="webrtc",yt))(),Cn=(()=>((Cn=Cn||{}).Binary="binary",Cn.BinaryUTF8="binary-utf8",Cn.JSON="json",Cn))(),dn=(()=>((dn=dn||{}).Message="message",dn.Disconnected="disconnected",dn.Error="error",dn.Close="close",dn))(),gt=(()=>((gt=gt||{}).Heartbeat="HEARTBEAT",gt.Candidate="CANDIDATE",gt.Offer="OFFER",gt.Answer="ANSWER",gt.Open="OPEN",gt.Error="ERROR",gt.IdTaken="ID-TAKEN",gt.InvalidKey="INVALID-KEY",gt.Leave="LEAVE",gt.Expire="EXPIRE",gt))();Mn=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var s,Wn=(s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)},function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}),Gr=function(s){function i(c,f,m,b,P,A){void 0===A&&(A=5e3);var B=s.call(this)||this;return B.pingInterval=A,B._disconnected=!0,B._messagesQueue=[],B._baseUrl=(c?"wss://":"ws://")+f+":"+m+b+"peerjs?key="+P,B}return Wn(i,s),i.prototype.start=function(c,f){var m=this;this._id=c;var b="".concat(this._baseUrl,"&id=").concat(c,"&token=").concat(f);this._socket||!this._disconnected||(this._socket=new WebSocket(b+"&version="+Mn.version),this._disconnected=!1,this._socket.onmessage=function(P){var A;try{A=JSON.parse(P.data),ue.default.log("Server message received:",A)}catch{return void ue.default.log("Invalid server message",P.data)}m.emit(dn.Message,A)},this._socket.onclose=function(P){m._disconnected||(ue.default.log("Socket closed.",P),m._cleanup(),m._disconnected=!0,m.emit(dn.Disconnected))},this._socket.onopen=function(){m._disconnected||(m._sendQueuedMessages(),ue.default.log("Socket open"),m._scheduleHeartbeat())})},i.prototype._scheduleHeartbeat=function(){var c=this;this._wsPingTimer=setTimeout(function(){c._sendHeartbeat()},this.pingInterval)},i.prototype._sendHeartbeat=function(){if(this._wsOpen()){var c=JSON.stringify({type:gt.Heartbeat});this._socket.send(c),this._scheduleHeartbeat()}else ue.default.log("Cannot send heartbeat, because socket closed")},i.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},i.prototype._sendQueuedMessages=function(){var c,f,m=function(s,i,c){if(c||2===arguments.length)for(var b,f=0,m=i.length;f<m;f++)(b||!(f in i))&&(b||(b=Array.prototype.slice.call(i,0,f)),b[f]=i[f]);return s.concat(b||Array.prototype.slice.call(i))}([],function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var m,P,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(m=f.next()).done;)b.push(m.value)}catch(A){P={error:A}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(P)throw P.error}}return b}(this._messagesQueue),!1);this._messagesQueue=[];try{for(var b=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(m),P=b.next();!P.done;P=b.next())this.send(P.value)}catch(B){c={error:B}}finally{try{P&&!P.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}},i.prototype.send=function(c){if(!this._disconnected){if(!this._id)return void this._messagesQueue.push(c);if(!c.type)return void this.emit(dn.Error,"Invalid message");if(this._wsOpen()){var f=JSON.stringify(c);this._socket.send(f)}}},i.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},i.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},i}(Tn.EventEmitter),Mr={};Nt(Mr,"MediaConnection",()=>Fr,s=>Fr=s);var no={};Nt(no,"Negotiator",()=>ro,s=>ro=s);var Dn=function(){return Dn=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var m in i=arguments[c])Object.prototype.hasOwnProperty.call(i,m)&&(s[m]=i[m]);return s},Dn.apply(this,arguments)},Rn=function(s,i,c,f){return new(c||(c=Promise))(function(b,P){function A(ee){try{$(f.next(ee))}catch(Ce){P(Ce)}}function B(ee){try{$(f.throw(ee))}catch(Ce){P(Ce)}}function $(ee){ee.done?b(ee.value):function m(b){return b instanceof c?b:new c(function(P){P(b)})}(ee.value).then(A,B)}$((f=f.apply(s,i||[])).next())})},Ir=function(s,i){var f,m,b,P,c={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return P={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(P[Symbol.iterator]=function(){return this}),P;function A($){return function(ee){return function B($){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,m&&(b=2&$[0]?m.return:$[0]?m.throw||((b=m.return)&&b.call(m),0):m.next)&&!(b=b.call(m,$[1])).done)return b;switch(m=0,b&&($=[2&$[0],b.value]),$[0]){case 0:case 1:b=$;break;case 4:return c.label++,{value:$[1],done:!1};case 5:c.label++,m=$[1],$=[0];continue;case 7:$=c.ops.pop(),c.trys.pop();continue;default:if(!(b=(b=c.trys).length>0&&b[b.length-1])&&(6===$[0]||2===$[0])){c=0;continue}if(3===$[0]&&(!b||$[1]>b[0]&&$[1]<b[3])){c.label=$[1];break}if(6===$[0]&&c.label<b[1]){c.label=b[1],b=$;break}if(b&&c.label<b[2]){c.label=b[2],c.ops.push($);break}b[2]&&c.ops.pop(),c.trys.pop();continue}$=i.call(s,c)}catch(ee){$=[6,ee],m=0}finally{f=b=0}if(5&$[0])throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}([$,ee])}}},ro=function(){function s(i){this.connection=i}return s.prototype.startConnection=function(i){var c=this._startPeerConnection();if(this.connection.peerConnection=c,this.connection.type===Bt.Media&&i._stream&&this._addTracksToConnection(i._stream,c),i.originator){if(this.connection.type===Bt.Data){var f=this.connection,b=c.createDataChannel(f.label,{ordered:!!i.reliable});f.initialize(b)}this._makeOffer()}else this.handleSDP("OFFER",i.sdp)},s.prototype._startPeerConnection=function(){ue.default.log("Creating RTCPeerConnection.");var i=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(i),i},s.prototype._setupListeners=function(i){var c=this,f=this.connection.peer,m=this.connection.connectionId,b=this.connection.type,P=this.connection.provider;ue.default.log("Listening for ICE candidates."),i.onicecandidate=function(A){!A.candidate||!A.candidate.candidate||(ue.default.log("Received ICE candidates for ".concat(f,":"),A.candidate),P.socket.send({type:gt.Candidate,payload:{candidate:A.candidate,type:b,connectionId:m},dst:f}))},i.oniceconnectionstatechange=function(){switch(i.iceConnectionState){case"failed":ue.default.log("iceConnectionState is failed, closing connections to "+f),c.connection.emit("error",new Error("Negotiation of connection to "+f+" failed.")),c.connection.close();break;case"closed":ue.default.log("iceConnectionState is closed, closing connections to "+f),c.connection.emit("error",new Error("Connection to "+f+" closed.")),c.connection.close();break;case"disconnected":ue.default.log("iceConnectionState changed to disconnected on the connection with "+f);break;case"completed":i.onicecandidate=Mt.noop}c.connection.emit("iceStateChanged",i.iceConnectionState)},ue.default.log("Listening for data channel"),i.ondatachannel=function(A){ue.default.log("Received data channel");var B=A.channel;P.getConnection(f,m).initialize(B)},ue.default.log("Listening for remote stream"),i.ontrack=function(A){ue.default.log("Received remote stream");var B=A.streams[0],$=P.getConnection(f,m);$.type===Bt.Media&&c._addStreamToMediaConnection(B,$)}},s.prototype.cleanup=function(){ue.default.log("Cleaning up PeerConnection to "+this.connection.peer);var i=this.connection.peerConnection;if(i){this.connection.peerConnection=null,i.onicecandidate=i.oniceconnectionstatechange=i.ondatachannel=i.ontrack=function(){};var f=!1;if(this.connection.type===Bt.Data){var b=this.connection.dataChannel;b&&(f=!!b.readyState&&"closed"!==b.readyState)}("closed"!==i.signalingState||f)&&i.close()}},s.prototype._makeOffer=function(){return Rn(this,void 0,Promise,function(){var i,c,f,m,b,P,A;return Ir(this,function(B){switch(B.label){case 0:i=this.connection.peerConnection,c=this.connection.provider,B.label=1;case 1:return B.trys.push([1,7,,8]),[4,i.createOffer(this.connection.options.constraints)];case 2:f=B.sent(),ue.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(f.sdp=this.connection.options.sdpTransform(f.sdp)||f.sdp),B.label=3;case 3:return B.trys.push([3,5,,6]),[4,i.setLocalDescription(f)];case 4:return B.sent(),ue.default.log("Set localDescription:",f,"for:".concat(this.connection.peer)),m={sdp:f,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:Mt.browser},this.connection.type===Bt.Data&&(b=this.connection,m=Dn(Dn({},m),{label:b.label,reliable:b.reliable,serialization:b.serialization})),c.socket.send({type:gt.Offer,payload:m,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(P=B.sent())&&(c.emitError(yt.WebRTC,P),ue.default.log("Failed to setLocalDescription, ",P)),[3,6];case 6:return[3,8];case 7:return A=B.sent(),c.emitError(yt.WebRTC,A),ue.default.log("Failed to createOffer, ",A),[3,8];case 8:return[2]}})})},s.prototype._makeAnswer=function(){return Rn(this,void 0,Promise,function(){var i,c,f,m,b;return Ir(this,function(P){switch(P.label){case 0:i=this.connection.peerConnection,c=this.connection.provider,P.label=1;case 1:return P.trys.push([1,7,,8]),[4,i.createAnswer()];case 2:f=P.sent(),ue.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(f.sdp=this.connection.options.sdpTransform(f.sdp)||f.sdp),P.label=3;case 3:return P.trys.push([3,5,,6]),[4,i.setLocalDescription(f)];case 4:return P.sent(),ue.default.log("Set localDescription:",f,"for:".concat(this.connection.peer)),c.socket.send({type:gt.Answer,payload:{sdp:f,type:this.connection.type,connectionId:this.connection.connectionId,browser:Mt.browser},dst:this.connection.peer}),[3,6];case 5:return m=P.sent(),c.emitError(yt.WebRTC,m),ue.default.log("Failed to setLocalDescription, ",m),[3,6];case 6:return[3,8];case 7:return b=P.sent(),c.emitError(yt.WebRTC,b),ue.default.log("Failed to create answer, ",b),[3,8];case 8:return[2]}})})},s.prototype.handleSDP=function(i,c){return Rn(this,void 0,Promise,function(){var f,m,b,P;return Ir(this,function(A){switch(A.label){case 0:c=new RTCSessionDescription(c),f=this.connection.peerConnection,m=this.connection.provider,ue.default.log("Setting remote description",c),b=this,A.label=1;case 1:return A.trys.push([1,5,,6]),[4,f.setRemoteDescription(c)];case 2:return A.sent(),ue.default.log("Set remoteDescription:".concat(i," for:").concat(this.connection.peer)),"OFFER"!==i?[3,4]:[4,b._makeAnswer()];case 3:A.sent(),A.label=4;case 4:return[3,6];case 5:return P=A.sent(),m.emitError(yt.WebRTC,P),ue.default.log("Failed to setRemoteDescription, ",P),[3,6];case 6:return[2]}})})},s.prototype.handleCandidate=function(i){return Rn(this,void 0,Promise,function(){var c,f,m,b,P,A;return Ir(this,function(B){switch(B.label){case 0:ue.default.log("handleCandidate:",i),c=i.candidate,f=i.sdpMLineIndex,m=i.sdpMid,b=this.connection.peerConnection,P=this.connection.provider,B.label=1;case 1:return B.trys.push([1,3,,4]),[4,b.addIceCandidate(new RTCIceCandidate({sdpMid:m,sdpMLineIndex:f,candidate:c}))];case 2:return B.sent(),ue.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return A=B.sent(),P.emitError(yt.WebRTC,A),ue.default.log("Failed to handleCandidate, ",A),[3,4];case 4:return[2]}})})},s.prototype._addTracksToConnection=function(i,c){if(ue.default.log("add tracks from stream ".concat(i.id," to peer connection")),!c.addTrack)return ue.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");i.getTracks().forEach(function(f){c.addTrack(f,i)})},s.prototype._addStreamToMediaConnection=function(i,c){ue.default.log("add stream ".concat(i.id," to media connection ").concat(c.connectionId)),c.addStream(i)},s}(),fr={};Nt(fr,"BaseConnection",()=>zr,s=>zr=s);var Po=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),zr=function(s){function i(c,f,m){var b=s.call(this)||this;return b.peer=c,b.provider=f,b.options=m,b._open=!1,b.metadata=m.metadata,b}return Po(i,s),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),i}(Tn.EventEmitter),hr=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),kr=function(){return kr=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var m in i=arguments[c])Object.prototype.hasOwnProperty.call(i,m)&&(s[m]=i[m]);return s},kr.apply(this,arguments)},Fr=function(s){function i(c,f,m){var b=s.call(this,c,f,m)||this;return b._localStream=b.options._stream,b.connectionId=b.options.connectionId||i.ID_PREFIX+Mt.randomToken(),b._negotiator=new no.Negotiator(b),b._localStream&&b._negotiator.startConnection({_stream:b._localStream,originator:!0}),b}return hr(i,s),Object.defineProperty(i.prototype,"type",{get:function(){return Bt.Media},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),i.prototype.addStream=function(c){ue.default.log("Receiving stream",c),this._remoteStream=c,s.prototype.emit.call(this,"stream",c)},i.prototype.handleMessage=function(c){var f=c.type,m=c.payload;switch(c.type){case gt.Answer:this._negotiator.handleSDP(f,m.sdp),this._open=!0;break;case gt.Candidate:this._negotiator.handleCandidate(m.candidate);break;default:ue.default.warn("Unrecognized message type:".concat(f," from peer:").concat(this.peer))}},i.prototype.answer=function(c,f){var m,b;if(void 0===f&&(f={}),this._localStream)ue.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=c,f&&f.sdpTransform&&(this.options.sdpTransform=f.sdpTransform),this._negotiator.startConnection(kr(kr({},this.options._payload),{_stream:c}));var P=this.provider._getMessages(this.connectionId);try{for(var A=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(P),B=A.next();!B.done;B=A.next())this.handleMessage(B.value)}catch(ee){m={error:ee}}finally{try{B&&!B.done&&(b=A.return)&&b.call(A)}finally{if(m)throw m.error}}this._open=!0}},i.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,s.prototype.emit.call(this,"close"))},i.ID_PREFIX="mc_",i}(fr.BaseConnection),pr={};Nt(pr,"DataConnection",()=>Lr,s=>Lr=s);var Oo={};Nt(Oo,"EncodingQueue",()=>fn,s=>fn=s);var Wr=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),fn=function(s){function i(){var c=s.call(this)||this;return c.fileReader=new FileReader,c._queue=[],c._processing=!1,c.fileReader.onload=function(f){c._processing=!1,f.target&&c.emit("done",f.target.result),c.doNextTask()},c.fileReader.onerror=function(f){ue.default.error("EncodingQueue error:",f),c._processing=!1,c.destroy(),c.emit("error",f)},c}return Wr(i,s),Object.defineProperty(i.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),i.prototype.enque=function(c){this.queue.push(c),!this.processing&&this.doNextTask()},i.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},i.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},i}(Tn.EventEmitter),oo=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),Lr=function(s){function i(c,f,m){var b=s.call(this,c,f,m)||this;return b.stringify=JSON.stringify,b.parse=JSON.parse,b._buffer=[],b._bufferSize=0,b._buffering=!1,b._chunkedData={},b._encodingQueue=new Oo.EncodingQueue,b.connectionId=b.options.connectionId||i.ID_PREFIX+Mt.randomToken(),b.label=b.options.label||b.connectionId,b.serialization=b.options.serialization||Cn.Binary,b.reliable=!!b.options.reliable,b._encodingQueue.on("done",function(P){b._bufferedSend(P)}),b._encodingQueue.on("error",function(){ue.default.error("DC#".concat(b.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),b.close()}),b._negotiator=new no.Negotiator(b),b._negotiator.startConnection(b.options._payload||{originator:!0}),b}return oo(i,s),Object.defineProperty(i.prototype,"type",{get:function(){return Bt.Data},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),i.prototype.initialize=function(c){this._dc=c,this._configureDataChannel()},i.prototype._configureDataChannel=function(){var c=this;(!Mt.supports.binaryBlob||Mt.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){ue.default.log("DC#".concat(c.connectionId," dc connection success")),c._open=!0,c.emit("open")},this.dataChannel.onmessage=function(f){ue.default.log("DC#".concat(c.connectionId," dc onmessage:"),f.data),c._handleDataMessage(f)},this.dataChannel.onclose=function(){ue.default.log("DC#".concat(c.connectionId," dc closed for:"),c.peer),c.close()}},i.prototype._handleDataMessage=function(c){var f=this,m=c.data,b=m.constructor,A=m;if(this.serialization===Cn.Binary||this.serialization===Cn.BinaryUTF8){if(b===Blob)return void Mt.blobToArrayBuffer(m,function($){var ee=Mt.unpack($);f.emit("data",ee)});if(b===ArrayBuffer)A=Mt.unpack(m);else if(b===String){var B=Mt.binaryStringToArrayBuffer(m);A=Mt.unpack(B)}}else this.serialization===Cn.JSON&&(A=this.parse(m));A.__peerData?this._handleChunk(A):s.prototype.emit.call(this,"data",A)},i.prototype._handleChunk=function(c){var f=c.__peerData,m=this._chunkedData[f]||{data:[],count:0,total:c.total};if(m.data[c.n]=c.data,m.count++,this._chunkedData[f]=m,m.total===m.count){delete this._chunkedData[f];var b=new Blob(m.data);this._handleDataMessage({data:b})}},i.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,s.prototype.emit.call(this,"close"))},i.prototype.send=function(c,f){if(this.open)if(this.serialization===Cn.JSON)this._bufferedSend(this.stringify(c));else if(this.serialization===Cn.Binary||this.serialization===Cn.BinaryUTF8){var m=Mt.pack(c);if(!f&&m.size>Mt.chunkedMTU)return void this._sendChunks(m);Mt.supports.binaryBlob?this._bufferedSend(m):this._encodingQueue.enque(m)}else this._bufferedSend(c);else s.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."))},i.prototype._bufferedSend=function(c){(this._buffering||!this._trySend(c))&&(this._buffer.push(c),this._bufferSize=this._buffer.length)},i.prototype._trySend=function(c){var f=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>i.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){f._buffering=!1,f._tryBuffer()},50),!1;try{this.dataChannel.send(c)}catch(m){return ue.default.error("DC#:".concat(this.connectionId," Error when sending:"),m),this._buffering=!0,this.close(),!1}return!0},i.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},i.prototype._sendChunks=function(c){var f,m,b=Mt.chunk(c);ue.default.log("DC#".concat(this.connectionId," Try to send ").concat(b.length," chunks..."));try{for(var P=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(b),A=P.next();!A.done;A=P.next())this.send(A.value,!0)}catch($){f={error:$}}finally{try{A&&!A.done&&(m=P.return)&&m.call(P)}finally{if(f)throw f.error}}},i.prototype.handleMessage=function(c){var f=c.payload;switch(c.type){case gt.Answer:this._negotiator.handleSDP(c.type,f.sdp);break;case gt.Candidate:this._negotiator.handleCandidate(f.candidate);break;default:ue.default.warn("Unrecognized message type:",c.type,"from peer:",this.peer)}},i.ID_PREFIX="dc_",i.MAX_BUFFERED_AMOUNT=8388608,i}(fr.BaseConnection),Pn={};Nt(Pn,"API",()=>Vr,s=>Vr=s);var No=function(s,i,c,f){return new(c||(c=Promise))(function(b,P){function A(ee){try{$(f.next(ee))}catch(Ce){P(Ce)}}function B(ee){try{$(f.throw(ee))}catch(Ce){P(Ce)}}function $(ee){ee.done?b(ee.value):function m(b){return b instanceof c?b:new c(function(P){P(b)})}(ee.value).then(A,B)}$((f=f.apply(s,i||[])).next())})},Ar=function(s,i){var f,m,b,P,c={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return P={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(P[Symbol.iterator]=function(){return this}),P;function A($){return function(ee){return function B($){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,m&&(b=2&$[0]?m.return:$[0]?m.throw||((b=m.return)&&b.call(m),0):m.next)&&!(b=b.call(m,$[1])).done)return b;switch(m=0,b&&($=[2&$[0],b.value]),$[0]){case 0:case 1:b=$;break;case 4:return c.label++,{value:$[1],done:!1};case 5:c.label++,m=$[1],$=[0];continue;case 7:$=c.ops.pop(),c.trys.pop();continue;default:if(!(b=(b=c.trys).length>0&&b[b.length-1])&&(6===$[0]||2===$[0])){c=0;continue}if(3===$[0]&&(!b||$[1]>b[0]&&$[1]<b[3])){c.label=$[1];break}if(6===$[0]&&c.label<b[1]){c.label=b[1],b=$;break}if(b&&c.label<b[2]){c.label=b[2],c.ops.push($);break}b[2]&&c.ops.pop(),c.trys.pop();continue}$=i.call(s,c)}catch(ee){$=[6,ee],m=0}finally{f=b=0}if(5&$[0])throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}([$,ee])}}},Vr=function(){function s(i){this._options=i}return s.prototype._buildRequest=function(i){var f=this._options,m=f.host,b=f.port,P=f.path,A=f.key,B=new URL("".concat(this._options.secure?"https":"http","://").concat(m,":").concat(b).concat(P).concat(A,"/").concat(i));return B.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),B.searchParams.set("version",Mn.version),fetch(B.href,{referrerPolicy:this._options.referrerPolicy})},s.prototype.retrieveId=function(){return No(this,void 0,Promise,function(){var i,c,f;return Ar(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(200!==(i=m.sent()).status)throw new Error("Error. Status:".concat(i.status));return[2,i.text()];case 2:throw c=m.sent(),ue.default.error("Error retrieving ID",c),f="","/"===this._options.path&&this._options.host!==Mt.CLOUD_HOST&&(f=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+f);case 3:return[2]}})})},s.prototype.listAllPeers=function(){return No(this,void 0,Promise,function(){var i,c,f;return Ar(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(200!==(i=m.sent()).status)throw 401===i.status?("",c=this._options.host===Mt.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+c)):new Error("Error. Status:".concat(i.status));return[2,i.json()];case 2:throw f=m.sent(),ue.default.error("Error retrieving list peers",f),new Error("Could not get list peers from the server."+f);case 3:return[2]}})})},s}(),Do=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),bn=function(){return bn=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var m in i=arguments[c])Object.prototype.hasOwnProperty.call(i,m)&&(s[m]=i[m]);return s},bn.apply(this,arguments)},so=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},zo=function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var m,P,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(m=f.next()).done;)b.push(m.value)}catch(A){P={error:A}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(P)throw P.error}}return b},ao=function(s){function i(c,f){var b,m=s.call(this)||this;return m._id=null,m._lastServerId=null,m._destroyed=!1,m._disconnected=!1,m._open=!1,m._connections=new Map,m._lostMessages=new Map,c&&c.constructor==Object?f=c:c&&(b=c.toString()),f=bn({debug:0,host:Mt.CLOUD_HOST,port:Mt.CLOUD_PORT,path:"/",key:i.DEFAULT_KEY,token:Mt.randomToken(),config:Mt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},f),m._options=f,"/"===m._options.host&&(m._options.host=window.location.hostname),m._options.path&&("/"!==m._options.path[0]&&(m._options.path="/"+m._options.path),"/"!==m._options.path[m._options.path.length-1]&&(m._options.path+="/")),void 0===m._options.secure&&m._options.host!==Mt.CLOUD_HOST?m._options.secure=Mt.isSecure():m._options.host==Mt.CLOUD_HOST&&(m._options.secure=!0),m._options.logFunction&&ue.default.setLogFunction(m._options.logFunction),ue.default.logLevel=m._options.debug||0,m._api=new Pn.API(f),m._socket=m._createServerConnection(),Mt.supports.audioVideo||Mt.supports.data?b&&!Mt.validateId(b)?(m._delayedAbort(yt.InvalidID,'ID "'.concat(b,'" is invalid')),m):(b?m._initialize(b):m._api.retrieveId().then(function(P){return m._initialize(P)}).catch(function(P){return m._abort(yt.ServerError,P)}),m):(m._delayedAbort(yt.BrowserIncompatible,"The current browser does not support WebRTC"),m)}return Do(i,s),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connections",{get:function(){var c,f,m=Object.create(null);try{for(var b=so(this._connections),P=b.next();!P.done;P=b.next()){var A=zo(P.value,2);m[A[0]]=A[1]}}catch(ee){c={error:ee}}finally{try{P&&!P.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}return m},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),i.prototype._createServerConnection=function(){var c=this,f=new zn.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return f.on(dn.Message,function(m){c._handleMessage(m)}),f.on(dn.Error,function(m){c._abort(yt.SocketError,m)}),f.on(dn.Disconnected,function(){c.disconnected||(c.emitError(yt.Network,"Lost connection to server."),c.disconnect())}),f.on(dn.Close,function(){c.disconnected||c._abort(yt.SocketClosed,"Underlying socket is already closed.")}),f},i.prototype._initialize=function(c){this._id=c,this.socket.start(c,this._options.token)},i.prototype._handleMessage=function(c){var f,m,b=c.type,P=c.payload,A=c.src;switch(b){case gt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case gt.Error:this._abort(yt.ServerError,P.msg);break;case gt.IdTaken:this._abort(yt.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case gt.InvalidKey:this._abort(yt.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case gt.Leave:ue.default.log("Received leave message from ".concat(A)),this._cleanupPeer(A),this._connections.delete(A);break;case gt.Expire:this.emitError(yt.PeerUnavailable,"Could not connect to peer ".concat(A));break;case gt.Offer:if((zt=this.getConnection(A,Gt=P.connectionId))&&(zt.close(),ue.default.warn("Offer received for existing Connection ID:".concat(Gt))),P.type===Bt.Media){var B=new Mr.MediaConnection(A,this,{connectionId:Gt,_payload:P,metadata:P.metadata});this._addConnection(A,zt=B),this.emit("call",B)}else{if(P.type!==Bt.Data)return void ue.default.warn("Received malformed connection type:".concat(P.type));var $=new pr.DataConnection(A,this,{connectionId:Gt,_payload:P,metadata:P.metadata,label:P.label,serialization:P.serialization,reliable:P.reliable});this._addConnection(A,zt=$),this.emit("connection",$)}var ee=this._getMessages(Gt);try{for(var Ce=so(ee),He=Ce.next();!He.done;He=Ce.next())zt.handleMessage(He.value)}catch(Ai){f={error:Ai}}finally{try{He&&!He.done&&(m=Ce.return)&&m.call(Ce)}finally{if(f)throw f.error}}break;default:if(!P)return void ue.default.warn("You received a malformed message from ".concat(A," of type ").concat(b));var Gt,zt;(zt=this.getConnection(A,Gt=P.connectionId))&&zt.peerConnection?zt.handleMessage(c):Gt?this._storeMessage(Gt,c):ue.default.warn("You received an unrecognized message:",c)}},i.prototype._storeMessage=function(c,f){this._lostMessages.has(c)||this._lostMessages.set(c,[]),this._lostMessages.get(c).push(f)},i.prototype._getMessages=function(c){var f=this._lostMessages.get(c);return f?(this._lostMessages.delete(c),f):[]},i.prototype.connect=function(c,f){if(void 0===f&&(f={}),this.disconnected)return ue.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(yt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var m=new pr.DataConnection(c,this,f);return this._addConnection(c,m),m},i.prototype.call=function(c,f,m){if(void 0===m&&(m={}),this.disconnected)return ue.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(yt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(f){var b=new Mr.MediaConnection(c,this,bn(bn({},m),{_stream:f}));return this._addConnection(c,b),b}ue.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},i.prototype._addConnection=function(c,f){ue.default.log("add connection ".concat(f.type,":").concat(f.connectionId," to peerId:").concat(c)),this._connections.has(c)||this._connections.set(c,[]),this._connections.get(c).push(f)},i.prototype._removeConnection=function(c){var f=this._connections.get(c.peer);if(f){var m=f.indexOf(c);-1!==m&&f.splice(m,1)}this._lostMessages.delete(c.connectionId)},i.prototype.getConnection=function(c,f){var m,b,P=this._connections.get(c);if(!P)return null;try{for(var A=so(P),B=A.next();!B.done;B=A.next()){var $=B.value;if($.connectionId===f)return $}}catch(ee){m={error:ee}}finally{try{B&&!B.done&&(b=A.return)&&b.call(A)}finally{if(m)throw m.error}}return null},i.prototype._delayedAbort=function(c,f){var m=this;setTimeout(function(){m._abort(c,f)},0)},i.prototype._abort=function(c,f){ue.default.error("Aborting!"),this.emitError(c,f),this._lastServerId?this.disconnect():this.destroy()},i.prototype.emitError=function(c,f){var m;ue.default.error("Error:",f),(m="string"==typeof f?new Error(f):f).type=c,this.emit("error",m)},i.prototype.destroy=function(){this.destroyed||(ue.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},i.prototype._cleanup=function(){var c,f;try{for(var m=so(this._connections.keys()),b=m.next();!b.done;b=m.next()){var P=b.value;this._cleanupPeer(P),this._connections.delete(P)}}catch(A){c={error:A}}finally{try{b&&!b.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}this.socket.removeAllListeners()},i.prototype._cleanupPeer=function(c){var f,m,b=this._connections.get(c);if(b)try{for(var P=so(b),A=P.next();!A.done;A=P.next())A.value.close()}catch($){f={error:$}}finally{try{A&&!A.done&&(m=P.return)&&m.call(P)}finally{if(f)throw f.error}}},i.prototype.disconnect=function(){if(!this.disconnected){var c=this.id;ue.default.log("Disconnect peer with ID:".concat(c)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=c,this._id=null,this.emit("disconnected",c)}},i.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)ue.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"));ue.default.error("In a hurry? We're still trying to make the initial connection!")}},i.prototype.listAllPeers=function(c){var f=this;void 0===c&&(c=function(m){}),this._api.listAllPeers().then(function(m){return c(m)}).catch(function(m){return f._abort(yt.ServerError,m)})},i.DEFAULT_KEY="peerjs",i}(Tn.EventEmitter),co=T(1911);const ko=[0,2e3,1e4,3e4,null];class lo{constructor(i){this._retryDelays=void 0!==i?[...i,null]:ko}nextRetryDelayInMilliseconds(i){return this._retryDelays[i.previousRetryCount]}}let jr=(()=>{class s{}return s.Authorization="Authorization",s.Cookie="Cookie",s})();class uo{constructor(i,c,f){this.statusCode=i,this.statusText=c,this.content=f}}class wt{get(i,c){return this.send({...c,method:"GET",url:i})}post(i,c){return this.send({...c,method:"POST",url:i})}delete(i,c){return this.send({...c,method:"DELETE",url:i})}getCookieString(i){return""}}class En extends wt{constructor(i,c){super(),this._innerClient=i,this._accessTokenFactory=c}send(i){var c=this;return(0,he.Z)(function*(){let f=!0;c._accessTokenFactory&&(!c._accessToken||i.url&&i.url.indexOf("/negotiate?")>0)&&(f=!1,c._accessToken=yield c._accessTokenFactory()),c._setAuthorizationHeader(i);const m=yield c._innerClient.send(i);return f&&401===m.statusCode&&c._accessTokenFactory?(c._accessToken=yield c._accessTokenFactory(),c._setAuthorizationHeader(i),yield c._innerClient.send(i)):m})()}_setAuthorizationHeader(i){i.headers||(i.headers={}),this._accessToken?i.headers[jr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&i.headers[jr.Authorization]&&delete i.headers[jr.Authorization]}getCookieString(i){return this._innerClient.getCookieString(i)}}class cn extends Error{constructor(i,c){const f=new.target.prototype;super(`${i}: Status code '${c}'`),this.statusCode=c,this.__proto__=f}}class gr extends Error{constructor(i="A timeout occurred."){const c=new.target.prototype;super(i),this.__proto__=c}}class kt extends Error{constructor(i="An abort occurred."){const c=new.target.prototype;super(i),this.__proto__=c}}class bo extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="UnsupportedTransportError",this.__proto__=f}}class $r extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="DisabledTransportError",this.__proto__=f}}class mr extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="FailedToStartTransportError",this.__proto__=f}}class ar extends Error{constructor(i){const c=new.target.prototype;super(i),this.errorType="FailedToNegotiateWithServerError",this.__proto__=c}}class yr extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.innerErrors=c,this.__proto__=f}}var ye=(()=>((ye=ye||{})[ye.Trace=0]="Trace",ye[ye.Debug=1]="Debug",ye[ye.Information=2]="Information",ye[ye.Warning=3]="Warning",ye[ye.Error=4]="Error",ye[ye.Critical=5]="Critical",ye[ye.None=6]="None",ye))();class je{constructor(){}log(i,c){}}je.instance=new je;const ct="7.0.7";class ot{static isRequired(i,c){if(null==i)throw new Error(`The '${c}' argument is required.`)}static isNotEmpty(i,c){if(!i||i.match(/^\s*$/))throw new Error(`The '${c}' argument should not be empty.`)}static isIn(i,c,f){if(!(i in c))throw new Error(`Unknown ${f} value: ${i}.`)}}class It{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Qn(s,i){let c="";return Yn(s)?(c=`Binary data of length ${s.byteLength}`,i&&(c+=`. Content: '${function ln(s){const i=new Uint8Array(s);let c="";return i.forEach(f=>{c+=`0x${f<16?"0":""}${f.toString(16)} `}),c.substr(0,c.length-1)}(s)}'`)):"string"==typeof s&&(c=`String data of length ${s.length}`,i&&(c+=`. Content: '${s}'`)),c}function Yn(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&"ArrayBuffer"===s.constructor.name)}function Ut(s,i,c,f,m,b){return cr.apply(this,arguments)}function cr(){return cr=(0,he.Z)(function*(s,i,c,f,m,b){const P={},[A,B]=vr();P[A]=B,s.log(ye.Trace,`(${i} transport) sending data. ${Qn(m,b.logMessageContent)}.`);const $=Yn(m)?"arraybuffer":"text",ee=yield c.post(f,{content:m,headers:{...P,...b.headers},responseType:$,timeout:b.timeout,withCredentials:b.withCredentials});s.log(ye.Trace,`(${i} transport) request complete. Response status: ${ee.statusCode}.`)}),cr.apply(this,arguments)}class st{constructor(i,c){this._subject=i,this._observer=c}dispose(){const i=this._subject.observers.indexOf(this._observer);i>-1&&this._subject.observers.splice(i,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(c=>{})}}class Bn{constructor(i){this._minLevel=i,this.out=console}log(i,c){if(i>=this._minLevel){const f=`[${(new Date).toISOString()}] ${ye[i]}: ${c}`;switch(i){case ye.Critical:case ye.Error:this.out.error(f);break;case ye.Warning:this.out.warn(f);break;case ye.Information:this.out.info(f);break;default:this.out.log(f)}}}}function vr(){let s="X-SignalR-User-Agent";return It.isNode&&(s="User-Agent"),[s,_r(ct,on(),It.isNode?"NodeJS":"Browser",fo())]}function _r(s,i,c,f){let m="Microsoft SignalR/";const b=s.split(".");return m+=`${b[0]}.${b[1]}`,m+=` (${s}; `,m+=i&&""!==i?`${i}; `:"Unknown OS; ",m+=`${c}`,m+=f?`; ${f}`:"; Unknown Runtime Version",m+=")",m}function on(){if(!It.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function fo(){if(It.isNode)return process.versions.node}function Ln(s){return s.stack?s.stack:s.message?s.message:`${s}`}class Yr extends wt{constructor(i){if(super(),this._logger=i,typeof fetch>"u"){const c=require;this._jar=new(c("tough-cookie").CookieJar),this._fetchType=c("node-fetch"),this._fetchType=c("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Rr(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const c=require;this._abortControllerType=c("abort-controller")}else this._abortControllerType=AbortController}send(i){var c=this;return(0,he.Z)(function*(){if(i.abortSignal&&i.abortSignal.aborted)throw new kt;if(!i.method)throw new Error("No method defined.");if(!i.url)throw new Error("No url defined.");const f=new c._abortControllerType;let m;i.abortSignal&&(i.abortSignal.onabort=()=>{f.abort(),m=new kt});let P,b=null;i.timeout&&(b=setTimeout(()=>{f.abort(),c._logger.log(ye.Warning,"Timeout from HTTP request."),m=new gr},i.timeout)),""===i.content&&(i.content=void 0),i.content&&(i.headers=i.headers||{},i.headers["Content-Type"]=Yn(i.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{P=yield c._fetchType(i.url,{body:i.content,cache:"no-cache",credentials:!0===i.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...i.headers},method:i.method,mode:"cors",redirect:"follow",signal:f.signal})}catch($){throw m||(c._logger.log(ye.Warning,`Error from HTTP request. ${$}.`),$)}finally{b&&clearTimeout(b),i.abortSignal&&(i.abortSignal.onabort=null)}if(!P.ok){const $=yield er(P,"text");throw new cn($||P.statusText,P.status)}const B=yield er(P,i.responseType);return new uo(P.status,P.statusText,B)})()}getCookieString(i){let c="";return It.isNode&&this._jar&&this._jar.getCookies(i,(f,m)=>c=m.join("; ")),c}}function er(s,i){let c;switch(i){case"arraybuffer":c=s.arrayBuffer();break;case"text":default:c=s.text();break;case"blob":case"document":case"json":throw new Error(`${i} is not supported.`)}return c}class Sn extends wt{constructor(i){super(),this._logger=i}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new kt):i.method?i.url?new Promise((c,f)=>{const m=new XMLHttpRequest;m.open(i.method,i.url,!0),m.withCredentials=void 0===i.withCredentials||i.withCredentials,m.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===i.content&&(i.content=void 0),i.content&&(Yn(i.content)?m.setRequestHeader("Content-Type","application/octet-stream"):m.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const b=i.headers;b&&Object.keys(b).forEach(P=>{m.setRequestHeader(P,b[P])}),i.responseType&&(m.responseType=i.responseType),i.abortSignal&&(i.abortSignal.onabort=()=>{m.abort(),f(new kt)}),i.timeout&&(m.timeout=i.timeout),m.onload=()=>{i.abortSignal&&(i.abortSignal.onabort=null),m.status>=200&&m.status<300?c(new uo(m.status,m.statusText,m.response||m.responseText)):f(new cn(m.response||m.responseText||m.statusText,m.status))},m.onerror=()=>{this._logger.log(ye.Warning,`Error from HTTP request. ${m.status}: ${m.statusText}.`),f(new cn(m.statusText,m.status))},m.ontimeout=()=>{this._logger.log(ye.Warning,"Timeout from HTTP request."),f(new gr)},m.send(i.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class ho extends wt{constructor(i){if(super(),typeof fetch<"u"||It.isNode)this._httpClient=new Yr(i);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new Sn(i)}}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new kt):i.method?i.url?this._httpClient.send(i):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(i){return this._httpClient.getCookieString(i)}}var Tt=(()=>((Tt=Tt||{})[Tt.None=0]="None",Tt[Tt.WebSockets=1]="WebSockets",Tt[Tt.ServerSentEvents=2]="ServerSentEvents",Tt[Tt.LongPolling=4]="LongPolling",Tt))(),Xe=(()=>((Xe=Xe||{})[Xe.Text=1]="Text",Xe[Xe.Binary=2]="Binary",Xe))();class Wo{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class Eo{constructor(i,c,f){this._httpClient=i,this._logger=c,this._pollAbort=new Wo,this._options=f,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(i,c){var f=this;return(0,he.Z)(function*(){if(ot.isRequired(i,"url"),ot.isRequired(c,"transferFormat"),ot.isIn(c,Xe,"transferFormat"),f._url=i,f._logger.log(ye.Trace,"(LongPolling transport) Connecting."),c===Xe.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[m,b]=vr(),P={[m]:b,...f._options.headers},A={abortSignal:f._pollAbort.signal,headers:P,timeout:1e5,withCredentials:f._options.withCredentials};c===Xe.Binary&&(A.responseType="arraybuffer");const B=`${i}&_=${Date.now()}`;f._logger.log(ye.Trace,`(LongPolling transport) polling: ${B}.`);const $=yield f._httpClient.get(B,A);200!==$.statusCode?(f._logger.log(ye.Error,`(LongPolling transport) Unexpected response code: ${$.statusCode}.`),f._closeError=new cn($.statusText||"",$.statusCode),f._running=!1):f._running=!0,f._receiving=f._poll(f._url,A)})()}_poll(i,c){var f=this;return(0,he.Z)(function*(){try{for(;f._running;)try{const m=`${i}&_=${Date.now()}`;f._logger.log(ye.Trace,`(LongPolling transport) polling: ${m}.`);const b=yield f._httpClient.get(m,c);204===b.statusCode?(f._logger.log(ye.Information,"(LongPolling transport) Poll terminated by server."),f._running=!1):200!==b.statusCode?(f._logger.log(ye.Error,`(LongPolling transport) Unexpected response code: ${b.statusCode}.`),f._closeError=new cn(b.statusText||"",b.statusCode),f._running=!1):b.content?(f._logger.log(ye.Trace,`(LongPolling transport) data received. ${Qn(b.content,f._options.logMessageContent)}.`),f.onreceive&&f.onreceive(b.content)):f._logger.log(ye.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(m){f._running?m instanceof gr?f._logger.log(ye.Trace,"(LongPolling transport) Poll timed out, reissuing."):(f._closeError=m,f._running=!1):f._logger.log(ye.Trace,`(LongPolling transport) Poll errored after shutdown: ${m.message}`)}}finally{f._logger.log(ye.Trace,"(LongPolling transport) Polling complete."),f.pollAborted||f._raiseOnClose()}})()}send(i){var c=this;return(0,he.Z)(function*(){return c._running?Ut(c._logger,"LongPolling",c._httpClient,c._url,i,c._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var i=this;return(0,he.Z)(function*(){i._logger.log(ye.Trace,"(LongPolling transport) Stopping polling."),i._running=!1,i._pollAbort.abort();try{yield i._receiving,i._logger.log(ye.Trace,`(LongPolling transport) sending DELETE request to ${i._url}.`);const c={},[f,m]=vr();c[f]=m;const b={headers:{...c,...i._options.headers},timeout:i._options.timeout,withCredentials:i._options.withCredentials};yield i._httpClient.delete(i._url,b),i._logger.log(ye.Trace,"(LongPolling transport) DELETE request sent.")}finally{i._logger.log(ye.Trace,"(LongPolling transport) Stop finished."),i._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let i="(LongPolling transport) Firing onclose event.";this._closeError&&(i+=" Error: "+this._closeError),this._logger.log(ye.Trace,i),this.onclose(this._closeError)}}}class Yo{constructor(i,c,f,m){this._httpClient=i,this._accessToken=c,this._logger=f,this._options=m,this.onreceive=null,this.onclose=null}connect(i,c){var f=this;return(0,he.Z)(function*(){return ot.isRequired(i,"url"),ot.isRequired(c,"transferFormat"),ot.isIn(c,Xe,"transferFormat"),f._logger.log(ye.Trace,"(SSE transport) Connecting."),f._url=i,f._accessToken&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(f._accessToken)}`),new Promise((m,b)=>{let A,P=!1;if(c===Xe.Text){if(It.isBrowser||It.isWebWorker)A=new f._options.EventSource(i,{withCredentials:f._options.withCredentials});else{const B=f._httpClient.getCookieString(i),$={};$.Cookie=B;const[ee,Ce]=vr();$[ee]=Ce,A=new f._options.EventSource(i,{withCredentials:f._options.withCredentials,headers:{...$,...f._options.headers}})}try{A.onmessage=B=>{if(f.onreceive)try{f._logger.log(ye.Trace,`(SSE transport) data received. ${Qn(B.data,f._options.logMessageContent)}.`),f.onreceive(B.data)}catch($){return void f._close($)}},A.onerror=B=>{P?f._close():b(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},A.onopen=()=>{f._logger.log(ye.Information,`SSE connected to ${f._url}`),f._eventSource=A,P=!0,m()}}catch(B){return void b(B)}}else b(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(i){var c=this;return(0,he.Z)(function*(){return c._eventSource?Ut(c._logger,"SSE",c._httpClient,c._url,i,c._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(i){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(i))}}class In{constructor(i,c,f,m,b,P){this._logger=f,this._accessTokenFactory=c,this._logMessageContent=m,this._webSocketConstructor=b,this._httpClient=i,this.onreceive=null,this.onclose=null,this._headers=P}connect(i,c){var f=this;return(0,he.Z)(function*(){let m;return ot.isRequired(i,"url"),ot.isRequired(c,"transferFormat"),ot.isIn(c,Xe,"transferFormat"),f._logger.log(ye.Trace,"(WebSockets transport) Connecting."),f._accessTokenFactory&&(m=yield f._accessTokenFactory()),new Promise((b,P)=>{let A;i=i.replace(/^http/,"ws");const B=f._httpClient.getCookieString(i);let $=!1;if(It.isNode||It.isReactNative){const ee={},[Ce,He]=vr();ee[Ce]=He,m&&(ee[jr.Authorization]=`Bearer ${m}`),B&&(ee[jr.Cookie]=B),A=new f._webSocketConstructor(i,void 0,{headers:{...ee,...f._headers}})}else m&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(m)}`);A||(A=new f._webSocketConstructor(i)),c===Xe.Binary&&(A.binaryType="arraybuffer"),A.onopen=ee=>{f._logger.log(ye.Information,`WebSocket connected to ${i}.`),f._webSocket=A,$=!0,b()},A.onerror=ee=>{let Ce=null;Ce=typeof ErrorEvent<"u"&&ee instanceof ErrorEvent?ee.error:"There was an error with the transport",f._logger.log(ye.Information,`(WebSockets transport) ${Ce}.`)},A.onmessage=ee=>{if(f._logger.log(ye.Trace,`(WebSockets transport) data received. ${Qn(ee.data,f._logMessageContent)}.`),f.onreceive)try{f.onreceive(ee.data)}catch(Ce){return void f._close(Ce)}},A.onclose=ee=>{if($)f._close(ee);else{let Ce=null;Ce=typeof ErrorEvent<"u"&&ee instanceof ErrorEvent?ee.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",P(new Error(Ce))}}})})()}send(i){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(ye.Trace,`(WebSockets transport) sending data. ${Qn(i,this._logMessageContent)}.`),this._webSocket.send(i),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(i){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(ye.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(i)||!1!==i.wasClean&&1e3===i.code?i instanceof Error?this.onclose(i):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${i.code} (${i.reason||"no reason given"}).`)))}_isCloseEvent(i){return i&&"boolean"==typeof i.wasClean&&"number"==typeof i.code}}class qr{constructor(i,c={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ot.isRequired(i,"url"),this._logger=function Xn(s){return void 0===s?new Bn(ye.Information):null===s?je.instance:void 0!==s.log?s:new Bn(s)}(c.logger),this.baseUrl=this._resolveUrl(i),(c=c||{}).logMessageContent=void 0!==c.logMessageContent&&c.logMessageContent,"boolean"!=typeof c.withCredentials&&void 0!==c.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");c.withCredentials=void 0===c.withCredentials||c.withCredentials,c.timeout=void 0===c.timeout?1e5:c.timeout;let f=null,m=null;if(It.isNode){const b=require;f=b("ws"),m=b("eventsource")}!It.isNode&&typeof WebSocket<"u"&&!c.WebSocket?c.WebSocket=WebSocket:It.isNode&&!c.WebSocket&&f&&(c.WebSocket=f),!It.isNode&&typeof EventSource<"u"&&!c.EventSource?c.EventSource=EventSource:It.isNode&&!c.EventSource&&typeof m<"u"&&(c.EventSource=m),this._httpClient=new En(c.httpClient||new ho(this._logger),c.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=c,this.onreceive=null,this.onclose=null}start(i){var c=this;return(0,he.Z)(function*(){if(ot.isIn(i=i||Xe.Binary,Xe,"transferFormat"),c._logger.log(ye.Debug,`Starting connection with transfer format '${Xe[i]}'.`),"Disconnected"!==c._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(c._connectionState="Connecting",c._startInternalPromise=c._startInternal(i),yield c._startInternalPromise,"Disconnecting"===c._connectionState){const f="Failed to start the HttpConnection before stop() was called.";return c._logger.log(ye.Error,f),yield c._stopPromise,Promise.reject(new kt(f))}if("Connected"!==c._connectionState){const f="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return c._logger.log(ye.Error,f),Promise.reject(new kt(f))}c._connectionStarted=!0})()}send(i){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new hn(this.transport)),this._sendQueue.send(i))}stop(i){var c=this;return(0,he.Z)(function*(){return"Disconnected"===c._connectionState?(c._logger.log(ye.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===c._connectionState?(c._logger.log(ye.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),c._stopPromise):(c._connectionState="Disconnecting",c._stopPromise=new Promise(f=>{c._stopPromiseResolver=f}),yield c._stopInternal(i),void(yield c._stopPromise))})()}_stopInternal(i){var c=this;return(0,he.Z)(function*(){c._stopError=i;try{yield c._startInternalPromise}catch{}if(c.transport){try{yield c.transport.stop()}catch(f){c._logger.log(ye.Error,`HttpConnection.transport.stop() threw error '${f}'.`),c._stopConnection()}c.transport=void 0}else c._logger.log(ye.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(i){var c=this;return(0,he.Z)(function*(){let f=c.baseUrl;c._accessTokenFactory=c._options.accessTokenFactory,c._httpClient._accessTokenFactory=c._accessTokenFactory;try{if(c._options.skipNegotiation){if(c._options.transport!==Tt.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");c.transport=c._constructTransport(Tt.WebSockets),yield c._startTransport(f,i)}else{let m=null,b=0;do{if(m=yield c._getNegotiationResponse(f),"Disconnecting"===c._connectionState||"Disconnected"===c._connectionState)throw new kt("The connection was stopped during negotiation.");if(m.error)throw new Error(m.error);if(m.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(m.url&&(f=m.url),m.accessToken){const P=m.accessToken;c._accessTokenFactory=()=>P,c._httpClient._accessToken=P,c._httpClient._accessTokenFactory=void 0}b++}while(m.url&&b<100);if(100===b&&m.url)throw new Error("Negotiate redirection limit exceeded.");yield c._createTransport(f,c._options.transport,m,i)}c.transport instanceof Eo&&(c.features.inherentKeepAlive=!0),"Connecting"===c._connectionState&&(c._logger.log(ye.Debug,"The HttpConnection connected successfully."),c._connectionState="Connected")}catch(m){return c._logger.log(ye.Error,"Failed to start the connection: "+m),c._connectionState="Disconnected",c.transport=void 0,c._stopPromiseResolver(),Promise.reject(m)}})()}_getNegotiationResponse(i){var c=this;return(0,he.Z)(function*(){const f={},[m,b]=vr();f[m]=b;const P=c._resolveNegotiateUrl(i);c._logger.log(ye.Debug,`Sending negotiation request: ${P}.`);try{const A=yield c._httpClient.post(P,{content:"",headers:{...f,...c._options.headers},timeout:c._options.timeout,withCredentials:c._options.withCredentials});if(200!==A.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${A.statusCode}'`));const B=JSON.parse(A.content);return(!B.negotiateVersion||B.negotiateVersion<1)&&(B.connectionToken=B.connectionId),B}catch(A){let B="Failed to complete negotiation with the server: "+A;return A instanceof cn&&404===A.statusCode&&(B+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),c._logger.log(ye.Error,B),Promise.reject(new ar(B))}})()}_createConnectUrl(i,c){return c?i+(-1===i.indexOf("?")?"?":"&")+`id=${c}`:i}_createTransport(i,c,f,m){var b=this;return(0,he.Z)(function*(){let P=b._createConnectUrl(i,f.connectionToken);if(b._isITransport(c))return b._logger.log(ye.Debug,"Connection was provided an instance of ITransport, using that directly."),b.transport=c,yield b._startTransport(P,m),void(b.connectionId=f.connectionId);const A=[],B=f.availableTransports||[];let $=f;for(const ee of B){const Ce=b._resolveTransportOrError(ee,c,m);if(Ce instanceof Error)A.push(`${ee.transport} failed:`),A.push(Ce);else if(b._isITransport(Ce)){if(b.transport=Ce,!$){try{$=yield b._getNegotiationResponse(i)}catch(He){return Promise.reject(He)}P=b._createConnectUrl(i,$.connectionToken)}try{return yield b._startTransport(P,m),void(b.connectionId=$.connectionId)}catch(He){if(b._logger.log(ye.Error,`Failed to start the transport '${ee.transport}': ${He}`),$=void 0,A.push(new mr(`${ee.transport} failed: ${He}`,Tt[ee.transport])),"Connecting"!==b._connectionState){const St="Failed to select transport before stop() was called.";return b._logger.log(ye.Debug,St),Promise.reject(new kt(St))}}}}return Promise.reject(A.length>0?new yr(`Unable to connect to the server with any of the available transports. ${A.join(" ")}`,A):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(i){switch(i){case Tt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new In(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Tt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Yo(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Tt.LongPolling:return new Eo(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${i}.`)}}_startTransport(i,c){return this.transport.onreceive=this.onreceive,this.transport.onclose=f=>this._stopConnection(f),this.transport.connect(i,c)}_resolveTransportOrError(i,c,f){const m=Tt[i.transport];if(null==m)return this._logger.log(ye.Debug,`Skipping transport '${i.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${i.transport}' because it is not supported by this client.`);if(!function Kr(s,i){return!s||0!=(i&s)}(c,m))return this._logger.log(ye.Debug,`Skipping transport '${Tt[m]}' because it was disabled by the client.`),new $r(`'${Tt[m]}' is disabled by the client.`,m);if(!(i.transferFormats.map(P=>Xe[P]).indexOf(f)>=0))return this._logger.log(ye.Debug,`Skipping transport '${Tt[m]}' because it does not support the requested transfer format '${Xe[f]}'.`),new Error(`'${Tt[m]}' does not support ${Xe[f]}.`);if(m===Tt.WebSockets&&!this._options.WebSocket||m===Tt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(ye.Debug,`Skipping transport '${Tt[m]}' because it is not supported in your environment.'`),new bo(`'${Tt[m]}' is not supported in your environment.`,m);this._logger.log(ye.Debug,`Selecting transport '${Tt[m]}'.`);try{return this._constructTransport(m)}catch(P){return P}}_isITransport(i){return i&&"object"==typeof i&&"connect"in i}_stopConnection(i){if(this._logger.log(ye.Debug,`HttpConnection.stopConnection(${i}) called while in state ${this._connectionState}.`),this.transport=void 0,i=this._stopError||i,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(ye.Warning,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${i}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),i?this._logger.log(ye.Error,`Connection disconnected with error '${i}'.`):this._logger.log(ye.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(c=>{this._logger.log(ye.Error,`TransportSendQueue.stop() threw error '${c}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(i)}catch(c){this._logger.log(ye.Error,`HttpConnection.onclose(${i}) threw error '${c}'.`)}}}else this._logger.log(ye.Debug,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(i){if(0===i.lastIndexOf("https://",0)||0===i.lastIndexOf("http://",0))return i;if(!It.isBrowser)throw new Error(`Cannot resolve '${i}'.`);const c=window.document.createElement("a");return c.href=i,this._logger.log(ye.Information,`Normalizing '${i}' to '${c.href}'.`),c.href}_resolveNegotiateUrl(i){const c=i.indexOf("?");let f=i.substring(0,-1===c?i.length:c);return"/"!==f[f.length-1]&&(f+="/"),f+="negotiate",f+=-1===c?"":i.substring(c),-1===f.indexOf("negotiateVersion")&&(f+=-1===c?"?":"&",f+="negotiateVersion="+this._negotiateVersion),f}}class hn{constructor(i){this._transport=i,this._buffer=[],this._executing=!0,this._sendBufferedData=new So,this._transportResult=new So,this._sendLoopPromise=this._sendLoop()}send(i){return this._bufferData(i),this._transportResult||(this._transportResult=new So),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(i){if(this._buffer.length&&typeof this._buffer[0]!=typeof i)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof i}`);this._buffer.push(i),this._sendBufferedData.resolve()}_sendLoop(){var i=this;return(0,he.Z)(function*(){for(;;){if(yield i._sendBufferedData.promise,!i._executing){i._transportResult&&i._transportResult.reject("Connection stopped.");break}i._sendBufferedData=new So;const c=i._transportResult;i._transportResult=void 0;const f="string"==typeof i._buffer[0]?i._buffer.join(""):hn._concatBuffers(i._buffer);i._buffer.length=0;try{yield i._transport.send(f),c.resolve()}catch(m){c.reject(m)}}})()}static _concatBuffers(i){const c=i.map(b=>b.byteLength).reduce((b,P)=>b+P),f=new Uint8Array(c);let m=0;for(const b of i)f.set(new Uint8Array(b),m),m+=b.byteLength;return f.buffer}}class So{constructor(){this.promise=new Promise((i,c)=>[this._resolver,this._rejecter]=[i,c])}resolve(){this._resolver()}reject(i){this._rejecter(i)}}class Ht{static write(i){return`${i}${Ht.RecordSeparator}`}static parse(i){if(i[i.length-1]!==Ht.RecordSeparator)throw new Error("Message is incomplete.");const c=i.split(Ht.RecordSeparator);return c.pop(),c}}Ht.RecordSeparatorCode=30,Ht.RecordSeparator=String.fromCharCode(Ht.RecordSeparatorCode);class Yt{writeHandshakeRequest(i){return Ht.write(JSON.stringify(i))}parseHandshakeResponse(i){let c,f;if(Yn(i)){const A=new Uint8Array(i),B=A.indexOf(Ht.RecordSeparatorCode);if(-1===B)throw new Error("Message is incomplete.");const $=B+1;c=String.fromCharCode.apply(null,Array.prototype.slice.call(A.slice(0,$))),f=A.byteLength>$?A.slice($).buffer:null}else{const A=i,B=A.indexOf(Ht.RecordSeparator);if(-1===B)throw new Error("Message is incomplete.");const $=B+1;c=A.substring(0,$),f=A.length>$?A.substring($):null}const m=Ht.parse(c),b=JSON.parse(m[0]);if(b.type)throw new Error("Expected a handshake response from the server.");return[f,b]}}var ut=(()=>((ut=ut||{})[ut.Invocation=1]="Invocation",ut[ut.StreamItem=2]="StreamItem",ut[ut.Completion=3]="Completion",ut[ut.StreamInvocation=4]="StreamInvocation",ut[ut.CancelInvocation=5]="CancelInvocation",ut[ut.Ping=6]="Ping",ut[ut.Close=7]="Close",ut))();class Un{constructor(){this.observers=[]}next(i){for(const c of this.observers)c.next(i)}error(i){for(const c of this.observers)c.error&&c.error(i)}complete(){for(const i of this.observers)i.complete&&i.complete()}subscribe(i){return this.observers.push(i),new st(this,i)}}var Rt=(()=>((Rt=Rt||{}).Disconnected="Disconnected",Rt.Connecting="Connecting",Rt.Connected="Connected",Rt.Disconnecting="Disconnecting",Rt.Reconnecting="Reconnecting",Rt))();class Jr{constructor(i,c,f,m){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(ye.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ot.isRequired(i,"connection"),ot.isRequired(c,"logger"),ot.isRequired(f,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=c,this._protocol=f,this.connection=i,this._reconnectPolicy=m,this._handshakeProtocol=new Yt,this.connection.onreceive=b=>this._processIncomingData(b),this.connection.onclose=b=>this._connectionClosed(b),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Rt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:ut.Ping})}static create(i,c,f,m){return new Jr(i,c,f,m)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(i){if(this._connectionState!==Rt.Disconnected&&this._connectionState!==Rt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!i)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=i}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var i=this;return(0,he.Z)(function*(){if(i._connectionState!==Rt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));i._connectionState=Rt.Connecting,i._logger.log(ye.Debug,"Starting HubConnection.");try{yield i._startInternal(),It.isBrowser&&window.document.addEventListener("freeze",i._freezeEventListener),i._connectionState=Rt.Connected,i._connectionStarted=!0,i._logger.log(ye.Debug,"HubConnection connected successfully.")}catch(c){return i._connectionState=Rt.Disconnected,i._logger.log(ye.Debug,`HubConnection failed to start successfully because of error '${c}'.`),Promise.reject(c)}})()}_startInternal(){var i=this;return(0,he.Z)(function*(){i._stopDuringStartError=void 0,i._receivedHandshakeResponse=!1;const c=new Promise((f,m)=>{i._handshakeResolver=f,i._handshakeRejecter=m});yield i.connection.start(i._protocol.transferFormat);try{const f={protocol:i._protocol.name,version:i._protocol.version};if(i._logger.log(ye.Debug,"Sending handshake request."),yield i._sendMessage(i._handshakeProtocol.writeHandshakeRequest(f)),i._logger.log(ye.Information,`Using HubProtocol '${i._protocol.name}'.`),i._cleanupTimeout(),i._resetTimeoutPeriod(),i._resetKeepAliveInterval(),yield c,i._stopDuringStartError)throw i._stopDuringStartError;i.connection.features.inherentKeepAlive||(yield i._sendMessage(i._cachedPingMessage))}catch(f){throw i._logger.log(ye.Debug,`Hub handshake failed with error '${f}' during start(). Stopping HubConnection.`),i._cleanupTimeout(),i._cleanupPingTimer(),yield i.connection.stop(f),f}})()}stop(){var i=this;return(0,he.Z)(function*(){const c=i._startPromise;i._stopPromise=i._stopInternal(),yield i._stopPromise;try{yield c}catch{}})()}_stopInternal(i){return this._connectionState===Rt.Disconnected?(this._logger.log(ye.Debug,`Call to HubConnection.stop(${i}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Rt.Disconnecting?(this._logger.log(ye.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Rt.Disconnecting,this._logger.log(ye.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(ye.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=i||new kt("The connection was stopped before the hub handshake could complete."),this.connection.stop(i)))}stream(i,...c){const[f,m]=this._replaceStreamingParams(c),b=this._createStreamInvocation(i,c,m);let P;const A=new Un;return A.cancelCallback=()=>{const B=this._createCancelInvocation(b.invocationId);return delete this._callbacks[b.invocationId],P.then(()=>this._sendWithProtocol(B))},this._callbacks[b.invocationId]=(B,$)=>{$?A.error($):B&&(B.type===ut.Completion?B.error?A.error(new Error(B.error)):A.complete():A.next(B.item))},P=this._sendWithProtocol(b).catch(B=>{A.error(B),delete this._callbacks[b.invocationId]}),this._launchStreams(f,P),A}_sendMessage(i){return this._resetKeepAliveInterval(),this.connection.send(i)}_sendWithProtocol(i){return this._sendMessage(this._protocol.writeMessage(i))}send(i,...c){const[f,m]=this._replaceStreamingParams(c),b=this._sendWithProtocol(this._createInvocation(i,c,!0,m));return this._launchStreams(f,b),b}invoke(i,...c){const[f,m]=this._replaceStreamingParams(c),b=this._createInvocation(i,c,!1,m);return new Promise((A,B)=>{this._callbacks[b.invocationId]=(ee,Ce)=>{Ce?B(Ce):ee&&(ee.type===ut.Completion?ee.error?B(new Error(ee.error)):A(ee.result):B(new Error(`Unexpected message type: ${ee.type}`)))};const $=this._sendWithProtocol(b).catch(ee=>{B(ee),delete this._callbacks[b.invocationId]});this._launchStreams(f,$)})}on(i,c){!i||!c||(i=i.toLowerCase(),this._methods[i]||(this._methods[i]=[]),-1===this._methods[i].indexOf(c)&&this._methods[i].push(c))}off(i,c){if(!i)return;i=i.toLowerCase();const f=this._methods[i];if(f)if(c){const m=f.indexOf(c);-1!==m&&(f.splice(m,1),0===f.length&&delete this._methods[i])}else delete this._methods[i]}onclose(i){i&&this._closedCallbacks.push(i)}onreconnecting(i){i&&this._reconnectingCallbacks.push(i)}onreconnected(i){i&&this._reconnectedCallbacks.push(i)}_processIncomingData(i){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(i=this._processHandshakeResponse(i),this._receivedHandshakeResponse=!0),i){const c=this._protocol.parseMessages(i,this._logger);for(const f of c)switch(f.type){case ut.Invocation:this._invokeClientMethod(f);break;case ut.StreamItem:case ut.Completion:{const m=this._callbacks[f.invocationId];if(m){f.type===ut.Completion&&delete this._callbacks[f.invocationId];try{m(f)}catch(b){this._logger.log(ye.Error,`Stream callback threw error: ${Ln(b)}`)}}break}case ut.Ping:break;case ut.Close:{this._logger.log(ye.Information,"Close message received from server.");const m=f.error?new Error("Server returned an error on close: "+f.error):void 0;!0===f.allowReconnect?this.connection.stop(m):this._stopPromise=this._stopInternal(m);break}default:this._logger.log(ye.Warning,`Invalid message type: ${f.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(i){let c,f;try{[f,c]=this._handshakeProtocol.parseHandshakeResponse(i)}catch(m){const b="Error parsing handshake response: "+m;this._logger.log(ye.Error,b);const P=new Error(b);throw this._handshakeRejecter(P),P}if(c.error){const m="Server returned handshake error: "+c.error;this._logger.log(ye.Error,m);const b=new Error(m);throw this._handshakeRejecter(b),b}return this._logger.log(ye.Debug,"Server handshake complete."),this._handshakeResolver(),f}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var i=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let c=this._nextKeepAlive-(new Date).getTime();c<0&&(c=0),this._pingServerHandle=setTimeout((0,he.Z)(function*(){if(i._connectionState===Rt.Connected)try{yield i._sendMessage(i._cachedPingMessage)}catch{i._cleanupPingTimer()}}),c)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(i){var c=this;return(0,he.Z)(function*(){const f=i.target.toLowerCase(),m=c._methods[f];if(!m)return c._logger.log(ye.Warning,`No client method with the name '${f}' found.`),void(i.invocationId&&(c._logger.log(ye.Warning,`No result given for '${f}' method and invocation ID '${i.invocationId}'.`),yield c._sendWithProtocol(c._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null))));const b=m.slice(),P=!!i.invocationId;let A,B,$;for(const ee of b)try{const Ce=A;A=yield ee.apply(c,i.arguments),P&&A&&Ce&&(c._logger.log(ye.Error,`Multiple results provided for '${f}'. Sending error to server.`),$=c._createCompletionMessage(i.invocationId,"Client provided multiple results.",null)),B=void 0}catch(Ce){B=Ce,c._logger.log(ye.Error,`A callback for the method '${f}' threw error '${Ce}'.`)}$?yield c._sendWithProtocol($):P?(B?$=c._createCompletionMessage(i.invocationId,`${B}`,null):void 0!==A?$=c._createCompletionMessage(i.invocationId,null,A):(c._logger.log(ye.Warning,`No result given for '${f}' method and invocation ID '${i.invocationId}'.`),$=c._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null)),yield c._sendWithProtocol($)):A&&c._logger.log(ye.Error,`Result given for '${f}' method but server is not expecting a result.`)})()}_connectionClosed(i){this._logger.log(ye.Debug,`HubConnection.connectionClosed(${i}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||i||new kt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(i||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Rt.Disconnecting?this._completeClose(i):this._connectionState===Rt.Connected&&this._reconnectPolicy?this._reconnect(i):this._connectionState===Rt.Connected&&this._completeClose(i)}_completeClose(i){if(this._connectionStarted){this._connectionState=Rt.Disconnected,this._connectionStarted=!1,It.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(c=>c.apply(this,[i]))}catch(c){this._logger.log(ye.Error,`An onclose callback called with error '${i}' threw error '${c}'.`)}}}_reconnect(i){var c=this;return(0,he.Z)(function*(){const f=Date.now();let m=0,b=void 0!==i?i:new Error("Attempting to reconnect due to a unknown error."),P=c._getNextRetryDelay(m++,0,b);if(null===P)return c._logger.log(ye.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void c._completeClose(i);if(c._connectionState=Rt.Reconnecting,c._logger.log(ye.Information,i?`Connection reconnecting because of error '${i}'.`:"Connection reconnecting."),0!==c._reconnectingCallbacks.length){try{c._reconnectingCallbacks.forEach(A=>A.apply(c,[i]))}catch(A){c._logger.log(ye.Error,`An onreconnecting callback called with error '${i}' threw error '${A}'.`)}if(c._connectionState!==Rt.Reconnecting)return void c._logger.log(ye.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==P;){if(c._logger.log(ye.Information,`Reconnect attempt number ${m} will start in ${P} ms.`),yield new Promise(A=>{c._reconnectDelayHandle=setTimeout(A,P)}),c._reconnectDelayHandle=void 0,c._connectionState!==Rt.Reconnecting)return void c._logger.log(ye.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield c._startInternal(),c._connectionState=Rt.Connected,c._logger.log(ye.Information,"HubConnection reconnected successfully."),0!==c._reconnectedCallbacks.length)try{c._reconnectedCallbacks.forEach(A=>A.apply(c,[c.connection.connectionId]))}catch(A){c._logger.log(ye.Error,`An onreconnected callback called with connectionId '${c.connection.connectionId}; threw error '${A}'.`)}return}catch(A){if(c._logger.log(ye.Information,`Reconnect attempt failed because of error '${A}'.`),c._connectionState!==Rt.Reconnecting)return c._logger.log(ye.Debug,`Connection moved to the '${c._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(c._connectionState===Rt.Disconnecting&&c._completeClose());b=A instanceof Error?A:new Error(A.toString()),P=c._getNextRetryDelay(m++,Date.now()-f,b)}}c._logger.log(ye.Information,`Reconnect retries have been exhausted after ${Date.now()-f} ms and ${m} failed attempts. Connection disconnecting.`),c._completeClose()})()}_getNextRetryDelay(i,c,f){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:c,previousRetryCount:i,retryReason:f})}catch(m){return this._logger.log(ye.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${i}, ${c}) threw error '${m}'.`),null}}_cancelCallbacksWithError(i){const c=this._callbacks;this._callbacks={},Object.keys(c).forEach(f=>{const m=c[f];try{m(null,i)}catch(b){this._logger.log(ye.Error,`Stream 'error' callback called with '${i}' threw error: ${Ln(b)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(i,c,f,m){if(f)return 0!==m.length?{arguments:c,streamIds:m,target:i,type:ut.Invocation}:{arguments:c,target:i,type:ut.Invocation};{const b=this._invocationId;return this._invocationId++,0!==m.length?{arguments:c,invocationId:b.toString(),streamIds:m,target:i,type:ut.Invocation}:{arguments:c,invocationId:b.toString(),target:i,type:ut.Invocation}}}_launchStreams(i,c){if(0!==i.length){c||(c=Promise.resolve());for(const f in i)i[f].subscribe({complete:()=>{c=c.then(()=>this._sendWithProtocol(this._createCompletionMessage(f)))},error:m=>{let b;b=m instanceof Error?m.message:m&&m.toString?m.toString():"Unknown error",c=c.then(()=>this._sendWithProtocol(this._createCompletionMessage(f,b)))},next:m=>{c=c.then(()=>this._sendWithProtocol(this._createStreamItemMessage(f,m)))}})}}_replaceStreamingParams(i){const c=[],f=[];for(let m=0;m<i.length;m++){const b=i[m];if(this._isObservable(b)){const P=this._invocationId;this._invocationId++,c[P]=b,f.push(P.toString()),i.splice(m,1)}}return[c,f]}_isObservable(i){return i&&i.subscribe&&"function"==typeof i.subscribe}_createStreamInvocation(i,c,f){const m=this._invocationId;return this._invocationId++,0!==f.length?{arguments:c,invocationId:m.toString(),streamIds:f,target:i,type:ut.StreamInvocation}:{arguments:c,invocationId:m.toString(),target:i,type:ut.StreamInvocation}}_createCancelInvocation(i){return{invocationId:i,type:ut.CancelInvocation}}_createStreamItemMessage(i,c){return{invocationId:i,item:c,type:ut.StreamItem}}_createCompletionMessage(i,c,f){return c?{error:c,invocationId:i,type:ut.Completion}:{invocationId:i,result:f,type:ut.Completion}}}class Ii{constructor(){this.name="json",this.version=1,this.transferFormat=Xe.Text}parseMessages(i,c){if("string"!=typeof i)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!i)return[];null===c&&(c=je.instance);const f=Ht.parse(i),m=[];for(const b of f){const P=JSON.parse(b);if("number"!=typeof P.type)throw new Error("Invalid payload.");switch(P.type){case ut.Invocation:this._isInvocationMessage(P);break;case ut.StreamItem:this._isStreamItemMessage(P);break;case ut.Completion:this._isCompletionMessage(P);break;case ut.Ping:case ut.Close:break;default:c.log(ye.Information,"Unknown message type '"+P.type+"' ignored.");continue}m.push(P)}return m}writeMessage(i){return Ht.write(JSON.stringify(i))}_isInvocationMessage(i){this._assertNotEmptyString(i.target,"Invalid payload for Invocation message."),void 0!==i.invocationId&&this._assertNotEmptyString(i.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(i){if(this._assertNotEmptyString(i.invocationId,"Invalid payload for StreamItem message."),void 0===i.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(i){if(i.result&&i.error)throw new Error("Invalid payload for Completion message.");!i.result&&i.error&&this._assertNotEmptyString(i.error,"Invalid payload for Completion message."),this._assertNotEmptyString(i.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(i,c){if("string"!=typeof i||""===i)throw new Error(c)}}const fi={trace:ye.Trace,debug:ye.Debug,info:ye.Information,information:ye.Information,warn:ye.Warning,warning:ye.Warning,error:ye.Error,critical:ye.Critical,none:ye.None};class go{configureLogging(i){if(ot.isRequired(i,"logging"),function hi(s){return void 0!==s.log}(i))this.logger=i;else if("string"==typeof i){const c=function Qr(s){const i=fi[s.toLowerCase()];if(typeof i<"u")return i;throw new Error(`Unknown log level: ${s}`)}(i);this.logger=new Bn(c)}else this.logger=new Bn(i);return this}withUrl(i,c){return ot.isRequired(i,"url"),ot.isNotEmpty(i,"url"),this.url=i,this.httpConnectionOptions="object"==typeof c?{...this.httpConnectionOptions,...c}:{...this.httpConnectionOptions,transport:c},this}withHubProtocol(i){return ot.isRequired(i,"protocol"),this.protocol=i,this}withAutomaticReconnect(i){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=i?Array.isArray(i)?new lo(i):i:new lo,this}build(){const i=this.httpConnectionOptions||{};if(void 0===i.logger&&(i.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const c=new qr(this.url,i);return Jr.create(c,this.logger||je.instance,this.protocol||new Ii,this.reconnectPolicy)}}const pi="https://hc220230626063443.azurewebsites.net",Zt=(new go).withUrl(`${pi}/gamehub`).build(),ni=(new go).withUrl(`${pi}/chathub`).build();let E=null;(new ao).on("open",s=>{!function(){var c=(0,he.Z)(function*(){E=s,yield Zt.start(),yield ni.start(),yield ni.invoke("JoinRoom","FIRST_LOBBY",E)});return function(){return c.apply(this,arguments)}}()()}),be.q6().bootstrapModule(co.b9).catch(s=>console.error(s))},2264:(Qe,Y,T)=>{var l=T(2162).MY,N=T(2162).cx;function W(F){this.index=0,this.dataBuffer=F,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function q(){this.bufferBuilder=new l}function he(F){var k=F.charCodeAt(0);return k<=2047?"00":k<=65535?"000":k<=2097151?"0000":k<=67108863?"00000":"000000"}Qe.exports={unpack:function(F){return new W(F).unpack()},pack:function(F){var k=new q;return k.pack(F),k.getBuffer()}},W.prototype.unpack=function(){var k,F=this.unpack_uint8();if(F<128)return F;if((224^F)<32)return(224^F)-32;if((k=160^F)<=15)return this.unpack_raw(k);if((k=176^F)<=15)return this.unpack_string(k);if((k=144^F)<=15)return this.unpack_array(k);if((k=128^F)<=15)return this.unpack_map(k);switch(F){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return k=this.unpack_uint16(),this.unpack_string(k);case 217:return k=this.unpack_uint32(),this.unpack_string(k);case 218:return k=this.unpack_uint16(),this.unpack_raw(k);case 219:return k=this.unpack_uint32(),this.unpack_raw(k);case 220:return k=this.unpack_uint16(),this.unpack_array(k);case 221:return k=this.unpack_uint32(),this.unpack_array(k);case 222:return k=this.unpack_uint16(),this.unpack_map(k);case 223:return k=this.unpack_uint32(),this.unpack_map(k)}},W.prototype.unpack_uint8=function(){var F=255&this.dataView[this.index];return this.index++,F},W.prototype.unpack_uint16=function(){var F=this.read(2),k=256*(255&F[0])+(255&F[1]);return this.index+=2,k},W.prototype.unpack_uint32=function(){var F=this.read(4),k=256*(256*(256*F[0]+F[1])+F[2])+F[3];return this.index+=4,k},W.prototype.unpack_uint64=function(){var F=this.read(8),k=256*(256*(256*(256*(256*(256*(256*F[0]+F[1])+F[2])+F[3])+F[4])+F[5])+F[6])+F[7];return this.index+=8,k},W.prototype.unpack_int8=function(){var F=this.unpack_uint8();return F<128?F:F-256},W.prototype.unpack_int16=function(){var F=this.unpack_uint16();return F<32768?F:F-65536},W.prototype.unpack_int32=function(){var F=this.unpack_uint32();return F<Math.pow(2,31)?F:F-Math.pow(2,32)},W.prototype.unpack_int64=function(){var F=this.unpack_uint64();return F<Math.pow(2,63)?F:F-Math.pow(2,64)},W.prototype.unpack_raw=function(F){if(this.length<this.index+F)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+F+" "+this.length);var k=this.dataBuffer.slice(this.index,this.index+F);return this.index+=F,k},W.prototype.unpack_string=function(F){for(var ve,xe,k=this.read(F),K=0,oe="";K<F;)(ve=k[K])<128?(oe+=String.fromCharCode(ve),K++):(192^ve)<32?(xe=(192^ve)<<6|63&k[K+1],oe+=String.fromCharCode(xe),K+=2):(xe=(15&ve)<<12|(63&k[K+1])<<6|63&k[K+2],oe+=String.fromCharCode(xe),K+=3);return this.index+=F,oe},W.prototype.unpack_array=function(F){for(var k=new Array(F),K=0;K<F;K++)k[K]=this.unpack();return k},W.prototype.unpack_map=function(F){for(var k={},K=0;K<F;K++){var oe=this.unpack(),ve=this.unpack();k[oe]=ve}return k},W.prototype.unpack_float=function(){var F=this.unpack_uint32();return(0==F>>31?1:-1)*(8388607&F|8388608)*Math.pow(2,(F>>23&255)-127-23)},W.prototype.unpack_double=function(){var F=this.unpack_uint32(),k=this.unpack_uint32(),oe=(F>>20&2047)-1023;return(0==F>>31?1:-1)*((1048575&F|1048576)*Math.pow(2,oe-20)+k*Math.pow(2,oe-52))},W.prototype.read=function(F){var k=this.index;if(k+F<=this.length)return this.dataView.subarray(k,k+F);throw new Error("BinaryPackFailure: read index out of range")},q.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},q.prototype.pack=function(F){var k=typeof F;if("string"===k)this.pack_string(F);else if("number"===k)Math.floor(F)===F?this.pack_integer(F):this.pack_double(F);else if("boolean"===k)!0===F?this.bufferBuilder.append(195):!1===F&&this.bufferBuilder.append(194);else if("undefined"===k)this.bufferBuilder.append(192);else{if("object"!==k)throw new Error('Type "'+k+'" not yet supported');if(null===F)this.bufferBuilder.append(192);else{var K=F.constructor;if(K==Array)this.pack_array(F);else if(K==Blob||K==File||F instanceof Blob||F instanceof File)this.pack_bin(F);else if(K==ArrayBuffer)this.pack_bin(N.useArrayBufferView?new Uint8Array(F):F);else if("BYTES_PER_ELEMENT"in F)this.pack_bin(N.useArrayBufferView?new Uint8Array(F.buffer):F.buffer);else if(K==Object||K.toString().startsWith("class"))this.pack_object(F);else if(K==Date)this.pack_string(F.toString());else{if("function"!=typeof F.toBinaryPack)throw new Error('Type "'+K.toString()+'" not yet supported');this.bufferBuilder.append(F.toBinaryPack())}}}this.bufferBuilder.flush()},q.prototype.pack_bin=function(F){var k=F.length||F.byteLength||F.size;if(k<=15)this.pack_uint8(160+k);else if(k<=65535)this.bufferBuilder.append(218),this.pack_uint16(k);else{if(!(k<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(k)}this.bufferBuilder.append(F)},q.prototype.pack_string=function(F){var k=function be(F){return F.length>600?new Blob([F]).size:F.replace(/[^\u0000-\u007F]/g,he).length}(F);if(k<=15)this.pack_uint8(176+k);else if(k<=65535)this.bufferBuilder.append(216),this.pack_uint16(k);else{if(!(k<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(k)}this.bufferBuilder.append(F)},q.prototype.pack_array=function(F){var k=F.length;if(k<=15)this.pack_uint8(144+k);else if(k<=65535)this.bufferBuilder.append(220),this.pack_uint16(k);else{if(!(k<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(k)}for(var K=0;K<k;K++)this.pack(F[K])},q.prototype.pack_integer=function(F){if(F>=-32&&F<=127)this.bufferBuilder.append(255&F);else if(F>=0&&F<=255)this.bufferBuilder.append(204),this.pack_uint8(F);else if(F>=-128&&F<=127)this.bufferBuilder.append(208),this.pack_int8(F);else if(F>=0&&F<=65535)this.bufferBuilder.append(205),this.pack_uint16(F);else if(F>=-32768&&F<=32767)this.bufferBuilder.append(209),this.pack_int16(F);else if(F>=0&&F<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(F);else if(F>=-2147483648&&F<=2147483647)this.bufferBuilder.append(210),this.pack_int32(F);else if(F>=-0x8000000000000000&&F<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(F);else{if(!(F>=0&&F<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(F)}},q.prototype.pack_double=function(F){var k=0;F<0&&(k=1,F=-F);var K=Math.floor(Math.log(F)/Math.LN2),oe=F/Math.pow(2,K)-1,ve=Math.floor(oe*Math.pow(2,52)),xe=Math.pow(2,32),pe=k<<31|K+1023<<20|ve/xe&1048575,Oe=ve%xe;this.bufferBuilder.append(203),this.pack_int32(pe),this.pack_int32(Oe)},q.prototype.pack_object=function(F){var K=Object.keys(F).length;if(K<=15)this.pack_uint8(128+K);else if(K<=65535)this.bufferBuilder.append(222),this.pack_uint16(K);else{if(!(K<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(K)}for(var oe in F)F.hasOwnProperty(oe)&&(this.pack(oe),this.pack(F[oe]))},q.prototype.pack_uint8=function(F){this.bufferBuilder.append(F)},q.prototype.pack_uint16=function(F){this.bufferBuilder.append(F>>8),this.bufferBuilder.append(255&F)},q.prototype.pack_uint32=function(F){var k=4294967295&F;this.bufferBuilder.append((4278190080&k)>>>24),this.bufferBuilder.append((16711680&k)>>>16),this.bufferBuilder.append((65280&k)>>>8),this.bufferBuilder.append(255&k)},q.prototype.pack_uint64=function(F){var k=F/Math.pow(2,32),K=F%Math.pow(2,32);this.bufferBuilder.append((4278190080&k)>>>24),this.bufferBuilder.append((16711680&k)>>>16),this.bufferBuilder.append((65280&k)>>>8),this.bufferBuilder.append(255&k),this.bufferBuilder.append((4278190080&K)>>>24),this.bufferBuilder.append((16711680&K)>>>16),this.bufferBuilder.append((65280&K)>>>8),this.bufferBuilder.append(255&K)},q.prototype.pack_int8=function(F){this.bufferBuilder.append(255&F)},q.prototype.pack_int16=function(F){this.bufferBuilder.append((65280&F)>>8),this.bufferBuilder.append(255&F)},q.prototype.pack_int32=function(F){this.bufferBuilder.append(F>>>24&255),this.bufferBuilder.append((16711680&F)>>>16),this.bufferBuilder.append((65280&F)>>>8),this.bufferBuilder.append(255&F)},q.prototype.pack_int64=function(F){var k=Math.floor(F/Math.pow(2,32)),K=F%Math.pow(2,32);this.bufferBuilder.append((4278190080&k)>>>24),this.bufferBuilder.append((16711680&k)>>>16),this.bufferBuilder.append((65280&k)>>>8),this.bufferBuilder.append(255&k),this.bufferBuilder.append((4278190080&K)>>>24),this.bufferBuilder.append((16711680&K)>>>16),this.bufferBuilder.append((65280&K)>>>8),this.bufferBuilder.append(255&K)}},2162:Qe=>{var Y={};Y.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),Y.useArrayBufferView=!Y.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch{return!0}}(),Qe.exports.cx=Y;var T=Qe.exports.xE;function l(){this._pieces=[],this._parts=[]}typeof window<"u"&&(T=Qe.exports.xE=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),l.prototype.append=function(N){"number"==typeof N?this._pieces.push(N):(this.flush(),this._parts.push(N))},l.prototype.flush=function(){if(this._pieces.length>0){var N=new Uint8Array(this._pieces);Y.useArrayBufferView||(N=N.buffer),this._parts.push(N),this._pieces=[]}},l.prototype.getBuffer=function(){if(this.flush(),Y.useBlobBuilder){for(var N=new T,Z=0,W=this._parts.length;Z<W;Z++)N.append(this._parts[Z]);return N.getBlob()}return new Blob(this._parts)},Qe.exports.MY=l},4191:(Qe,Y,T)=>{"use strict";var l=T(2917);function Z(k,K,oe,ve,xe){var pe=l.writeRtpDescription(k.kind,K);if(pe+=l.writeIceParameters(k.iceGatherer.getLocalParameters()),pe+=l.writeDtlsParameters(k.dtlsTransport.getLocalParameters(),"offer"===oe?"actpass":xe||"active"),pe+="a=mid:"+k.mid+"\r\n",pe+=k.rtpSender&&k.rtpReceiver?"a=sendrecv\r\n":k.rtpSender?"a=sendonly\r\n":k.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",k.rtpSender){var Oe=k.rtpSender._initialTrackId||k.rtpSender.track.id;k.rtpSender._initialTrackId=Oe;var Ue="msid:"+(ve?ve.id:"-")+" "+Oe+"\r\n";pe+="a="+Ue,pe+="a=ssrc:"+k.sendEncodingParameters[0].ssrc+" "+Ue,k.sendEncodingParameters[0].rtx&&(pe+="a=ssrc:"+k.sendEncodingParameters[0].rtx.ssrc+" "+Ue,pe+="a=ssrc-group:FID "+k.sendEncodingParameters[0].ssrc+" "+k.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return pe+="a=ssrc:"+k.sendEncodingParameters[0].ssrc+" cname:"+l.localCName+"\r\n",k.rtpSender&&k.sendEncodingParameters[0].rtx&&(pe+="a=ssrc:"+k.sendEncodingParameters[0].rtx.ssrc+" cname:"+l.localCName+"\r\n"),pe}function q(k,K){var oe={codecs:[],headerExtensions:[],fecMechanisms:[]},ve=function(pe,Oe){pe=parseInt(pe,10);for(var Ue=0;Ue<Oe.length;Ue++)if(Oe[Ue].payloadType===pe||Oe[Ue].preferredPayloadType===pe)return Oe[Ue]},xe=function(pe,Oe,Ue,L){var G=ve(pe.parameters.apt,Ue),J=ve(Oe.parameters.apt,L);return G&&J&&G.name.toLowerCase()===J.name.toLowerCase()};return k.codecs.forEach(function(pe){for(var Oe=0;Oe<K.codecs.length;Oe++){var Ue=K.codecs[Oe];if(pe.name.toLowerCase()===Ue.name.toLowerCase()&&pe.clockRate===Ue.clockRate){if("rtx"===pe.name.toLowerCase()&&pe.parameters&&Ue.parameters.apt&&!xe(pe,Ue,k.codecs,K.codecs))continue;(Ue=JSON.parse(JSON.stringify(Ue))).numChannels=Math.min(pe.numChannels,Ue.numChannels),oe.codecs.push(Ue),Ue.rtcpFeedback=Ue.rtcpFeedback.filter(function(L){for(var G=0;G<pe.rtcpFeedback.length;G++)if(pe.rtcpFeedback[G].type===L.type&&pe.rtcpFeedback[G].parameter===L.parameter)return!0;return!1});break}}}),k.headerExtensions.forEach(function(pe){for(var Oe=0;Oe<K.headerExtensions.length;Oe++){var Ue=K.headerExtensions[Oe];if(pe.uri===Ue.uri){oe.headerExtensions.push(Ue);break}}}),oe}function he(k,K,oe){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[K][k].indexOf(oe)}function be(k,K){var oe=k.getRemoteCandidates().find(function(ve){return K.foundation===ve.foundation&&K.ip===ve.ip&&K.port===ve.port&&K.priority===ve.priority&&K.protocol===ve.protocol&&K.type===ve.type});return oe||k.addRemoteCandidate(K),!oe}function F(k,K){var oe=new Error(K);return oe.name=k,oe.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[k],oe}Qe.exports=function(k,K){function oe(L,G){G.addTrack(L),G.dispatchEvent(new k.MediaStreamTrackEvent("addtrack",{track:L}))}function xe(L,G,J,ge){var te=new Event("track");te.track=G,te.receiver=J,te.transceiver={receiver:J},te.streams=ge,k.setTimeout(function(){L._dispatchEvent("track",te)})}var pe=function(L){var G=this,J=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(te){G[te]=J[te].bind(J)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",L=JSON.parse(JSON.stringify(L||{})),this.usingBundle="max-bundle"===L.bundlePolicy,"negotiate"===L.rtcpMuxPolicy)throw F("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(L.rtcpMuxPolicy||(L.rtcpMuxPolicy="require"),L.iceTransportPolicy){case"all":case"relay":break;default:L.iceTransportPolicy="all"}switch(L.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:L.bundlePolicy="balanced"}if(L.iceServers=function W(k,K){var oe=!1;return(k=JSON.parse(JSON.stringify(k))).filter(function(ve){if(ve&&(ve.urls||ve.url)){var xe=ve.urls||ve.url;ve.url&&!ve.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var pe="string"==typeof xe;return pe&&(xe=[xe]),xe=xe.filter(function(Oe){return 0!==Oe.indexOf("turn:")||-1===Oe.indexOf("transport=udp")||-1!==Oe.indexOf("turn:[")||oe?0===Oe.indexOf("stun:")&&K>=14393&&-1===Oe.indexOf("?transport=udp"):(oe=!0,!0)}),delete ve.url,ve.urls=pe?xe[0]:xe,!!xe.length}})}(L.iceServers||[],K),this._iceGatherers=[],L.iceCandidatePoolSize)for(var ge=L.iceCandidatePoolSize;ge>0;ge--)this._iceGatherers.push(new k.RTCIceGatherer({iceServers:L.iceServers,gatherPolicy:L.iceTransportPolicy}));else L.iceCandidatePoolSize=0;this._config=L,this.transceivers=[],this._sdpSessionId=l.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(pe.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(pe.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),pe.prototype.onicecandidate=null,pe.prototype.onaddstream=null,pe.prototype.ontrack=null,pe.prototype.onremovestream=null,pe.prototype.onsignalingstatechange=null,pe.prototype.oniceconnectionstatechange=null,pe.prototype.onconnectionstatechange=null,pe.prototype.onicegatheringstatechange=null,pe.prototype.onnegotiationneeded=null,pe.prototype.ondatachannel=null,pe.prototype._dispatchEvent=function(L,G){this._isClosed||(this.dispatchEvent(G),"function"==typeof this["on"+L]&&this["on"+L](G))},pe.prototype._emitGatheringStateChange=function(){var L=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",L)},pe.prototype.getConfiguration=function(){return this._config},pe.prototype.getLocalStreams=function(){return this.localStreams},pe.prototype.getRemoteStreams=function(){return this.remoteStreams},pe.prototype._createTransceiver=function(L,G){var ge={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:L,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)ge.iceTransport=this.transceivers[0].iceTransport,ge.dtlsTransport=this.transceivers[0].dtlsTransport;else{var te=this._createIceAndDtlsTransports();ge.iceTransport=te.iceTransport,ge.dtlsTransport=te.dtlsTransport}return G||this.transceivers.push(ge),ge},pe.prototype.addTrack=function(L,G){if(this._isClosed)throw F("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(z){return z.track===L}))throw F("InvalidAccessError","Track already exists.");for(var ge,te=0;te<this.transceivers.length;te++)!this.transceivers[te].track&&this.transceivers[te].kind===L.kind&&(ge=this.transceivers[te]);return ge||(ge=this._createTransceiver(L.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(G)&&this.localStreams.push(G),ge.track=L,ge.stream=G,ge.rtpSender=new k.RTCRtpSender(L,ge.dtlsTransport),ge.rtpSender},pe.prototype.addStream=function(L){var G=this;if(K>=15025)L.getTracks().forEach(function(ge){G.addTrack(ge,L)});else{var J=L.clone();L.getTracks().forEach(function(ge,te){var z=J.getTracks()[te];ge.addEventListener("enabled",function(j){z.enabled=j.enabled})}),J.getTracks().forEach(function(ge){G.addTrack(ge,J)})}},pe.prototype.removeTrack=function(L){if(this._isClosed)throw F("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(L instanceof k.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var G=this.transceivers.find(function(te){return te.rtpSender===L});if(!G)throw F("InvalidAccessError","Sender was not created by this connection.");var J=G.stream;G.rtpSender.stop(),G.rtpSender=null,G.track=null,G.stream=null,-1===this.transceivers.map(function(te){return te.stream}).indexOf(J)&&this.localStreams.indexOf(J)>-1&&this.localStreams.splice(this.localStreams.indexOf(J),1),this._maybeFireNegotiationNeeded()},pe.prototype.removeStream=function(L){var G=this;L.getTracks().forEach(function(J){var ge=G.getSenders().find(function(te){return te.track===J});ge&&G.removeTrack(ge)})},pe.prototype.getSenders=function(){return this.transceivers.filter(function(L){return!!L.rtpSender}).map(function(L){return L.rtpSender})},pe.prototype.getReceivers=function(){return this.transceivers.filter(function(L){return!!L.rtpReceiver}).map(function(L){return L.rtpReceiver})},pe.prototype._createIceGatherer=function(L,G){var J=this;if(G&&L>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var ge=new k.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(ge,"state",{value:"new",writable:!0}),this.transceivers[L].bufferedCandidateEvents=[],this.transceivers[L].bufferCandidates=function(te){var z=!te.candidate||0===Object.keys(te.candidate).length;ge.state=z?"completed":"gathering",null!==J.transceivers[L].bufferedCandidateEvents&&J.transceivers[L].bufferedCandidateEvents.push(te)},ge.addEventListener("localcandidate",this.transceivers[L].bufferCandidates),ge},pe.prototype._gather=function(L,G){var J=this,ge=this.transceivers[G].iceGatherer;if(!ge.onlocalcandidate){var te=this.transceivers[G].bufferedCandidateEvents;this.transceivers[G].bufferedCandidateEvents=null,ge.removeEventListener("localcandidate",this.transceivers[G].bufferCandidates),ge.onlocalcandidate=function(z){if(!(J.usingBundle&&G>0)){var j=new Event("icecandidate");j.candidate={sdpMid:L,sdpMLineIndex:G};var fe=z.candidate,le=!fe||0===Object.keys(fe).length;if(le)("new"===ge.state||"gathering"===ge.state)&&(ge.state="completed");else{"new"===ge.state&&(ge.state="gathering"),fe.component=1,fe.ufrag=ge.getLocalParameters().usernameFragment;var Q=l.writeCandidate(fe);j.candidate=Object.assign(j.candidate,l.parseCandidate(Q)),j.candidate.candidate=Q,j.candidate.toJSON=function(){return{candidate:j.candidate.candidate,sdpMid:j.candidate.sdpMid,sdpMLineIndex:j.candidate.sdpMLineIndex,usernameFragment:j.candidate.usernameFragment}}}var ce=l.getMediaSections(J._localDescription.sdp);ce[j.candidate.sdpMLineIndex]+=le?"a=end-of-candidates\r\n":"a="+j.candidate.candidate+"\r\n",J._localDescription.sdp=l.getDescription(J._localDescription.sdp)+ce.join("");var Ee=J.transceivers.every(function(ze){return ze.iceGatherer&&"completed"===ze.iceGatherer.state});"gathering"!==J.iceGatheringState&&(J.iceGatheringState="gathering",J._emitGatheringStateChange()),le||J._dispatchEvent("icecandidate",j),Ee&&(J._dispatchEvent("icecandidate",new Event("icecandidate")),J.iceGatheringState="complete",J._emitGatheringStateChange())}},k.setTimeout(function(){te.forEach(function(z){ge.onlocalcandidate(z)})},0)}},pe.prototype._createIceAndDtlsTransports=function(){var L=this,G=new k.RTCIceTransport(null);G.onicestatechange=function(){L._updateIceConnectionState(),L._updateConnectionState()};var J=new k.RTCDtlsTransport(G);return J.ondtlsstatechange=function(){L._updateConnectionState()},J.onerror=function(){Object.defineProperty(J,"state",{value:"failed",writable:!0}),L._updateConnectionState()},{iceTransport:G,dtlsTransport:J}},pe.prototype._disposeIceAndDtlsTransports=function(L){var G=this.transceivers[L].iceGatherer;G&&(delete G.onlocalcandidate,delete this.transceivers[L].iceGatherer);var J=this.transceivers[L].iceTransport;J&&(delete J.onicestatechange,delete this.transceivers[L].iceTransport);var ge=this.transceivers[L].dtlsTransport;ge&&(delete ge.ondtlsstatechange,delete ge.onerror,delete this.transceivers[L].dtlsTransport)},pe.prototype._transceive=function(L,G,J){var ge=q(L.localCapabilities,L.remoteCapabilities);G&&L.rtpSender&&(ge.encodings=L.sendEncodingParameters,ge.rtcp={cname:l.localCName,compound:L.rtcpParameters.compound},L.recvEncodingParameters.length&&(ge.rtcp.ssrc=L.recvEncodingParameters[0].ssrc),L.rtpSender.send(ge)),J&&L.rtpReceiver&&ge.codecs.length>0&&("video"===L.kind&&L.recvEncodingParameters&&K<15019&&L.recvEncodingParameters.forEach(function(te){delete te.rtx}),ge.encodings=L.recvEncodingParameters.length?L.recvEncodingParameters:[{}],ge.rtcp={compound:L.rtcpParameters.compound},L.rtcpParameters.cname&&(ge.rtcp.cname=L.rtcpParameters.cname),L.sendEncodingParameters.length&&(ge.rtcp.ssrc=L.sendEncodingParameters[0].ssrc),L.rtpReceiver.receive(ge))},pe.prototype.setLocalDescription=function(L){var J,ge,G=this;if(-1===["offer","answer"].indexOf(L.type))return Promise.reject(F("TypeError",'Unsupported type "'+L.type+'"'));if(!he("setLocalDescription",L.type,G.signalingState)||G._isClosed)return Promise.reject(F("InvalidStateError","Can not set local "+L.type+" in state "+G.signalingState));if("offer"===L.type)J=l.splitSections(L.sdp),ge=J.shift(),J.forEach(function(z,j){var fe=l.parseRtpParameters(z);G.transceivers[j].localCapabilities=fe}),G.transceivers.forEach(function(z,j){G._gather(z.mid,j)});else if("answer"===L.type){J=l.splitSections(G._remoteDescription.sdp),ge=J.shift();var te=l.matchPrefix(ge,"a=ice-lite").length>0;J.forEach(function(z,j){var fe=G.transceivers[j],le=fe.iceGatherer,Q=fe.iceTransport,ce=fe.dtlsTransport,Ee=fe.localCapabilities,ze=fe.remoteCapabilities;if(!(l.isRejected(z)&&0===l.matchPrefix(z,"a=bundle-only").length||fe.rejected)){var _t=l.getIceParameters(z,ge),Ne=l.getDtlsParameters(z,ge);te&&(Ne.role="server"),(!G.usingBundle||0===j)&&(G._gather(fe.mid,j),"new"===Q.state&&Q.start(le,_t,te?"controlling":"controlled"),"new"===ce.state&&ce.start(Ne));var me=q(Ee,ze);G._transceive(fe,me.codecs.length>0,!1)}})}return G._localDescription={type:L.type,sdp:L.sdp},G._updateSignalingState("offer"===L.type?"have-local-offer":"stable"),Promise.resolve()},pe.prototype.setRemoteDescription=function(L){var G=this;if(-1===["offer","answer"].indexOf(L.type))return Promise.reject(F("TypeError",'Unsupported type "'+L.type+'"'));if(!he("setRemoteDescription",L.type,G.signalingState)||G._isClosed)return Promise.reject(F("InvalidStateError","Can not set remote "+L.type+" in state "+G.signalingState));var J={};G.remoteStreams.forEach(function(Q){J[Q.id]=Q});var ge=[],te=l.splitSections(L.sdp),z=te.shift(),j=l.matchPrefix(z,"a=ice-lite").length>0,fe=l.matchPrefix(z,"a=group:BUNDLE ").length>0;G.usingBundle=fe;var le=l.matchPrefix(z,"a=ice-options:")[0];return G.canTrickleIceCandidates=!!le&&le.substr(14).split(" ").indexOf("trickle")>=0,te.forEach(function(Q,ce){var Ee=l.splitLines(Q),ze=l.getKind(Q),rt=l.isRejected(Q)&&0===l.matchPrefix(Q,"a=bundle-only").length,_t=Ee[0].substr(2).split(" ")[2],Ne=l.getDirection(Q,z),me=l.parseMsid(Q),ne=l.getMid(Q)||l.generateIdentifier();if(rt||"application"===ze&&("DTLS/SCTP"===_t||"UDP/DTLS/SCTP"===_t))G.transceivers[ce]={mid:ne,kind:ze,protocol:_t,rejected:!0};else{!rt&&G.transceivers[ce]&&G.transceivers[ce].rejected&&(G.transceivers[ce]=G._createTransceiver(ze,!0));var ae,Ie,Fe,Re,Le,Ye,Kt,et,ft,ht,Lt,Ct=l.parseRtpParameters(Q);rt||(ht=l.getIceParameters(Q,z),(Lt=l.getDtlsParameters(Q,z)).role="client"),Kt=l.parseRtpEncodingParameters(Q);var yn=l.parseRtcpParameters(Q),vn=l.matchPrefix(Q,"a=end-of-candidates",z).length>0,en=l.matchPrefix(Q,"a=candidate:").map(function(ke){return l.parseCandidate(ke)}).filter(function(ke){return 1===ke.component});if(("offer"===L.type||"answer"===L.type)&&!rt&&fe&&ce>0&&G.transceivers[ce]&&(G._disposeIceAndDtlsTransports(ce),G.transceivers[ce].iceGatherer=G.transceivers[0].iceGatherer,G.transceivers[ce].iceTransport=G.transceivers[0].iceTransport,G.transceivers[ce].dtlsTransport=G.transceivers[0].dtlsTransport,G.transceivers[ce].rtpSender&&G.transceivers[ce].rtpSender.setTransport(G.transceivers[0].dtlsTransport),G.transceivers[ce].rtpReceiver&&G.transceivers[ce].rtpReceiver.setTransport(G.transceivers[0].dtlsTransport)),"offer"!==L.type||rt)"answer"!==L.type||rt||(Ie=(ae=G.transceivers[ce]).iceGatherer,Fe=ae.iceTransport,Re=ae.dtlsTransport,Le=ae.rtpReceiver,Ye=ae.sendEncodingParameters,et=ae.localCapabilities,G.transceivers[ce].recvEncodingParameters=Kt,G.transceivers[ce].remoteCapabilities=Ct,G.transceivers[ce].rtcpParameters=yn,en.length&&"new"===Fe.state&&(!j&&!vn||fe&&0!==ce?en.forEach(function(ke){be(ae.iceTransport,ke)}):Fe.setRemoteCandidates(en)),(!fe||0===ce)&&("new"===Fe.state&&Fe.start(Ie,ht,"controlling"),"new"===Re.state&&Re.start(Lt)),!q(ae.localCapabilities,ae.remoteCapabilities).codecs.filter(function(ke){return"rtx"===ke.name.toLowerCase()}).length&&ae.sendEncodingParameters[0].rtx&&delete ae.sendEncodingParameters[0].rtx,G._transceive(ae,"sendrecv"===Ne||"recvonly"===Ne,"sendrecv"===Ne||"sendonly"===Ne),!Le||"sendrecv"!==Ne&&"sendonly"!==Ne?delete ae.rtpReceiver:(ft=Le.track,me?(J[me.stream]||(J[me.stream]=new k.MediaStream),oe(ft,J[me.stream]),ge.push([ft,Le,J[me.stream]])):(J.default||(J.default=new k.MediaStream),oe(ft,J.default),ge.push([ft,Le,J.default]))));else{(ae=G.transceivers[ce]||G._createTransceiver(ze)).mid=ne,ae.iceGatherer||(ae.iceGatherer=G._createIceGatherer(ce,fe)),en.length&&"new"===ae.iceTransport.state&&(!vn||fe&&0!==ce?en.forEach(function(ke){be(ae.iceTransport,ke)}):ae.iceTransport.setRemoteCandidates(en)),et=k.RTCRtpReceiver.getCapabilities(ze),K<15019&&(et.codecs=et.codecs.filter(function(ke){return"rtx"!==ke.name})),Ye=ae.sendEncodingParameters||[{ssrc:1001*(2*ce+2)}];var Wt,wn=!1;"sendrecv"===Ne||"sendonly"===Ne?(wn=!ae.rtpReceiver,Le=ae.rtpReceiver||new k.RTCRtpReceiver(ae.dtlsTransport,ze),wn&&(ft=Le.track,me&&"-"===me.stream||(me?(J[me.stream]||(J[me.stream]=new k.MediaStream,Object.defineProperty(J[me.stream],"id",{get:function(){return me.stream}})),Object.defineProperty(ft,"id",{get:function(){return me.track}}),Wt=J[me.stream]):(J.default||(J.default=new k.MediaStream),Wt=J.default)),Wt&&(oe(ft,Wt),ae.associatedRemoteMediaStreams.push(Wt)),ge.push([ft,Le,Wt]))):ae.rtpReceiver&&ae.rtpReceiver.track&&(ae.associatedRemoteMediaStreams.forEach(function(ke){var Jt=ke.getTracks().find(function(On){return On.id===ae.rtpReceiver.track.id});Jt&&function ve(L,G){G.removeTrack(L),G.dispatchEvent(new k.MediaStreamTrackEvent("removetrack",{track:L}))}(Jt,ke)}),ae.associatedRemoteMediaStreams=[]),ae.localCapabilities=et,ae.remoteCapabilities=Ct,ae.rtpReceiver=Le,ae.rtcpParameters=yn,ae.sendEncodingParameters=Ye,ae.recvEncodingParameters=Kt,G._transceive(G.transceivers[ce],!1,wn)}}}),void 0===G._dtlsRole&&(G._dtlsRole="offer"===L.type?"active":"passive"),G._remoteDescription={type:L.type,sdp:L.sdp},G._updateSignalingState("offer"===L.type?"have-remote-offer":"stable"),Object.keys(J).forEach(function(Q){var ce=J[Q];if(ce.getTracks().length){if(-1===G.remoteStreams.indexOf(ce)){G.remoteStreams.push(ce);var Ee=new Event("addstream");Ee.stream=ce,k.setTimeout(function(){G._dispatchEvent("addstream",Ee)})}ge.forEach(function(ze){ce.id===ze[2].id&&xe(G,ze[0],ze[1],[ce])})}}),ge.forEach(function(Q){Q[2]||xe(G,Q[0],Q[1],[])}),k.setTimeout(function(){G&&G.transceivers&&G.transceivers.forEach(function(Q){Q.iceTransport&&"new"===Q.iceTransport.state&&Q.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Q.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},pe.prototype.close=function(){this.transceivers.forEach(function(L){L.iceTransport&&L.iceTransport.stop(),L.dtlsTransport&&L.dtlsTransport.stop(),L.rtpSender&&L.rtpSender.stop(),L.rtpReceiver&&L.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},pe.prototype._updateSignalingState=function(L){this.signalingState=L;var G=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",G)},pe.prototype._maybeFireNegotiationNeeded=function(){var L=this;"stable"!==this.signalingState||!0===this.needNegotiation||(this.needNegotiation=!0,k.setTimeout(function(){if(L.needNegotiation){L.needNegotiation=!1;var G=new Event("negotiationneeded");L._dispatchEvent("negotiationneeded",G)}},0))},pe.prototype._updateIceConnectionState=function(){var L,G={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ge){ge.iceTransport&&!ge.rejected&&G[ge.iceTransport.state]++}),L="new",G.failed>0?L="failed":G.checking>0?L="checking":G.disconnected>0?L="disconnected":G.new>0?L="new":G.connected>0?L="connected":G.completed>0&&(L="completed"),L!==this.iceConnectionState){this.iceConnectionState=L;var J=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",J)}},pe.prototype._updateConnectionState=function(){var L,G={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ge){ge.iceTransport&&ge.dtlsTransport&&!ge.rejected&&(G[ge.iceTransport.state]++,G[ge.dtlsTransport.state]++)}),G.connected+=G.completed,L="new",G.failed>0?L="failed":G.connecting>0?L="connecting":G.disconnected>0?L="disconnected":G.new>0?L="new":G.connected>0&&(L="connected"),L!==this.connectionState){this.connectionState=L;var J=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",J)}},pe.prototype.createOffer=function(){var L=this;if(L._isClosed)return Promise.reject(F("InvalidStateError","Can not call createOffer after close"));var G=L.transceivers.filter(function(j){return"audio"===j.kind}).length,J=L.transceivers.filter(function(j){return"video"===j.kind}).length,ge=arguments[0];if(ge){if(ge.mandatory||ge.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==ge.offerToReceiveAudio&&(G=!0===ge.offerToReceiveAudio?1:!1===ge.offerToReceiveAudio?0:ge.offerToReceiveAudio),void 0!==ge.offerToReceiveVideo&&(J=!0===ge.offerToReceiveVideo?1:!1===ge.offerToReceiveVideo?0:ge.offerToReceiveVideo)}for(L.transceivers.forEach(function(j){"audio"===j.kind?--G<0&&(j.wantReceive=!1):"video"===j.kind&&--J<0&&(j.wantReceive=!1)});G>0||J>0;)G>0&&(L._createTransceiver("audio"),G--),J>0&&(L._createTransceiver("video"),J--);var te=l.writeSessionBoilerplate(L._sdpSessionId,L._sdpSessionVersion++);L.transceivers.forEach(function(j,fe){var le=j.track,Q=j.kind,ce=j.mid||l.generateIdentifier();j.mid=ce,j.iceGatherer||(j.iceGatherer=L._createIceGatherer(fe,L.usingBundle));var Ee=k.RTCRtpSender.getCapabilities(Q);K<15019&&(Ee.codecs=Ee.codecs.filter(function(rt){return"rtx"!==rt.name})),Ee.codecs.forEach(function(rt){"H264"===rt.name&&void 0===rt.parameters["level-asymmetry-allowed"]&&(rt.parameters["level-asymmetry-allowed"]="1"),j.remoteCapabilities&&j.remoteCapabilities.codecs&&j.remoteCapabilities.codecs.forEach(function(_t){rt.name.toLowerCase()===_t.name.toLowerCase()&&rt.clockRate===_t.clockRate&&(rt.preferredPayloadType=_t.payloadType)})}),Ee.headerExtensions.forEach(function(rt){(j.remoteCapabilities&&j.remoteCapabilities.headerExtensions||[]).forEach(function(Ne){rt.uri===Ne.uri&&(rt.id=Ne.id)})});var ze=j.sendEncodingParameters||[{ssrc:1001*(2*fe+1)}];le&&K>=15019&&"video"===Q&&!ze[0].rtx&&(ze[0].rtx={ssrc:ze[0].ssrc+1}),j.wantReceive&&(j.rtpReceiver=new k.RTCRtpReceiver(j.dtlsTransport,Q)),j.localCapabilities=Ee,j.sendEncodingParameters=ze}),"max-compat"!==L._config.bundlePolicy&&(te+="a=group:BUNDLE "+L.transceivers.map(function(j){return j.mid}).join(" ")+"\r\n"),te+="a=ice-options:trickle\r\n",L.transceivers.forEach(function(j,fe){te+=Z(j,j.localCapabilities,"offer",j.stream,L._dtlsRole),te+="a=rtcp-rsize\r\n",j.iceGatherer&&"new"!==L.iceGatheringState&&(0===fe||!L.usingBundle)&&(j.iceGatherer.getLocalCandidates().forEach(function(le){le.component=1,te+="a="+l.writeCandidate(le)+"\r\n"}),"completed"===j.iceGatherer.state&&(te+="a=end-of-candidates\r\n"))});var z=new k.RTCSessionDescription({type:"offer",sdp:te});return Promise.resolve(z)},pe.prototype.createAnswer=function(){var L=this;if(L._isClosed)return Promise.reject(F("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==L.signalingState&&"have-local-pranswer"!==L.signalingState)return Promise.reject(F("InvalidStateError","Can not call createAnswer in signalingState "+L.signalingState));var G=l.writeSessionBoilerplate(L._sdpSessionId,L._sdpSessionVersion++);L.usingBundle&&(G+="a=group:BUNDLE "+L.transceivers.map(function(te){return te.mid}).join(" ")+"\r\n"),G+="a=ice-options:trickle\r\n";var J=l.getMediaSections(L._remoteDescription.sdp).length;L.transceivers.forEach(function(te,z){if(!(z+1>J)){if(te.rejected)return"application"===te.kind?G+="DTLS/SCTP"===te.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+te.protocol+" webrtc-datachannel\r\n":"audio"===te.kind?G+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===te.kind&&(G+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(G+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+te.mid+"\r\n");var j;te.stream&&("audio"===te.kind?j=te.stream.getAudioTracks()[0]:"video"===te.kind&&(j=te.stream.getVideoTracks()[0]),j&&K>=15019&&"video"===te.kind&&!te.sendEncodingParameters[0].rtx&&(te.sendEncodingParameters[0].rtx={ssrc:te.sendEncodingParameters[0].ssrc+1}));var fe=q(te.localCapabilities,te.remoteCapabilities);!fe.codecs.filter(function(Q){return"rtx"===Q.name.toLowerCase()}).length&&te.sendEncodingParameters[0].rtx&&delete te.sendEncodingParameters[0].rtx,G+=Z(te,fe,"answer",te.stream,L._dtlsRole),te.rtcpParameters&&te.rtcpParameters.reducedSize&&(G+="a=rtcp-rsize\r\n")}});var ge=new k.RTCSessionDescription({type:"answer",sdp:G});return Promise.resolve(ge)},pe.prototype.addIceCandidate=function(L){var J,G=this;return L&&void 0===L.sdpMLineIndex&&!L.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(ge,te){if(!G._remoteDescription)return te(F("InvalidStateError","Can not add ICE candidate without a remote description"));if(L&&""!==L.candidate){var j=L.sdpMLineIndex;if(L.sdpMid)for(var fe=0;fe<G.transceivers.length;fe++)if(G.transceivers[fe].mid===L.sdpMid){j=fe;break}var le=G.transceivers[j];if(!le)return te(F("OperationError","Can not add ICE candidate"));if(le.rejected)return ge();var Q=Object.keys(L.candidate).length>0?l.parseCandidate(L.candidate):{};if("tcp"===Q.protocol&&(0===Q.port||9===Q.port)||Q.component&&1!==Q.component)return ge();if((0===j||j>0&&le.iceTransport!==G.transceivers[0].iceTransport)&&!be(le.iceTransport,Q))return te(F("OperationError","Can not add ICE candidate"));var ce=L.candidate.trim();0===ce.indexOf("a=")&&(ce=ce.substr(2)),(J=l.getMediaSections(G._remoteDescription.sdp))[j]+="a="+(Q.type?ce:"end-of-candidates")+"\r\n",G._remoteDescription.sdp=l.getDescription(G._remoteDescription.sdp)+J.join("")}else for(var z=0;z<G.transceivers.length&&(G.transceivers[z].rejected||(G.transceivers[z].iceTransport.addRemoteCandidate({}),(J=l.getMediaSections(G._remoteDescription.sdp))[z]+="a=end-of-candidates\r\n",G._remoteDescription.sdp=l.getDescription(G._remoteDescription.sdp)+J.join(""),!G.usingBundle));z++);ge()})},pe.prototype.getStats=function(L){if(L&&L instanceof k.MediaStreamTrack){var G=null;if(this.transceivers.forEach(function(ge){ge.rtpSender&&ge.rtpSender.track===L?G=ge.rtpSender:ge.rtpReceiver&&ge.rtpReceiver.track===L&&(G=ge.rtpReceiver)}),!G)throw F("InvalidAccessError","Invalid selector.");return G.getStats()}var J=[];return this.transceivers.forEach(function(ge){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(te){ge[te]&&J.push(ge[te].getStats())})}),Promise.all(J).then(function(ge){var te=new Map;return ge.forEach(function(z){z.forEach(function(j){te.set(j.id,j)})}),te})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(L){var G=k[L];if(G&&G.prototype&&G.prototype.getStats){var J=G.prototype.getStats;G.prototype.getStats=function(){return J.apply(this).then(function(ge){var te=new Map;return Object.keys(ge).forEach(function(z){ge[z].type=function N(k){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[k.type]||k.type}(ge[z]),te.set(z,ge[z])}),te})}}});var Ue=["createOffer","createAnswer"];return Ue.forEach(function(L){var G=pe.prototype[L];pe.prototype[L]=function(){var J=arguments;return"function"==typeof J[0]||"function"==typeof J[1]?G.apply(this,[arguments[2]]).then(function(ge){"function"==typeof J[0]&&J[0].apply(null,[ge])},function(ge){"function"==typeof J[1]&&J[1].apply(null,[ge])}):G.apply(this,arguments)}}),(Ue=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(L){var G=pe.prototype[L];pe.prototype[L]=function(){var J=arguments;return"function"==typeof J[1]||"function"==typeof J[2]?G.apply(this,arguments).then(function(){"function"==typeof J[1]&&J[1].apply(null)},function(ge){"function"==typeof J[2]&&J[2].apply(null,[ge])}):G.apply(this,arguments)}}),["getStats"].forEach(function(L){var G=pe.prototype[L];pe.prototype[L]=function(){var J=arguments;return"function"==typeof J[1]?G.apply(this,arguments).then(function(){"function"==typeof J[1]&&J[1].apply(null)}):G.apply(this,arguments)}}),pe}},5619:(Qe,Y,T)=>{"use strict";T.d(Y,{X:()=>N});var l=T(8645);class N extends l.x{constructor(W){super(),this._value=W}get value(){return this.getValue()}_subscribe(W){const q=super._subscribe(W);return!q.closed&&W.next(this._value),q}getValue(){const{hasError:W,thrownError:q,_value:he}=this;if(W)throw q;return this._throwIfClosed(),he}next(W){super.next(this._value=W)}}},5592:(Qe,Y,T)=>{"use strict";T.d(Y,{y:()=>F});var l=T(1887),N=T(7394),Z=T(4850),W=T(8407),q=T(2653),he=T(4674),be=T(1441);let F=(()=>{class ve{constructor(pe){pe&&(this._subscribe=pe)}lift(pe){const Oe=new ve;return Oe.source=this,Oe.operator=pe,Oe}subscribe(pe,Oe,Ue){const L=function oe(ve){return ve&&ve instanceof l.Lv||function K(ve){return ve&&(0,he.m)(ve.next)&&(0,he.m)(ve.error)&&(0,he.m)(ve.complete)}(ve)&&(0,N.Nn)(ve)}(pe)?pe:new l.Hp(pe,Oe,Ue);return(0,be.x)(()=>{const{operator:G,source:J}=this;L.add(G?G.call(L,J):J?this._subscribe(L):this._trySubscribe(L))}),L}_trySubscribe(pe){try{return this._subscribe(pe)}catch(Oe){pe.error(Oe)}}forEach(pe,Oe){return new(Oe=k(Oe))((Ue,L)=>{const G=new l.Hp({next:J=>{try{pe(J)}catch(ge){L(ge),G.unsubscribe()}},error:L,complete:Ue});this.subscribe(G)})}_subscribe(pe){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(pe)}[Z.L](){return this}pipe(...pe){return(0,W.U)(pe)(this)}toPromise(pe){return new(pe=k(pe))((Oe,Ue)=>{let L;this.subscribe(G=>L=G,G=>Ue(G),()=>Oe(L))})}}return ve.create=xe=>new ve(xe),ve})();function k(ve){var xe;return null!==(xe=ve??q.config.Promise)&&void 0!==xe?xe:Promise}},8645:(Qe,Y,T)=>{"use strict";T.d(Y,{x:()=>be});var l=T(5592),N=T(7394);const W=(0,T(2306).d)(k=>function(){k(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=T(9039),he=T(1441);let be=(()=>{class k extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const ve=new F(this,this);return ve.operator=oe,ve}_throwIfClosed(){if(this.closed)throw new W}next(oe){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(oe)}})}error(oe){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:ve}=this;for(;ve.length;)ve.shift().error(oe)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:ve,isStopped:xe,observers:pe}=this;return ve||xe?N.Lc:(this.currentObservers=null,pe.push(oe),new N.w0(()=>{this.currentObservers=null,(0,q.P)(pe,oe)}))}_checkFinalizedStatuses(oe){const{hasError:ve,thrownError:xe,isStopped:pe}=this;ve?oe.error(xe):pe&&oe.complete()}asObservable(){const oe=new l.y;return oe.source=this,oe}}return k.create=(K,oe)=>new F(K,oe),k})();class F extends be{constructor(K,oe){super(),this.destination=K,this.source=oe}next(K){var oe,ve;null===(ve=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===ve||ve.call(oe,K)}error(K){var oe,ve;null===(ve=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===ve||ve.call(oe,K)}complete(){var K,oe;null===(oe=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===oe||oe.call(K)}_subscribe(K){var oe,ve;return null!==(ve=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(K))&&void 0!==ve?ve:N.Lc}}},1887:(Qe,Y,T)=>{"use strict";T.d(Y,{Hp:()=>Ue,Lv:()=>ve});var l=T(4674),N=T(7394),Z=T(2653),W=T(3894);function q(){}const he=k("C",void 0,void 0);function k(te,z,j){return{kind:te,value:z,error:j}}var K=T(7599),oe=T(1441);class ve extends N.w0{constructor(z){super(),this.isStopped=!1,z?(this.destination=z,(0,N.Nn)(z)&&z.add(this)):this.destination=ge}static create(z,j,fe){return new Ue(z,j,fe)}next(z){this.isStopped?J(function F(te){return k("N",te,void 0)}(z),this):this._next(z)}error(z){this.isStopped?J(function be(te){return k("E",void 0,te)}(z),this):(this.isStopped=!0,this._error(z))}complete(){this.isStopped?J(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(z){this.destination.next(z)}_error(z){try{this.destination.error(z)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function pe(te,z){return xe.call(te,z)}class Oe{constructor(z){this.partialObserver=z}next(z){const{partialObserver:j}=this;if(j.next)try{j.next(z)}catch(fe){L(fe)}}error(z){const{partialObserver:j}=this;if(j.error)try{j.error(z)}catch(fe){L(fe)}else L(z)}complete(){const{partialObserver:z}=this;if(z.complete)try{z.complete()}catch(j){L(j)}}}class Ue extends ve{constructor(z,j,fe){let le;if(super(),(0,l.m)(z)||!z)le={next:z??void 0,error:j??void 0,complete:fe??void 0};else{let Q;this&&Z.config.useDeprecatedNextContext?(Q=Object.create(z),Q.unsubscribe=()=>this.unsubscribe(),le={next:z.next&&pe(z.next,Q),error:z.error&&pe(z.error,Q),complete:z.complete&&pe(z.complete,Q)}):le=z}this.destination=new Oe(le)}}function L(te){Z.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(te):(0,W.h)(te)}function J(te,z){const{onStoppedNotification:j}=Z.config;j&&K.z.setTimeout(()=>j(te,z))}const ge={closed:!0,next:q,error:function G(te){throw te},complete:q}},7394:(Qe,Y,T)=>{"use strict";T.d(Y,{Lc:()=>he,w0:()=>q,Nn:()=>be});var l=T(4674);const Z=(0,T(2306).d)(k=>function(oe){k(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((ve,xe)=>`${xe+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var W=T(9039);class q{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const pe of oe)pe.remove(this);else oe.remove(this);const{initialTeardown:ve}=this;if((0,l.m)(ve))try{ve()}catch(pe){K=pe instanceof Z?pe.errors:[pe]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const pe of xe)try{F(pe)}catch(Oe){K=K??[],Oe instanceof Z?K=[...K,...Oe.errors]:K.push(Oe)}}if(K)throw new Z(K)}}add(K){var oe;if(K&&K!==this)if(this.closed)F(K);else{if(K instanceof q){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(K)}}_hasParent(K){const{_parentage:oe}=this;return oe===K||Array.isArray(oe)&&oe.includes(K)}_addParent(K){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(K),oe):oe?[oe,K]:K}_removeParent(K){const{_parentage:oe}=this;oe===K?this._parentage=null:Array.isArray(oe)&&(0,W.P)(oe,K)}remove(K){const{_finalizers:oe}=this;oe&&(0,W.P)(oe,K),K instanceof q&&K._removeParent(this)}}q.EMPTY=(()=>{const k=new q;return k.closed=!0,k})();const he=q.EMPTY;function be(k){return k instanceof q||k&&"closed"in k&&(0,l.m)(k.remove)&&(0,l.m)(k.add)&&(0,l.m)(k.unsubscribe)}function F(k){(0,l.m)(k)?k():k.unsubscribe()}},2653:(Qe,Y,T)=>{"use strict";T.d(Y,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Qe,Y,T)=>{"use strict";T.d(Y,{E:()=>N});const N=new(T(5592).y)(q=>q.complete())},7715:(Qe,Y,T)=>{"use strict";T.d(Y,{D:()=>fe});var l=T(4829),N=T(7103),Z=T(9360),W=T(8251);function q(le,Q=0){return(0,Z.e)((ce,Ee)=>{ce.subscribe((0,W.x)(Ee,ze=>(0,N.f)(Ee,le,()=>Ee.next(ze),Q),()=>(0,N.f)(Ee,le,()=>Ee.complete(),Q),ze=>(0,N.f)(Ee,le,()=>Ee.error(ze),Q)))})}function he(le,Q=0){return(0,Z.e)((ce,Ee)=>{Ee.add(le.schedule(()=>ce.subscribe(Ee),Q))})}var k=T(5592),oe=T(4971),ve=T(4674);function pe(le,Q){if(!le)throw new Error("Iterable cannot be null");return new k.y(ce=>{(0,N.f)(ce,Q,()=>{const Ee=le[Symbol.asyncIterator]();(0,N.f)(ce,Q,()=>{Ee.next().then(ze=>{ze.done?ce.complete():ce.next(ze.value)})},0,!0)})})}var Oe=T(8382),Ue=T(4026),L=T(4266),G=T(3664),J=T(5726),ge=T(9853),te=T(541);function fe(le,Q){return Q?function j(le,Q){if(null!=le){if((0,Oe.c)(le))return function be(le,Q){return(0,l.Xf)(le).pipe(he(Q),q(Q))}(le,Q);if((0,L.z)(le))return function K(le,Q){return new k.y(ce=>{let Ee=0;return Q.schedule(function(){Ee===le.length?ce.complete():(ce.next(le[Ee++]),ce.closed||this.schedule())})})}(le,Q);if((0,Ue.t)(le))return function F(le,Q){return(0,l.Xf)(le).pipe(he(Q),q(Q))}(le,Q);if((0,J.D)(le))return pe(le,Q);if((0,G.T)(le))return function xe(le,Q){return new k.y(ce=>{let Ee;return(0,N.f)(ce,Q,()=>{Ee=le[oe.h](),(0,N.f)(ce,Q,()=>{let ze,rt;try{({value:ze,done:rt}=Ee.next())}catch(_t){return void ce.error(_t)}rt?ce.complete():ce.next(ze)},0,!0)}),()=>(0,ve.m)(Ee?.return)&&Ee.return()})}(le,Q);if((0,te.L)(le))return function z(le,Q){return pe((0,te.Q)(le),Q)}(le,Q)}throw(0,ge.z)(le)}(le,Q):(0,l.Xf)(le)}},4829:(Qe,Y,T)=>{"use strict";T.d(Y,{Xf:()=>xe});var l=T(7582),N=T(4266),Z=T(4026),W=T(5592),q=T(8382),he=T(5726),be=T(9853),F=T(3664),k=T(541),K=T(4674),oe=T(3894),ve=T(4850);function xe(te){if(te instanceof W.y)return te;if(null!=te){if((0,q.c)(te))return function pe(te){return new W.y(z=>{const j=te[ve.L]();if((0,K.m)(j.subscribe))return j.subscribe(z);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,N.z)(te))return function Oe(te){return new W.y(z=>{for(let j=0;j<te.length&&!z.closed;j++)z.next(te[j]);z.complete()})}(te);if((0,Z.t)(te))return function Ue(te){return new W.y(z=>{te.then(j=>{z.closed||(z.next(j),z.complete())},j=>z.error(j)).then(null,oe.h)})}(te);if((0,he.D)(te))return G(te);if((0,F.T)(te))return function L(te){return new W.y(z=>{for(const j of te)if(z.next(j),z.closed)return;z.complete()})}(te);if((0,k.L)(te))return function J(te){return G((0,k.Q)(te))}(te)}throw(0,be.z)(te)}function G(te){return new W.y(z=>{(function ge(te,z){var j,fe,le,Q;return(0,l.mG)(this,void 0,void 0,function*(){try{for(j=(0,l.KL)(te);!(fe=yield j.next()).done;)if(z.next(fe.value),z.closed)return}catch(ce){le={error:ce}}finally{try{fe&&!fe.done&&(Q=j.return)&&(yield Q.call(j))}finally{if(le)throw le.error}}z.complete()})})(te,z).catch(j=>z.error(j))})}},2096:(Qe,Y,T)=>{"use strict";T.d(Y,{of:()=>Z});var l=T(4564),N=T(7715);function Z(...W){const q=(0,l.yG)(W);return(0,N.D)(W,q)}},8251:(Qe,Y,T)=>{"use strict";T.d(Y,{x:()=>N});var l=T(1887);function N(W,q,he,be,F){return new Z(W,q,he,be,F)}class Z extends l.Lv{constructor(q,he,be,F,k,K){super(q),this.onFinalize=k,this.shouldUnsubscribe=K,this._next=he?function(oe){try{he(oe)}catch(ve){q.error(ve)}}:super._next,this._error=F?function(oe){try{F(oe)}catch(ve){q.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(oe){q.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},7398:(Qe,Y,T)=>{"use strict";T.d(Y,{U:()=>Z});var l=T(9360),N=T(8251);function Z(W,q){return(0,l.e)((he,be)=>{let F=0;he.subscribe((0,N.x)(be,k=>{be.next(W.call(q,k,F++))}))})}},7537:(Qe,Y,T)=>{"use strict";T.d(Y,{J:()=>Z});var l=T(1631),N=T(2737);function Z(W=1/0){return(0,l.z)(N.y,W)}},1631:(Qe,Y,T)=>{"use strict";T.d(Y,{z:()=>F});var l=T(7398),N=T(4829),Z=T(9360),W=T(7103),q=T(8251),be=T(4674);function F(k,K,oe=1/0){return(0,be.m)(K)?F((ve,xe)=>(0,l.U)((pe,Oe)=>K(ve,pe,xe,Oe))((0,N.Xf)(k(ve,xe))),oe):("number"==typeof K&&(oe=K),(0,Z.e)((ve,xe)=>function he(k,K,oe,ve,xe,pe,Oe,Ue){const L=[];let G=0,J=0,ge=!1;const te=()=>{ge&&!L.length&&!G&&K.complete()},z=fe=>G<ve?j(fe):L.push(fe),j=fe=>{pe&&K.next(fe),G++;let le=!1;(0,N.Xf)(oe(fe,J++)).subscribe((0,q.x)(K,Q=>{xe?.(Q),pe?z(Q):K.next(Q)},()=>{le=!0},void 0,()=>{if(le)try{for(G--;L.length&&G<ve;){const Q=L.shift();Oe?(0,W.f)(K,Oe,()=>j(Q)):j(Q)}te()}catch(Q){K.error(Q)}}))};return k.subscribe((0,q.x)(K,z,()=>{ge=!0,te()})),()=>{Ue?.()}}(ve,xe,k,oe)))}},4664:(Qe,Y,T)=>{"use strict";T.d(Y,{w:()=>W});var l=T(4829),N=T(9360),Z=T(8251);function W(q,he){return(0,N.e)((be,F)=>{let k=null,K=0,oe=!1;const ve=()=>oe&&!k&&F.complete();be.subscribe((0,Z.x)(F,xe=>{k?.unsubscribe();let pe=0;const Oe=K++;(0,l.Xf)(q(xe,Oe)).subscribe(k=(0,Z.x)(F,Ue=>F.next(he?he(xe,Ue,Oe,pe++):Ue),()=>{k=null,ve()}))},()=>{oe=!0,ve()}))})}},7599:(Qe,Y,T)=>{"use strict";T.d(Y,{z:()=>l});const l={setTimeout(N,Z,...W){const{delegate:q}=l;return q?.setTimeout?q.setTimeout(N,Z,...W):setTimeout(N,Z,...W)},clearTimeout(N){const{delegate:Z}=l;return(Z?.clearTimeout||clearTimeout)(N)},delegate:void 0}},4971:(Qe,Y,T)=>{"use strict";T.d(Y,{h:()=>N});const N=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qe,Y,T)=>{"use strict";T.d(Y,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Qe,Y,T)=>{"use strict";T.d(Y,{_6:()=>he,jO:()=>W,yG:()=>q});var l=T(4674);function Z(be){return be[be.length-1]}function W(be){return(0,l.m)(Z(be))?be.pop():void 0}function q(be){return function N(be){return be&&(0,l.m)(be.schedule)}(Z(be))?be.pop():void 0}function he(be,F){return"number"==typeof Z(be)?be.pop():F}},7453:(Qe,Y,T)=>{"use strict";T.d(Y,{D:()=>q});const{isArray:l}=Array,{getPrototypeOf:N,prototype:Z,keys:W}=Object;function q(be){if(1===be.length){const F=be[0];if(l(F))return{args:F,keys:null};if(function he(be){return be&&"object"==typeof be&&N(be)===Z}(F)){const k=W(F);return{args:k.map(K=>F[K]),keys:k}}}return{args:be,keys:null}}},9039:(Qe,Y,T)=>{"use strict";function l(N,Z){if(N){const W=N.indexOf(Z);0<=W&&N.splice(W,1)}}T.d(Y,{P:()=>l})},2306:(Qe,Y,T)=>{"use strict";function l(N){const W=N(q=>{Error.call(q),q.stack=(new Error).stack});return W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W}T.d(Y,{d:()=>l})},2714:(Qe,Y,T)=>{"use strict";function l(N,Z){return N.reduce((W,q,he)=>(W[q]=Z[he],W),{})}T.d(Y,{n:()=>l})},1441:(Qe,Y,T)=>{"use strict";T.d(Y,{O:()=>W,x:()=>Z});var l=T(2653);let N=null;function Z(q){if(l.config.useDeprecatedSynchronousErrorHandling){const he=!N;if(he&&(N={errorThrown:!1,error:null}),q(),he){const{errorThrown:be,error:F}=N;if(N=null,be)throw F}}else q()}function W(q){l.config.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=q)}},7103:(Qe,Y,T)=>{"use strict";function l(N,Z,W,q=0,he=!1){const be=Z.schedule(function(){W(),he?N.add(this.schedule(null,q)):this.unsubscribe()},q);if(N.add(be),!he)return be}T.d(Y,{f:()=>l})},2737:(Qe,Y,T)=>{"use strict";function l(N){return N}T.d(Y,{y:()=>l})},4266:(Qe,Y,T)=>{"use strict";T.d(Y,{z:()=>l});const l=N=>N&&"number"==typeof N.length&&"function"!=typeof N},5726:(Qe,Y,T)=>{"use strict";T.d(Y,{D:()=>N});var l=T(4674);function N(Z){return Symbol.asyncIterator&&(0,l.m)(Z?.[Symbol.asyncIterator])}},4674:(Qe,Y,T)=>{"use strict";function l(N){return"function"==typeof N}T.d(Y,{m:()=>l})},8382:(Qe,Y,T)=>{"use strict";T.d(Y,{c:()=>Z});var l=T(4850),N=T(4674);function Z(W){return(0,N.m)(W[l.L])}},3664:(Qe,Y,T)=>{"use strict";T.d(Y,{T:()=>Z});var l=T(4971),N=T(4674);function Z(W){return(0,N.m)(W?.[l.h])}},4026:(Qe,Y,T)=>{"use strict";T.d(Y,{t:()=>N});var l=T(4674);function N(Z){return(0,l.m)(Z?.then)}},541:(Qe,Y,T)=>{"use strict";T.d(Y,{L:()=>W,Q:()=>Z});var l=T(7582),N=T(4674);function Z(q){return(0,l.FC)(this,arguments,function*(){const be=q.getReader();try{for(;;){const{value:F,done:k}=yield(0,l.qq)(be.read());if(k)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(F)}}finally{be.releaseLock()}})}function W(q){return(0,N.m)(q?.getReader)}},9360:(Qe,Y,T)=>{"use strict";T.d(Y,{A:()=>N,e:()=>Z});var l=T(4674);function N(W){return(0,l.m)(W?.lift)}function Z(W){return q=>{if(N(q))return q.lift(function(he){try{return W(he,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Qe,Y,T)=>{"use strict";T.d(Y,{Z:()=>W});var l=T(7398);const{isArray:N}=Array;function W(q){return(0,l.U)(he=>function Z(q,he){return N(he)?q(...he):q(he)}(q,he))}},8407:(Qe,Y,T)=>{"use strict";T.d(Y,{U:()=>Z,z:()=>N});var l=T(2737);function N(...W){return Z(W)}function Z(W){return 0===W.length?l.y:1===W.length?W[0]:function(he){return W.reduce((be,F)=>F(be),he)}}},3894:(Qe,Y,T)=>{"use strict";T.d(Y,{h:()=>Z});var l=T(2653),N=T(7599);function Z(W){N.z.setTimeout(()=>{const{onUnhandledError:q}=l.config;if(!q)throw W;q(W)})}},9853:(Qe,Y,T)=>{"use strict";function l(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(Y,{z:()=>l})},2917:Qe=>{"use strict";var Y={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};Y.localCName=Y.generateIdentifier(),Y.splitLines=function(T){return T.trim().split("\n").map(function(l){return l.trim()})},Y.splitSections=function(T){return T.split("\nm=").map(function(N,Z){return(Z>0?"m="+N:N).trim()+"\r\n"})},Y.getDescription=function(T){var l=Y.splitSections(T);return l&&l[0]},Y.getMediaSections=function(T){var l=Y.splitSections(T);return l.shift(),l},Y.matchPrefix=function(T,l){return Y.splitLines(T).filter(function(N){return 0===N.indexOf(l)})},Y.parseCandidate=function(T){for(var l,N={foundation:(l=0===T.indexOf("a=candidate:")?T.substring(12).split(" "):T.substring(10).split(" "))[0],component:parseInt(l[1],10),protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]},Z=8;Z<l.length;Z+=2)switch(l[Z]){case"raddr":N.relatedAddress=l[Z+1];break;case"rport":N.relatedPort=parseInt(l[Z+1],10);break;case"tcptype":N.tcpType=l[Z+1];break;case"ufrag":N.ufrag=l[Z+1],N.usernameFragment=l[Z+1];break;default:N[l[Z]]=l[Z+1]}return N},Y.writeCandidate=function(T){var l=[];l.push(T.foundation),l.push(T.component),l.push(T.protocol.toUpperCase()),l.push(T.priority),l.push(T.address||T.ip),l.push(T.port);var N=T.type;return l.push("typ"),l.push(N),"host"!==N&&T.relatedAddress&&T.relatedPort&&(l.push("raddr"),l.push(T.relatedAddress),l.push("rport"),l.push(T.relatedPort)),T.tcpType&&"tcp"===T.protocol.toLowerCase()&&(l.push("tcptype"),l.push(T.tcpType)),(T.usernameFragment||T.ufrag)&&(l.push("ufrag"),l.push(T.usernameFragment||T.ufrag)),"candidate:"+l.join(" ")},Y.parseIceOptions=function(T){return T.substr(14).split(" ")},Y.parseRtpMap=function(T){var l=T.substr(9).split(" "),N={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),N.name=l[0],N.clockRate=parseInt(l[1],10),N.channels=3===l.length?parseInt(l[2],10):1,N.numChannels=N.channels,N},Y.writeRtpMap=function(T){var l=T.payloadType;void 0!==T.preferredPayloadType&&(l=T.preferredPayloadType);var N=T.channels||T.numChannels||1;return"a=rtpmap:"+l+" "+T.name+"/"+T.clockRate+(1!==N?"/"+N:"")+"\r\n"},Y.parseExtmap=function(T){var l=T.substr(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1]}},Y.writeExtmap=function(T){return"a=extmap:"+(T.id||T.preferredId)+(T.direction&&"sendrecv"!==T.direction?"/"+T.direction:"")+" "+T.uri+"\r\n"},Y.parseFmtp=function(T){for(var N,l={},Z=T.substr(T.indexOf(" ")+1).split(";"),W=0;W<Z.length;W++)l[(N=Z[W].trim().split("="))[0].trim()]=N[1];return l},Y.writeFmtp=function(T){var l="",N=T.payloadType;if(void 0!==T.preferredPayloadType&&(N=T.preferredPayloadType),T.parameters&&Object.keys(T.parameters).length){var Z=[];Object.keys(T.parameters).forEach(function(W){Z.push(T.parameters[W]?W+"="+T.parameters[W]:W)}),l+="a=fmtp:"+N+" "+Z.join(";")+"\r\n"}return l},Y.parseRtcpFb=function(T){var l=T.substr(T.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},Y.writeRtcpFb=function(T){var l="",N=T.payloadType;return void 0!==T.preferredPayloadType&&(N=T.preferredPayloadType),T.rtcpFeedback&&T.rtcpFeedback.length&&T.rtcpFeedback.forEach(function(Z){l+="a=rtcp-fb:"+N+" "+Z.type+(Z.parameter&&Z.parameter.length?" "+Z.parameter:"")+"\r\n"}),l},Y.parseSsrcMedia=function(T){var l=T.indexOf(" "),N={ssrc:parseInt(T.substr(7,l-7),10)},Z=T.indexOf(":",l);return Z>-1?(N.attribute=T.substr(l+1,Z-l-1),N.value=T.substr(Z+1)):N.attribute=T.substr(l+1),N},Y.parseSsrcGroup=function(T){var l=T.substr(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(function(N){return parseInt(N,10)})}},Y.getMid=function(T){var l=Y.matchPrefix(T,"a=mid:")[0];if(l)return l.substr(6)},Y.parseFingerprint=function(T){var l=T.substr(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1]}},Y.getDtlsParameters=function(T,l){return{role:"auto",fingerprints:Y.matchPrefix(T+l,"a=fingerprint:").map(Y.parseFingerprint)}},Y.writeDtlsParameters=function(T,l){var N="a=setup:"+l+"\r\n";return T.fingerprints.forEach(function(Z){N+="a=fingerprint:"+Z.algorithm+" "+Z.value+"\r\n"}),N},Y.parseCryptoLine=function(T){var l=T.substr(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},Y.writeCryptoLine=function(T){return"a=crypto:"+T.tag+" "+T.cryptoSuite+" "+("object"==typeof T.keyParams?Y.writeCryptoKeyParams(T.keyParams):T.keyParams)+(T.sessionParams?" "+T.sessionParams.join(" "):"")+"\r\n"},Y.parseCryptoKeyParams=function(T){if(0!==T.indexOf("inline:"))return null;var l=T.substr(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},Y.writeCryptoKeyParams=function(T){return T.keyMethod+":"+T.keySalt+(T.lifeTime?"|"+T.lifeTime:"")+(T.mkiValue&&T.mkiLength?"|"+T.mkiValue+":"+T.mkiLength:"")},Y.getCryptoParameters=function(T,l){return Y.matchPrefix(T+l,"a=crypto:").map(Y.parseCryptoLine)},Y.getIceParameters=function(T,l){var N=Y.matchPrefix(T+l,"a=ice-ufrag:")[0],Z=Y.matchPrefix(T+l,"a=ice-pwd:")[0];return N&&Z?{usernameFragment:N.substr(12),password:Z.substr(10)}:null},Y.writeIceParameters=function(T){return"a=ice-ufrag:"+T.usernameFragment+"\r\na=ice-pwd:"+T.password+"\r\n"},Y.parseRtpParameters=function(T){for(var l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},Z=Y.splitLines(T)[0].split(" "),W=3;W<Z.length;W++){var q=Z[W],he=Y.matchPrefix(T,"a=rtpmap:"+q+" ")[0];if(he){var be=Y.parseRtpMap(he),F=Y.matchPrefix(T,"a=fmtp:"+q+" ");switch(be.parameters=F.length?Y.parseFmtp(F[0]):{},be.rtcpFeedback=Y.matchPrefix(T,"a=rtcp-fb:"+q+" ").map(Y.parseRtcpFb),l.codecs.push(be),be.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(be.name.toUpperCase())}}}return Y.matchPrefix(T,"a=extmap:").forEach(function(k){l.headerExtensions.push(Y.parseExtmap(k))}),l},Y.writeRtpDescription=function(T,l){var N="";N+="m="+T+" ",N+=l.codecs.length>0?"9":"0",N+=" UDP/TLS/RTP/SAVPF ",N+=l.codecs.map(function(W){return void 0!==W.preferredPayloadType?W.preferredPayloadType:W.payloadType}).join(" ")+"\r\n",N+="c=IN IP4 0.0.0.0\r\n",N+="a=rtcp:9 IN IP4 0.0.0.0\r\n",l.codecs.forEach(function(W){N+=Y.writeRtpMap(W),N+=Y.writeFmtp(W),N+=Y.writeRtcpFb(W)});var Z=0;return l.codecs.forEach(function(W){W.maxptime>Z&&(Z=W.maxptime)}),Z>0&&(N+="a=maxptime:"+Z+"\r\n"),N+="a=rtcp-mux\r\n",l.headerExtensions&&l.headerExtensions.forEach(function(W){N+=Y.writeExtmap(W)}),N},Y.parseRtpEncodingParameters=function(T){var be,l=[],N=Y.parseRtpParameters(T),Z=-1!==N.fecMechanisms.indexOf("RED"),W=-1!==N.fecMechanisms.indexOf("ULPFEC"),q=Y.matchPrefix(T,"a=ssrc:").map(function(K){return Y.parseSsrcMedia(K)}).filter(function(K){return"cname"===K.attribute}),he=q.length>0&&q[0].ssrc,F=Y.matchPrefix(T,"a=ssrc-group:FID").map(function(K){return K.substr(17).split(" ").map(function(ve){return parseInt(ve,10)})});F.length>0&&F[0].length>1&&F[0][0]===he&&(be=F[0][1]),N.codecs.forEach(function(K){if("RTX"===K.name.toUpperCase()&&K.parameters.apt){var oe={ssrc:he,codecPayloadType:parseInt(K.parameters.apt,10)};he&&be&&(oe.rtx={ssrc:be}),l.push(oe),Z&&((oe=JSON.parse(JSON.stringify(oe))).fec={ssrc:he,mechanism:W?"red+ulpfec":"red"},l.push(oe))}}),0===l.length&&he&&l.push({ssrc:he});var k=Y.matchPrefix(T,"b=");return k.length&&(k=0===k[0].indexOf("b=TIAS:")?parseInt(k[0].substr(7),10):0===k[0].indexOf("b=AS:")?1e3*parseInt(k[0].substr(5),10)*.95-16e3:void 0,l.forEach(function(K){K.maxBitrate=k})),l},Y.parseRtcpParameters=function(T){var l={},N=Y.matchPrefix(T,"a=ssrc:").map(function(q){return Y.parseSsrcMedia(q)}).filter(function(q){return"cname"===q.attribute})[0];N&&(l.cname=N.value,l.ssrc=N.ssrc);var Z=Y.matchPrefix(T,"a=rtcp-rsize");l.reducedSize=Z.length>0,l.compound=0===Z.length;var W=Y.matchPrefix(T,"a=rtcp-mux");return l.mux=W.length>0,l},Y.parseMsid=function(T){var l,N=Y.matchPrefix(T,"a=msid:");if(1===N.length)return{stream:(l=N[0].substr(7).split(" "))[0],track:l[1]};var Z=Y.matchPrefix(T,"a=ssrc:").map(function(W){return Y.parseSsrcMedia(W)}).filter(function(W){return"msid"===W.attribute});return Z.length>0?{stream:(l=Z[0].value.split(" "))[0],track:l[1]}:void 0},Y.parseSctpDescription=function(T){var Z,l=Y.parseMLine(T),N=Y.matchPrefix(T,"a=max-message-size:");N.length>0&&(Z=parseInt(N[0].substr(19),10)),isNaN(Z)&&(Z=65536);var W=Y.matchPrefix(T,"a=sctp-port:");if(W.length>0)return{port:parseInt(W[0].substr(12),10),protocol:l.fmt,maxMessageSize:Z};if(Y.matchPrefix(T,"a=sctpmap:").length>0){var he=Y.matchPrefix(T,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(he[0],10),protocol:he[1],maxMessageSize:Z}}},Y.writeSctpDescription=function(T,l){var N=[];return N="DTLS/SCTP"!==T.protocol?["m="+T.kind+" 9 "+T.protocol+" "+l.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+l.port+"\r\n"]:["m="+T.kind+" 9 "+T.protocol+" "+l.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+l.port+" "+l.protocol+" 65535\r\n"],void 0!==l.maxMessageSize&&N.push("a=max-message-size:"+l.maxMessageSize+"\r\n"),N.join("")},Y.generateSessionId=function(){return Math.random().toString().substr(2,21)},Y.writeSessionBoilerplate=function(T,l,N){var W=void 0!==l?l:2;return"v=0\r\no="+(N||"thisisadapterortc")+" "+(T||Y.generateSessionId())+" "+W+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},Y.writeMediaSection=function(T,l,N,Z){var W=Y.writeRtpDescription(T.kind,l);if(W+=Y.writeIceParameters(T.iceGatherer.getLocalParameters()),W+=Y.writeDtlsParameters(T.dtlsTransport.getLocalParameters(),"offer"===N?"actpass":"active"),W+="a=mid:"+T.mid+"\r\n",W+=T.direction?"a="+T.direction+"\r\n":T.rtpSender&&T.rtpReceiver?"a=sendrecv\r\n":T.rtpSender?"a=sendonly\r\n":T.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",T.rtpSender){var q="msid:"+Z.id+" "+T.rtpSender.track.id+"\r\n";W+="a="+q,W+="a=ssrc:"+T.sendEncodingParameters[0].ssrc+" "+q,T.sendEncodingParameters[0].rtx&&(W+="a=ssrc:"+T.sendEncodingParameters[0].rtx.ssrc+" "+q,W+="a=ssrc-group:FID "+T.sendEncodingParameters[0].ssrc+" "+T.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return W+="a=ssrc:"+T.sendEncodingParameters[0].ssrc+" cname:"+Y.localCName+"\r\n",T.rtpSender&&T.sendEncodingParameters[0].rtx&&(W+="a=ssrc:"+T.sendEncodingParameters[0].rtx.ssrc+" cname:"+Y.localCName+"\r\n"),W},Y.getDirection=function(T,l){for(var N=Y.splitLines(T),Z=0;Z<N.length;Z++)switch(N[Z]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return N[Z].substr(2)}return l?Y.getDirection(l):"sendrecv"},Y.getKind=function(T){return Y.splitLines(T)[0].split(" ")[0].substr(2)},Y.isRejected=function(T){return"0"===T.split(" ",2)[1]},Y.parseMLine=function(T){var N=Y.splitLines(T)[0].substr(2).split(" ");return{kind:N[0],port:parseInt(N[1],10),protocol:N[2],fmt:N.slice(3).join(" ")}},Y.parseOLine=function(T){var N=Y.matchPrefix(T,"o=")[0].substr(2).split(" ");return{username:N[0],sessionId:N[1],sessionVersion:parseInt(N[2],10),netType:N[3],addressType:N[4],address:N[5]}},Y.isValidSDP=function(T){if("string"!=typeof T||0===T.length)return!1;for(var l=Y.splitLines(T),N=0;N<l.length;N++)if(l[N].length<2||"="!==l[N].charAt(1))return!1;return!0},Qe.exports=Y},6814:(Qe,Y,T)=>{"use strict";T.d(Y,{Do:()=>Ue,EM:()=>lr,HT:()=>W,JF:()=>Sn,K0:()=>he,Mx:()=>Dn,O5:()=>Fr,PM:()=>vr,S$:()=>xe,V_:()=>F,Ye:()=>L,b0:()=>Oe,bD:()=>Ut,ez:()=>Yn,q:()=>Z,sg:()=>hr,w_:()=>q});var l=T(4946);let N=null;function Z(){return N}function W(_){N||(N=_)}class q{}const he=new l.OlP("DocumentToken");let be=(()=>{class _{historyGo(C){throw new Error("Not implemented")}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return(0,l.f3M)(k)},providedIn:"platform"}),_})();const F=new l.OlP("Location Initialized");let k=(()=>{class _ extends be{constructor(){super(),this._doc=(0,l.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(C){const R=Z().getGlobalEventTarget(this._doc,"window");return R.addEventListener("popstate",C,!1),()=>R.removeEventListener("popstate",C)}onHashChange(C){const R=Z().getGlobalEventTarget(this._doc,"window");return R.addEventListener("hashchange",C,!1),()=>R.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,R,H){this._history.pushState(C,R,H)}replaceState(C,R,H){this._history.replaceState(C,R,H)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return new _},providedIn:"platform"}),_})();function K(_,M){if(0==_.length)return M;if(0==M.length)return _;let C=0;return _.endsWith("/")&&C++,M.startsWith("/")&&C++,2==C?_+M.substring(1):1==C?_+M:_+"/"+M}function oe(_){const M=_.match(/#|\?|$/),C=M&&M.index||_.length;return _.slice(0,C-("/"===_[C-1]?1:0))+_.slice(C)}function ve(_){return _&&"?"!==_[0]?"?"+_:_}let xe=(()=>{class _{historyGo(C){throw new Error("Not implemented")}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return(0,l.f3M)(Oe)},providedIn:"root"}),_})();const pe=new l.OlP("appBaseHref");let Oe=(()=>{class _ extends xe{constructor(C,R){super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=R??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return K(this._baseHref,C)}path(C=!1){const R=this._platformLocation.pathname+ve(this._platformLocation.search),H=this._platformLocation.hash;return H&&C?`${R}${H}`:R}pushState(C,R,H,_e){const Se=this.prepareExternalUrl(H+ve(_e));this._platformLocation.pushState(C,R,Se)}replaceState(C,R,H,_e){const Se=this.prepareExternalUrl(H+ve(_e));this._platformLocation.replaceState(C,R,Se)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return _.\u0275fac=function(C){return new(C||_)(l.LFG(be),l.LFG(pe,8))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Ue=(()=>{class _ extends xe{constructor(C,R){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=R&&(this._baseHref=R)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let R=this._platformLocation.hash;return null==R&&(R="#"),R.length>0?R.substring(1):R}prepareExternalUrl(C){const R=K(this._baseHref,C);return R.length>0?"#"+R:R}pushState(C,R,H,_e){let Se=this.prepareExternalUrl(H+ve(_e));0==Se.length&&(Se=this._platformLocation.pathname),this._platformLocation.pushState(C,R,Se)}replaceState(C,R,H,_e){let Se=this.prepareExternalUrl(H+ve(_e));0==Se.length&&(Se=this._platformLocation.pathname),this._platformLocation.replaceState(C,R,Se)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return _.\u0275fac=function(C){return new(C||_)(l.LFG(be),l.LFG(pe,8))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac}),_})(),L=(()=>{class _{constructor(C){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const R=this._locationStrategy.getBaseHref();this._basePath=function te(_){if(new RegExp("^(https?:)?//").test(_)){const[,C]=_.split(/\/\/[^\/]+/);return C}return _}(oe(ge(R))),this._locationStrategy.onPopState(H=>{this._subject.emit({url:this.path(!0),pop:!0,state:H.state,type:H.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,R=""){return this.path()==this.normalize(C+ve(R))}normalize(C){return _.stripTrailingSlash(function J(_,M){if(!_||!M.startsWith(_))return M;const C=M.substring(_.length);return""===C||["/",";","?","#"].includes(C[0])?C:M}(this._basePath,ge(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,R="",H=null){this._locationStrategy.pushState(H,"",C,R),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+ve(R)),H)}replaceState(C,R="",H=null){this._locationStrategy.replaceState(H,"",C,R),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+ve(R)),H)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(R=>{this._notifyUrlChangeListeners(R.url,R.state)})),()=>{const R=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(R,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",R){this._urlChangeListeners.forEach(H=>H(C,R))}subscribe(C,R,H){return this._subject.subscribe({next:C,error:R,complete:H})}}return _.normalizeQueryParams=ve,_.joinWithSlash=K,_.stripTrailingSlash=oe,_.\u0275fac=function(C){return new(C||_)(l.LFG(xe))},_.\u0275prov=l.Yz7({token:_,factory:function(){return function G(){return new L((0,l.LFG)(xe))}()},providedIn:"root"}),_})();function ge(_){return _.replace(/\/index.html$/,"")}function Dn(_,M){M=encodeURIComponent(M);for(const C of _.split(";")){const R=C.indexOf("="),[H,_e]=-1==R?[C,""]:[C.slice(0,R),C.slice(R+1)];if(H.trim()===M)return decodeURIComponent(_e)}return null}class zr{constructor(M,C,R,H){this.$implicit=M,this.ngForOf=C,this.index=R,this.count=H}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hr=(()=>{class _{set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}constructor(C,R,H){this._viewContainer=C,this._template=R,this._differs=H,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const R=this._viewContainer;C.forEachOperation((H,_e,Se)=>{if(null==H.previousIndex)R.createEmbeddedView(this._template,new zr(H.item,this._ngForOf,-1,-1),null===Se?void 0:Se);else if(null==Se)R.remove(null===_e?void 0:_e);else if(null!==_e){const qe=R.get(_e);R.move(qe,Se),kr(qe,H)}});for(let H=0,_e=R.length;H<_e;H++){const qe=R.get(H).context;qe.index=H,qe.count=_e,qe.ngForOf=this._ngForOf}C.forEachIdentityChange(H=>{kr(R.get(H.currentIndex),H)})}static ngTemplateContextGuard(C,R){return!0}}return _.\u0275fac=function(C){return new(C||_)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},_.\u0275dir=l.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),_})();function kr(_,M){_.context.$implicit=M.item}let Fr=(()=>{class _{constructor(C,R){this._viewContainer=C,this._context=new pr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=R}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){Oo("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){Oo("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,R){return!0}}return _.\u0275fac=function(C){return new(C||_)(l.Y36(l.s_b),l.Y36(l.Rgc))},_.\u0275dir=l.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),_})();class pr{constructor(){this.$implicit=null,this.ngIf=null}}function Oo(_,M){if(M&&!M.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,l.AaK)(M)}'.`)}let Yn=(()=>{class _{}return _.\u0275fac=function(C){return new(C||_)},_.\u0275mod=l.oAB({type:_}),_.\u0275inj=l.cJS({}),_})();const Ut="browser",cr="server";function vr(_){return _===cr}let lr=(()=>{class _{}return _.\u0275prov=(0,l.Yz7)({token:_,providedIn:"root",factory:()=>new Ln((0,l.LFG)(he),window)}),_})();class Ln{constructor(M,C){this.document=M,this.window=C,this.offset=()=>[0,0]}setOffset(M){this.offset=Array.isArray(M)?()=>M:M}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(M){this.supportsScrolling()&&this.window.scrollTo(M[0],M[1])}scrollToAnchor(M){if(!this.supportsScrolling())return;const C=function Yr(_,M){const C=_.getElementById(M)||_.getElementsByName(M)[0];if(C)return C;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const R=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let H=R.currentNode;for(;H;){const _e=H.shadowRoot;if(_e){const Se=_e.getElementById(M)||_e.querySelector(`[name="${M}"]`);if(Se)return Se}H=R.nextNode()}}return null}(this.document,M);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(M){if(this.supportScrollRestoration()){const C=this.window.history;C&&C.scrollRestoration&&(C.scrollRestoration=M)}}scrollToElement(M){const C=M.getBoundingClientRect(),R=C.left+this.window.pageXOffset,H=C.top+this.window.pageYOffset,_e=this.offset();this.window.scrollTo(R-_e[0],H-_e[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const M=Rr(this.window.history)||Rr(Object.getPrototypeOf(this.window.history));return!(!M||!M.writable&&!M.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Rr(_){return Object.getOwnPropertyDescriptor(_,"scrollRestoration")}class Sn{}},4946:(Qe,Y,T)=>{"use strict";T.d(Y,{tb:()=>ad,AFp:()=>Wf,ip1:()=>Rm,hGG:()=>hS,z2F:()=>_s,Ojb:()=>u_,sBO:()=>JE,Sil:()=>RE,EJc:()=>IE,Xts:()=>Zs,SBq:()=>Qs,lqb:()=>Ei,qLn:()=>es,vpe:()=>Go,XFs:()=>$e,OlP:()=>nn,zs3:()=>li,ZZ4:()=>hd,aQg:()=>pd,soG:()=>Fc,YKP:()=>Lg,h0i:()=>ms,PXZ:()=>HE,R0b:()=>Nr,FiY:()=>Ha,Lbi:()=>jl,g9A:()=>Yf,Qsj:()=>S_,FYo:()=>th,JOm:()=>jo,tp0:()=>Ga,Rgc:()=>ma,dDg:()=>jE,eoX:()=>Um,GfV:()=>nh,s_b:()=>Nc,ifc:()=>Wn,VuI:()=>bS,MMx:()=>jg,Lck:()=>l0,eFA:()=>Wm,Gpc:()=>Q,f3M:()=>pt,$WT:()=>gr,_c5:()=>fS,qFp:()=>SS,rg0:()=>Da,c2e:()=>Pm,zSh:()=>Nl,HDt:()=>xm,wAp:()=>lt,vHH:()=>Ne,lri:()=>$m,rWj:()=>Bm,cg1:()=>Pu,kL8:()=>cg,dqk:()=>Xt,Z0I:()=>Tr,eJc:()=>Ku,QGY:()=>bu,F4k:()=>hp,RDi:()=>Pv,AaK:()=>j,qOj:()=>lu,Xq5:()=>Yh,TTD:()=>Fi,_Bn:()=>Fg,jDz:()=>$g,xp6:()=>ph,uIk:()=>du,ekj:()=>Mu,Suo:()=>lm,Xpm:()=>zo,lG2:()=>jr,Yz7:()=>Ot,cJS:()=>We,oAB:()=>co,Yjl:()=>uo,Y36:()=>ns,_UZ:()=>_u,qZA:()=>Sc,TgZ:()=>Ec,EpF:()=>fp,n5z:()=>kd,LFG:()=>at,$8M:()=>rl,$Z:()=>Dh,NdJ:()=>Eu,CRH:()=>um,oxw:()=>vp,Q6J:()=>yu,MGl:()=>wc,iGM:()=>cm,KtG:()=>mo,CHM:()=>Ts,LSH:()=>Rl,P3R:()=>Ff,YNc:()=>sp,_uU:()=>Up,Oqu:()=>Au,hij:()=>Ic,AsE:()=>Ru});var l=T(8645),N=T(7394),Z=T(5619),W=T(5592),q=T(7537),he=T(4829),be=T(6232),F=T(4564),k=T(7715),oe=T(2096),ve=T(1887),xe=T(9360);function pe(e={}){const{connector:t=(()=>new l.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return a=>{let u,p,v,S=0,I=!1,V=!1;const X=()=>{p?.unsubscribe(),p=void 0},de=()=>{X(),u=v=void 0,I=V=!1},Te=()=>{const Pe=u;de(),Pe?.unsubscribe()};return(0,xe.e)((Pe,Be)=>{S++,!V&&!I&&X();const Je=v=v??t();Be.add(()=>{S--,0===S&&!V&&!I&&(p=Oe(Te,o))}),Je.subscribe(Be),!u&&S>0&&(u=new ve.Hp({next:Me=>Je.next(Me),error:Me=>{V=!0,X(),p=Oe(de,n,Me),Je.error(Me)},complete:()=>{I=!0,X(),p=Oe(de,r),Je.complete()}}),(0,he.Xf)(Pe).subscribe(u))})(a)}}function Oe(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new ve.Hp({next:()=>{r.unsubscribe(),e()}});return(0,he.Xf)(t(...n)).subscribe(r)}var Ue=T(4664),L=T(2737),G=T(8251);function ge(e,t){return e===t}function te(e){for(let t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function z(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function j(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(j).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function fe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const le=te({__forward_ref__:te});function Q(e){return e.__forward_ref__=Q,e.toString=function(){return j(this())},e}function ce(e){return Ee(e)?e():e}function Ee(e){return"function"==typeof e&&e.hasOwnProperty(le)&&e.__forward_ref__===Q}function ze(e){return e&&!!e.\u0275providers}const _t="https://g.co/ng/security#xss";class Ne extends Error{constructor(t,n){super(function me(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ne(e){return"string"==typeof e?e:null==e?"":String(e)}function Le(e,t){throw new Ne(-201,!1)}function un(e,t){null==e&&function ke(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ot(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function We(e){return{providers:e.providers||[],imports:e.imports||[]}}function tt(e){return an(e,rn)||an(e,Qt)}function Tr(e){return null!==tt(e)}function an(e,t){return e.hasOwnProperty(t)?e[t]:null}function kn(e){return e&&(e.hasOwnProperty(Hr)||e.hasOwnProperty(to))?e[Hr]:null}const rn=te({\u0275prov:te}),Hr=te({\u0275inj:te}),Qt=te({ngInjectableDef:te}),to=te({ngInjectorDef:te});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let Co;function Nt(e){const t=Co;return Co=e,t}function bt(e,t,n){const r=tt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$e.Optional?null:void 0!==t?t:void Le(j(e))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tn={},Jn="__NG_DI_FLAG__",$t="ngTempTokenPath",De=/\n/gm,U="__source";let ie;function Ve(e){const t=ie;return ie=e,t}function Ze(e,t=$e.Default){if(void 0===ie)throw new Ne(-203,!1);return null===ie?bt(e,void 0,t):ie.get(e,t&$e.Optional?null:void 0,t)}function at(e,t=$e.Default){return(function sr(){return Co}()||Ze)(ce(e),t)}function pt(e,t=$e.Default){return at(e,_n(t))}function _n(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function zn(e){const t=[];for(let n=0;n<e.length;n++){const r=ce(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ne(900,!1);let o,a=$e.Default;for(let u=0;u<r.length;u++){const p=r[u],v=yt(p);"number"==typeof v?-1===v?o=p.token:a|=v:o=p}t.push(at(o,a))}else t.push(at(r))}return t}function Bt(e,t){return e[Jn]=t,e.prototype[Jn]=t,e}function yt(e){return e[Jn]}function gt(e){return{toString:e}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),Wn=(()=>{return(e=Wn||(Wn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Wn;var e})();const Fn={},Dt=[],$n=te({\u0275cmp:te}),Gr=te({\u0275dir:te}),Mr=te({\u0275pipe:te}),no=te({\u0275mod:te}),Dn=te({\u0275fac:te}),Rn=te({__NG_ELEMENT_ID__:te}),Ir=te({__NG_ENV_ID__:te});function ro(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const a=t.length;if(o+a===r||e.charCodeAt(o+a)<=32)return o}n=o+1}}function fr(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const a=n[r++],u=n[r++],p=n[r++];e.setAttribute(t,u,p,a)}else{const a=o,u=n[++r];zr(a)?e.setProperty(t,a,u):e.setAttribute(t,a,u),r++}}return r}function Po(e){return 3===e||4===e||6===e}function zr(e){return 64===e.charCodeAt(0)}function hr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||kr(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function kr(e,t,n,r,o){let a=0,u=e.length;if(-1===t)u=-1;else for(;a<e.length;){const p=e[a++];if("number"==typeof p){if(p===t){u=-1;break}if(p>t){u=a-1;break}}}for(;a<e.length;){const p=e[a];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==o&&(e[a+1]=o));if(r===e[a+1])return void(e[a+2]=o)}a++,null!==r&&a++,null!==o&&a++}-1!==u&&(e.splice(u,0,t),a=u+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==o&&e.splice(a++,0,o)}const xo="ng-template";function Fr(e,t,n){let r=0,o=!0;for(;r<e.length;){let a=e[r++];if("string"==typeof a&&o){const u=e[r++];if(n&&"class"===a&&-1!==ro(u.toLowerCase(),t,0))return!0}else{if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(o=!1)}}return!1}function pr(e){return 4===e.type&&e.value!==xo}function Oo(e,t,n){return t===(4!==e.type||n?e.value:xo)}function Wr(e,t,n){let r=4;const o=e.attrs||[],a=function Pn(e){for(let t=0;t<e.length;t++)if(Po(e[t]))return t;return e.length}(o);let u=!1;for(let p=0;p<t.length;p++){const v=t[p];if("number"!=typeof v){if(!u)if(4&r){if(r=2|1&r,""!==v&&!Oo(e,v,n)||""===v&&1===t.length){if(fn(r))return!1;u=!0}}else{const S=8&r?v:t[++p];if(8&r&&null!==e.attrs){if(!Fr(e.attrs,S,n)){if(fn(r))return!1;u=!0}continue}const V=oo(8&r?"class":v,o,pr(e),n);if(-1===V){if(fn(r))return!1;u=!0;continue}if(""!==S){let X;X=V>a?"":o[V+1].toLowerCase();const de=8&r?X:null;if(de&&-1!==ro(de,S,0)||2&r&&S!==X){if(fn(r))return!1;u=!0}}}}else{if(!u&&!fn(r)&&!fn(v))return!1;if(u&&fn(v))continue;u=!1,r=v|1&r}}return fn(r)||u}function fn(e){return 0==(1&e)}function oo(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let a=!1;for(;o<t.length;){const u=t[o];if(u===e)return o;if(3===u||6===u)a=!0;else{if(1===u||2===u){let p=t[++o];for(;"string"==typeof p;)p=t[++o];continue}if(4===u)break;if(0===u){o+=4;continue}}o+=a?1:2}return-1}return function No(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function io(e,t,n=!1){for(let r=0;r<t.length;r++)if(Wr(e,t[r],n))return!0;return!1}function Vr(e,t){return e?":not("+t.trim()+")":t}function Do(e){let t=e[0],n=1,r=2,o="",a=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const p=e[++n];o+="["+u+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?o+="."+u:4&r&&(o+=" "+u);else""!==o&&!fn(u)&&(t+=Vr(a,o),o=""),r=u,a=a||!fn(r);n++}return""!==o&&(t+=Vr(a,o)),t}function zo(e){return gt(()=>{const t=bo(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Wn.Emulated,styles:e.styles||Dt,_:null,schemas:e.schemas||null,tView:null,id:""};$r(n);const r=e.dependencies;return n.directiveDefs=mr(r,!1),n.pipeDefs=mr(r,!0),n.id=function yr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function ao(e){return wt(e)||En(e)}function ti(e){return null!==e}function co(e){return gt(()=>({type:e.type,bootstrap:e.bootstrap||Dt,declarations:e.declarations||Dt,imports:e.imports||Dt,exports:e.exports||Dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function lo(e,t){if(null==e)return Fn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],a=o;Array.isArray(o)&&(a=o[1],o=o[0]),n[o]=r,t&&(t[o]=a)}return n}function jr(e){return gt(()=>{const t=bo(e);return $r(t),t})}function uo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function wt(e){return e[$n]||null}function En(e){return e[Gr]||null}function cn(e){return e[Mr]||null}function gr(e){const t=wt(e)||En(e)||cn(e);return null!==t&&t.standalone}function kt(e,t){const n=e[no]||null;if(!n&&!0===t)throw new Error(`Type ${j(e)} does not have '\u0275mod' property.`);return n}function bo(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Fn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Dt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lo(e.inputs,t),outputs:lo(e.outputs)}}function $r(e){e.features?.forEach(t=>t(e))}function mr(e,t){if(!e)return null;const n=t?cn:ao;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(ti)}const ye=0,je=1,ct=2,ot=3,It=4,Qn=5,ln=6,Yn=7,Ut=8,cr=9,Xn=10,st=11,Bn=12,vr=13,_r=14,on=15,fo=16,lr=17,Ln=18,Rr=19,Yr=20,er=21,Sn=22,ho=23,Tt=24,Xe=25,Eo=1,Yo=2,In=7,qr=9,hn=11;function Ht(e){return Array.isArray(e)&&"object"==typeof e[Eo]}function Yt(e){return Array.isArray(e)&&!0===e[Eo]}function ut(e){return 0!=(4&e.flags)}function Un(e){return e.componentOffset>-1}function Zo(e){return 1==(1&e.flags)}function ur(e){return!!e.template}function Rt(e){return 0!=(512&e[ct])}function $(e,t){return e.hasOwnProperty(Dn)?e[Dn]:null}let zt=Xt.WeakRef??class Gt{constructor(t){this.ref=t}deref(){return this.ref}},Cs=0,tr=null,ri=!1;function pn(e){const t=tr;return tr=e,t}class Ri{constructor(){this.id=Cs++,this.ref=function Ai(e){return new zt(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=ri;ri=!0;try{for(const[n,r]of this.consumers){const o=r.consumerNode.deref();void 0!==o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),o?.producers.delete(this.id))}}finally{ri=t}}producerAccessed(){if(ri)throw new Error("");if(null===tr)return;let t=tr.producers.get(this.id);void 0===t?(t={consumerNode:tr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:tr.trackingVersion},tr.producers.set(this.id,t),this.consumers.set(tr.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=tr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==tr?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let Ni=null;function Da(e){const t=pn(null);try{return e()}finally{pn(t)}}const bs=()=>{};class ba extends Ri{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=bs,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=pn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=bs,this.watch(this.registerOnCleanup)}finally{pn(t)}}cleanup(){this.cleanupFn()}}class Ea{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Fi(){return Li}function Li(e){return e.type.prototype.ngOnChanges&&(e.setInput=_),yi}function yi(){const e=C(this),t=e?.current;if(t){const n=e.previous;if(n===Fn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function _(e,t,n,r){const o=this.declaredInputs[n],a=C(e)||function R(e,t){return e[M]=t}(e,{previous:Fn,current:null}),u=a.current||(a.current={}),p=a.previous,v=p[o];u[o]=new Ea(v&&v.currentValue,t,p===Fn),e[r]=t}Fi.ngInherit=!0;const M="__ngSimpleChanges__";function C(e){return e[M]||null}const Se=function(e,t,n){};function it(e){for(;Array.isArray(e);)e=e[ye];return e}function mt(e,t){return it(t[e])}function Pt(e,t){return it(t[e.index])}function gn(e,t){return e.data[t]}function mn(e,t){const n=t[e];return Ht(n)?n:n[ye]}function rr(e,t){return null==t?null:e[t]}function Br(e){e[lr]=0}function Gc(e){1024&e[ct]||(e[ct]|=1024,Cr(e,1))}function Sa(e){1024&e[ct]&&(e[ct]&=-1025,Cr(e,-1))}function Cr(e,t){let n=e[ot];if(null===n)return;n[Qn]+=t;let r=n;for(n=n[ot];null!==n&&(1===t&&1===r[Qn]||-1===t&&0===r[Qn]);)n[Qn]+=t,r=n,n=n[ot]}const dt={lFrame:xs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ss(){return dt.bindingsEnabled}function Ae(){return dt.lFrame.lView}function Vt(){return dt.lFrame.tView}function Ts(e){return dt.lFrame.contextLView=e,e[Ut]}function mo(e){return dt.lFrame.contextLView=null,e}function Zn(){let e=Zc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Zc(){return dt.lFrame.currentTNode}function To(e,t){const n=dt.lFrame;n.currentTNode=e,n.isParent=t}function $i(){return dt.lFrame.isParent}function vi(){return dt.lFrame.bindingIndex++}function Lo(e){const t=dt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function bd(e,t){const n=dt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Is(t)}function Is(e){dt.lFrame.currentDirectiveIndex=e}function Pa(){return dt.lFrame.currentQueryIndex}function Rs(e){dt.lFrame.currentQueryIndex=e}function qc(e){const t=e[je];return 2===t.type?t.declTNode:1===t.type?e[ln]:null}function xa(e,t,n){if(n&$e.SkipSelf){let o=t,a=e;for(;!(o=o.parent,null!==o||n&$e.Host||(o=qc(a),null===o||(a=a[_r],10&o.type))););if(null===o)return!1;t=o,e=a}const r=dt.lFrame=Oa();return r.currentTNode=t,r.lView=e,!0}function Ps(e){const t=Oa(),n=e[je];dt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Oa(){const e=dt.lFrame,t=null===e?null:e.child;return null===t?xs(e):t}function xs(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Na(){const e=dt.lFrame;return dt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Kc=Na;function ka(){const e=Na();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function br(){return dt.lFrame.selectedIndex}function ii(e){dt.lFrame.selectedIndex=e}function h(){const e=dt.lFrame;return gn(e.tView,e.selectedIndex)}let O=!0;function se(){return O}function we(e){O=e}function Ke(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:S,ngOnDestroy:I}=a;u&&(e.contentHooks??=[]).push(-n,u),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),v&&(e.viewHooks??=[]).push(-n,v),S&&((e.viewHooks??=[]).push(n,S),(e.viewCheckHooks??=[]).push(n,S)),null!=I&&(e.destroyHooks??=[]).push(n,I)}}function Ft(e,t,n){si(e,t,3,n)}function or(e,t,n,r){(3&e[ct])===n&&si(e,t,n,r)}function _i(e,t){let n=e[ct];(3&n)===t&&(n&=8191,n+=1,e[ct]=n)}function si(e,t,n,r){const a=r??-1,u=t.length-1;let p=0;for(let v=void 0!==r?65535&e[lr]:0;v<u;v++)if("number"==typeof t[v+1]){if(p=t[v],null!=r&&p>=r)break}else t[v]<0&&(e[lr]+=65536),(p<a||-1==a)&&(Os(e,n,t,v),e[lr]=(4294901760&e[lr])+v+2),v++}function ai(e,t){Se(4,e,t);const n=pn(null);try{t.call(e)}finally{pn(n),Se(5,e,t)}}function Os(e,t,n,r){const o=n[r]<0,a=n[r+1],p=e[o?-n[r]:n[r]];o?e[ct]>>13<e[lr]>>16&&(3&e[ct])===t&&(e[ct]+=8192,ai(p,a)):ai(p,a)}const Mo=-1;class Ns{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function wd(e){return e!==Mo}function Fa(e){return 32767&e}function La(e,t){let n=function _y(e){return e>>16}(e),r=t;for(;n>0;)r=r[_r],n--;return r}let Qc=!0;function Va(e){const t=Qc;return Qc=e,t}const Td=255,Md=5;let Cy=0;const Vo={};function ja(e,t){const n=Id(e,t);if(-1!==n)return n;const r=t[je];r.firstCreatePass&&(e.injectorIndex=t.length,Xc(r.data,e),Xc(t,null),Xc(r.blueprint,null));const o=el(e,t),a=e.injectorIndex;if(wd(o)){const u=Fa(o),p=La(o,t),v=p[je].data;for(let S=0;S<8;S++)t[a+S]=p[u+S]|v[u+S]}return t[a+8]=o,a}function Xc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Id(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function el(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Fd(o),null===r)return Mo;if(n++,o=o[_r],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Mo}function tl(e,t,n){!function Dy(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rn)&&(r=n[Rn]),null==r&&(r=n[Rn]=Cy++);const o=r&Td;t.data[e+(o>>Md)]|=1<<o}(e,t,n)}function Ad(e,t,n){if(n&$e.Optional||void 0!==e)return e;Le()}function Rd(e,t,n,r){if(n&$e.Optional&&void 0===r&&(r=null),!(n&($e.Self|$e.Host))){const o=e[cr],a=Nt(void 0);try{return o?o.get(t,r,n&$e.Optional):bt(t,r,n&$e.Optional)}finally{Nt(a)}}return Ad(r,0,n)}function Pd(e,t,n,r=$e.Default,o){if(null!==e){if(2048&t[ct]&&!(r&$e.Self)){const u=function Ty(e,t,n,r,o){let a=e,u=t;for(;null!==a&&null!==u&&2048&u[ct]&&!(512&u[ct]);){const p=xd(a,u,n,r|$e.Self,Vo);if(p!==Vo)return p;let v=a.parent;if(!v){const S=u[Yr];if(S){const I=S.get(n,Vo,r);if(I!==Vo)return I}v=Fd(u),u=u[_r]}a=v}return o}(e,t,n,r,Vo);if(u!==Vo)return u}const a=xd(e,t,n,r,Vo);if(a!==Vo)return a}return Rd(t,n,r,o)}function xd(e,t,n,r,o){const a=function Sy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Rn)?e[Rn]:void 0;return"number"==typeof t?t>=0?t&Td:wy:t}(n);if("function"==typeof a){if(!xa(t,e,r))return r&$e.Host?Ad(o,0,r):Rd(t,n,r,o);try{const u=a(r);if(null!=u||r&$e.Optional)return u;Le()}finally{Kc()}}else if("number"==typeof a){let u=null,p=Id(e,t),v=Mo,S=r&$e.Host?t[on][ln]:null;for((-1===p||r&$e.SkipSelf)&&(v=-1===p?el(e,t):t[p+8],v!==Mo&&Nd(r,!1)?(u=t[je],p=Fa(v),t=La(v,t)):p=-1);-1!==p;){const I=t[je];if(Od(a,p,I.data)){const V=Ey(p,t,n,u,r,S);if(V!==Vo)return V}v=t[p+8],v!==Mo&&Nd(r,t[je].data[p+8]===S)&&Od(a,p,t)?(u=I,p=Fa(v),t=La(v,t)):p=-1}}return o}function Ey(e,t,n,r,o,a){const u=t[je],p=u.data[e+8],I=$a(p,u,n,null==r?Un(p)&&Qc:r!=u&&0!=(3&p.type),o&$e.Host&&a===p);return null!==I?Ci(t,u,I,p):Vo}function $a(e,t,n,r,o){const a=e.providerIndexes,u=t.data,p=1048575&a,v=e.directiveStart,I=a>>20,X=o?p+I:e.directiveEnd;for(let de=r?p:p+I;de<X;de++){const Te=u[de];if(de<v&&n===Te||de>=v&&Te.type===n)return de}if(o){const de=u[v];if(de&&ur(de)&&de.type===n)return v}return null}function Ci(e,t,n,r){let o=e[n];const a=t.data;if(function my(e){return e instanceof Ns}(o)){const u=o;u.resolving&&function Ie(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ae(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ne(e)}(a[n]));const p=Va(u.canSeeViewProviders);u.resolving=!0;const v=u.injectImpl?Nt(u.injectImpl):null;xa(e,r,$e.Default);try{o=e[n]=u.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Ge(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:a}=t.type.prototype;if(r){const u=Li(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}o&&(n.preOrderHooks??=[]).push(0-e,o),a&&((n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a))}(n,a[n],t)}finally{null!==v&&Nt(v),Va(p),u.resolving=!1,Kc()}}return o}function Od(e,t,n){return!!(n[t+(e>>Md)]&1<<e)}function Nd(e,t){return!(e&$e.Self||e&$e.Host&&t)}class Ui{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Pd(this._tNode,this._lView,t,_n(r),n)}}function wy(){return new Ui(Zn(),Ae())}function kd(e){return gt(()=>{const t=e.prototype.constructor,n=t[Dn]||nl(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const a=o[Dn]||nl(o);if(a&&a!==n)return a;o=Object.getPrototypeOf(o)}return a=>new a})}function nl(e){return Ee(e)?()=>{const t=nl(ce(e));return t&&t()}:$(e)}function Fd(e){const t=e[je],n=t.type;return 2===n?t.declTNode:1===n?e[ln]:null}function rl(e){return function by(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const a=n[o];if(Po(a))break;if(0===a)o+=2;else if("number"==typeof a)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(a===t)return n[o+1];o+=2}}}return null}(Zn(),e)}const Gi="__parameters__";function Wi(e,t,n){return gt(()=>{const r=function ol(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...a){if(this instanceof o)return r.apply(this,a),this;const u=new o(...a);return p.annotation=u,p;function p(v,S,I){const V=v.hasOwnProperty(Gi)?v[Gi]:Object.defineProperty(v,Gi,{value:[]})[Gi];for(;V.length<=I;)V.push(null);return(V[I]=V[I]||[]).push(u),v}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Ls(e,t){e.forEach(n=>Array.isArray(n)?Ls(n,t):t(n))}function Vd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ba(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Xr(e,t,n){let r=Yi(e,t);return r>=0?e[1|r]=n:(r=~r,function Py(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function il(e,t){const n=Yi(e,t);if(n>=0)return e[1|n]}function Yi(e,t){return function jd(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const a=r+(o-r>>1),u=e[a<<n];if(t===u)return a<<n;u>t?o=a:r=a+1}return~(o<<n)}(e,t,1)}const Ha=Bt(Wi("Optional"),8),Ga=Bt(Wi("SkipSelf"),4);function Za(e){return 128==(128&e.flags)}var jo=(()=>((jo=jo||{})[jo.Important=1]="Important",jo[jo.DashCase=2]="DashCase",jo))();const dl=new Map;let tv=0;const hl="__ngContext__";function Er(e,t){Ht(t)?(e[hl]=t[Rr],function rv(e){dl.set(e[Rr],e)}(t)):e[hl]=t}let pl;function gl(e,t){return pl(e,t)}function Bs(e){const t=e[ot];return Yt(t)?t[ot]:t}function af(e){return lf(e[Bn])}function cf(e){return lf(e[It])}function lf(e){for(;null!==e&&!Yt(e);)e=e[It];return e}function Ki(e,t,n,r,o){if(null!=r){let a,u=!1;Yt(r)?a=r:Ht(r)&&(u=!0,r=r[ye]);const p=it(r);0===e&&null!==n?null==o?pf(t,n,p):Di(t,n,p,o||null,!0):1===e&&null!==n?Di(t,n,p,o||null,!0):2===e?function ec(e,t,n){const r=Qa(e,t);r&&function bv(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,p,u):3===e&&t.destroyNode(p),null!=a&&function wv(e,t,n,r,o){const a=n[In];a!==it(n)&&Ki(t,e,r,a,o);for(let p=hn;p<n.length;p++){const v=n[p];Hs(v[je],v,e,t,r,a)}}(t,e,a,n,o)}}function Ja(e,t,n){return e.createElement(t,n)}function df(e,t){const n=e[qr],r=n.indexOf(t);Sa(t),n.splice(r,1)}function yl(e,t){if(e.length<=hn)return;const n=hn+t,r=e[n];if(r){const o=r[fo];null!==o&&o!==e&&df(o,r),t>0&&(e[n-1][It]=r[It]);const a=Ba(e,hn+t);!function pv(e,t){Hs(e,t,t[st],2,null,null),t[ye]=null,t[ln]=null}(r[je],r);const u=a[Ln];null!==u&&u.detachView(a[je]),r[ot]=null,r[It]=null,r[ct]&=-129}return r}function ff(e,t){if(!(256&t[ct])){const n=t[st];t[ho]?.destroy(),t[Tt]?.destroy(),n.destroyNode&&Hs(e,t,n,3,null,null),function yv(e){let t=e[Bn];if(!t)return vl(e[je],e);for(;t;){let n=null;if(Ht(t))n=t[Bn];else{const r=t[hn];r&&(n=r)}if(!n){for(;t&&!t[It]&&t!==e;)Ht(t)&&vl(t[je],t),t=t[ot];null===t&&(t=e),Ht(t)&&vl(t[je],t),n=t&&t[It]}t=n}}(t)}}function vl(e,t){if(!(256&t[ct])){t[ct]&=-129,t[ct]|=256,function Dv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ns)){const a=n[r+1];if(Array.isArray(a))for(let u=0;u<a.length;u+=2){const p=o[a[u]],v=a[u+1];Se(4,p,v);try{v.call(p)}finally{Se(5,p,v)}}else{Se(4,o,a);try{a.call(o)}finally{Se(5,o,a)}}}}}(e,t),function Cv(e,t){const n=e.cleanup,r=t[Yn];if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const u=n[a+3];u>=0?r[u]():r[-u].unsubscribe(),a+=2}else n[a].call(r[n[a+1]]);null!==r&&(t[Yn]=null);const o=t[er];if(null!==o){t[er]=null;for(let a=0;a<o.length;a++)(0,o[a])()}}(e,t),1===t[je].type&&t[st].destroy();const n=t[fo];if(null!==n&&Yt(t[ot])){n!==t[ot]&&df(n,t);const r=t[Ln];null!==r&&r.detachView(e)}!function ov(e){dl.delete(e[Rr])}(t)}}function _l(e,t,n){return function hf(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[ye];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:a}=e.data[r.directiveStart+o];if(a===Wn.None||a===Wn.Emulated)return null}return Pt(r,n)}}(e,t.parent,n)}function Di(e,t,n,r,o){e.insertBefore(t,n,r,o)}function pf(e,t,n){e.appendChild(t,n)}function gf(e,t,n,r,o){null!==r?Di(e,t,n,r,o):pf(e,t,n)}function Qa(e,t){return e.parentNode(t)}let Cl,Sl,nc,vf=function yf(e,t,n){return 40&e.type?Pt(e,n):null};function Xa(e,t,n,r){const o=_l(e,r,t),a=t[st],p=function mf(e,t,n){return vf(e,t,n)}(r.parent||t[ln],r,t);if(null!=o)if(Array.isArray(n))for(let v=0;v<n.length;v++)gf(a,o,n[v],p,!1);else gf(a,o,n,p,!1);void 0!==Cl&&Cl(a,r,t,n,o)}function Us(e,t){if(null!==t){const n=t.type;if(3&n)return Pt(t,e);if(4&n)return Dl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Us(e,r);{const o=e[t.index];return Yt(o)?Dl(-1,o):it(o)}}if(32&n)return gl(t,e)()||it(e[t.index]);{const r=Cf(e,t);return null!==r?Array.isArray(r)?r[0]:Us(Bs(e[on]),r):Us(e,t.next)}}return null}function Cf(e,t){return null!==t?e[on][ln].projection[t.projection]:null}function Dl(e,t){const n=hn+e+1;if(n<t.length){const r=t[n],o=r[je].firstChild;if(null!==o)return Us(r,o)}return t[In]}function bl(e,t,n,r,o,a,u){for(;null!=n;){const p=r[n.index],v=n.type;if(u&&0===t&&(p&&Er(it(p),r),n.flags|=2),32!=(32&n.flags))if(8&v)bl(e,t,n.child,r,o,a,!1),Ki(t,e,o,p,a);else if(32&v){const S=gl(n,r);let I;for(;I=S();)Ki(t,e,o,I,a);Ki(t,e,o,p,a)}else 16&v?bf(e,t,r,n,o,a):Ki(t,e,o,p,a);n=u?n.projectionNext:n.next}}function Hs(e,t,n,r,o,a){bl(n,r,e.firstChild,t,o,a,!1)}function bf(e,t,n,r,o,a){const u=n[on],v=u[ln].projection[r.projection];if(Array.isArray(v))for(let S=0;S<v.length;S++)Ki(t,e,o,v[S],a);else{let S=v;const I=u[ot];Za(r)&&(S.flags|=128),bl(e,t,S,I,o,a,!0)}}function Ef(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Sf(e,t,n){const{mergedAttrs:r,classes:o,styles:a}=n;null!==r&&fr(e,t,r),null!==o&&Ef(e,t,o),null!==a&&function Mv(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}function Pv(e){Sl=e}function Mf(e){return function wl(){if(void 0===nc&&(nc=null,Xt.trustedTypes))try{nc=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return nc}()?.createScriptURL(e)||e}class If{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}function ci(e){return e instanceof If?e.changingThisBreaksApplicationSecurity:e}function zs(e,t){const n=function Lv(e){return e instanceof If&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${_t})`)}return n===t}const Bv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Hn=(()=>((Hn=Hn||{})[Hn.NONE=0]="NONE",Hn[Hn.HTML=1]="HTML",Hn[Hn.STYLE=2]="STYLE",Hn[Hn.SCRIPT=3]="SCRIPT",Hn[Hn.URL=4]="URL",Hn[Hn.RESOURCE_URL=5]="RESOURCE_URL",Hn))();function Rl(e){const t=Ys();return t?t.sanitize(Hn.URL,e)||"":zs(e,"URL")?ci(e):function Tl(e){return(e=String(e)).match(Bv)?e:"unsafe:"+e}(ne(e))}function kf(e){const t=Ys();if(t)return Mf(t.sanitize(Hn.RESOURCE_URL,e)||"");if(zs(e,"ResourceURL"))return Mf(ci(e));throw new Ne(904,!1)}function Ff(e,t,n){return function Xv(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?kf:Rl}(t,n)(e)}function Ys(){const e=Ae();return e&&e[Xn].sanitizer}class nn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ot({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Zs=new nn("ENVIRONMENT_INITIALIZER"),Lf=new nn("INJECTOR",-1),Vf=new nn("INJECTOR_DEF_TYPES");class jf{get(t,n=Tn){if(n===Tn){const r=new Error(`NullInjectorError: No provider for ${j(t)}!`);throw r.name="NullInjectorError",r}return n}}function e_(...e){return{\u0275providers:Bf(0,e),\u0275fromNgModule:!0}}function Bf(e,...t){const n=[],r=new Set;let o;return Ls(t,a=>{const u=a;Pl(u,n,[],r)&&(o||=[],o.push(u))}),void 0!==o&&Uf(o,n),n}function Uf(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];xl(o,a=>{t.push(a)})}}function Pl(e,t,n,r){if(!(e=ce(e)))return!1;let o=null,a=kn(e);const u=!a&&wt(e);if(a||u){if(u&&!u.standalone)return!1;o=e}else{const v=e.ngModule;if(a=kn(v),!a)return!1;o=v}const p=r.has(o);if(u){if(p)return!1;if(r.add(o),u.dependencies){const v="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const S of v)Pl(S,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!p){let S;r.add(o);try{Ls(a.imports,I=>{Pl(I,t,n,r)&&(S||=[],S.push(I))})}finally{}void 0!==S&&Uf(S,t)}if(!p){const S=$(o)||(()=>new o);t.push({provide:o,useFactory:S,deps:Dt},{provide:Vf,useValue:o,multi:!0},{provide:Zs,useValue:()=>at(o),multi:!0})}const v=a.providers;null==v||p||xl(v,I=>{t.push(I)})}}return o!==e&&void 0!==e.providers}function xl(e,t){for(let n of e)ze(n)&&(n=n.\u0275providers),Array.isArray(n)?xl(n,t):t(n)}const t_=te({provide:String,useValue:te});function Ol(e){return null!==e&&"object"==typeof e&&t_ in e}function bi(e){return"function"==typeof e}const Nl=new nn("Set Injector scope."),oc={},r_={};let kl;function ic(){return void 0===kl&&(kl=new jf),kl}class Ei{}class Fl extends Ei{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vl(t,u=>this.processProvider(u)),this.records.set(Lf,Qi(void 0,this)),o.has("environment")&&this.records.set(Ei,Qi(void 0,this));const a=this.records.get(Nl);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Vf.multi,Dt,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ve(this),r=Nt(void 0);try{return t()}finally{Ve(n),Nt(r)}}get(t,n=Tn,r=$e.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ir))return t[Ir](this);r=_n(r);const o=Ve(this),a=Nt(void 0);try{if(!(r&$e.SkipSelf)){let p=this.records.get(t);if(void 0===p){const v=function c_(e){return"function"==typeof e||"object"==typeof e&&e instanceof nn}(t)&&tt(t);p=v&&this.injectableDefInScope(v)?Qi(Ll(t),oc):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&$e.Self?ic():this.parent).get(t,n=r&$e.Optional&&n===Tn?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[$t]=u[$t]||[]).unshift(j(t)),o)throw u;return function Cn(e,t,n,r){const o=e[$t];throw t[U]&&o.unshift(t[U]),e.message=function dn(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=j(t);if(Array.isArray(t))o=t.map(j).join(" -> ");else if("object"==typeof t){let a=[];for(let u in t)if(t.hasOwnProperty(u)){let p=t[u];a.push(u+":"+("string"==typeof p?JSON.stringify(p):j(p)))}o=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(De,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[$t]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{Nt(a),Ve(o)}}resolveInjectorInitializers(){const t=Ve(this),n=Nt(void 0);try{const r=this.get(Zs.multi,Dt,$e.Self);for(const o of r)o()}finally{Ve(t),Nt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(j(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(t){let n=bi(t=ce(t))?t:ce(t&&t.provide);const r=function i_(e){return Ol(e)?Qi(void 0,e.useValue):Qi(zf(e),oc)}(t);if(bi(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Qi(void 0,oc,!0),o.factory=()=>zn(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===oc&&(n.value=r_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function a_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ce(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ll(e){const t=tt(e),n=null!==t?t.factory:$(e);if(null!==n)return n;if(e instanceof nn)throw new Ne(204,!1);if(e instanceof Function)return function o_(e){const t=e.length;if(t>0)throw function Vs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ne(204,!1);const n=function Nn(e){return e&&(e[rn]||e[Qt])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ne(204,!1)}function zf(e,t,n){let r;if(bi(e)){const o=ce(e);return $(o)||Ll(o)}if(Ol(e))r=()=>ce(e.useValue);else if(function Gf(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...zn(e.deps||[]));else if(function Hf(e){return!(!e||!e.useExisting)}(e))r=()=>at(ce(e.useExisting));else{const o=ce(e&&(e.useClass||e.provide));if(!function s_(e){return!!e.deps}(e))return $(o)||Ll(o);r=()=>new o(...zn(e.deps))}return r}function Qi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Vl(e,t){for(const n of e)Array.isArray(n)?Vl(n,t):n&&ze(n)?Vl(n.\u0275providers,t):t(n)}const Wf=new nn("AppId",{providedIn:"root",factory:()=>l_}),l_="ng",Yf=new nn("Platform Initializer"),jl=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u_=new nn("CSP nonce",{providedIn:"root",factory:()=>function Gs(){if(void 0!==Sl)return Sl;if(typeof document<"u")return document;throw new Ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qf=(e,t)=>null;function Kf(e,t){return qf(e,t)}class __{}class Xf{}class D_{resolveComponentFactory(t){throw function C_(e){const t=Error(`No component factory found for ${j(e)}.`);return t.ngComponent=e,t}(t)}}let uc=(()=>{class e{}return e.NULL=new D_,e})();function b_(){return Xi(Zn(),Ae())}function Xi(e,t){return new Qs(Pt(e,t))}let Qs=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=b_,e})();function E_(e){return e instanceof Qs?e.nativeElement:e}class th{}let S_=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function w_(){const e=Ae(),n=mn(Zn().index,e);return(Ht(n)?n:e)[st]}(),e})(),T_=(()=>{class e{}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>null}),e})();class nh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const M_=new nh("16.1.1"),Kl={};function Xs(e){for(;e;){e[ct]|=64;const t=Bs(e);if(Rt(e)&&!t)return e;e=t}return null}function Jl(e){return e.ngOriginalError}class es{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Jl(t);for(;n&&Jl(n);)n=Jl(n);return n||null}}const ih=new nn("",{providedIn:"root",factory:()=>!1});function Qo(e){return e instanceof Function?e():e}class uh extends Ri{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){Xs(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const o=pn(this);this.trackingVersion++;try{t(n,r)}finally{pn(o)}}destroy(){this.trackingVersion++}}let fc=null;function dh(){return fc??=new uh,fc}function fh(e,t){return e[t]??dh()}function hh(e,t){const n=dh();n.hasReadASignal&&(e[t]=fc,n.lView=e,fc=new uh)}const Et={};function ph(e){gh(Vt(),Ae(),br()+e,!1)}function gh(e,t,n,r){if(!r)if(3==(3&t[ct])){const a=e.preOrderCheckHooks;null!==a&&Ft(t,a,n)}else{const a=e.preOrderHooks;null!==a&&or(t,a,0,n)}ii(n)}function _h(e,t=null,n=null,r){const o=Ch(e,t,n,r);return o.resolveInjectorInitializers(),o}function Ch(e,t=null,n=null,r,o=new Set){const a=[n||Dt,e_(e)];return r=r||("object"==typeof e?void 0:j(e)),new Fl(a,t||ic(),r||null,o)}let li=(()=>{class e{static create(n,r){if(Array.isArray(n))return _h({name:""},r,n,"");{const o=n.name??"";return _h({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Tn,e.NULL=new jf,e.\u0275prov=Ot({token:e,providedIn:"any",factory:()=>at(Lf)}),e.__NG_ELEMENT_ID__=-1,e})();function ns(e,t=$e.Default){const n=Ae();return null===n?at(e,t):Pd(Zn(),n,ce(e),t)}function Dh(){throw new Error("invalid")}function hc(e,t,n,r,o,a,u,p,v,S,I){const V=t.blueprint.slice();return V[ye]=o,V[ct]=140|r,(null!==S||e&&2048&e[ct])&&(V[ct]|=2048),Br(V),V[ot]=V[_r]=e,V[Ut]=n,V[Xn]=u||e&&e[Xn],V[st]=p||e&&e[st],V[cr]=v||e&&e[cr]||null,V[ln]=a,V[Rr]=function nv(){return tv++}(),V[Sn]=I,V[Yr]=S,V[on]=2==t.type?e[on]:V,V}function rs(e,t,n,r,o){let a=e.data[t];if(null===a)a=function Ql(e,t,n,r,o){const a=Zc(),u=$i(),v=e.data[t]=function Z_(e,t,n,r,o,a){let u=t?t.injectorIndex:-1,p=0;return function oi(){return null!==dt.skipHydrationRootTNode}()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?a:a&&a.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=v),null!==a&&(u?null==a.child&&null!==v.parent&&(a.child=v):null===a.next&&(a.next=v,v.prev=a)),v}(e,t,n,r,o),function Dd(){return dt.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=o;const u=function ji(){const e=dt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===u?-1:u.injectorIndex}return To(a,!0),a}function ea(e,t,n,r){if(0===n)return-1;const o=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function bh(e,t,n,r,o){const a=fh(t,ho),u=br(),p=2&r;try{if(ii(-1),p&&t.length>Xe&&gh(e,t,Xe,!1),Se(p?2:0,o),p)a.runInContext(n,r,o);else{const S=pn(null);try{n(r,o)}finally{pn(S)}}}finally{p&&null===t[ho]&&hh(t,ho),ii(u),Se(p?3:1,o)}}function Xl(e,t,n){if(ut(t)){const r=pn(null);try{const a=t.directiveEnd;for(let u=t.directiveStart;u<a;u++){const p=e.data[u];p.contentQueries&&p.contentQueries(1,n[u],u)}}finally{pn(r)}}}function eu(e,t,n){Ss()&&(function tC(e,t,n,r){const o=n.directiveStart,a=n.directiveEnd;Un(n)&&function cC(e,t,n){const r=Pt(t,e),o=Eh(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const p=pc(e,hc(e,o,null,u,r,t,null,e[Xn].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||ja(n,t),Er(r,t);const u=n.initialInputs;for(let p=o;p<a;p++){const v=e.data[p],S=Ci(t,e,p,n);Er(S,t),null!==u&&lC(0,p-o,S,v,0,u),ur(v)&&(mn(n.index,t)[Ut]=Ci(t,e,p,n))}}(e,t,n,Pt(n,t)),64==(64&n.flags)&&Ih(e,t,n))}function tu(e,t,n=Pt){const r=t.localNames;if(null!==r){let o=t.index+1;for(let a=0;a<r.length;a+=2){const u=r[a+1],p=-1===u?n(t,e):e[u];e[o++]=p}}}function Eh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function nu(e,t,n,r,o,a,u,p,v,S,I){const V=Xe+r,X=V+o,de=function U_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Et);return n}(V,X),Te="function"==typeof S?S():S;return de[je]={type:e,blueprint:de,template:n,queries:null,viewQuery:p,declTNode:t,data:de.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:X,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:v,consts:Te,incompleteFirstPass:!1,ssrId:I}}let Sh=e=>null;function wh(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const a=e[o];null===r?Th(n,t,o,a):r.hasOwnProperty(o)&&Th(n,t,r[o],a)}return n}function Th(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function eo(e,t,n,r,o,a,u,p){const v=Pt(t,n);let I,S=t.inputs;!p&&null!=S&&(I=S[r])?(au(e,n,I,r,o),Un(t)&&function J_(e,t){const n=mn(t,e);16&n[ct]||(n[ct]|=64)}(n,t.index)):3&t.type&&(r=function K_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=u?u(o,t.value||"",r):o,a.setProperty(v,r,o))}function ru(e,t,n,r){if(Ss()){const o=null===r?null:{"":-1},a=function rC(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let a=0;a<n.length;a++){const u=n[a];if(io(t,u.selectors,!1))if(r||(r=[]),ur(u))if(null!==u.findHostDirectiveDefs){const p=[];o=o||new Map,u.findHostDirectiveDefs(u,p,o),r.unshift(...p,u),ou(e,t,p.length)}else r.unshift(u),ou(e,t,0);else o=o||new Map,u.findHostDirectiveDefs?.(u,r,o),r.push(u)}return null===r?null:[r,o]}(e,n);let u,p;null===a?u=p=null:[u,p]=a,null!==u&&Mh(e,t,n,u,o,p),o&&function oC(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const a=n[t[o+1]];if(null==a)throw new Ne(-301,!1);r.push(t[o],a)}}}(n,r,o)}n.mergedAttrs=hr(n.mergedAttrs,n.attrs)}function Mh(e,t,n,r,o,a){for(let S=0;S<r.length;S++)tl(ja(n,t),e,r[S].type);!function sC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let S=0;S<r.length;S++){const I=r[S];I.providersResolver&&I.providersResolver(I)}let u=!1,p=!1,v=ea(e,t,r.length,null);for(let S=0;S<r.length;S++){const I=r[S];n.mergedAttrs=hr(n.mergedAttrs,I.hostAttrs),aC(e,n,t,v,I),iC(v,I,o),null!==I.contentQueries&&(n.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(n.flags|=64);const V=I.type.prototype;!u&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!p&&(V.ngOnChanges||V.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),v++}!function q_(e,t,n){const o=t.directiveEnd,a=e.data,u=t.attrs,p=[];let v=null,S=null;for(let I=t.directiveStart;I<o;I++){const V=a[I],X=n?n.get(V):null,Te=X?X.outputs:null;v=wh(V.inputs,I,v,X?X.inputs:null),S=wh(V.outputs,I,S,Te);const Pe=null===v||null===u||pr(t)?null:uC(v,I,u);p.push(Pe)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=v,t.outputs=S}(e,n,a)}function Ih(e,t,n){const r=n.directiveStart,o=n.directiveEnd,a=n.index,u=function Ra(){return dt.lFrame.currentDirectiveIndex}();try{ii(a);for(let p=r;p<o;p++){const v=e.data[p],S=t[p];Is(p),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&nC(v,S)}}finally{ii(-1),Is(u)}}function nC(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ou(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function iC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ur(t)&&(n[""]=e)}}function aC(e,t,n,r,o){e.data[r]=o;const a=o.factory||(o.factory=$(o.type)),u=new Ns(a,ur(o),ns);e.blueprint[r]=u,n[r]=u,function X_(e,t,n,r,o){const a=o.hostBindings;if(a){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const p=~t.index;(function eC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=p&&u.push(p),u.push(n,r,a)}}(e,t,r,ea(e,n,o.hostVars,Et),o)}function $o(e,t,n,r,o,a){const u=Pt(e,t);!function iu(e,t,n,r,o,a,u){if(null==a)e.removeAttribute(t,o,n);else{const p=null==u?ne(a):u(a,r||"",o);e.setAttribute(t,o,p,n)}}(t[st],u,a,e.value,n,r,o)}function lC(e,t,n,r,o,a){const u=a[t];if(null!==u)for(let p=0;p<u.length;)Ah(r,n,u[p++],u[p++],u[p++])}function Ah(e,t,n,r,o){const a=pn(null);try{const u=e.inputTransforms;null!==u&&u.hasOwnProperty(r)&&(o=u[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{pn(a)}}function uC(e,t,n){let r=null,o=0;for(;o<n.length;){const a=n[o];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const u=e[a];for(let p=0;p<u.length;p+=2)if(u[p]===t){r.push(a,u[p+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Rh(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Ph(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r+1];if(-1!==a){const u=e.data[a];Rs(n[r]),u.contentQueries(2,t[a],a)}}}function pc(e,t){return e[Bn]?e[vr][It]=t:e[Bn]=t,e[vr]=t,t}function su(e,t,n){Rs(0);const r=pn(null);try{t(e,n)}finally{pn(r)}}function xh(e){return e[Yn]||(e[Yn]=[])}function Oh(e){return e.cleanup||(e.cleanup=[])}function kh(e,t){const n=e[cr],r=n?n.get(es,null):null;r&&r.handleError(t)}function au(e,t,n,r,o){for(let a=0;a<n.length;){const u=n[a++],p=n[a++];Ah(e.data[u],t[u],r,p,o)}}function Xo(e,t,n){const r=mt(t,e);!function uf(e,t,n){e.setValue(t,n)}(e[st],r,n)}function dC(e,t){const n=mn(t,e),r=n[je];!function fC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[ye];null!==o&&null===n[Sn]&&(n[Sn]=Kf(o,n[cr])),cu(r,n,n[Ut])}function cu(e,t,n){Ps(t);try{const r=e.viewQuery;null!==r&&su(1,r,n);const o=e.template;null!==o&&bh(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ph(e,t),e.staticViewQueries&&su(2,e.viewQuery,n);const a=e.components;null!==a&&function hC(e,t){for(let n=0;n<t.length;n++)dC(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ct]&=-5,ka()}}let Fh=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const a=typeof Zone>"u"?null:Zone.current,u=new ba(n,S=>{this.all.has(S)&&this.queue.set(S,a)},o);let p;this.all.add(u),u.notify();const v=()=>{u.cleanup(),p?.(),this.all.delete(u),this.queue.delete(u)};return p=r?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>new e}),e})();function gc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,a=0;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?a=p:1==a?o=fe(o,p):2==a&&(r=fe(r,p+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function ta(e,t,n,r,o=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(it(a)),Yt(a)){for(let p=hn;p<a.length;p++){const v=a[p],S=v[je].firstChild;null!==S&&ta(v[je],v,S,r)}a[In]!==a[ye]&&r.push(a[In])}const u=n.type;if(8&u)ta(e,t,n.child,r);else if(32&u){const p=gl(n,t);let v;for(;v=p();)r.push(v)}else if(16&u){const p=Cf(t,n);if(Array.isArray(p))r.push(...p);else{const v=Bs(t[on]);ta(v[je],v,p,r,!0)}}n=o?n.projectionNext:n.next}return r}function mc(e,t,n,r=!0){const o=t[Xn].rendererFactory;o.begin&&o.begin();try{Lh(e,t,e.template,n)}catch(u){throw r&&kh(t,u),u}finally{o.end&&o.end(),t[Xn].effectManager?.flush()}}function Lh(e,t,n,r){const o=t[ct];if(256!=(256&o)){t[Xn].effectManager?.flush(),Ps(t);try{Br(t),function Ia(e){return dt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&bh(e,t,n,2,r);const u=3==(3&o);if(u){const S=e.preOrderCheckHooks;null!==S&&Ft(t,S,null)}else{const S=e.preOrderHooks;null!==S&&or(t,S,0,null),_i(t,0)}if(function vC(e){for(let t=af(e);null!==t;t=cf(t)){if(!t[Yo])continue;const n=t[qr];for(let r=0;r<n.length;r++){Gc(n[r])}}}(t),Vh(t,2),null!==e.contentQueries&&Ph(e,t),u){const S=e.contentCheckHooks;null!==S&&Ft(t,S)}else{const S=e.contentHooks;null!==S&&or(t,S,1),_i(t,1)}!function B_(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=fh(t,Tt);try{for(let o=0;o<n.length;o++){const a=n[o];if(a<0)ii(~a);else{const u=a,p=n[++o],v=n[++o];bd(p,u),r.runInContext(v,2,t[u])}}}finally{null===t[Tt]&&hh(t,Tt),ii(-1)}}(e,t);const p=e.components;null!==p&&$h(t,p,0);const v=e.viewQuery;if(null!==v&&su(2,v,r),u){const S=e.viewCheckHooks;null!==S&&Ft(t,S)}else{const S=e.viewHooks;null!==S&&or(t,S,2),_i(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[ct]&=-73,Sa(t)}finally{ka()}}}function Vh(e,t){for(let n=af(e);null!==n;n=cf(n))for(let r=hn;r<n.length;r++)jh(n[r],t)}function _C(e,t,n){jh(mn(t,e),n)}function jh(e,t){if(!function Pr(e){return 128==(128&e[ct])}(e))return;const n=e[je];if(80&e[ct]&&0===t||1024&e[ct]||2===t)Lh(n,e,n.template,e[Ut]);else if(e[Qn]>0){Vh(e,1);const o=e[je].components;null!==o&&$h(e,o,1)}}function $h(e,t,n){for(let r=0;r<t.length;r++)_C(e,t[r],n)}class na{get rootNodes(){const t=this._lView,n=t[je];return ta(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(t){this._lView[Ut]=t}get destroyed(){return 256==(256&this._lView[ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ot];if(Yt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(yl(t,r),Ba(n,r))}this._attachedToViewContainer=!1}ff(this._lView[je],this._lView)}onDestroy(t){!function Es(e,t){if(256==(256&e[ct]))throw new Ne(911,!1);null===e[er]&&(e[er]=[]),e[er].push(t)}(this._lView,t)}markForCheck(){Xs(this._cdRefInjectingView||this._lView)}detach(){this._lView[ct]&=-129}reattach(){this._lView[ct]|=128}detectChanges(){mc(this._lView[je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mv(e,t){Hs(e,t,t[st],2,null,null)}(this._lView[je],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=t}}class CC extends na{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;mc(t[je],t,t[Ut],!1)}checkNoChanges(){}get context(){return null}}class Bh extends uc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=wt(t);return new ra(n,this.ngModule)}}function Uh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class bC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=_n(r);const o=this.injector.get(t,Kl,r);return o!==Kl||n===Kl?o:this.parentInjector.get(t,n,r)}}class ra extends Xf{get inputs(){return Uh(this.componentDef.inputs)}get outputs(){return Uh(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function bn(e){return e.map(Do).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let a=(o=o||this.ngModule)instanceof Ei?o:o?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const u=a?new bC(t,a):t,p=u.get(th,null);if(null===p)throw new Ne(407,!1);const I={rendererFactory:p,sanitizer:u.get(T_,null),effectManager:u.get(Fh,null)},V=p.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",de=r?function H_(e,t,n,r){const a=r.get(ih,!1)||n===Wn.ShadowDom,u=e.selectRootElement(t,a);return function G_(e){Sh(e)}(u),u}(V,r,this.componentDef.encapsulation,u):Ja(V,X,function DC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(X)),Be=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Je=nu(0,null,null,1,0,null,null,null,null,null,null),Me=hc(null,Je,null,Be,null,null,I,V,u,null,null);let vt,xt;Ps(Me);try{const jt=this.componentDef;let wr,Bc=null;jt.findHostDirectiveDefs?(wr=[],Bc=new Map,jt.findHostDirectiveDefs(jt,wr,Bc),wr.push(jt)):wr=[jt];const wS=function SC(e,t){const n=e[je],r=Xe;return e[r]=t,rs(n,r,2,"#host",null)}(Me,de),TS=function wC(e,t,n,r,o,a,u){const p=o[je];!function TC(e,t,n,r){for(const o of e)t.mergedAttrs=hr(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(gc(t,t.mergedAttrs,!0),null!==n&&Sf(r,n,t))}(r,e,t,u);let v=null;null!==t&&(v=Kf(t,o[cr]));const S=a.rendererFactory.createRenderer(t,n);let I=16;n.signals?I=4096:n.onPush&&(I=64);const V=hc(o,Eh(n),null,I,o[e.index],e,a,S,null,null,v);return p.firstCreatePass&&ou(p,e,r.length-1),pc(o,V),o[e.index]=V}(wS,de,jt,wr,Me,I,V);xt=gn(Je,Xe),de&&function IC(e,t,n,r){if(r)fr(e,n,["ng-version",M_.full]);else{const{attrs:o,classes:a}=function so(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===o?""!==a&&t.push(a,e[++r]):8===o&&n.push(a);else{if(!fn(o))break;o=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&fr(e,n,o),a&&a.length>0&&Ef(e,n,a.join(" "))}}(V,jt,de,r),void 0!==n&&function AC(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const a=n[o];r.push(null!=a?Array.from(a):null)}}(xt,this.ngContentSelectors,n),vt=function MC(e,t,n,r,o,a){const u=Zn(),p=o[je],v=Pt(u,o);Mh(p,o,u,n,null,r);for(let I=0;I<n.length;I++)Er(Ci(o,p,u.directiveStart+I,u),o);Ih(p,o,u),v&&Er(v,o);const S=Ci(o,p,u.directiveStart+u.componentOffset,u);if(e[Ut]=o[Ut]=S,null!==a)for(const I of a)I(S,t);return Xl(p,u,e),S}(TS,jt,wr,Bc,Me,[RC]),cu(Je,Me,null)}finally{ka()}return new EC(this.componentType,vt,Xi(xt,Me),Me,xt)}}class EC extends __{constructor(t,n,r,o,a){super(),this.location=r,this._rootLView=o,this._tNode=a,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new CC(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const a=this._rootLView;au(a[je],a,o,t,n),this.previousInputValues.set(t,n),Xs(mn(this._tNode.index,a))}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function RC(){const e=Zn();Ke(Ae()[je],e)}function lu(e){let t=function Hh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(ur(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ne(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const u=e;u.inputs=yc(e.inputs),u.inputTransforms=yc(e.inputTransforms),u.declaredInputs=yc(e.declaredInputs),u.outputs=yc(e.outputs);const p=o.hostBindings;p&&NC(e,p);const v=o.viewQuery,S=o.contentQueries;if(v&&xC(e,v),S&&OC(e,S),z(e.inputs,o.inputs),z(e.declaredInputs,o.declaredInputs),z(e.outputs,o.outputs),null!==o.inputTransforms&&(null===u.inputTransforms&&(u.inputTransforms={}),z(u.inputTransforms,o.inputTransforms)),ur(o)&&o.data.animation){const I=e.data;I.animation=(I.animation||[]).concat(o.data.animation)}}const a=o.features;if(a)for(let u=0;u<a.length;u++){const p=a[u];p&&p.ngInherit&&p(e),p===lu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function PC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=hr(o.hostAttrs,n=hr(n,o.hostAttrs))}}(r)}function yc(e){return e===Fn?{}:e===Dt?[]:e}function xC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function OC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,a)=>{t(r,o,a),n(r,o,a)}:t}function NC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function Yh(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[2]&&(n[r]=o[2])}e.inputTransforms=n}function vc(e){return!!uu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function uu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Sr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function du(e,t,n,r){const o=Ae();return Sr(o,vi(),t)&&(Vt(),$o(h(),o,e,t,n,r)),du}function is(e,t,n,r){return Sr(e,vi(),n)?t+ne(n)+r:Et}function ss(e,t,n,r,o,a){const p=function Si(e,t,n,r){const o=Sr(e,t,n);return Sr(e,t+1,r)||o}(e,function yo(){return dt.lFrame.bindingIndex}(),n,o);return Lo(2),p?t+ne(n)+r+ne(o)+a:Et}function sp(e,t,n,r,o,a,u,p){const v=Ae(),S=Vt(),I=e+Xe,V=S.firstCreatePass?function iD(e,t,n,r,o,a,u,p,v){const S=t.consts,I=rs(t,e,4,u||null,rr(S,p));ru(t,n,I,rr(S,v)),Ke(t,I);const V=I.tView=nu(2,I,r,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,S,null);return null!==t.queries&&(t.queries.template(t,I),V.queries=t.queries.embeddedTView(I)),I}(I,S,v,t,n,r,o,a,u):S.data[I];To(V,!1);const X=ap(S,v,V,e);se()&&Xa(S,v,X,V),Er(X,v),pc(v,v[I]=Rh(X,v,X,V)),Zo(V)&&eu(S,v,V),null!=u&&tu(v,V,p)}let ap=function cp(e,t,n,r){return we(!0),t[st].createComment("")};function yu(e,t,n){const r=Ae();return Sr(r,vi(),t)&&eo(Vt(),h(),r,e,t,r[st],n,!1),yu}function vu(e,t,n,r,o){const u=o?"class":"style";au(e,n,t.inputs[u],u,r)}function Ec(e,t,n,r){const o=Ae(),a=Vt(),u=Xe+e,p=o[st],v=a.firstCreatePass?function uD(e,t,n,r,o,a){const u=t.consts,v=rs(t,e,2,r,rr(u,o));return ru(t,n,v,rr(u,a)),null!==v.attrs&&gc(v,v.attrs,!1),null!==v.mergedAttrs&&gc(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(u,a,o,t,n,r):a.data[u],S=lp(a,o,v,p,t,e);o[u]=S;const I=Zo(v);return To(v,!0),Sf(p,S,v),32!=(32&v.flags)&&se()&&Xa(a,o,S,v),0===function xr(){return dt.lFrame.elementDepthCount}()&&Er(S,o),function Wc(){dt.lFrame.elementDepthCount++}(),I&&(eu(a,o,v),Xl(a,v,o)),null!==r&&tu(o,v),Ec}function Sc(){let e=Zn();$i()?function Bi(){dt.lFrame.isParent=!1}():(e=e.parent,To(e,!1));const t=e;(function Ta(e){return dt.skipHydrationRootTNode===e})(t)&&function ws(){dt.skipHydrationRootTNode=null}(),function Vi(){dt.lFrame.elementDepthCount--}();const n=Vt();return n.firstCreatePass&&(Ke(n,e),ut(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function yy(e){return 0!=(8&e.flags)}(t)&&vu(n,t,Ae(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vy(e){return 0!=(16&e.flags)}(t)&&vu(n,t,Ae(),t.stylesWithoutHost,!1),Sc}function _u(e,t,n,r){return Ec(e,t,n,r),Sc(),_u}let lp=(e,t,n,r,o,a)=>(we(!0),Ja(r,o,function x(){return dt.lFrame.currentNamespace}()));function fp(){return Ae()}function bu(e){return!!e&&"function"==typeof e.then}function hp(e){return!!e&&"function"==typeof e.subscribe}function Eu(e,t,n,r){const o=Ae(),a=Vt(),u=Zn();return function gp(e,t,n,r,o,a,u){const p=Zo(r),S=e.firstCreatePass&&Oh(e),I=t[Ut],V=xh(t);let X=!0;if(3&r.type||u){const Pe=Pt(r,t),Be=u?u(Pe):Pe,Je=V.length,Me=u?xt=>u(it(xt[r.index])):r.index;let vt=null;if(!u&&p&&(vt=function mD(e,t,n,r){const o=e.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const u=o[a];if(u===n&&o[a+1]===r){const p=t[Yn],v=o[a+2];return p.length>v?p[v]:null}"string"==typeof u&&(a+=2)}return null}(e,t,o,r.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=a,vt.__ngLastListenerFn__=a,X=!1;else{a=yp(r,t,I,a,!1);const xt=n.listen(Be,o,a);V.push(a,xt),S&&S.push(o,Me,Je,Je+1)}}else a=yp(r,t,I,a,!1);const de=r.outputs;let Te;if(X&&null!==de&&(Te=de[o])){const Pe=Te.length;if(Pe)for(let Be=0;Be<Pe;Be+=2){const jt=t[Te[Be]][Te[Be+1]].subscribe(a),wr=V.length;V.push(a,jt),S&&S.push(o,r.index,wr,-(wr+1))}}}(a,o,o[st],u,e,t,r),Eu}function mp(e,t,n,r){try{return Se(6,t,n),!1!==n(r)}catch(o){return kh(e,o),!1}finally{Se(7,t,n)}}function yp(e,t,n,r,o){return function a(u){if(u===Function)return r;Xs(e.componentOffset>-1?mn(e.index,t):t);let v=mp(t,n,r,u),S=a.__ngNextListenerFn__;for(;S;)v=mp(t,n,S,u)&&v,S=S.__ngNextListenerFn__;return o&&!1===v&&u.preventDefault(),v}}function vp(e=1){return function Ed(e){return(dt.lFrame.contextLView=function Sd(e,t){for(;e>0;)t=t[_r],e--;return t}(e,dt.lFrame.contextLView))[Ut]}(e)}function wc(e,t,n,r,o){const a=Ae(),u=is(a,t,n,r);return u!==Et&&eo(Vt(),h(),a,e,u,a[st],o,!1),wc}function Tc(e,t){return e<<17|t<<2}function ui(e){return e>>17&32767}function Su(e){return 2|e}function wi(e){return(131068&e)>>2}function wu(e,t){return-131069&e|t<<2}function Tu(e){return 1|e}function Ip(e,t,n,r,o){const a=e[n+1],u=null===t;let p=r?ui(a):wi(a),v=!1;for(;0!==p&&(!1===v||u);){const I=e[p+1];wD(e[p],t)&&(v=!0,e[p+1]=r?Tu(I):Su(I)),p=r?ui(I):wi(I)}v&&(e[n+1]=r?Su(a):Tu(a))}function wD(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Yi(e,t)>=0}function Mu(e,t){return function Io(e,t,n,r){const o=Ae(),a=Vt(),u=Lo(2);a.firstUpdatePass&&function Lp(e,t,n,r){const o=e.data;if(null===o[n+1]){const a=o[br()],u=function Fp(e,t){return t>=e.expandoStartIndex}(e,n);(function Bp(e,t){return 0!=(e.flags&(t?8:16))})(a,r)&&null===t&&!u&&(t=!1),t=function ND(e,t,n,r){const o=function As(e){const t=dt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=ca(n=Iu(null,e,t,n,r),t.attrs,r),a=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==o)if(n=Iu(o,e,t,n,r),null===a){let v=function kD(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==wi(r))return e[ui(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Iu(null,e,t,v[1],r),v=ca(v,t.attrs,r),function FD(e,t,n,r){e[ui(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else a=function LD(e,t,n){let r;const o=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<o;a++)r=ca(r,e[a].hostAttrs,n);return ca(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(o,a,t,r),function ED(e,t,n,r,o,a){let u=a?t.classBindings:t.styleBindings,p=ui(u),v=wi(u);e[r]=n;let I,S=!1;if(Array.isArray(n)?(I=n[1],(null===I||Yi(n,I)>0)&&(S=!0)):I=n,o)if(0!==v){const X=ui(e[p+1]);e[r+1]=Tc(X,p),0!==X&&(e[X+1]=wu(e[X+1],r)),e[p+1]=function DD(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=Tc(p,0),0!==p&&(e[p+1]=wu(e[p+1],r)),p=r;else e[r+1]=Tc(v,0),0===p?p=r:e[v+1]=wu(e[v+1],r),v=r;S&&(e[r+1]=Su(e[r+1])),Ip(e,I,r,!0),Ip(e,I,r,!1),function SD(e,t,n,r,o){const a=o?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Yi(a,t)>=0&&(n[r+1]=Tu(n[r+1]))}(t,I,e,r,a),u=Tc(p,v),a?t.classBindings=u:t.styleBindings=u}(o,a,t,n,u,r)}}(a,e,u,r),t!==Et&&Sr(o,u,t)&&function jp(e,t,n,r,o,a,u,p){if(!(3&t.type))return;const v=e.data,S=v[p+1],I=function bD(e){return 1==(1&e)}(S)?$p(v,t,n,o,wi(S),u):void 0;Mc(I)||(Mc(a)||function CD(e){return 2==(2&e)}(S)&&(a=$p(v,null,n,o,p,u)),function Tv(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let a=-1===r.indexOf("-")?void 0:jo.DashCase;null==o?e.removeStyle(n,r,a):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),a|=jo.Important),e.setStyle(n,r,o,a))}}(r,u,mt(br(),n),o,a))}(a,a.data[br()],o,o[st],e,o[u+1]=function BD(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=j(ci(e)))),e}(t,n),r,u)}(e,t,null,!0),Mu}function Iu(e,t,n,r,o){let a=null;const u=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<u&&(a=t[p],r=ca(r,a.hostAttrs,o),a!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function ca(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let a=0;a<t.length;a++){const u=t[a];"number"==typeof u?o=u:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xr(e,u,!!n||t[++a]))}return void 0===e?null:e}function $p(e,t,n,r,o,a){const u=null===t;let p;for(;o>0;){const v=e[o],S=Array.isArray(v),I=S?v[1]:v,V=null===I;let X=n[o+1];X===Et&&(X=V?Dt:void 0);let de=V?il(X,r):I===r?X:void 0;if(S&&!Mc(de)&&(de=il(v,r)),Mc(de)&&(p=de,u))return p;const Te=e[o+1];o=u?ui(Te):wi(Te)}if(null!==t){let v=a?t.residualClasses:t.residualStyles;null!=v&&(p=il(v,r))}return p}function Mc(e){return void 0!==e}function Up(e,t=""){const n=Ae(),r=Vt(),o=e+Xe,a=r.firstCreatePass?rs(r,o,1,t,null):r.data[o],u=Hp(r,n,a,t,e);n[o]=u,se()&&Xa(r,n,u,a),To(a,!1)}let Hp=(e,t,n,r,o)=>(we(!0),function Ka(e,t){return e.createText(t)}(t[st],r));function Au(e){return Ic("",e,""),Au}function Ic(e,t,n){const r=Ae(),o=is(r,e,t,n);return o!==Et&&Xo(r,br(),o),Ic}function Ru(e,t,n,r,o){const a=Ae(),u=ss(a,e,t,n,r,o);return u!==Et&&Xo(a,br(),u),Ru}const Ti=void 0;var lb=["en",[["a","p"],["AM","PM"],Ti],[["AM","PM"],Ti,Ti],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ti,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ti,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ti,"{1} 'at' {0}",Ti],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cb(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ps={};function Pu(e){const t=function ub(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=lg(t);if(n)return n;const r=t.split("-")[0];if(n=lg(r),n)return n;if("en"===r)return lb;throw new Ne(701,!1)}function cg(e){return Pu(e)[lt.PluralCase]}function lg(e){return e in ps||(ps[e]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[e]),ps[e]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const gs="en-US";let ug=gs;function Nu(e,t,n,r,o){if(e=ce(e),Array.isArray(e))for(let a=0;a<e.length;a++)Nu(e[a],t,n,r,o);else{const a=Vt(),u=Ae();let p=bi(e)?e:ce(e.provide),v=zf(e);const S=Zn(),I=1048575&S.providerIndexes,V=S.directiveStart,X=S.providerIndexes>>20;if(bi(e)||!e.multi){const de=new Ns(v,o,ns),Te=Fu(p,t,o?I:I+X,V);-1===Te?(tl(ja(S,u),a,p),ku(a,e,t.length),t.push(p),S.directiveStart++,S.directiveEnd++,o&&(S.providerIndexes+=1048576),n.push(de),u.push(de)):(n[Te]=de,u[Te]=de)}else{const de=Fu(p,t,I+X,V),Te=Fu(p,t,I,I+X),Be=Te>=0&&n[Te];if(o&&!Be||!o&&!(de>=0&&n[de])){tl(ja(S,u),a,p);const Je=function c0(e,t,n,r,o){const a=new Ns(e,n,ns);return a.multi=[],a.index=t,a.componentProviders=0,kg(a,o,r&&!n),a}(o?a0:s0,n.length,o,r,v);!o&&Be&&(n[Te].providerFactory=Je),ku(a,e,t.length,0),t.push(p),S.directiveStart++,S.directiveEnd++,o&&(S.providerIndexes+=1048576),n.push(Je),u.push(Je)}else ku(a,e,de>-1?de:Te,kg(n[o?Te:de],v,!o&&r));!o&&r&&Be&&n[Te].componentProviders++}}}function ku(e,t,n,r){const o=bi(t),a=function n_(e){return!!e.useClass}(t);if(o||a){const v=(a?ce(t.useClass):t).prototype.ngOnDestroy;if(v){const S=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const I=S.indexOf(n);-1===I?S.push(n,[r,v]):S[I+1].push(r,v)}else S.push(n,v)}}}function kg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Fu(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function s0(e,t,n,r){return Lu(this.multi,[])}function a0(e,t,n,r){const o=this.multi;let a;if(this.providerFactory){const u=this.providerFactory.componentProviders,p=Ci(n,n[je],this.providerFactory.index,r);a=p.slice(0,u),Lu(o,a);for(let v=u;v<p.length;v++)a.push(p[v])}else a=[],Lu(o,a);return a}function Lu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Fg(e,t=[]){return n=>{n.providersResolver=(r,o)=>function o0(e,t,n){const r=Vt();if(r.firstCreatePass){const o=ur(e);Nu(n,r.data,r.blueprint,o,!0),Nu(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class ms{}class Lg{}function l0(e,t){return new Vu(e,t??null,[])}class Vu extends ms{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bh(this);const o=kt(t);this._bootstrapComponents=Qo(o.bootstrap),this._r3Injector=Ch(t,n,[{provide:ms,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...r],j(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ju extends Lg{constructor(t){super(),this.moduleType=t}create(t){return new Vu(this.moduleType,t,[])}}class Vg extends ms{constructor(t){super(),this.componentFactoryResolver=new Bh(this),this.instance=null;const n=new Fl([...t.providers,{provide:ms,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],t.parent||ic(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function jg(e,t,n=null){return new Vg({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let d0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Bf(0,n.type),o=r.length>0?jg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ot({token:e,providedIn:"environment",factory:()=>new e(at(Ei))}),e})();function $g(e){e.getStandaloneInjector=t=>t.get(d0).getOrCreateStandaloneInjector(e)}function Bu(e){return t=>{setTimeout(e,void 0,t)}}const Go=class L0 extends l.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,a=n||(()=>null),u=r;if(t&&"object"==typeof t){const v=t;o=v.next?.bind(v),a=v.error?.bind(v),u=v.complete?.bind(v)}this.__isAsync&&(a=Bu(a),o&&(o=Bu(o)),u&&(u=Bu(u)));const p=super.subscribe({next:o,error:a,complete:u});return t instanceof N.w0&&t.add(p),p}};function V0(){return this._results[Symbol.iterator]()}class Uu{get changes(){return this._changes||(this._changes=new Go)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Uu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=V0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function vo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ay(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r];if(n&&(o=n(o),a=n(a)),a!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ma=(()=>{class e{}return e.__NG_ELEMENT_ID__=B0,e})();const j0=ma,$0=class extends j0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const u=this._declarationTContainer.tView,p=hc(this._declarationLView,u,t,4096&this._declarationLView[ct]?4096:16,null,u.declTNode,null,null,null,n||null,r||null);p[fo]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[Ln];return null!==S&&(p[Ln]=S.createEmbeddedView(u)),cu(u,p,t),new na(p)}};function B0(){return Oc(Zn(),Ae())}function Oc(e,t){return 4&e.type?new $0(t,e,Xi(e,t)):null}let Nc=(()=>{class e{}return e.__NG_ELEMENT_ID__=Z0,e})();function Z0(){return rm(Zn(),Ae())}const q0=Nc,tm=class extends q0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Xi(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const t=el(this._hostTNode,this._hostLView);if(wd(t)){const n=La(t,this._hostLView),r=Fa(t);return new Ui(n[je].data[r+8],n)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=nm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(t,n,r){let o,a;"number"==typeof r?o=r:null!=r&&(o=r.index,a=r.injector);const p=t.createEmbeddedViewImpl(n||{},a,null);return this.insertImpl(p,o,false),p}createComponent(t,n,r,o,a){const u=t&&!function Fs(e){return"function"==typeof e}(t);let p;if(u)p=n;else{const Pe=n||{};p=Pe.index,r=Pe.injector,o=Pe.projectableNodes,a=Pe.environmentInjector||Pe.ngModuleRef}const v=u?t:new ra(wt(t)),S=r||this.parentInjector;if(!a&&null==v.ngModule){const Be=(u?S:this.parentInjector).get(Ei,null);Be&&(a=Be)}wt(v.componentType??{});const de=v.create(S,o,null,a);return this.insertImpl(de.hostView,p,false),de}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView,a=o[je];if(function wo(e){return Yt(e[ot])}(o)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const S=o[ot],I=new tm(S,S[ln],S[ot]);I.detach(I.indexOf(t))}}const u=this._adjustIndex(n),p=this._lContainer;if(function vv(e,t,n,r){const o=hn+r,a=n.length;r>0&&(n[o-1][It]=t),r<a-hn?(t[It]=n[o],Vd(n,hn+r,t)):(n.push(t),t[It]=null),t[ot]=n;const u=t[fo];null!==u&&n!==u&&function _v(e,t){const n=e[qr];t[on]!==t[ot][ot][on]&&(e[Yo]=!0),null===n?e[qr]=[t]:n.push(t)}(u,t);const p=t[Ln];null!==p&&p.insertView(e),t[ct]|=128}(a,o,p,u),!r){const v=Dl(u,p),S=o[st],I=Qa(S,p[In]);null!==I&&function gv(e,t,n,r,o,a){r[ye]=o,r[ln]=t,Hs(e,r,n,1,o,a)}(a,p[ln],S,o,I,v)}return t.attachToViewContainerRef(),Vd(Gu(p),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=nm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);r&&(Ba(Gu(this._lContainer),n),ff(r[je],r))}detach(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);return r&&null!=Ba(Gu(this._lContainer),n)?new na(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function nm(e){return e[8]}function Gu(e){return e[8]||(e[8]=[])}function rm(e,t){let n;const r=t[e.index];return Yt(r)?n=r:(n=Rh(r,t,null,e),t[e.index]=n,pc(t,n)),om(n,t,e,r),new tm(n,e,t)}let om=function im(e,t,n,r){if(e[In])return;let o;o=8&n.type?it(r):function K0(e,t){const n=e[st],r=n.createComment(""),o=Pt(t,e);return Di(n,Qa(n,o),r,function Ev(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[In]=o};class zu{constructor(t){this.queryList=t,this.matches=null}clone(){return new zu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let a=0;a<r;a++){const u=n.getByIndex(a);o.push(this.queries[u.indexInDeclarationView].clone())}return new Wu(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==hm(t,n).matches&&this.queries[n].setDirty()}}class sm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Yu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,o);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new Yu(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Zu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const a=r[o];this.matchTNodeWithReadOption(t,n,X0(n,a)),this.matchTNodeWithReadOption(t,n,$a(n,t,a,!1,!1))}else r===ma?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,$a(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Qs||o===Nc||o===ma&&4&n.type)this.addMatch(n.index,-2);else{const a=$a(n,t,o,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function X0(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function tE(e,t,n,r){return-1===n?function eE(e,t){return 11&e.type?Xi(e,t):4&e.type?Oc(e,t):null}(t,e):-2===n?function nE(e,t,n){return n===Qs?Xi(t,e):n===ma?Oc(t,e):n===Nc?rm(t,e):void 0}(e,t,r):Ci(e,e[je],n,t)}function am(e,t,n,r){const o=t[Ln].queries[r];if(null===o.matches){const a=e.data,u=n.matches,p=[];for(let v=0;v<u.length;v+=2){const S=u[v];p.push(S<0?null:tE(t,a[S],u[v+1],n.metadata.read))}o.matches=p}return o.matches}function qu(e,t,n,r){const o=e.queries.getByIndex(n),a=o.matches;if(null!==a){const u=am(e,t,o,n);for(let p=0;p<a.length;p+=2){const v=a[p];if(v>0)r.push(u[p/2]);else{const S=a[p+1],I=t[-v];for(let V=hn;V<I.length;V++){const X=I[V];X[fo]===X[ot]&&qu(X[je],X,S,r)}if(null!==I[qr]){const V=I[qr];for(let X=0;X<V.length;X++){const de=V[X];qu(de[je],de,S,r)}}}}}return r}function cm(e){const t=Ae(),n=Vt(),r=Pa();Rs(r+1);const o=hm(n,r);if(e.dirty&&function Fo(e){return 4==(4&e[ct])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const a=o.crossesNgTemplate?qu(n,t,r,[]):am(n,t,o,r);e.reset(a,E_),e.notifyOnChanges()}return!0}return!1}function lm(e,t,n,r){const o=Vt();if(o.firstCreatePass){const a=Zn();(function fm(e,t,n){null===e.queries&&(e.queries=new Yu),e.queries.track(new Zu(t,n))})(o,new sm(t,n,r),a.index),function iE(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}!function dm(e,t,n){const r=new Uu(4==(4&n));(function Y_(e,t,n,r){const o=xh(t);o.push(n),e.firstCreatePass&&Oh(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[Ln]&&(t[Ln]=new Wu),t[Ln].queries.push(new zu(r))}(o,Ae(),n)}function um(){return function oE(e,t){return e[Ln].queries[t].queryList}(Ae(),Pa())}function hm(e,t){return e.queries.getByIndex(t)}function Ku(e){return!!kt(e)}const Rm=new nn("Application Initializer");let td=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=pt(Rm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const a=o();if(bu(a))n.push(a);else if(hp(a)){const u=new Promise((p,v)=>{a.subscribe({complete:p,error:v})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Pm=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Fc=new nn("LocaleId",{providedIn:"root",factory:()=>pt(Fc,$e.Optional|$e.SkipSelf)||function ME(){return typeof $localize<"u"&&$localize.locale||gs}()}),IE=new nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xm=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Z.X(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class AE{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let RE=(()=>{class e{compileModuleSync(n){return new ju(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=Qo(kt(n).declarations).reduce((u,p)=>{const v=wt(p);return v&&u.push(new ra(v)),u},[]);return new AE(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const OE=(()=>Promise.resolve(0))();function nd(e){typeof Zone>"u"?OE.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function km(...e){}class Nr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Go(!1),this.onMicrotaskEmpty=new Go(!1),this.onStable=new Go(!1),this.onError=new Go(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function NE(){let e=Xt.requestAnimationFrame,t=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function LE(e){const t=()=>{!function FE(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,od(e),e.isCheckStableRunning=!0,rd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),od(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,a,u,p)=>{try{return Fm(e),n.invokeTask(o,a,u,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Lm(e)}},onInvoke:(n,r,o,a,u,p,v)=>{try{return Fm(e),n.invoke(o,a,u,p,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),Lm(e)}},onHasTask:(n,r,o,a)=>{n.hasTask(o,a),r===o&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,od(e),rd(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,o,a)=>(n.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nr.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(Nr.isInAngularZone())throw new Ne(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const a=this._inner,u=a.scheduleEventTask("NgZoneEvent: "+o,t,kE,km,km);try{return a.runTask(u,n,r)}finally{a.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const kE={};function rd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function od(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Fm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Lm(e){e._nesting--,rd(e)}class VE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Go,this.onMicrotaskEmpty=new Go,this.onStable=new Go,this.onError=new Go}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Vm=new nn("",{providedIn:"root",factory:jm});function jm(){const e=pt(Nr);let t=!0;return function K(...e){const t=(0,F.yG)(e),n=(0,F._6)(e,1/0),r=e;return r.length?1===r.length?(0,he.Xf)(r[0]):(0,q.J)(n)((0,k.D)(r,t)):be.E}(new W.y(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new W.y(o=>{let a;e.runOutsideAngular(()=>{a=e.onStable.subscribe(()=>{Nr.assertNotInAngularZone(),nd(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const u=e.onUnstable.subscribe(()=>{Nr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{a.unsubscribe(),u.unsubscribe()}}).pipe(pe()))}const $m=new nn(""),Bm=new nn("");let id,jE=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,id||(function $E(e){id=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nr.assertNotInAngularZone(),nd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(at(Nr),at(Um),at(Bm))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})(),Um=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return id?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),di=null;const Hm=new nn("AllowMultipleToken"),sd=new nn("PlatformDestroyListeners"),ad=new nn("appBootstrapListener");class HE{constructor(t,n){this.name=t,this.token=n}}function Wm(e,t,n=[]){const r=`Platform: ${t}`,o=new nn(r);return(a=[])=>{let u=cd();if(!u||u.injector.get(Hm,!1)){const p=[...n,...a,{provide:o,useValue:!0}];e?e(p):function GE(e){if(di&&!di.get(Hm,!1))throw new Ne(400,!1);(function Gm(){!function Ds(e){Ni=e}(()=>{throw new Ne(600,!1)})})(),di=e;const t=e.get(Zm);(function zm(e){e.get(Yf,null)?.forEach(n=>n())})(e)}(function Ym(e=[],t){return li.create({name:t,providers:[{provide:Nl,useValue:"platform"},{provide:sd,useValue:new Set([()=>di=null])},...e]})}(p,r))}return function WE(e){const t=cd();if(!t)throw new Ne(401,!1);return t}()}}function cd(){return di?.get(Zm)??null}let Zm=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function YE(e="zone.js",t){return"noop"===e?new VE:"zone.js"===e?new Nr(t):e}(r?.ngZone,function qm(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const a=function u0(e,t,n){return new Vu(e,t,n)}(n.moduleType,this.injector,function ey(e){return[{provide:Nr,useFactory:e},{provide:Zs,multi:!0,useFactory:()=>{const t=pt(qE,{optional:!0});return()=>t.initialize()}},{provide:Xm,useFactory:ZE},{provide:Vm,useFactory:jm}]}(()=>o)),u=a.injector.get(es,null);return o.runOutsideAngular(()=>{const p=o.onError.subscribe({next:v=>{u.handleError(v)}});a.onDestroy(()=>{Lc(this._modules,a),p.unsubscribe()})}),function Km(e,t,n){try{const r=n();return bu(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,o,()=>{const p=a.injector.get(td);return p.runInitializers(),p.donePromise.then(()=>(function dg(e){un(e,"Expected localeId to be defined"),"string"==typeof e&&(ug=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Fc,gs)||gs),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const o=Jm({},r);return function BE(e,t,n){const r=new ju(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(n){const r=n.injector.get(_s);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Ne(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(sd,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(at(li))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Jm(e,t){return Array.isArray(t)?t.reduce(Jm,e):{...e,...t}}let _s=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pt(Xm),this.zoneIsStable=pt(Vm),this.componentTypes=[],this.components=[],this.isStable=pt(xm).hasPendingTasks.pipe((0,Ue.w)(n=>n?(0,oe.of)(!1):this.zoneIsStable),function J(e,t=L.y){return e=e??ge,(0,xe.e)((n,r)=>{let o,a=!0;n.subscribe((0,G.x)(r,u=>{const p=t(u);(a||!e(o,p))&&(a=!1,o=p,r.next(u))}))})}(),pe()),this._injector=pt(Ei)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Xf;if(!this._injector.get(td).done)throw!o&&gr(n),new Ne(405,!1);let u;u=o?n:this._injector.get(uc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const p=function UE(e){return e.isBoundToModule}(u)?void 0:this._injector.get(ms),S=u.create(li.NULL,[],r||u.selector,p),I=S.location.nativeElement,V=S.injector.get($m,null);return V?.registerApplication(I),S.onDestroy(()=>{this.detachView(S.hostView),Lc(this.components,S),V?.unregisterApplication(I)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Lc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ad,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ne(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xm=new nn("",{providedIn:"root",factory:()=>pt(es).handleError.bind(void 0)});function ZE(){const e=pt(Nr),t=pt(es);return n=>e.runOutsideAngular(()=>t.handleError(n))}let qE=(()=>{class e{constructor(){this.zone=pt(Nr),this.applicationRef=pt(_s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let JE=(()=>{class e{}return e.__NG_ELEMENT_ID__=QE,e})();function QE(e){return function XE(e,t,n){if(Un(e)&&!n){const r=mn(e.index,t);return new na(r,r)}return 47&e.type?new na(t[on],t):null}(Zn(),Ae(),16==(16&e))}class oy{constructor(){}supports(t){return vc(t)}create(t){return new iS(t)}}const oS=(e,t)=>t;class iS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||oS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,a=null;for(;n||r;){const u=!r||n&&n.currentIndex<sy(r,o,a)?n:r,p=sy(u,o,a),v=u.currentIndex;if(u===r)o--,r=r._nextRemoved;else if(n=n._next,null==u.previousIndex)o++;else{a||(a=[]);const S=p-o,I=v-o;if(S!=I){for(let X=0;X<S;X++){const de=X<a.length?a[X]:a[X]=0,Te=de+X;I<=Te&&Te<S&&(a[X]=de+1)}a[u.previousIndex]=I-S}}p!==v&&t(u,p,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!vc(t))throw new Ne(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,a,u,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)a=t[p],u=this._trackByFn(p,a),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,a,u,p)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,u,p),r=!0),n=n._next}else o=0,function BC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,p=>{u=this._trackByFn(o,p),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,p,u,o)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,u,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,o)):t=this._addAfter(new sS(n,r),a,o),t}_verifyReinsertion(t,n,r,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,a=t._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new iy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class iy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new aS,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sy(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class ay{constructor(){}supports(t){return t instanceof Map||uu(t)}create(){return new cS}}class cS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||uu(t)))throw new Ne(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const a=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const a=o._prev,u=o._next;return a&&(a._next=u),u&&(u._prev=a),o._next=null,o._prev=null,o}const r=new lS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class lS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cy(){return new hd([new oy])}let hd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||cy()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Ne(901,!1)}}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:cy}),e})();function ly(){return new pd([new ay])}let pd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ly()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Ne(901,!1)}}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:ly}),e})();const fS=Wm(null,"core",[]);let hS=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(at(_s))},e.\u0275mod=co({type:e}),e.\u0275inj=We({}),e})();function bS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function SS(e){const t=wt(e);if(!t)return null;const n=new ra(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},95:(Qe,Y,T)=>{"use strict";T.d(Y,{Wl:()=>L,Fj:()=>te,NI:()=>Pn,u:()=>Ut,cw:()=>at,sg:()=>je,u5:()=>Zt,JJ:()=>We,JL:()=>tt,YN:()=>vr,eT:()=>$r,UX:()=>ni,Q7:()=>In,EJ:()=>Bn,_Y:()=>lo,Kr:()=>Rr});var l=T(4946),N=T(6814),Z=T(7715),W=T(5592),q=T(7453),he=T(4829),be=T(4564),F=T(8251),k=T(7400),K=T(2714),ve=T(7398);let xe=(()=>{class E{constructor(s,i){this._renderer=s,this._elementRef=i,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(s,i){this._renderer.setProperty(this._elementRef.nativeElement,s,i)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}}return E.\u0275fac=function(s){return new(s||E)(l.Y36(l.Qsj),l.Y36(l.SBq))},E.\u0275dir=l.lG2({type:E}),E})(),pe=(()=>{class E extends xe{}return E.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(E)))(i||E)}}(),E.\u0275dir=l.lG2({type:E,features:[l.qOj]}),E})();const Oe=new l.OlP("NgValueAccessor"),Ue={provide:Oe,useExisting:(0,l.Gpc)(()=>L),multi:!0};let L=(()=>{class E extends pe{writeValue(s){this.setProperty("checked",s)}}return E.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(E)))(i||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.checked)})("blur",function(){return i.onTouched()})},features:[l._Bn([Ue]),l.qOj]}),E})();const G={provide:Oe,useExisting:(0,l.Gpc)(()=>te),multi:!0},ge=new l.OlP("CompositionEventMode");let te=(()=>{class E extends xe{constructor(s,i,c){super(s,i),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function J(){const E=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(E.toLowerCase())}())}writeValue(s){this.setProperty("value",s??"")}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}}return E.\u0275fac=function(s){return new(s||E)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ge,8))},E.\u0275dir=l.lG2({type:E,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,i){1&s&&l.NdJ("input",function(f){return i._handleInput(f.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(f){return i._compositionEnd(f.target.value)})},features:[l._Bn([G]),l.qOj]}),E})();const fe=new l.OlP("NgValidators"),le=new l.OlP("NgAsyncValidators");function rt(E){return function z(E){return null==E||("string"==typeof E||Array.isArray(E))&&0===E.length}(E.value)?{required:!0}:null}function Ie(E){return null}function Fe(E){return null!=E}function Re(E){return(0,l.QGY)(E)?(0,Z.D)(E):E}function Le(E){let D={};return E.forEach(s=>{D=null!=s?{...D,...s}:D}),0===Object.keys(D).length?null:D}function Ye(E,D){return D.map(s=>s(E))}function et(E){return E.map(D=>function Kt(E){return!E.validate}(D)?D:s=>D.validate(s))}function Ct(E){return null!=E?function ft(E){if(!E)return null;const D=E.filter(Fe);return 0==D.length?null:function(s){return Le(Ye(s,D))}}(et(E)):null}function Lt(E){return null!=E?function ht(E){if(!E)return null;const D=E.filter(Fe);return 0==D.length?null:function(s){return function oe(...E){const D=(0,be.jO)(E),{args:s,keys:i}=(0,q.D)(E),c=new W.y(f=>{const{length:m}=s;if(!m)return void f.complete();const b=new Array(m);let P=m,A=m;for(let B=0;B<m;B++){let $=!1;(0,he.Xf)(s[B]).subscribe((0,F.x)(f,ee=>{$||($=!0,A--),b[B]=ee},()=>P--,void 0,()=>{(!P||!$)&&(A||f.next(i?(0,K.n)(i,b):b),f.complete())}))}});return D?c.pipe((0,k.Z)(D)):c}(Ye(s,D).map(Re)).pipe((0,ve.U)(Le))}}(et(E)):null}function yn(E,D){return null===E?[D]:Array.isArray(E)?[...E,D]:[E,D]}function vn(E){return E._rawValidators}function en(E){return E._rawAsyncValidators}function wn(E){return E?Array.isArray(E)?E:[E]:[]}function Wt(E,D){return Array.isArray(E)?E.includes(D):E===D}function ir(E,D){const s=wn(D);return wn(E).forEach(c=>{Wt(s,c)||s.push(c)}),s}function un(E,D){return wn(D).filter(s=>!Wt(E,s))}class ke{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(D){this._rawValidators=D||[],this._composedValidatorFn=Ct(this._rawValidators)}_setAsyncValidators(D){this._rawAsyncValidators=D||[],this._composedAsyncValidatorFn=Lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(D){this._onDestroyCallbacks.push(D)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(D=>D()),this._onDestroyCallbacks=[]}reset(D=void 0){this.control&&this.control.reset(D)}hasError(D,s){return!!this.control&&this.control.hasError(D,s)}getError(D,s){return this.control?this.control.getError(D,s):null}}class Jt extends ke{get formDirective(){return null}get path(){return null}}class On extends ke{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class An{constructor(D){this._cd=D}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let We=(()=>{class E extends An{constructor(s){super(s)}}return E.\u0275fac=function(s){return new(s||E)(l.Y36(On,2))},E.\u0275dir=l.lG2({type:E,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,i){2&s&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),E})(),tt=(()=>{class E extends An{constructor(s){super(s)}}return E.\u0275fac=function(s){return new(s||E)(l.Y36(Jt,10))},E.\u0275dir=l.lG2({type:E,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,i){2&s&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),E})();const Vn="VALID",Tn="INVALID",Jn="PENDING",$t="DISABLED";function jn(E){return(ie(E)?E.validators:E)||null}function re(E,D){return(ie(D)?D.asyncValidators:E)||null}function ie(E){return null!=E&&!Array.isArray(E)&&"object"==typeof E}class Ze{constructor(D,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(D),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(D){this._rawValidators=this._composedValidatorFn=D}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(D){this._rawAsyncValidators=this._composedAsyncValidatorFn=D}get parent(){return this._parent}get valid(){return this.status===Vn}get invalid(){return this.status===Tn}get pending(){return this.status==Jn}get disabled(){return this.status===$t}get enabled(){return this.status!==$t}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(D){this._assignValidators(D)}setAsyncValidators(D){this._assignAsyncValidators(D)}addValidators(D){this.setValidators(ir(D,this._rawValidators))}addAsyncValidators(D){this.setAsyncValidators(ir(D,this._rawAsyncValidators))}removeValidators(D){this.setValidators(un(D,this._rawValidators))}removeAsyncValidators(D){this.setAsyncValidators(un(D,this._rawAsyncValidators))}hasValidator(D){return Wt(this._rawValidators,D)}hasAsyncValidator(D){return Wt(this._rawAsyncValidators,D)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(D={}){this.touched=!0,this._parent&&!D.onlySelf&&this._parent.markAsTouched(D)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(D=>D.markAllAsTouched())}markAsUntouched(D={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}markAsDirty(D={}){this.pristine=!1,this._parent&&!D.onlySelf&&this._parent.markAsDirty(D)}markAsPristine(D={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}markAsPending(D={}){this.status=Jn,!1!==D.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!D.onlySelf&&this._parent.markAsPending(D)}disable(D={}){const s=this._parentMarkedDirty(D.onlySelf);this.status=$t,this.errors=null,this._forEachChild(i=>{i.disable({...D,onlySelf:!0})}),this._updateValue(),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...D,skipPristineCheck:s}),this._onDisabledChange.forEach(i=>i(!0))}enable(D={}){const s=this._parentMarkedDirty(D.onlySelf);this.status=Vn,this._forEachChild(i=>{i.enable({...D,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent}),this._updateAncestors({...D,skipPristineCheck:s}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(D){this._parent&&!D.onlySelf&&(this._parent.updateValueAndValidity(D),D.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(D){this._parent=D}getRawValue(){return this.value}updateValueAndValidity(D={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vn||this.status===Jn)&&this._runAsyncValidator(D.emitEvent)),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!D.onlySelf&&this._parent.updateValueAndValidity(D)}_updateTreeValidity(D={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(D)),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$t:Vn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(D){if(this.asyncValidator){this.status=Jn,this._hasOwnPendingAsyncValidator=!0;const s=Re(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:D})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(D,s={}){this.errors=D,this._updateControlsErrors(!1!==s.emitEvent)}get(D){let s=D;return null==s||(Array.isArray(s)||(s=s.split(".")),0===s.length)?null:s.reduce((i,c)=>i&&i._find(c),this)}getError(D,s){const i=s?this.get(s):this;return i&&i.errors?i.errors[D]:null}hasError(D,s){return!!this.getError(D,s)}get root(){let D=this;for(;D._parent;)D=D._parent;return D}_updateControlsErrors(D){this.status=this._calculateStatus(),D&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(D)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?$t:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jn)?Jn:this._anyControlsHaveStatus(Tn)?Tn:Vn}_anyControlsHaveStatus(D){return this._anyControls(s=>s.status===D)}_anyControlsDirty(){return this._anyControls(D=>D.dirty)}_anyControlsTouched(){return this._anyControls(D=>D.touched)}_updatePristine(D={}){this.pristine=!this._anyControlsDirty(),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}_updateTouched(D={}){this.touched=this._anyControlsTouched(),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}_registerOnCollectionChange(D){this._onCollectionChange=D}_setUpdateStrategy(D){ie(D)&&null!=D.updateOn&&(this._updateOn=D.updateOn)}_parentMarkedDirty(D){return!D&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(D){return null}_assignValidators(D){this._rawValidators=Array.isArray(D)?D.slice():D,this._composedValidatorFn=function De(E){return Array.isArray(E)?Ct(E):E||null}(this._rawValidators)}_assignAsyncValidators(D){this._rawAsyncValidators=Array.isArray(D)?D.slice():D,this._composedAsyncValidatorFn=function U(E){return Array.isArray(E)?Lt(E):E||null}(this._rawAsyncValidators)}}class at extends Ze{constructor(D,s,i){super(jn(s),re(i,s)),this.controls=D,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(D,s){return this.controls[D]?this.controls[D]:(this.controls[D]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(D,s,i={}){this.registerControl(D,s),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(D,s={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(D,s,i={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],s&&this.registerControl(D,s),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(D){return this.controls.hasOwnProperty(D)&&this.controls[D].enabled}setValue(D,s={}){(function Ve(E,D,s){E._forEachChild((i,c)=>{if(void 0===s[c])throw new l.vHH(1002,"")})})(this,0,D),Object.keys(D).forEach(i=>{(function ue(E,D,s){const i=E.controls;if(!(D?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[s])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(D[i],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(D,s={}){null!=D&&(Object.keys(D).forEach(i=>{const c=this.controls[i];c&&c.patchValue(D[i],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(D={},s={}){this._forEachChild((i,c)=>{i.reset(D[c],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(D,s,i)=>(D[i]=s.getRawValue(),D))}_syncPendingControls(){let D=this._reduceChildren(!1,(s,i)=>!!i._syncPendingControls()||s);return D&&this.updateValueAndValidity({onlySelf:!0}),D}_forEachChild(D){Object.keys(this.controls).forEach(s=>{const i=this.controls[s];i&&D(i,s)})}_setUpControls(){this._forEachChild(D=>{D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(D){for(const[s,i]of Object.entries(this.controls))if(this.contains(s)&&D(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(s,i,c)=>((i.enabled||this.disabled)&&(s[c]=i.value),s))}_reduceChildren(D,s){let i=D;return this._forEachChild((c,f)=>{i=s(i,c,f)}),i}_allControlsDisabled(){for(const D of Object.keys(this.controls))if(this.controls[D].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(D){return this.controls.hasOwnProperty(D)?this.controls[D]:null}}const Bt=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yt}),yt="always";function dn(E,D,s=yt){Fn(E,D),D.valueAccessor.writeValue(E.value),(E.disabled||"always"===s)&&D.valueAccessor.setDisabledState?.(E.disabled),function $n(E,D){D.valueAccessor.registerOnChange(s=>{E._pendingValue=s,E._pendingChange=!0,E._pendingDirty=!0,"change"===E.updateOn&&Mr(E,D)})}(E,D),function no(E,D){const s=(i,c)=>{D.valueAccessor.writeValue(i),c&&D.viewToModelUpdate(i)};E.registerOnChange(s),D._registerOnDestroy(()=>{E._unregisterOnChange(s)})}(E,D),function Gr(E,D){D.valueAccessor.registerOnTouched(()=>{E._pendingTouched=!0,"blur"===E.updateOn&&E._pendingChange&&Mr(E,D),"submit"!==E.updateOn&&E.markAsTouched()})}(E,D),function Wn(E,D){if(D.valueAccessor.setDisabledState){const s=i=>{D.valueAccessor.setDisabledState(i)};E.registerOnDisabledChange(s),D._registerOnDestroy(()=>{E._unregisterOnDisabledChange(s)})}}(E,D)}function gt(E,D,s=!0){const i=()=>{};D.valueAccessor&&(D.valueAccessor.registerOnChange(i),D.valueAccessor.registerOnTouched(i)),Dt(E,D),E&&(D._invokeOnDestroyCallbacks(),E._registerOnCollectionChange(()=>{}))}function Mn(E,D){E.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(D)})}function Fn(E,D){const s=vn(E);null!==D.validator?E.setValidators(yn(s,D.validator)):"function"==typeof s&&E.setValidators([s]);const i=en(E);null!==D.asyncValidator?E.setAsyncValidators(yn(i,D.asyncValidator)):"function"==typeof i&&E.setAsyncValidators([i]);const c=()=>E.updateValueAndValidity();Mn(D._rawValidators,c),Mn(D._rawAsyncValidators,c)}function Dt(E,D){let s=!1;if(null!==E){if(null!==D.validator){const c=vn(E);if(Array.isArray(c)&&c.length>0){const f=c.filter(m=>m!==D.validator);f.length!==c.length&&(s=!0,E.setValidators(f))}}if(null!==D.asyncValidator){const c=en(E);if(Array.isArray(c)&&c.length>0){const f=c.filter(m=>m!==D.asyncValidator);f.length!==c.length&&(s=!0,E.setAsyncValidators(f))}}}const i=()=>{};return Mn(D._rawValidators,i),Mn(D._rawAsyncValidators,i),s}function Mr(E,D){E._pendingDirty&&E.markAsDirty(),E.setValue(E._pendingValue,{emitModelToViewChange:!1}),D.viewToModelUpdate(E._pendingValue),E._pendingChange=!1}function io(E,D){const s=E.indexOf(D);s>-1&&E.splice(s,1)}function Lr(E){return"object"==typeof E&&null!==E&&2===Object.keys(E).length&&"value"in E&&"disabled"in E}const Pn=class extends Ze{constructor(D=null,s,i){super(jn(s),re(i,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(D),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ie(s)&&(s.nonNullable||s.initialValueIsDefault)&&(this.defaultValue=Lr(D)?D.value:D)}setValue(D,s={}){this.value=this._pendingValue=D,this._onChange.length&&!1!==s.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==s.emitViewToModelChange)),this.updateValueAndValidity(s)}patchValue(D,s={}){this.setValue(D,s)}reset(D=this.defaultValue,s={}){this._applyFormState(D),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(D){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(D){this._onChange.push(D)}_unregisterOnChange(D){io(this._onChange,D)}registerOnDisabledChange(D){this._onDisabledChange.push(D)}_unregisterOnDisabledChange(D){io(this._onDisabledChange,D)}_forEachChild(D){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(D){Lr(D)?(this.value=this._pendingValue=D.value,D.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=D}};let lo=(()=>{class E{}return E.\u0275fac=function(s){return new(s||E)},E.\u0275dir=l.lG2({type:E,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),E})(),cn=(()=>{class E{}return E.\u0275fac=function(s){return new(s||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({}),E})();const bo={provide:Oe,useExisting:(0,l.Gpc)(()=>$r),multi:!0};let $r=(()=>{class E extends pe{writeValue(s){this.setProperty("value",parseFloat(s))}registerOnChange(s){this.onChange=i=>{s(""==i?null:parseFloat(i))}}}return E.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(E)))(i||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.value)})("input",function(f){return i.onChange(f.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([bo]),l.qOj]}),E})();const mr=new l.OlP("NgModelWithFormControlWarning"),ye={provide:Jt,useExisting:(0,l.Gpc)(()=>je)};let je=(()=>{class E extends Jt{constructor(s,i,c){super(),this.callSetDisabledState=c,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(s),this._setAsyncValidators(i)}ngOnChanges(s){this._checkFormPresent(),s.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(s){const i=this.form.get(s.path);return dn(i,s,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(s),i}getControl(s){return this.form.get(s.path)}removeControl(s){gt(s.control||null,s,!1),function pr(E,D){const s=E.indexOf(D);s>-1&&E.splice(s,1)}(this.directives,s)}addFormGroup(s){this._setUpFormContainer(s)}removeFormGroup(s){this._cleanUpFormContainer(s)}getFormGroup(s){return this.form.get(s.path)}addFormArray(s){this._setUpFormContainer(s)}removeFormArray(s){this._cleanUpFormContainer(s)}getFormArray(s){return this.form.get(s.path)}updateModel(s,i){this.form.get(s.path).setValue(i)}onSubmit(s){return this.submitted=!0,function xo(E,D){E._syncPendingControls(),D.forEach(s=>{const i=s.control;"submit"===i.updateOn&&i._pendingChange&&(s.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(s),"dialog"===s?.target?.method}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_updateDomValue(){this.directives.forEach(s=>{const i=s.control,c=this.form.get(s.path);i!==c&&(gt(i||null,s),(E=>E instanceof Pn)(c)&&(dn(c,s,this.callSetDisabledState),s.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(s){const i=this.form.get(s.path);(function Dn(E,D){Fn(E,D)})(i,s),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(s){if(this.form){const i=this.form.get(s.path);i&&function Rn(E,D){return Dt(E,D)}(i,s)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fn(this.form,this),this._oldForm&&Dt(this._oldForm,this)}_checkFormPresent(){}}return E.\u0275fac=function(s){return new(s||E)(l.Y36(fe,10),l.Y36(le,10),l.Y36(Bt,8))},E.\u0275dir=l.lG2({type:E,selectors:[["","formGroup",""]],hostBindings:function(s,i){1&s&&l.NdJ("submit",function(f){return i.onSubmit(f)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([ye]),l.qOj,l.TTD]}),E})();const Yn={provide:On,useExisting:(0,l.Gpc)(()=>Ut)};let Ut=(()=>{class E extends On{set isDisabled(s){}constructor(s,i,c,f,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=s,this._setValidators(i),this._setAsyncValidators(c),this.valueAccessor=function Fr(E,D){if(!D)return null;let s,i,c;return Array.isArray(D),D.forEach(f=>{f.constructor===te?s=f:function kr(E){return Object.getPrototypeOf(E.constructor)===pe}(f)?i=f:c=f}),c||i||s||null}(0,f)}ngOnChanges(s){this._added||this._setUpControl(),function hr(E,D){if(!E.hasOwnProperty("model"))return!1;const s=E.model;return!!s.isFirstChange()||!Object.is(D,s.currentValue)}(s,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}get path(){return function Cn(E,D){return[...D.path,E]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return E._ngModelWarningSentOnce=!1,E.\u0275fac=function(s){return new(s||E)(l.Y36(Jt,13),l.Y36(fe,10),l.Y36(le,10),l.Y36(Oe,10),l.Y36(mr,8))},E.\u0275dir=l.lG2({type:E,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Yn]),l.qOj,l.TTD]}),E})();const cr={provide:Oe,useExisting:(0,l.Gpc)(()=>Bn),multi:!0};function Xn(E,D){return null==E?`${D}`:(D&&"object"==typeof D&&(D="Object"),`${E}: ${D}`.slice(0,50))}let Bn=(()=>{class E extends pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){this.value=s;const c=Xn(this._getOptionId(s),s);this.setProperty("value",c)}registerOnChange(s){this.onChange=i=>{this.value=this._getOptionValue(i),s(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(s){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),s))return i;return null}_getOptionValue(s){const i=function st(E){return E.split(":")[0]}(s);return this._optionMap.has(i)?this._optionMap.get(i):s}}return E.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(E)))(i||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([cr]),l.qOj]}),E})(),vr=(()=>{class E{constructor(s,i,c){this._element=s,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(s){null!=this._select&&(this._select._optionMap.set(this.id,s),this._setElementValue(Xn(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._setElementValue(s),this._select&&this._select.writeValue(this._select.value)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(s){return new(s||E)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Bn,9))},E.\u0275dir=l.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})();const _r={provide:Oe,useExisting:(0,l.Gpc)(()=>Ln),multi:!0};function on(E,D){return null==E?`${D}`:("string"==typeof D&&(D=`'${D}'`),D&&"object"==typeof D&&(D="Object"),`${E}: ${D}`.slice(0,50))}let Ln=(()=>{class E extends pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){let i;if(this.value=s,Array.isArray(s)){const c=s.map(f=>this._getOptionId(f));i=(f,m)=>{f._setSelected(c.indexOf(m.toString())>-1)}}else i=(c,f)=>{c._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(s){this.onChange=i=>{const c=[],f=i.selectedOptions;if(void 0!==f){const m=f;for(let b=0;b<m.length;b++){const A=this._getOptionValue(m[b].value);c.push(A)}}else{const m=i.options;for(let b=0;b<m.length;b++){const P=m[b];if(P.selected){const A=this._getOptionValue(P.value);c.push(A)}}}this.value=c,s(c)}}_registerOption(s){const i=(this._idCounter++).toString();return this._optionMap.set(i,s),i}_getOptionId(s){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,s))return i;return null}_getOptionValue(s){const i=function fo(E){return E.split(":")[0]}(s);return this._optionMap.has(i)?this._optionMap.get(i)._value:s}}return E.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(E)))(i||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([_r]),l.qOj]}),E})(),Rr=(()=>{class E{constructor(s,i,c){this._element=s,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(s){null!=this._select&&(this._value=s,this._setElementValue(on(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._select?(this._value=s,this._setElementValue(on(this.id,s)),this._select.writeValue(this._select.value)):this._setElementValue(s)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}_setSelected(s){this._renderer.setProperty(this._element.nativeElement,"selected",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(s){return new(s||E)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ln,9))},E.\u0275dir=l.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})(),Sn=(()=>{class E{constructor(){this._validator=Ie}ngOnChanges(s){if(this.inputName in s){const i=this.normalizeInput(s[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ie,this._onChange&&this._onChange()}}validate(s){return this._validator(s)}registerOnValidatorChange(s){this._onChange=s}enabled(s){return null!=s}}return E.\u0275fac=function(s){return new(s||E)},E.\u0275dir=l.lG2({type:E,features:[l.TTD]}),E})();const Eo={provide:fe,useExisting:(0,l.Gpc)(()=>In),multi:!0};let In=(()=>{class E extends Sn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=s=>rt}enabled(s){return s}}return E.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(E)))(i||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,i){2&s&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Eo]),l.qOj]}),E})(),Jr=(()=>{class E{}return E.\u0275fac=function(s){return new(s||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({imports:[cn]}),E})(),Zt=(()=>{class E{static withConfig(s){return{ngModule:E,providers:[{provide:Bt,useValue:s.callSetDisabledState??yt}]}}}return E.\u0275fac=function(s){return new(s||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({imports:[Jr]}),E})(),ni=(()=>{class E{static withConfig(s){return{ngModule:E,providers:[{provide:mr,useValue:s.warnOnNgModelWithFormControl??"always"},{provide:Bt,useValue:s.callSetDisabledState??yt}]}}}return E.\u0275fac=function(s){return new(s||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({imports:[Jr]}),E})()},6593:(Qe,Y,T)=>{"use strict";T.d(Y,{Dx:()=>On,b2:()=>Wt,q6:()=>yn});var l=T(4946),N=T(6814);class Z extends N.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class W extends Z{static makeCurrent(){(0,N.HT)(new W)}onAndCancel(re,U,ie){return re.addEventListener(U,ie),()=>{re.removeEventListener(U,ie)}}dispatchEvent(re,U){re.dispatchEvent(U)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,U){return(U=U||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,U){return"window"===U?window:"document"===U?re:"body"===U?re.body:null}getBaseHref(re){const U=function he(){return q=q||document.querySelector("base"),q?q.getAttribute("href"):null}();return null==U?null:function F(De){be=be||document.createElement("a"),be.setAttribute("href",De);const re=be.pathname;return"/"===re.charAt(0)?re:`/${re}`}(U)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,N.Mx)(document.cookie,re)}}let be,q=null,K=(()=>{class De{build(){return new XMLHttpRequest}}return De.\u0275fac=function(U){return new(U||De)},De.\u0275prov=l.Yz7({token:De,factory:De.\u0275fac}),De})();const oe=new l.OlP("EventManagerPlugins");let ve=(()=>{class De{constructor(U,ie){this._zone=ie,this._eventNameToPlugin=new Map,U.forEach(ue=>{ue.manager=this}),this._plugins=U.slice().reverse()}addEventListener(U,ie,ue){return this._findPluginFor(ie).addEventListener(U,ie,ue)}getZone(){return this._zone}_findPluginFor(U){let ie=this._eventNameToPlugin.get(U);if(ie)return ie;if(ie=this._plugins.find(Ve=>Ve.supports(U)),!ie)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(U,ie),ie}}return De.\u0275fac=function(U){return new(U||De)(l.LFG(oe),l.LFG(l.R0b))},De.\u0275prov=l.Yz7({token:De,factory:De.\u0275fac}),De})();class xe{constructor(re){this._doc=re}}const pe="ng-app-id";let Oe=(()=>{class De{constructor(U,ie,ue,Ve={}){this.doc=U,this.appId=ie,this.nonce=ue,this.platformId=Ve,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,N.PM)(Ve),this.resetHostNodes()}addStyles(U){for(const ie of U)1===this.changeUsageCount(ie,1)&&this.onStyleAdded(ie)}removeStyles(U){for(const ie of U)this.changeUsageCount(ie,-1)<=0&&this.onStyleRemoved(ie)}ngOnDestroy(){const U=this.styleNodesInDOM;U&&(U.forEach(ie=>ie.remove()),U.clear());for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.resetHostNodes()}addHost(U){this.hostNodes.add(U);for(const ie of this.getAllStyles())this.addStyleToHost(U,ie)}removeHost(U){this.hostNodes.delete(U)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(U){for(const ie of this.hostNodes)this.addStyleToHost(ie,U)}onStyleRemoved(U){const ie=this.styleRef;ie.get(U)?.elements?.forEach(ue=>ue.remove()),ie.delete(U)}collectServerRenderedStyles(){const U=this.doc.head?.querySelectorAll(`style[${pe}="${this.appId}"]`);if(U?.length){const ie=new Map;return U.forEach(ue=>{null!=ue.textContent&&ie.set(ue.textContent,ue)}),ie}return null}changeUsageCount(U,ie){const ue=this.styleRef;if(ue.has(U)){const Ve=ue.get(U);return Ve.usage+=ie,Ve.usage}return ue.set(U,{usage:ie,elements:[]}),ie}getStyleElement(U,ie){const ue=this.styleNodesInDOM,Ve=ue?.get(ie);if(Ve?.parentNode===U)return ue.delete(ie),Ve.removeAttribute(pe),Ve;{const Ze=this.doc.createElement("style");return this.nonce&&Ze.setAttribute("nonce",this.nonce),Ze.textContent=ie,this.platformIsServer&&Ze.setAttribute(pe,this.appId),Ze}}addStyleToHost(U,ie){const ue=this.getStyleElement(U,ie);U.appendChild(ue);const Ve=this.styleRef,Ze=Ve.get(ie)?.elements;Ze?Ze.push(ue):Ve.set(ie,{elements:[ue],usage:1})}resetHostNodes(){const U=this.hostNodes;U.clear(),U.add(this.doc.head)}}return De.\u0275fac=function(U){return new(U||De)(l.LFG(N.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},De.\u0275prov=l.Yz7({token:De,factory:De.\u0275fac}),De})();const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},L=/%COMP%/g,G="%COMP%",J=`_nghost-${G}`,ge=`_ngcontent-${G}`,z=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function le(De,re){return re.map(U=>U.replace(L,De))}let Q=(()=>{class De{constructor(U,ie,ue,Ve,Ze,at,nt,pt=null){this.eventManager=U,this.sharedStylesHost=ie,this.appId=ue,this.removeStylesOnCompDestory=Ve,this.doc=Ze,this.platformId=at,this.ngZone=nt,this.nonce=pt,this.rendererByCompId=new Map,this.platformIsServer=(0,N.PM)(at),this.defaultRenderer=new ce(U,Ze,nt,this.platformIsServer)}createRenderer(U,ie){if(!U||!ie)return this.defaultRenderer;this.platformIsServer&&ie.encapsulation===l.ifc.ShadowDom&&(ie={...ie,encapsulation:l.ifc.Emulated});const ue=this.getOrCreateRenderer(U,ie);return ue instanceof me?ue.applyToHost(U):ue instanceof Ne&&ue.applyStyles(),ue}getOrCreateRenderer(U,ie){const ue=this.rendererByCompId;let Ve=ue.get(ie.id);if(!Ve){const Ze=this.doc,at=this.ngZone,nt=this.eventManager,pt=this.sharedStylesHost,_n=this.removeStylesOnCompDestory,zn=this.platformIsServer;switch(ie.encapsulation){case l.ifc.Emulated:Ve=new me(nt,pt,ie,this.appId,_n,Ze,at,zn);break;case l.ifc.ShadowDom:return new _t(nt,pt,U,ie,Ze,at,this.nonce,zn);default:Ve=new Ne(nt,pt,ie,_n,Ze,at,zn)}Ve.onDestroy=()=>ue.delete(ie.id),ue.set(ie.id,Ve)}return Ve}ngOnDestroy(){this.rendererByCompId.clear()}}return De.\u0275fac=function(U){return new(U||De)(l.LFG(ve),l.LFG(Oe),l.LFG(l.AFp),l.LFG(z),l.LFG(N.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},De.\u0275prov=l.Yz7({token:De,factory:De.\u0275fac}),De})();class ce{constructor(re,U,ie,ue){this.eventManager=re,this.doc=U,this.ngZone=ie,this.platformIsServer=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,U){return U?this.doc.createElementNS(Ue[U]||U,re):this.doc.createElement(re)}createComment(re){return this.doc.createComment(re)}createText(re){return this.doc.createTextNode(re)}appendChild(re,U){(rt(re)?re.content:re).appendChild(U)}insertBefore(re,U,ie){re&&(rt(re)?re.content:re).insertBefore(U,ie)}removeChild(re,U){re&&re.removeChild(U)}selectRootElement(re,U){let ie="string"==typeof re?this.doc.querySelector(re):re;if(!ie)throw new l.vHH(5104,!1);return U||(ie.textContent=""),ie}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,U,ie,ue){if(ue){U=ue+":"+U;const Ve=Ue[ue];Ve?re.setAttributeNS(Ve,U,ie):re.setAttribute(U,ie)}else re.setAttribute(U,ie)}removeAttribute(re,U,ie){if(ie){const ue=Ue[ie];ue?re.removeAttributeNS(ue,U):re.removeAttribute(`${ie}:${U}`)}else re.removeAttribute(U)}addClass(re,U){re.classList.add(U)}removeClass(re,U){re.classList.remove(U)}setStyle(re,U,ie,ue){ue&(l.JOm.DashCase|l.JOm.Important)?re.style.setProperty(U,ie,ue&l.JOm.Important?"important":""):re.style[U]=ie}removeStyle(re,U,ie){ie&l.JOm.DashCase?re.style.removeProperty(U):re.style[U]=""}setProperty(re,U,ie){re[U]=ie}setValue(re,U){re.nodeValue=U}listen(re,U,ie){if("string"==typeof re&&!(re=(0,N.q)().getGlobalEventTarget(this.doc,re)))throw new Error(`Unsupported event target ${re} for event ${U}`);return this.eventManager.addEventListener(re,U,this.decoratePreventDefault(ie))}decoratePreventDefault(re){return U=>{if("__ngUnwrap__"===U)return re;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>re(U)):re(U))&&U.preventDefault()}}}function rt(De){return"TEMPLATE"===De.tagName&&void 0!==De.content}class _t extends ce{constructor(re,U,ie,ue,Ve,Ze,at,nt){super(re,Ve,Ze,nt),this.sharedStylesHost=U,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pt=le(ue.id,ue.styles);for(const _n of pt){const zn=document.createElement("style");at&&zn.setAttribute("nonce",at),zn.textContent=_n,this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}appendChild(re,U){return super.appendChild(this.nodeOrShadowRoot(re),U)}insertBefore(re,U,ie){return super.insertBefore(this.nodeOrShadowRoot(re),U,ie)}removeChild(re,U){return super.removeChild(this.nodeOrShadowRoot(re),U)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ne extends ce{constructor(re,U,ie,ue,Ve,Ze,at,nt){super(re,Ve,Ze,at),this.sharedStylesHost=U,this.removeStylesOnCompDestory=ue,this.rendererUsageCount=0,this.styles=nt?le(nt,ie.styles):ie.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class me extends Ne{constructor(re,U,ie,ue,Ve,Ze,at,nt){const pt=ue+"-"+ie.id;super(re,U,ie,Ve,Ze,at,nt,pt),this.contentAttr=function j(De){return ge.replace(L,De)}(pt),this.hostAttr=function fe(De){return J.replace(L,De)}(pt)}applyToHost(re){this.applyStyles(),this.setAttribute(re,this.hostAttr,"")}createElement(re,U){const ie=super.createElement(re,U);return super.setAttribute(ie,this.contentAttr,""),ie}}let ne=(()=>{class De extends xe{constructor(U){super(U)}supports(U){return!0}addEventListener(U,ie,ue){return U.addEventListener(ie,ue,!1),()=>this.removeEventListener(U,ie,ue)}removeEventListener(U,ie,ue){return U.removeEventListener(ie,ue)}}return De.\u0275fac=function(U){return new(U||De)(l.LFG(N.K0))},De.\u0275prov=l.Yz7({token:De,factory:De.\u0275fac}),De})();const ae=["alt","control","meta","shift"],Ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fe={alt:De=>De.altKey,control:De=>De.ctrlKey,meta:De=>De.metaKey,shift:De=>De.shiftKey};let Re=(()=>{class De extends xe{constructor(U){super(U)}supports(U){return null!=De.parseEventName(U)}addEventListener(U,ie,ue){const Ve=De.parseEventName(ie),Ze=De.eventCallback(Ve.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,N.q)().onAndCancel(U,Ve.domEventName,Ze))}static parseEventName(U){const ie=U.toLowerCase().split("."),ue=ie.shift();if(0===ie.length||"keydown"!==ue&&"keyup"!==ue)return null;const Ve=De._normalizeKey(ie.pop());let Ze="",at=ie.indexOf("code");if(at>-1&&(ie.splice(at,1),Ze="code."),ae.forEach(pt=>{const _n=ie.indexOf(pt);_n>-1&&(ie.splice(_n,1),Ze+=pt+".")}),Ze+=Ve,0!=ie.length||0===Ve.length)return null;const nt={};return nt.domEventName=ue,nt.fullKey=Ze,nt}static matchEventFullKeyCode(U,ie){let ue=Ie[U.key]||U.key,Ve="";return ie.indexOf("code.")>-1&&(ue=U.code,Ve="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),ae.forEach(Ze=>{Ze!==ue&&(0,Fe[Ze])(U)&&(Ve+=Ze+".")}),Ve+=ue,Ve===ie)}static eventCallback(U,ie,ue){return Ve=>{De.matchEventFullKeyCode(Ve,U)&&ue.runGuarded(()=>ie(Ve))}}static _normalizeKey(U){return"esc"===U?"escape":U}}return De.\u0275fac=function(U){return new(U||De)(l.LFG(N.K0))},De.\u0275prov=l.Yz7({token:De,factory:De.\u0275fac}),De})();const yn=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:N.bD},{provide:l.g9A,useValue:function ft(){W.makeCurrent()},multi:!0},{provide:N.K0,useFactory:function ht(){return(0,l.RDi)(document),document},deps:[]}]),vn=new l.OlP(""),en=[{provide:l.rWj,useClass:class k{addToWindow(re){l.dqk.getAngularTestability=(ie,ue=!0)=>{const Ve=re.findTestabilityInTree(ie,ue);if(null==Ve)throw new l.vHH(5103,!1);return Ve},l.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(ie=>{const ue=l.dqk.getAllAngularTestabilities();let Ve=ue.length,Ze=!1;const at=function(nt){Ze=Ze||nt,Ve--,0==Ve&&ie(Ze)};ue.forEach(function(nt){nt.whenStable(at)})})}findTestabilityInTree(re,U,ie){return null==U?null:re.getTestability(U)??(ie?(0,N.q)().isShadowRoot(U)?this.findTestabilityInTree(re,U.host,!0):this.findTestabilityInTree(re,U.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],wn=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ct(){return new l.qLn},deps:[]},{provide:oe,useClass:ne,multi:!0,deps:[N.K0,l.R0b,l.Lbi]},{provide:oe,useClass:Re,multi:!0,deps:[N.K0]},Q,Oe,ve,{provide:l.FYo,useExisting:Q},{provide:N.JF,useClass:K,deps:[]},[]];let Wt=(()=>{class De{constructor(U){}static withServerTransition(U){return{ngModule:De,providers:[{provide:l.AFp,useValue:U.appId}]}}}return De.\u0275fac=function(U){return new(U||De)(l.LFG(vn,12))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[...wn,...en],imports:[N.ez,l.hGG]}),De})(),On=(()=>{class De{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}}return De.\u0275fac=function(U){return new(U||De)(l.LFG(N.K0))},De.\u0275prov=l.Yz7({token:De,factory:function(U){let ie=null;return ie=U?new U:function Jt(){return new On((0,l.LFG)(N.K0))}(),ie},providedIn:"root"}),De})();typeof window<"u"&&window},6538:(Qe,Y,T)=>{"use strict";T.d(Y,{F0:()=>xr,rH:()=>Vi,Od:()=>Ss,Bz:()=>Pa,lC:()=>Bn});var l=T(4946),N=T(5592),Z=T(4674),q=T(7715),he=T(2096),be=T(5619),F=T(7453),k=T(2737),K=T(7400),oe=T(4564),ve=T(2714),xe=T(8251),pe=T(7103);function Oe(...h){const g=(0,oe.yG)(h),d=(0,oe.jO)(h),{args:y,keys:w}=(0,F.D)(h);if(0===y.length)return(0,q.D)([],g);const x=new N.y(function Ue(h,g,d=k.y){return y=>{L(g,()=>{const{length:w}=h,x=new Array(w);let O=w,se=w;for(let we=0;we<w;we++)L(g,()=>{const Ge=(0,q.D)(h[we],g);let Ke=!1;Ge.subscribe((0,xe.x)(y,Ft=>{x[we]=Ft,Ke||(Ke=!0,se--),se||y.next(d(x.slice()))},()=>{--O||y.complete()}))},y)},y)}}(y,g,w?O=>(0,ve.n)(w,O):k.y));return d?x.pipe((0,K.Z)(d)):x}function L(h,g,d){h?(0,pe.f)(d,h,g):g()}const J=(0,T(2306).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"});var ge=T(7537);function z(...h){return function te(){return(0,ge.J)(1)}()((0,q.D)(h,(0,oe.yG)(h)))}var j=T(4829);function fe(h){return new N.y(g=>{(0,j.Xf)(h()).subscribe(g)})}var le=T(8407);function Q(h,g){const d=(0,Z.m)(h)?h:()=>h,y=w=>w.error(d());return new N.y(g?w=>g.schedule(y,0,w):y)}var ce=T(6232),Ee=T(7394),ze=T(9360);function rt(){return(0,ze.e)((h,g)=>{let d=null;h._refCount++;const y=(0,xe.x)(g,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(d=null);const w=h._connection,x=d;d=null,w&&(!x||w===x)&&w.unsubscribe(),g.unsubscribe()});h.subscribe(y),y.closed||(d=h.connect())})}class _t extends N.y{constructor(g,d){super(),this.source=g,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,ze.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new Ee.w0;const d=this.getSubject();g.add(this.source.subscribe((0,xe.x)(d,void 0,()=>{this._teardown(),d.complete()},y=>{this._teardown(),d.error(y)},()=>this._teardown()))),g.closed&&(this._connection=null,g=Ee.w0.EMPTY)}return g}refCount(){return rt()(this)}}var Ne=T(8645),me=T(6814),ne=T(7398),ae=T(4664);function Ie(h){return h<=0?()=>ce.E:(0,ze.e)((g,d)=>{let y=0;g.subscribe((0,xe.x)(d,w=>{++y<=h&&(d.next(w),h<=y&&d.complete())}))})}function Re(h,g){return(0,ze.e)((d,y)=>{let w=0;d.subscribe((0,xe.x)(y,x=>h.call(g,x,w++)&&y.next(x)))})}var Le=T(1631);function Ye(h){return(0,ze.e)((g,d)=>{let y=!1;g.subscribe((0,xe.x)(d,w=>{y=!0,d.next(w)},()=>{y||d.next(h),d.complete()}))})}function Kt(h=et){return(0,ze.e)((g,d)=>{let y=!1;g.subscribe((0,xe.x)(d,w=>{y=!0,d.next(w)},()=>y?d.complete():d.error(h())))})}function et(){return new J}function ft(h,g){const d=arguments.length>=2;return y=>y.pipe(h?Re((w,x)=>h(w,x,y)):k.y,Ie(1),d?Ye(g):Kt(()=>new J))}function Ct(h,g){return(0,Z.m)(g)?(0,Le.z)(h,g,1):(0,Le.z)(h,1)}function ht(h,g,d){const y=(0,Z.m)(h)||g||d?{next:h,error:g,complete:d}:h;return y?(0,ze.e)((w,x)=>{var O;null===(O=y.subscribe)||void 0===O||O.call(y);let se=!0;w.subscribe((0,xe.x)(x,we=>{var Ge;null===(Ge=y.next)||void 0===Ge||Ge.call(y,we),x.next(we)},()=>{var we;se=!1,null===(we=y.complete)||void 0===we||we.call(y),x.complete()},we=>{var Ge;se=!1,null===(Ge=y.error)||void 0===Ge||Ge.call(y,we),x.error(we)},()=>{var we,Ge;se&&(null===(we=y.unsubscribe)||void 0===we||we.call(y)),null===(Ge=y.finalize)||void 0===Ge||Ge.call(y)}))}):k.y}function Lt(h){return(0,ze.e)((g,d)=>{let x,y=null,w=!1;y=g.subscribe((0,xe.x)(d,void 0,void 0,O=>{x=(0,j.Xf)(h(O,Lt(h)(g))),y?(y.unsubscribe(),y=null,x.subscribe(d)):w=!0})),w&&(y.unsubscribe(),y=null,x.subscribe(d))})}function en(h){return h<=0?()=>ce.E:(0,ze.e)((g,d)=>{let y=[];g.subscribe((0,xe.x)(d,w=>{y.push(w),h<y.length&&y.shift()},()=>{for(const w of y)d.next(w);d.complete()},void 0,()=>{y=null}))})}function ir(h){return(0,ze.e)((g,d)=>{try{g.subscribe(d)}finally{d.add(h)}})}var un=T(6593);const ke="primary",Jt=Symbol("RouteTitle");class On{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d[0]:d}return null}getAll(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function An(h){return new On(h)}function Ot(h,g,d){const y=d.path.split("/");if(y.length>h.length||"full"===d.pathMatch&&(g.hasChildren()||y.length<h.length))return null;const w={};for(let x=0;x<y.length;x++){const O=y[x],se=h[x];if(O.startsWith(":"))w[O.substring(1)]=se;else if(O!==se.path)return null}return{consumed:h.slice(0,y.length),posParams:w}}function We(h,g){const d=h?Object.keys(h):void 0,y=g?Object.keys(g):void 0;if(!d||!y||d.length!=y.length)return!1;let w;for(let x=0;x<d.length;x++)if(w=d[x],!tt(h[w],g[w]))return!1;return!0}function tt(h,g){if(Array.isArray(h)&&Array.isArray(g)){if(h.length!==g.length)return!1;const d=[...h].sort(),y=[...g].sort();return d.every((w,x)=>y[x]===w)}return h===g}function Tr(h){return h.length>0?h[h.length-1]:null}function an(h){return function W(h){return!!h&&(h instanceof N.y||(0,Z.m)(h.lift)&&(0,Z.m)(h.subscribe))}(h)?h:(0,l.QGY)(h)?(0,q.D)(Promise.resolve(h)):(0,he.of)(h)}const Nn={exact:function Qt(h,g,d){if(!dr(h.segments,g.segments)||!sr(h.segments,g.segments,d)||h.numberOfChildren!==g.numberOfChildren)return!1;for(const y in g.children)if(!h.children[y]||!Qt(h.children[y],g.children[y],d))return!1;return!0},subset:$e},kn={exact:function Hr(h,g){return We(h,g)},subset:function to(h,g){return Object.keys(g).length<=Object.keys(h).length&&Object.keys(g).every(d=>tt(h[d],g[d]))},ignored:()=>!0};function rn(h,g,d){return Nn[d.paths](h.root,g.root,d.matrixParams)&&kn[d.queryParams](h.queryParams,g.queryParams)&&!("exact"===d.fragment&&h.fragment!==g.fragment)}function $e(h,g,d){return Co(h,g,g.segments,d)}function Co(h,g,d,y){if(h.segments.length>d.length){const w=h.segments.slice(0,d.length);return!(!dr(w,d)||g.hasChildren()||!sr(w,d,y))}if(h.segments.length===d.length){if(!dr(h.segments,d)||!sr(h.segments,d,y))return!1;for(const w in g.children)if(!h.children[w]||!$e(h.children[w],g.children[w],y))return!1;return!0}{const w=d.slice(0,h.segments.length),x=d.slice(h.segments.length);return!!(dr(h.segments,w)&&sr(h.segments,w,y)&&h.children[ke])&&Co(h.children[ke],g,x,y)}}function sr(h,g,d){return g.every((y,w)=>kn[d](h[w].parameters,y.parameters))}class Nt{constructor(g=new bt([],{}),d={},y=null){this.root=g,this.queryParams=d,this.fragment=y}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return Jn.serialize(this)}}class bt{constructor(g,d){this.segments=g,this.children=d,this.parent=null,Object.values(d).forEach(y=>y.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class Gn{constructor(g,d){this.path=g,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=An(this.parameters)),this._parameterMap}toString(){return Ze(this)}}function dr(h,g){return h.length===g.length&&h.every((d,y)=>d.path===g[y].path)}let Vn=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return new Tn},providedIn:"root"}),h})();class Tn{parse(g){const d=new Mn(g);return new Nt(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(g){const d=`/${jn(g.root,!0)}`,y=function nt(h){const g=Object.keys(h).map(d=>{const y=h[d];return Array.isArray(y)?y.map(w=>`${re(d)}=${re(w)}`).join("&"):`${re(d)}=${re(y)}`}).filter(d=>!!d);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${d}${y}${"string"==typeof g.fragment?`#${function U(h){return encodeURI(h)}(g.fragment)}`:""}`}}const Jn=new Tn;function $t(h){return h.segments.map(g=>Ze(g)).join("/")}function jn(h,g){if(!h.hasChildren())return $t(h);if(g){const d=h.children[ke]?jn(h.children[ke],!1):"",y=[];return Object.entries(h.children).forEach(([w,x])=>{w!==ke&&y.push(`${w}:${jn(x,!1)}`)}),y.length>0?`${d}(${y.join("//")})`:d}{const d=function Mt(h,g){let d=[];return Object.entries(h.children).forEach(([y,w])=>{y===ke&&(d=d.concat(g(w,y)))}),Object.entries(h.children).forEach(([y,w])=>{y!==ke&&(d=d.concat(g(w,y)))}),d}(h,(y,w)=>w===ke?[jn(h.children[ke],!1)]:[`${w}:${jn(y,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[ke]?`${$t(h)}/${d[0]}`:`${$t(h)}/(${d.join("//")})`}}function De(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function re(h){return De(h).replace(/%3B/gi,";")}function ie(h){return De(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ue(h){return decodeURIComponent(h)}function Ve(h){return ue(h.replace(/\+/g,"%20"))}function Ze(h){return`${ie(h.path)}${function at(h){return Object.keys(h).map(g=>`;${ie(g)}=${ie(h[g])}`).join("")}(h.parameters)}`}const pt=/^[^\/()?;#]+/;function _n(h){const g=h.match(pt);return g?g[0]:""}const zn=/^[^\/()?;=#]+/,yt=/^[^=?&#]+/,dn=/^[^&#]+/;class Mn{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let y={};return this.peekStartsWith("(")&&(y=this.parseParens(!1)),(g.length>0||Object.keys(d).length>0)&&(y[ke]=new bt(g,d)),y}parseSegment(){const g=_n(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(g),new Gn(ue(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const d=function Bt(h){const g=h.match(zn);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let y="";if(this.consumeOptional("=")){const w=_n(this.remaining);w&&(y=w,this.capture(y))}g[ue(d)]=ue(y)}parseQueryParam(g){const d=function Cn(h){const g=h.match(yt);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let y="";if(this.consumeOptional("=")){const O=function gt(h){const g=h.match(dn);return g?g[0]:""}(this.remaining);O&&(y=O,this.capture(y))}const w=Ve(d),x=Ve(y);if(g.hasOwnProperty(w)){let O=g[w];Array.isArray(O)||(O=[O],g[w]=O),O.push(x)}else g[w]=x}parseParens(g){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const y=_n(this.remaining),w=this.remaining[y.length];if("/"!==w&&")"!==w&&";"!==w)throw new l.vHH(4010,!1);let x;y.indexOf(":")>-1?(x=y.slice(0,y.indexOf(":")),this.capture(x),this.capture(":")):g&&(x=ke);const O=this.parseChildren();d[x]=1===Object.keys(O).length?O[ke]:new bt([],O),this.consumeOptional("//")}return d}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new l.vHH(4011,!1)}}function Wn(h){return h.segments.length>0?new bt([],{[ke]:h}):h}function Fn(h){const g={};for(const y of Object.keys(h.children)){const x=Fn(h.children[y]);if(y===ke&&0===x.segments.length&&x.hasChildren())for(const[O,se]of Object.entries(x.children))g[O]=se;else(x.segments.length>0||x.hasChildren())&&(g[y]=x)}return function Dt(h){if(1===h.numberOfChildren&&h.children[ke]){const g=h.children[ke];return new bt(h.segments.concat(g.segments),g.children)}return h}(new bt(h.segments,g))}function $n(h){return h instanceof Nt}function Mr(h){let g;const w=Wn(function d(x){const O={};for(const we of x.children){const Ge=d(we);O[we.outlet]=Ge}const se=new bt(x.url,O);return x===h&&(g=se),se}(h.root));return g??w}function no(h,g,d,y){let w=h;for(;w.parent;)w=w.parent;if(0===g.length)return Ir(w,w,w,d,y);const x=function Po(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new fr(!0,0,h);let g=0,d=!1;const y=h.reduce((w,x,O)=>{if("object"==typeof x&&null!=x){if(x.outlets){const se={};return Object.entries(x.outlets).forEach(([we,Ge])=>{se[we]="string"==typeof Ge?Ge.split("/"):Ge}),[...w,{outlets:se}]}if(x.segmentPath)return[...w,x.segmentPath]}return"string"!=typeof x?[...w,x]:0===O?(x.split("/").forEach((se,we)=>{0==we&&"."===se||(0==we&&""===se?d=!0:".."===se?g++:""!=se&&w.push(se))}),w):[...w,x]},[]);return new fr(d,g,y)}(g);if(x.toRoot())return Ir(w,w,new bt([],{}),d,y);const O=function hr(h,g,d){if(h.isAbsolute)return new zr(g,!0,0);if(!d)return new zr(g,!1,NaN);if(null===d.parent)return new zr(d,!0,0);const y=Dn(h.commands[0])?0:1;return function kr(h,g,d){let y=h,w=g,x=d;for(;x>w;){if(x-=w,y=y.parent,!y)throw new l.vHH(4005,!1);w=y.segments.length}return new zr(y,!1,w-x)}(d,d.segments.length-1+y,h.numberOfDoubleDots)}(x,w,h),se=O.processChildren?pr(O.segmentGroup,O.index,x.commands):Fr(O.segmentGroup,O.index,x.commands);return Ir(w,O.segmentGroup,se,d,y)}function Dn(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function Rn(h){return"object"==typeof h&&null!=h&&h.outlets}function Ir(h,g,d,y,w){let O,x={};y&&Object.entries(y).forEach(([we,Ge])=>{x[we]=Array.isArray(Ge)?Ge.map(Ke=>`${Ke}`):`${Ge}`}),O=h===g?d:ro(h,g,d);const se=Wn(Fn(O));return new Nt(se,x,w)}function ro(h,g,d){const y={};return Object.entries(h.children).forEach(([w,x])=>{y[w]=x===g?d:ro(x,g,d)}),new bt(h.segments,y)}class fr{constructor(g,d,y){if(this.isAbsolute=g,this.numberOfDoubleDots=d,this.commands=y,g&&y.length>0&&Dn(y[0]))throw new l.vHH(4003,!1);const w=y.find(Rn);if(w&&w!==Tr(y))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zr{constructor(g,d,y){this.segmentGroup=g,this.processChildren=d,this.index=y}}function Fr(h,g,d){if(h||(h=new bt([],{})),0===h.segments.length&&h.hasChildren())return pr(h,g,d);const y=function Oo(h,g,d){let y=0,w=g;const x={match:!1,pathIndex:0,commandIndex:0};for(;w<h.segments.length;){if(y>=d.length)return x;const O=h.segments[w],se=d[y];if(Rn(se))break;const we=`${se}`,Ge=y<d.length-1?d[y+1]:null;if(w>0&&void 0===we)break;if(we&&Ge&&"object"==typeof Ge&&void 0===Ge.outlets){if(!io(we,Ge,O))return x;y+=2}else{if(!io(we,{},O))return x;y++}w++}return{match:!0,pathIndex:w,commandIndex:y}}(h,g,d),w=d.slice(y.commandIndex);if(y.match&&y.pathIndex<h.segments.length){const x=new bt(h.segments.slice(0,y.pathIndex),{});return x.children[ke]=new bt(h.segments.slice(y.pathIndex),h.children),pr(x,0,w)}return y.match&&0===w.length?new bt(h.segments,{}):y.match&&!h.hasChildren()?Wr(h,g,d):y.match?pr(h,0,w):Wr(h,g,d)}function pr(h,g,d){if(0===d.length)return new bt(h.segments,{});{const y=function xo(h){return Rn(h[0])?h[0].outlets:{[ke]:h}}(d),w={};if(!y[ke]&&h.children[ke]&&1===h.numberOfChildren&&0===h.children[ke].segments.length){const x=pr(h.children[ke],g,d);return new bt(h.segments,x.children)}return Object.entries(y).forEach(([x,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(w[x]=Fr(h.children[x],g,O))}),Object.entries(h.children).forEach(([x,O])=>{void 0===y[x]&&(w[x]=O)}),new bt(h.segments,w)}}function Wr(h,g,d){const y=h.segments.slice(0,g);let w=0;for(;w<d.length;){const x=d[w];if(Rn(x)){const we=fn(x.outlets);return new bt(y,we)}if(0===w&&Dn(d[0])){y.push(new Gn(h.segments[g].path,oo(d[0]))),w++;continue}const O=Rn(x)?x.outlets[ke]:`${x}`,se=w<d.length-1?d[w+1]:null;O&&se&&Dn(se)?(y.push(new Gn(O,oo(se))),w+=2):(y.push(new Gn(O,{})),w++)}return new bt(y,{})}function fn(h){const g={};return Object.entries(h).forEach(([d,y])=>{"string"==typeof y&&(y=[y]),null!==y&&(g[d]=Wr(new bt([],{}),0,y))}),g}function oo(h){const g={};return Object.entries(h).forEach(([d,y])=>g[d]=`${y}`),g}function io(h,g,d){return h==d.path&&We(g,d.parameters)}const Lr="imperative";class Pn{constructor(g,d){this.id=g,this.url=d}}class No extends Pn{constructor(g,d,y="imperative",w=null){super(g,d),this.type=0,this.navigationTrigger=y,this.restoredState=w}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ar extends Pn{constructor(g,d,y){super(g,d),this.urlAfterRedirects=y,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vr extends Pn{constructor(g,d,y,w){super(g,d),this.reason=y,this.code=w,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Do extends Pn{constructor(g,d,y,w){super(g,d),this.reason=y,this.code=w,this.type=16}}class bn extends Pn{constructor(g,d,y,w){super(g,d),this.error=y,this.target=w,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class so extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zo extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ei extends Pn{constructor(g,d,y,w,x){super(g,d),this.urlAfterRedirects=y,this.state=w,this.shouldActivate=x,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ao extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class co{constructor(g){this.route=g,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ko{constructor(g){this.route=g,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lo{constructor(g){this.snapshot=g,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(g){this.snapshot=g,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(g){this.snapshot=g,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(g){this.snapshot=g,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(g,d,y){this.routerEvent=g,this.position=d,this.anchor=y,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kt,this.attachRef=null}}let kt=(()=>{class h{constructor(){this.contexts=new Map}onChildOutletCreated(d,y){const w=this.getOrCreateContext(d);w.outlet=y,this.contexts.set(d,w)}onChildOutletDestroyed(d){const y=this.getContext(d);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const d=this.contexts;return this.contexts=new Map,d}onOutletReAttached(d){this.contexts=d}getOrCreateContext(d){let y=this.getContext(d);return y||(y=new gr,this.contexts.set(d,y)),y}getContext(d){return this.contexts.get(d)||null}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class bo{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const d=this.pathFromRoot(g);return d.length>1?d[d.length-2]:null}children(g){const d=$r(g,this._root);return d?d.children.map(y=>y.value):[]}firstChild(g){const d=$r(g,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(g){const d=mr(g,this._root);return d.length<2?[]:d[d.length-2].children.map(w=>w.value).filter(w=>w!==g)}pathFromRoot(g){return mr(g,this._root).map(d=>d.value)}}function $r(h,g){if(h===g.value)return g;for(const d of g.children){const y=$r(h,d);if(y)return y}return null}function mr(h,g){if(h===g.value)return[g];for(const d of g.children){const y=mr(h,d);if(y.length)return y.unshift(g),y}return[]}class ar{constructor(g,d){this.value=g,this.children=d}toString(){return`TreeNode(${this.value})`}}function yr(h){const g={};return h&&h.children.forEach(d=>g[d.value.outlet]=d),g}class ye extends bo{constructor(g,d){super(g),this.snapshot=d,Ut(this,g)}toString(){return this.snapshot.toString()}}function je(h,g){const d=function ct(h,g){const O=new ln([],{},{},"",{},ke,g,null,{});return new Yn("",new ar(O,[]))}(0,g),y=new be.X([new Gn("",{})]),w=new be.X({}),x=new be.X({}),O=new be.X({}),se=new be.X(""),we=new ot(y,w,O,se,x,ke,g,d.root);return we.snapshot=d.root,new ye(new ar(we,[]),d)}class ot{constructor(g,d,y,w,x,O,se,we){this.urlSubject=g,this.paramsSubject=d,this.queryParamsSubject=y,this.fragmentSubject=w,this.dataSubject=x,this.outlet=O,this.component=se,this._futureSnapshot=we,this.title=this.dataSubject?.pipe((0,ne.U)(Ge=>Ge[Jt]))??(0,he.of)(void 0),this.url=g,this.params=d,this.queryParams=y,this.fragment=w,this.data=x}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ne.U)(g=>An(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ne.U)(g=>An(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function It(h,g="emptyOnly"){const d=h.pathFromRoot;let y=0;if("always"!==g)for(y=d.length-1;y>=1;){const w=d[y],x=d[y-1];if(w.routeConfig&&""===w.routeConfig.path)y--;else{if(x.component)break;y--}}return function Qn(h){return h.reduce((g,d)=>({params:{...g.params,...d.params},data:{...g.data,...d.data},resolve:{...d.data,...g.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(y))}class ln{get title(){return this.data?.[Jt]}constructor(g,d,y,w,x,O,se,we,Ge){this.url=g,this.params=d,this.queryParams=y,this.fragment=w,this.data=x,this.outlet=O,this.component=se,this.routeConfig=we,this._resolve=Ge}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=An(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(y=>y.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yn extends bo{constructor(g,d){super(d),this.url=g,Ut(this,d)}toString(){return cr(this._root)}}function Ut(h,g){g.value._routerState=h,g.children.forEach(d=>Ut(h,d))}function cr(h){const g=h.children.length>0?` { ${h.children.map(cr).join(", ")} } `:"";return`${h.value}${g}`}function Xn(h){if(h.snapshot){const g=h.snapshot,d=h._futureSnapshot;h.snapshot=d,We(g.queryParams,d.queryParams)||h.queryParamsSubject.next(d.queryParams),g.fragment!==d.fragment&&h.fragmentSubject.next(d.fragment),We(g.params,d.params)||h.paramsSubject.next(d.params),function sn(h,g){if(h.length!==g.length)return!1;for(let d=0;d<h.length;++d)if(!We(h[d],g[d]))return!1;return!0}(g.url,d.url)||h.urlSubject.next(d.url),We(g.data,d.data)||h.dataSubject.next(d.data)}else h.snapshot=h._futureSnapshot,h.dataSubject.next(h._futureSnapshot.data)}function st(h,g){const d=We(h.params,g.params)&&function Xt(h,g){return dr(h,g)&&h.every((d,y)=>We(d.parameters,g[y].parameters))}(h.url,g.url);return d&&!(!h.parent!=!g.parent)&&(!h.parent||st(h.parent,g.parent))}let Bn=(()=>{class h{constructor(){this.activated=null,this._activatedRoute=null,this.name=ke,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(kt),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(_r,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(d){if(d.name){const{firstChange:y,previousValue:w}=d.name;if(y)return;this.isTrackedInParentContexts(w)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(w)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(d){return this.parentContexts.getContext(d)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const d=this.parentContexts.getContext(this.name);d?.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,y){this.activated=d,this._activatedRoute=y,this.location.insert(d.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,y){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=d;const w=this.location,O=d.snapshot.component,se=this.parentContexts.getOrCreateContext(this.name).children,we=new vr(d,se,w.injector);this.activated=w.createComponent(O,{index:w.length,injector:we,environmentInjector:y??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275dir=l.lG2({type:h,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),h})();class vr{constructor(g,d,y){this.route=g,this.childContexts=d,this.parent=y}get(g,d){return g===ot?this.route:g===kt?this.childContexts:this.parent.get(g,d)}}const _r=new l.OlP("");let on=(()=>{class h{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(d){this.unsubscribeFromRouteData(d),this.subscribeToRouteData(d)}unsubscribeFromRouteData(d){this.outletDataSubscriptions.get(d)?.unsubscribe(),this.outletDataSubscriptions.delete(d)}subscribeToRouteData(d){const{activatedRoute:y}=d,w=Oe([y.queryParams,y.params,y.data]).pipe((0,ae.w)(([x,O,se],we)=>(se={...x,...O,...se},0===we?(0,he.of)(se):Promise.resolve(se)))).subscribe(x=>{if(!d.isActivated||!d.activatedComponentRef||d.activatedRoute!==y||null===y.component)return void this.unsubscribeFromRouteData(d);const O=(0,l.qFp)(y.component);if(O)for(const{templateName:se}of O.inputs)d.activatedComponentRef.setInput(se,x[se]);else this.unsubscribeFromRouteData(d)});this.outletDataSubscriptions.set(d,w)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})();function lr(h,g,d){if(d&&h.shouldReuseRoute(g.value,d.value.snapshot)){const y=d.value;y._futureSnapshot=g.value;const w=function Ln(h,g,d){return g.children.map(y=>{for(const w of d.children)if(h.shouldReuseRoute(y.value,w.value.snapshot))return lr(h,y,w);return lr(h,y)})}(h,g,d);return new ar(y,w)}{if(h.shouldAttach(g.value)){const x=h.retrieve(g.value);if(null!==x){const O=x.route;return O.value._futureSnapshot=g.value,O.children=g.children.map(se=>lr(h,se)),O}}const y=function Rr(h){return new ot(new be.X(h.url),new be.X(h.params),new be.X(h.queryParams),new be.X(h.fragment),new be.X(h.data),h.outlet,h.component,h)}(g.value),w=g.children.map(x=>lr(h,x));return new ar(y,w)}}const Yr="ngNavigationCancelingError";function er(h,g){const{redirectTo:d,navigationBehaviorOptions:y}=$n(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,w=Sn(!1,0,g);return w.url=d,w.navigationBehaviorOptions=y,w}function Sn(h,g,d){const y=new Error("NavigationCancelingError: "+(h||""));return y[Yr]=!0,y.cancellationCode=g,d&&(y.url=d),y}function ho(h){return Tt(h)&&$n(h.url)}function Tt(h){return h&&h[Yr]}let Xe=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275cmp=l.Xpm({type:h,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(d,y){1&d&&l._UZ(0,"router-outlet")},dependencies:[Bn],encapsulation:2}),h})();function Ht(h){const g=h.children&&h.children.map(Ht),d=g?{...h,children:g}:{...h};return!d.component&&!d.loadComponent&&(g||d.loadChildren)&&d.outlet&&d.outlet!==ke&&(d.component=Xe),d}function Yt(h){return h.outlet||ke}function Un(h){if(!h)return null;if(h.routeConfig?._injector)return h.routeConfig._injector;for(let g=h.parent;g;g=g.parent){const d=g.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class Rt{constructor(g,d,y,w,x){this.routeReuseStrategy=g,this.futureState=d,this.currState=y,this.forwardEvent=w,this.inputBindingEnabled=x}activate(g){const d=this.futureState._root,y=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,y,g),Xn(this.futureState.root),this.activateChildRoutes(d,y,g)}deactivateChildRoutes(g,d,y){const w=yr(d);g.children.forEach(x=>{const O=x.value.outlet;this.deactivateRoutes(x,w[O],y),delete w[O]}),Object.values(w).forEach(x=>{this.deactivateRouteAndItsChildren(x,y)})}deactivateRoutes(g,d,y){const w=g.value,x=d?d.value:null;if(w===x)if(w.component){const O=y.getContext(w.outlet);O&&this.deactivateChildRoutes(g,d,O.children)}else this.deactivateChildRoutes(g,d,y);else x&&this.deactivateRouteAndItsChildren(d,y)}deactivateRouteAndItsChildren(g,d){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,d):this.deactivateRouteAndOutlet(g,d)}detachAndStoreRouteSubtree(g,d){const y=d.getContext(g.value.outlet),w=y&&g.value.component?y.children:d,x=yr(g);for(const O of Object.keys(x))this.deactivateRouteAndItsChildren(x[O],w);if(y&&y.outlet){const O=y.outlet.detach(),se=y.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:O,route:g,contexts:se})}}deactivateRouteAndOutlet(g,d){const y=d.getContext(g.value.outlet),w=y&&g.value.component?y.children:d,x=yr(g);for(const O of Object.keys(x))this.deactivateRouteAndItsChildren(x[O],w);y&&(y.outlet&&(y.outlet.deactivate(),y.children.onOutletDeactivated()),y.attachRef=null,y.route=null)}activateChildRoutes(g,d,y){const w=yr(d);g.children.forEach(x=>{this.activateRoutes(x,w[x.value.outlet],y),this.forwardEvent(new wt(x.value.snapshot))}),g.children.length&&this.forwardEvent(new jr(g.value.snapshot))}activateRoutes(g,d,y){const w=g.value,x=d?d.value:null;if(Xn(w),w===x)if(w.component){const O=y.getOrCreateContext(w.outlet);this.activateChildRoutes(g,d,O.children)}else this.activateChildRoutes(g,d,y);else if(w.component){const O=y.getOrCreateContext(w.outlet);if(this.routeReuseStrategy.shouldAttach(w.snapshot)){const se=this.routeReuseStrategy.retrieve(w.snapshot);this.routeReuseStrategy.store(w.snapshot,null),O.children.onOutletReAttached(se.contexts),O.attachRef=se.componentRef,O.route=se.route.value,O.outlet&&O.outlet.attach(se.componentRef,se.route.value),Xn(se.route.value),this.activateChildRoutes(g,null,O.children)}else{const se=Un(w.snapshot);O.attachRef=null,O.route=w,O.injector=se,O.outlet&&O.outlet.activateWith(w,O.injector),this.activateChildRoutes(g,null,O.children)}}else this.activateChildRoutes(g,null,y)}}class Jr{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class po{constructor(g,d){this.component=g,this.route=d}}function Ii(h,g,d){const y=h._root;return go(y,g?g._root:null,d,[y.value])}function Qr(h,g){const d=Symbol(),y=g.get(h,d);return y===d?"function"!=typeof h||(0,l.Z0I)(h)?g.get(h):h:y}function go(h,g,d,y,w={canDeactivateChecks:[],canActivateChecks:[]}){const x=yr(g);return h.children.forEach(O=>{(function hi(h,g,d,y,w={canDeactivateChecks:[],canActivateChecks:[]}){const x=h.value,O=g?g.value:null,se=d?d.getContext(h.value.outlet):null;if(O&&x.routeConfig===O.routeConfig){const we=function pi(h,g,d){if("function"==typeof d)return d(h,g);switch(d){case"pathParamsChange":return!dr(h.url,g.url);case"pathParamsOrQueryParamsChange":return!dr(h.url,g.url)||!We(h.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!st(h,g)||!We(h.queryParams,g.queryParams);default:return!st(h,g)}}(O,x,x.routeConfig.runGuardsAndResolvers);we?w.canActivateChecks.push(new Jr(y)):(x.data=O.data,x._resolvedData=O._resolvedData),go(h,g,x.component?se?se.children:null:d,y,w),we&&se&&se.outlet&&se.outlet.isActivated&&w.canDeactivateChecks.push(new po(se.outlet.component,O))}else O&&qo(g,se,w),w.canActivateChecks.push(new Jr(y)),go(h,null,x.component?se?se.children:null:d,y,w)})(O,x[O.value.outlet],d,y.concat([O.value]),w),delete x[O.value.outlet]}),Object.entries(x).forEach(([O,se])=>qo(se,d.getContext(O),w)),w}function qo(h,g,d){const y=yr(h),w=h.value;Object.entries(y).forEach(([x,O])=>{qo(O,w.component?g?g.children.getContext(x):null:g,d)}),d.canDeactivateChecks.push(new po(w.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,w))}function Zt(h){return"function"==typeof h}function b(h){return h instanceof J||"EmptyError"===h?.name}const P=Symbol("INITIAL_VALUE");function A(){return(0,ae.w)(h=>Oe(h.map(g=>g.pipe(Ie(1),function Fe(...h){const g=(0,oe.yG)(h);return(0,ze.e)((d,y)=>{(g?z(h,d,g):z(h,d)).subscribe(y)})}(P)))).pipe((0,ne.U)(g=>{for(const d of g)if(!0!==d){if(d===P)return P;if(!1===d||d instanceof Nt)return d}return!0}),Re(g=>g!==P),Ie(1)))}function va(h){return(0,le.z)(ht(g=>{if($n(g))throw er(0,g)}),(0,ne.U)(g=>!0===g))}class tr{constructor(g){this.segmentGroup=g||null}}class ri{constructor(g){this.urlTree=g}}function pn(h){return Q(new tr(h))}function Ri(h){return Q(new ri(h))}class xi{constructor(g,d){this.urlSerializer=g,this.urlTree=d}noMatchError(g){return new l.vHH(4002,!1)}lineralizeSegments(g,d){let y=[],w=d.root;for(;;){if(y=y.concat(w.segments),0===w.numberOfChildren)return(0,he.of)(y);if(w.numberOfChildren>1||!w.children[ke])return Q(new l.vHH(4e3,!1));w=w.children[ke]}}applyRedirectCommands(g,d,y){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),g,y)}applyRedirectCreateUrlTree(g,d,y,w){const x=this.createSegmentGroup(g,d.root,y,w);return new Nt(x,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(g,d){const y={};return Object.entries(g).forEach(([w,x])=>{if("string"==typeof x&&x.startsWith(":")){const se=x.substring(1);y[w]=d[se]}else y[w]=x}),y}createSegmentGroup(g,d,y,w){const x=this.createSegments(g,d.segments,y,w);let O={};return Object.entries(d.children).forEach(([se,we])=>{O[se]=this.createSegmentGroup(g,we,y,w)}),new bt(x,O)}createSegments(g,d,y,w){return d.map(x=>x.path.startsWith(":")?this.findPosParam(g,x,w):this.findOrReturn(x,y))}findPosParam(g,d,y){const w=y[d.path.substring(1)];if(!w)throw new l.vHH(4001,!1);return w}findOrReturn(g,d){let y=0;for(const w of d){if(w.path===g.path)return d.splice(y),w;y++}return g}}const Ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(h,g,d,y,w){const x=Oi(h,g,d);return x.matched?(y=function Wo(h,g){return h.providers&&!h._injector&&(h._injector=(0,l.MMx)(h.providers,g,`Route: ${h.path}`)),h._injector??g}(g,y),function Cs(h,g,d,y){const w=g.canMatch;if(!w||0===w.length)return(0,he.of)(!0);const x=w.map(O=>{const se=Qr(O,h);return an(function c(h){return h&&Zt(h.canMatch)}(se)?se.canMatch(g,d):h.runInContext(()=>se(g,d)))});return(0,he.of)(x).pipe(A(),va())}(y,g,d).pipe((0,ne.U)(O=>!0===O?x:{...Ko}))):(0,he.of)(x)}function Oi(h,g,d){if(""===g.path)return"full"===g.pathMatch&&(h.hasChildren()||d.length>0)?{...Ko}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const w=(g.matcher||Ot)(d,h,g);if(!w)return{...Ko};const x={};Object.entries(w.posParams??{}).forEach(([se,we])=>{x[se]=we.path});const O=w.consumed.length>0?{...x,...w.consumed[w.consumed.length-1].parameters}:x;return{matched:!0,consumedSegments:w.consumed,remainingSegments:d.slice(w.consumed.length),parameters:O,positionalParamSegments:w.posParams??{}}}function Ni(h,g,d,y){return d.length>0&&function mi(h,g,d){return d.some(y=>ki(h,g,y)&&Yt(y)!==ke)}(h,d,y)?{segmentGroup:new bt(g,Ds(y,new bt(d,h.children))),slicedSegments:[]}:0===d.length&&function Ca(h,g,d){return d.some(y=>ki(h,g,y))}(h,d,y)?{segmentGroup:new bt(h.segments,gi(h,0,d,y,h.children)),slicedSegments:d}:{segmentGroup:new bt(h.segments,h.children),slicedSegments:d}}function gi(h,g,d,y,w){const x={};for(const O of y)if(ki(h,d,O)&&!w[Yt(O)]){const se=new bt([],{});x[Yt(O)]=se}return{...w,...x}}function Ds(h,g){const d={};d[ke]=g;for(const y of h)if(""===y.path&&Yt(y)!==ke){const w=new bt([],{});d[Yt(y)]=w}return d}function ki(h,g,d){return(!(h.hasChildren()||g.length>0)||"full"!==d.pathMatch)&&""===d.path}class ba{constructor(g,d,y,w,x,O,se){this.injector=g,this.configLoader=d,this.rootComponentType=y,this.config=w,this.urlTree=x,this.paramsInheritanceStrategy=O,this.urlSerializer=se,this.allowRedirects=!0,this.applyRedirects=new xi(this.urlSerializer,this.urlTree)}noMatchError(g){return new l.vHH(4002,!1)}recognize(){const g=Ni(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,g,ke).pipe(Lt(d=>{if(d instanceof ri)return this.allowRedirects=!1,this.urlTree=d.urlTree,this.match(d.urlTree);throw d instanceof tr?this.noMatchError(d):d}),(0,ne.U)(d=>{const y=new ln([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ke,this.rootComponentType,null,{}),w=new ar(y,d),x=new Yn("",w),O=function Gr(h,g,d=null,y=null){return no(Mr(h),g,d,y)}(y,[],this.urlTree.queryParams,this.urlTree.fragment);return O.queryParams=this.urlTree.queryParams,x.url=this.urlSerializer.serialize(O),this.inheritParamsAndData(x._root),{state:x,tree:O}}))}match(g){return this.processSegmentGroup(this.injector,this.config,g.root,ke).pipe(Lt(y=>{throw y instanceof tr?this.noMatchError(y):y}))}inheritParamsAndData(g){const d=g.value,y=It(d,this.paramsInheritanceStrategy);d.params=Object.freeze(y.params),d.data=Object.freeze(y.data),g.children.forEach(w=>this.inheritParamsAndData(w))}processSegmentGroup(g,d,y,w){return 0===y.segments.length&&y.hasChildren()?this.processChildren(g,d,y):this.processSegment(g,d,y,y.segments,w,!0)}processChildren(g,d,y){const w=[];for(const x of Object.keys(y.children))"primary"===x?w.unshift(x):w.push(x);return(0,q.D)(w).pipe(Ct(x=>{const O=y.children[x],se=function ut(h,g){const d=h.filter(y=>Yt(y)===g);return d.push(...h.filter(y=>Yt(y)!==g)),d}(d,x);return this.processSegmentGroup(g,se,O,x)}),function vn(h,g){return(0,ze.e)(function yn(h,g,d,y,w){return(x,O)=>{let se=d,we=g,Ge=0;x.subscribe((0,xe.x)(O,Ke=>{const Ft=Ge++;we=se?h(we,Ke,Ft):(se=!0,Ke),y&&O.next(we)},w&&(()=>{se&&O.next(we),O.complete()})))}}(h,g,arguments.length>=2,!0))}((x,O)=>(x.push(...O),x)),Ye(null),function wn(h,g){const d=arguments.length>=2;return y=>y.pipe(h?Re((w,x)=>h(w,x,y)):k.y,en(1),d?Ye(g):Kt(()=>new J))}(),(0,Le.z)(x=>{if(null===x)return pn(y);const O=Li(x);return function Ea(h){h.sort((g,d)=>g.value.outlet===ke?-1:d.value.outlet===ke?1:g.value.outlet.localeCompare(d.value.outlet))}(O),(0,he.of)(O)}))}processSegment(g,d,y,w,x,O){return(0,q.D)(d).pipe(Ct(se=>this.processSegmentAgainstRoute(se._injector??g,d,se,y,w,x,O).pipe(Lt(we=>{if(we instanceof tr)return(0,he.of)(null);throw we}))),ft(se=>!!se),Lt(se=>{if(b(se))return function Da(h,g,d){return 0===g.length&&!h.children[d]}(y,w,x)?(0,he.of)([]):pn(y);throw se}))}processSegmentAgainstRoute(g,d,y,w,x,O,se){return function Hc(h,g,d,y){return!!(Yt(h)===y||y!==ke&&ki(g,d,h))&&("**"===h.path||Oi(g,h,d).matched)}(y,w,x,O)?void 0===y.redirectTo?this.matchSegmentAgainstRoute(g,w,y,x,O,se):se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,w,d,y,x,O):pn(w):pn(w)}expandSegmentAgainstRouteUsingRedirect(g,d,y,w,x,O){return"**"===w.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,y,w,O):this.expandRegularSegmentAgainstRouteUsingRedirect(g,d,y,w,x,O)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,d,y,w){const x=this.applyRedirects.applyRedirectCommands([],y.redirectTo,{});return y.redirectTo.startsWith("/")?Ri(x):this.applyRedirects.lineralizeSegments(y,x).pipe((0,Le.z)(O=>{const se=new bt(O,{});return this.processSegment(g,d,se,O,w,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,d,y,w,x,O){const{matched:se,consumedSegments:we,remainingSegments:Ge,positionalParamSegments:Ke}=Oi(d,w,x);if(!se)return pn(d);const Ft=this.applyRedirects.applyRedirectCommands(we,w.redirectTo,Ke);return w.redirectTo.startsWith("/")?Ri(Ft):this.applyRedirects.lineralizeSegments(w,Ft).pipe((0,Le.z)(or=>this.processSegment(g,y,d,or.concat(Ge),O,!1)))}matchSegmentAgainstRoute(g,d,y,w,x,O){let se;if("**"===y.path){const we=w.length>0?Tr(w).parameters:{},Ge=new ln(w,we,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(y),Yt(y),y.component??y._loadedComponent??null,y,M(y));se=(0,he.of)({snapshot:Ge,consumedSegments:[],remainingSegments:[]}),d.children={}}else se=_a(d,y,w,g).pipe((0,ne.U)(({matched:we,consumedSegments:Ge,remainingSegments:Ke,parameters:Ft})=>we?{snapshot:new ln(Ge,Ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(y),Yt(y),y.component??y._loadedComponent??null,y,M(y)),consumedSegments:Ge,remainingSegments:Ke}:null));return se.pipe((0,ae.w)(we=>null===we?pn(d):this.getChildConfig(g=y._injector??g,y,w).pipe((0,ae.w)(({routes:Ge})=>{const Ke=y._loadedInjector??g,{snapshot:Ft,consumedSegments:or,remainingSegments:_i}=we,{segmentGroup:si,slicedSegments:ai}=Ni(d,or,_i,Ge);if(0===ai.length&&si.hasChildren())return this.processChildren(Ke,Ge,si).pipe((0,ne.U)(Mo=>null===Mo?null:[new ar(Ft,Mo)]));if(0===Ge.length&&0===ai.length)return(0,he.of)([new ar(Ft,[])]);const Os=Yt(y)===x;return this.processSegment(Ke,Ge,si,ai,Os?ke:x,!0).pipe((0,ne.U)(Mo=>[new ar(Ft,Mo)]))}))))}getChildConfig(g,d,y){return d.children?(0,he.of)({routes:d.children,injector:g}):d.loadChildren?void 0!==d._loadedRoutes?(0,he.of)({routes:d._loadedRoutes,injector:d._loadedInjector}):function Ai(h,g,d,y){const w=g.canLoad;if(void 0===w||0===w.length)return(0,he.of)(!0);const x=w.map(O=>{const se=Qr(O,h);return an(function E(h){return h&&Zt(h.canLoad)}(se)?se.canLoad(g,d):h.runInContext(()=>se(g,d)))});return(0,he.of)(x).pipe(A(),va())}(g,d,y).pipe((0,Le.z)(w=>w?this.configLoader.loadChildren(g,d).pipe(ht(x=>{d._loadedRoutes=x.routes,d._loadedInjector=x.injector})):function Pi(h){return Q(Sn(!1,3))}())):(0,he.of)({routes:[],injector:g})}}function Fi(h){const g=h.value.routeConfig;return g&&""===g.path}function Li(h){const g=[],d=new Set;for(const y of h){if(!Fi(y)){g.push(y);continue}const w=g.find(x=>y.value.routeConfig===x.value.routeConfig);void 0!==w?(w.children.push(...y.children),d.add(w)):g.push(y)}for(const y of d){const w=Li(y.children);g.push(new ar(y.value,w))}return g.filter(y=>!d.has(y))}function _(h){return h.data||{}}function M(h){return h.resolve||{}}function qt(h){return"string"==typeof h.title||null===h.title}function it(h){return(0,ae.w)(g=>{const d=h(g);return d?(0,q.D)(d).pipe((0,ne.U)(()=>g)):(0,he.of)(g)})}const At=new l.OlP("ROUTES");let mt=(()=>{class h{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(d){if(this.componentLoaders.get(d))return this.componentLoaders.get(d);if(d._loadedComponent)return(0,he.of)(d._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(d);const y=an(d.loadComponent()).pipe((0,ne.U)(tn),ht(x=>{this.onLoadEndListener&&this.onLoadEndListener(d),d._loadedComponent=x}),ir(()=>{this.componentLoaders.delete(d)})),w=new _t(y,()=>new Ne.x).pipe(rt());return this.componentLoaders.set(d,w),w}loadChildren(d,y){if(this.childrenLoaders.get(y))return this.childrenLoaders.get(y);if(y._loadedRoutes)return(0,he.of)({routes:y._loadedRoutes,injector:y._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(y);const x=this.loadModuleFactoryOrRoutes(y.loadChildren).pipe((0,ne.U)(se=>{this.onLoadEndListener&&this.onLoadEndListener(y);let we,Ge;return Array.isArray(se)?Ge=se:(we=se.create(d).injector,Ge=we.get(At,[],l.XFs.Self|l.XFs.Optional).flat()),{routes:Ge.map(Ht),injector:we}}),ir(()=>{this.childrenLoaders.delete(y)})),O=new _t(x,()=>new Ne.x).pipe(rt());return this.childrenLoaders.set(y,O),O}loadModuleFactoryOrRoutes(d){return an(d()).pipe((0,ne.U)(tn),(0,Le.z)(y=>y instanceof l.YKP||Array.isArray(y)?(0,he.of)(y):(0,q.D)(this.compiler.compileModuleAsync(y))))}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function tn(h){return function Pt(h){return h&&"object"==typeof h&&"default"in h}(h)?h.default:h}let gn=(()=>{class h{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ne.x,this.configLoader=(0,l.f3M)(mt),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Vn),this.rootContexts=(0,l.f3M)(kt),this.inputBindingEnabled=null!==(0,l.f3M)(_r,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=w=>this.events.next(new ko(w)),this.configLoader.onLoadStartListener=w=>this.events.next(new co(w))}complete(){this.transitions?.complete()}handleNavigationRequest(d){const y=++this.navigationId;this.transitions?.next({...this.transitions.value,...d,id:y})}setupNavigations(d){return this.transitions=new be.X({id:0,currentUrlTree:d.currentUrlTree,currentRawUrl:d.currentUrlTree,extractedUrl:d.urlHandlingStrategy.extract(d.currentUrlTree),urlAfterRedirects:d.urlHandlingStrategy.extract(d.currentUrlTree),rawUrl:d.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lr,restoredState:null,currentSnapshot:d.routerState.snapshot,targetSnapshot:null,currentRouterState:d.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Re(y=>0!==y.id),(0,ne.U)(y=>({...y,extractedUrl:d.urlHandlingStrategy.extract(y.rawUrl)})),(0,ae.w)(y=>{let w=!1,x=!1;return(0,he.of)(y).pipe(ht(O=>{this.currentNavigation={id:O.id,initialUrl:O.rawUrl,extractedUrl:O.extractedUrl,trigger:O.source,extras:O.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ae.w)(O=>{const se=d.browserUrlTree.toString(),we=!d.navigated||O.extractedUrl.toString()!==se||se!==d.currentUrlTree.toString();if(!we&&"reload"!==(O.extras.onSameUrlNavigation??d.onSameUrlNavigation)){const Ke="";return this.events.next(new Do(O.id,d.serializeUrl(y.rawUrl),Ke,0)),d.rawUrlTree=O.rawUrl,O.resolve(null),ce.E}if(d.urlHandlingStrategy.shouldProcessUrl(O.rawUrl))return nr(O.source)&&(d.browserUrlTree=O.extractedUrl),(0,he.of)(O).pipe((0,ae.w)(Ke=>{const Ft=this.transitions?.getValue();return this.events.next(new No(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),Ke.source,Ke.restoredState)),Ft!==this.transitions?.getValue()?ce.E:Promise.resolve(Ke)}),function C(h,g,d,y,w,x){return(0,Le.z)(O=>function bs(h,g,d,y,w,x,O="emptyOnly"){return new ba(h,g,d,y,w,O,x).recognize()}(h,g,d,y,O.extractedUrl,w,x).pipe((0,ne.U)(({state:se,tree:we})=>({...O,targetSnapshot:se,urlAfterRedirects:we}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,d.config,this.urlSerializer,d.paramsInheritanceStrategy),ht(Ke=>{if(y.targetSnapshot=Ke.targetSnapshot,y.urlAfterRedirects=Ke.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ke.urlAfterRedirects},"eager"===d.urlUpdateStrategy){if(!Ke.extras.skipLocationChange){const or=d.urlHandlingStrategy.merge(Ke.urlAfterRedirects,Ke.rawUrl);d.setBrowserUrl(or,Ke)}d.browserUrlTree=Ke.urlAfterRedirects}const Ft=new so(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(Ft)}));if(we&&d.urlHandlingStrategy.shouldProcessUrl(d.rawUrlTree)){const{id:Ke,extractedUrl:Ft,source:or,restoredState:_i,extras:si}=O,ai=new No(Ke,this.urlSerializer.serialize(Ft),or,_i);this.events.next(ai);const Os=je(0,this.rootComponentType).snapshot;return y={...O,targetSnapshot:Os,urlAfterRedirects:Ft,extras:{...si,skipLocationChange:!1,replaceUrl:!1}},(0,he.of)(y)}{const Ke="";return this.events.next(new Do(O.id,d.serializeUrl(y.extractedUrl),Ke,1)),d.rawUrlTree=O.rawUrl,O.resolve(null),ce.E}}),ht(O=>{const se=new zo(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next(se)}),(0,ne.U)(O=>y={...O,guards:Ii(O.targetSnapshot,O.currentSnapshot,this.rootContexts)}),function B(h,g){return(0,Le.z)(d=>{const{targetSnapshot:y,currentSnapshot:w,guards:{canActivateChecks:x,canDeactivateChecks:O}}=d;return 0===O.length&&0===x.length?(0,he.of)({...d,guardsResult:!0}):function $(h,g,d,y){return(0,q.D)(h).pipe((0,Le.z)(w=>function zt(h,g,d,y,w){const x=g&&g.routeConfig?g.routeConfig.canDeactivate:null;if(!x||0===x.length)return(0,he.of)(!0);const O=x.map(se=>{const we=Un(g)??w,Ge=Qr(se,we);return an(function i(h){return h&&Zt(h.canDeactivate)}(Ge)?Ge.canDeactivate(h,g,d,y):we.runInContext(()=>Ge(h,g,d,y))).pipe(ft())});return(0,he.of)(O).pipe(A())}(w.component,w.route,d,g,y)),ft(w=>!0!==w,!0))}(O,y,w,h).pipe((0,Le.z)(se=>se&&function ni(h){return"boolean"==typeof h}(se)?function ee(h,g,d,y){return(0,q.D)(g).pipe(Ct(w=>z(function He(h,g){return null!==h&&g&&g(new lo(h)),(0,he.of)(!0)}(w.route.parent,y),function Ce(h,g){return null!==h&&g&&g(new uo(h)),(0,he.of)(!0)}(w.route,y),function Gt(h,g,d){const y=g[g.length-1],x=g.slice(0,g.length-1).reverse().map(O=>function fi(h){const g=h.routeConfig?h.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:h,guards:g}:null}(O)).filter(O=>null!==O).map(O=>fe(()=>{const se=O.guards.map(we=>{const Ge=Un(O.node)??d,Ke=Qr(we,Ge);return an(function s(h){return h&&Zt(h.canActivateChild)}(Ke)?Ke.canActivateChild(y,h):Ge.runInContext(()=>Ke(y,h))).pipe(ft())});return(0,he.of)(se).pipe(A())}));return(0,he.of)(x).pipe(A())}(h,w.path,d),function St(h,g,d){const y=g.routeConfig?g.routeConfig.canActivate:null;if(!y||0===y.length)return(0,he.of)(!0);const w=y.map(x=>fe(()=>{const O=Un(g)??d,se=Qr(x,O);return an(function D(h){return h&&Zt(h.canActivate)}(se)?se.canActivate(g,h):O.runInContext(()=>se(g,h))).pipe(ft())}));return(0,he.of)(w).pipe(A())}(h,w.route,d))),ft(w=>!0!==w,!0))}(y,x,h,g):(0,he.of)(se)),(0,ne.U)(se=>({...d,guardsResult:se})))})}(this.environmentInjector,O=>this.events.next(O)),ht(O=>{if(y.guardsResult=O.guardsResult,$n(O.guardsResult))throw er(0,O.guardsResult);const se=new ei(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot,!!O.guardsResult);this.events.next(se)}),Re(O=>!!O.guardsResult||(d.restoreHistory(O),this.cancelNavigationTransition(O,"",3),!1)),it(O=>{if(O.guards.canActivateChecks.length)return(0,he.of)(O).pipe(ht(se=>{const we=new ao(se.id,this.urlSerializer.serialize(se.extractedUrl),this.urlSerializer.serialize(se.urlAfterRedirects),se.targetSnapshot);this.events.next(we)}),(0,ae.w)(se=>{let we=!1;return(0,he.of)(se).pipe(function R(h,g){return(0,Le.z)(d=>{const{targetSnapshot:y,guards:{canActivateChecks:w}}=d;if(!w.length)return(0,he.of)(d);let x=0;return(0,q.D)(w).pipe(Ct(O=>function H(h,g,d,y){const w=h.routeConfig,x=h._resolve;return void 0!==w?.title&&!qt(w)&&(x[Jt]=w.title),function _e(h,g,d,y){const w=function Se(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}(h);if(0===w.length)return(0,he.of)({});const x={};return(0,q.D)(w).pipe((0,Le.z)(O=>function qe(h,g,d,y){const w=Un(g)??y,x=Qr(h,w);return an(x.resolve?x.resolve(g,d):w.runInContext(()=>x(g,d)))}(h[O],g,d,y).pipe(ft(),ht(se=>{x[O]=se}))),en(1),function Wt(h){return(0,ne.U)(()=>h)}(x),Lt(O=>b(O)?ce.E:Q(O)))}(x,h,g,y).pipe((0,ne.U)(O=>(h._resolvedData=O,h.data=It(h,d).resolve,w&&qt(w)&&(h.data[Jt]=w.title),null)))}(O.route,y,h,g)),ht(()=>x++),en(1),(0,Le.z)(O=>x===w.length?(0,he.of)(d):ce.E))})}(d.paramsInheritanceStrategy,this.environmentInjector),ht({next:()=>we=!0,complete:()=>{we||(d.restoreHistory(se),this.cancelNavigationTransition(se,"",2))}}))}),ht(se=>{const we=new ti(se.id,this.urlSerializer.serialize(se.extractedUrl),this.urlSerializer.serialize(se.urlAfterRedirects),se.targetSnapshot);this.events.next(we)}))}),it(O=>{const se=we=>{const Ge=[];we.routeConfig?.loadComponent&&!we.routeConfig._loadedComponent&&Ge.push(this.configLoader.loadComponent(we.routeConfig).pipe(ht(Ke=>{we.component=Ke}),(0,ne.U)(()=>{})));for(const Ke of we.children)Ge.push(...se(Ke));return Ge};return Oe(se(O.targetSnapshot.root)).pipe(Ye(),Ie(1))}),it(()=>this.afterPreactivation()),(0,ne.U)(O=>{const se=function fo(h,g,d){const y=lr(h,g._root,d?d._root:void 0);return new ye(y,g)}(d.routeReuseStrategy,O.targetSnapshot,O.currentRouterState);return y={...O,targetRouterState:se}}),ht(O=>{d.currentUrlTree=O.urlAfterRedirects,d.rawUrlTree=d.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl),d.routerState=O.targetRouterState,"deferred"===d.urlUpdateStrategy&&(O.extras.skipLocationChange||d.setBrowserUrl(d.rawUrlTree,O),d.browserUrlTree=O.urlAfterRedirects)}),((h,g,d,y)=>(0,ne.U)(w=>(new Rt(g,w.targetRouterState,w.currentRouterState,d,y).activate(h),w)))(this.rootContexts,d.routeReuseStrategy,O=>this.events.next(O),this.inputBindingEnabled),Ie(1),ht({next:O=>{w=!0,this.lastSuccessfulNavigation=this.currentNavigation,d.navigated=!0,this.events.next(new Ar(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(d.currentUrlTree))),d.titleStrategy?.updateTitle(O.targetRouterState.snapshot),O.resolve(!0)},complete:()=>{w=!0}}),ir(()=>{w||x||this.cancelNavigationTransition(y,"",1),this.currentNavigation?.id===y.id&&(this.currentNavigation=null)}),Lt(O=>{if(x=!0,Tt(O)){ho(O)||(d.navigated=!0,d.restoreHistory(y,!0));const se=new Vr(y.id,this.urlSerializer.serialize(y.extractedUrl),O.message,O.cancellationCode);if(this.events.next(se),ho(O)){const we=d.urlHandlingStrategy.merge(O.url,d.rawUrlTree),Ge={skipLocationChange:y.extras.skipLocationChange,replaceUrl:"eager"===d.urlUpdateStrategy||nr(y.source)};d.scheduleNavigation(we,Lr,null,Ge,{resolve:y.resolve,reject:y.reject,promise:y.promise})}else y.resolve(!1)}else{d.restoreHistory(y,!0);const se=new bn(y.id,this.urlSerializer.serialize(y.extractedUrl),O,y.targetSnapshot??void 0);this.events.next(se);try{y.resolve(d.errorHandler(O))}catch(we){y.reject(we)}}return ce.E}))}))}cancelNavigationTransition(d,y,w){const x=new Vr(d.id,this.urlSerializer.serialize(d.extractedUrl),y,w);this.events.next(x),d.resolve(!1)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function nr(h){return h!==Lr}let mn=(()=>{class h{buildTitle(d){let y,w=d.root;for(;void 0!==w;)y=this.getResolvedTitleForRoute(w)??y,w=w.children.find(x=>x.outlet===ke);return y}getResolvedTitleForRoute(d){return d.data[Jt]}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(Fo)},providedIn:"root"}),h})(),Fo=(()=>{class h extends mn{constructor(d){super(),this.title=d}updateTitle(d){const y=this.buildTitle(d);void 0!==y&&this.title.setTitle(y)}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(un.Dx))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Pr=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(rr)},providedIn:"root"}),h})();class wo{shouldDetach(g){return!1}store(g,d){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,d){return g.routeConfig===d.routeConfig}}let rr=(()=>{class h extends wo{}return h.\u0275fac=function(){let g;return function(y){return(g||(g=l.n5z(h)))(y||h)}}(),h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const Br=new l.OlP("",{providedIn:"root",factory:()=>({})});let Gc=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(Sa)},providedIn:"root"}),h})(),Sa=(()=>{class h{shouldProcessUrl(d){return!0}extract(d){return d}merge(d,y){return d}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var Cr=(()=>((Cr=Cr||{})[Cr.COMPLETE=0]="COMPLETE",Cr[Cr.FAILED=1]="FAILED",Cr[Cr.REDIRECTING=2]="REDIRECTING",Cr))();function Es(h,g){h.events.pipe(Re(d=>d instanceof Ar||d instanceof Vr||d instanceof bn||d instanceof Do),(0,ne.U)(d=>d instanceof Ar||d instanceof Do?Cr.COMPLETE:d instanceof Vr&&(0===d.code||1===d.code)?Cr.REDIRECTING:Cr.FAILED),Re(d=>d!==Cr.REDIRECTING),Ie(1)).subscribe(()=>{g()})}function zc(h){throw h}function dt(h,g,d){return g.parse("/")}const wa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class h{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Br,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||zc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Gc),this.routeReuseStrategy=(0,l.f3M)(Pr),this.titleStrategy=(0,l.f3M)(mn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(At,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(gn),this.urlSerializer=(0,l.f3M)(Vn),this.location=(0,l.f3M)(me.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(_r,{optional:!0}),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=je(0,null),this.navigationTransitions.setupNavigations(this).subscribe(d=>{this.lastSuccessfulId=d.id,this.currentPageId=this.browserPageId??0},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)})}resetRootComponentType(d){this.routerState.root.component=d,this.navigationTransitions.rootComponentType=d}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const d=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lr,d)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const y="popstate"===d.type?"popstate":"hashchange";"popstate"===y&&setTimeout(()=>{this.navigateToSyncWithBrowser(d.url,y,d.state)},0)}))}navigateToSyncWithBrowser(d,y,w){const x={replaceUrl:!0},O=w?.navigationId?w:null;if(w){const we={...w};delete we.navigationId,delete we.\u0275routerPageId,0!==Object.keys(we).length&&(x.state=we)}const se=this.parseUrl(d);this.scheduleNavigation(se,y,O,x)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(d){this.config=d.map(Ht),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(d,y={}){const{relativeTo:w,queryParams:x,fragment:O,queryParamsHandling:se,preserveFragment:we}=y,Ge=we?this.currentUrlTree.fragment:O;let Ft,Ke=null;switch(se){case"merge":Ke={...this.currentUrlTree.queryParams,...x};break;case"preserve":Ke=this.currentUrlTree.queryParams;break;default:Ke=x||null}null!==Ke&&(Ke=this.removeEmptyProps(Ke));try{Ft=Mr(w?w.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof d[0]||!d[0].startsWith("/"))&&(d=[]),Ft=this.currentUrlTree.root}return no(Ft,d,Ke,Ge??null)}navigateByUrl(d,y={skipLocationChange:!1}){const w=$n(d)?d:this.parseUrl(d),x=this.urlHandlingStrategy.merge(w,this.rawUrlTree);return this.scheduleNavigation(x,Lr,null,y)}navigate(d,y={skipLocationChange:!1}){return function Wc(h){for(let g=0;g<h.length;g++)if(null==h[g])throw new l.vHH(4008,!1)}(d),this.navigateByUrl(this.createUrlTree(d,y),y)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let y;try{y=this.urlSerializer.parse(d)}catch(w){y=this.malformedUriErrorHandler(w,this.urlSerializer,d)}return y}isActive(d,y){let w;if(w=!0===y?{...wa}:!1===y?{...yd}:y,$n(d))return rn(this.currentUrlTree,d,w);const x=this.parseUrl(d);return rn(this.currentUrlTree,x,w)}removeEmptyProps(d){return Object.keys(d).reduce((y,w)=>{const x=d[w];return null!=x&&(y[w]=x),y},{})}scheduleNavigation(d,y,w,x,O){if(this.disposed)return Promise.resolve(!1);let se,we,Ge;O?(se=O.resolve,we=O.reject,Ge=O.promise):Ge=new Promise((Ft,or)=>{se=Ft,we=or});const Ke=this.pendingTasks.add();return Es(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Ke))}),this.navigationTransitions.handleNavigationRequest({source:y,restoredState:w,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:d,extras:x,resolve:se,reject:we,promise:Ge,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ge.catch(Ft=>Promise.reject(Ft))}setBrowserUrl(d,y){const w=this.urlSerializer.serialize(d);if(this.location.isCurrentPathEqualTo(w)||y.extras.replaceUrl){const O={...y.extras.state,...this.generateNgRouterState(y.id,this.browserPageId)};this.location.replaceState(w,"",O)}else{const x={...y.extras.state,...this.generateNgRouterState(y.id,(this.browserPageId??0)+1)};this.location.go(w,"",x)}}restoreHistory(d,y=!1){if("computed"===this.canceledNavigationResolution){const x=this.currentPageId-(this.browserPageId??this.currentPageId);0!==x?this.location.historyGo(x):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===x&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(y&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(d,y){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:y}:{navigationId:d}}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Vi=(()=>{class h{constructor(d,y,w,x,O,se){this.router=d,this.route=y,this.tabIndexAttribute=w,this.renderer=x,this.el=O,this.locationStrategy=se,this.href=null,this.commands=null,this.onChanges=new Ne.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const we=O.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===we||"area"===we,this.isAnchorElement?this.subscription=d.events.subscribe(Ge=>{Ge instanceof Ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(d){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",d)}ngOnChanges(d){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(d,y,w,x,O){return!!(null===this.urlTree||this.isAnchorElement&&(0!==d||y||w||x||O||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const d=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",d)}applyAttributeValue(d,y){const w=this.renderer,x=this.el.nativeElement;null!==y?w.setAttribute(x,d,y):w.removeAttribute(x,d)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return h.\u0275fac=function(d){return new(d||h)(l.Y36(xr),l.Y36(ot),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(me.S$))},h.\u0275dir=l.lG2({type:h,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(d,y){1&d&&l.NdJ("click",function(x){return y.onClick(x.button,x.ctrlKey,x.shiftKey,x.altKey,x.metaKey)}),2&d&&l.uIk("target",y.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]}),h})(),Ss=(()=>{class h{get isActive(){return this._isActive}constructor(d,y,w,x,O){this.router=d,this.element=y,this.renderer=w,this.cdr=x,this.link=O,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=d.events.subscribe(se=>{se instanceof Ar&&this.update()})}ngAfterContentInit(){(0,he.of)(this.links.changes,(0,he.of)(null)).pipe((0,ge.J)()).subscribe(d=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const d=[...this.links.toArray(),this.link].filter(y=>!!y).map(y=>y.onChanges);this.linkInputChangesSubscription=(0,q.D)(d).pipe((0,ge.J)()).subscribe(y=>{this._isActive!==this.isLinkActive(this.router)(y)&&this.update()})}set routerLinkActive(d){const y=Array.isArray(d)?d:d.split(" ");this.classes=y.filter(w=>!!w)}ngOnChanges(d){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const d=this.hasActiveLinks();this._isActive!==d&&(this._isActive=d,this.cdr.markForCheck(),this.classes.forEach(y=>{d?this.renderer.addClass(this.element.nativeElement,y):this.renderer.removeClass(this.element.nativeElement,y)}),d&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(d))})}isLinkActive(d){const y=function oi(h){return!!h.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return w=>!!w.urlTree&&d.isActive(w.urlTree,y)}hasActiveLinks(){const d=this.isLinkActive(this.router);return this.link&&d(this.link)||this.links.some(d)}}return h.\u0275fac=function(d){return new(d||h)(l.Y36(xr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Vi,8))},h.\u0275dir=l.lG2({type:h,selectors:[["","routerLinkActive",""]],contentQueries:function(d,y,w){if(1&d&&l.Suo(w,Vi,5),2&d){let x;l.iGM(x=l.CRH())&&(y.links=x)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),h})();class Ta{}let Yc=(()=>{class h{constructor(d,y,w,x,O){this.router=d,this.injector=w,this.preloadingStrategy=x,this.loader=O}setUpPreloading(){this.subscription=this.router.events.pipe(Re(d=>d instanceof Ar),Ct(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,y){const w=[];for(const x of y){x.providers&&!x._injector&&(x._injector=(0,l.MMx)(x.providers,d,`Route: ${x.path}`));const O=x._injector??d,se=x._loadedInjector??O;(x.loadChildren&&!x._loadedRoutes&&void 0===x.canLoad||x.loadComponent&&!x._loadedComponent)&&w.push(this.preloadConfig(O,x)),(x.children||x._loadedRoutes)&&w.push(this.processRoutes(se,x.children??x._loadedRoutes))}return(0,q.D)(w).pipe((0,ge.J)())}preloadConfig(d,y){return this.preloadingStrategy.preload(y,()=>{let w;w=y.loadChildren&&void 0===y.canLoad?this.loader.loadChildren(d,y):(0,he.of)(null);const x=w.pipe((0,Le.z)(O=>null===O?(0,he.of)(void 0):(y._loadedRoutes=O.routes,y._loadedInjector=O.injector,this.processRoutes(O.injector??d,O.routes))));if(y.loadComponent&&!y._loadedComponent){const O=this.loader.loadComponent(y);return(0,q.D)([x,O]).pipe((0,ge.J)())}return x})}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(xr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ta),l.LFG(mt))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const ws=new l.OlP("");let Ae=(()=>{class h{constructor(d,y,w,x,O={}){this.urlSerializer=d,this.transitions=y,this.viewportScroller=w,this.zone=x,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof No?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof Ar?(this.lastId=d.id,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.urlAfterRedirects).fragment)):d instanceof Do&&0===d.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof En&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,y){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new En(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,y))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return h.\u0275fac=function(d){l.$Z()},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})();function mo(h,g){return{\u0275kind:h,\u0275providers:g}}function $i(){const h=(0,l.f3M)(l.zs3);return g=>{const d=h.get(l.z2F);if(g!==d.components[0])return;const y=h.get(xr),w=h.get(Bi);1===h.get(Ms)&&y.initialNavigation(),h.get(yo,null,l.XFs.Optional)?.setUpPreloading(),h.get(ws,null,l.XFs.Optional)?.init(),y.resetRootComponentType(d.componentTypes[0]),w.closed||(w.next(),w.complete(),w.unsubscribe())}}const Bi=new l.OlP("",{factory:()=>new Ne.x}),Ms=new l.OlP("",{providedIn:"root",factory:()=>1}),yo=new l.OlP("");function Ia(h){return mo(0,[{provide:yo,useExisting:Yc},{provide:Ta,useExisting:h}])}const Ra=new l.OlP("ROUTER_FORROOT_GUARD"),Is=[me.Ye,{provide:Vn,useClass:Tn},xr,kt,{provide:ot,useFactory:function Ts(h){return h.routerState.root},deps:[xr]},mt,[]];function As(){return new l.PXZ("Router",xr)}let Pa=(()=>{class h{constructor(d){}static forRoot(d,y){return{ngModule:h,providers:[Is,[],{provide:At,multi:!0,useValue:d},{provide:Ra,useFactory:Ps,deps:[[xr,new l.FiY,new l.tp0]]},{provide:Br,useValue:y||{}},y?.useHash?{provide:me.S$,useClass:me.Do}:{provide:me.S$,useClass:me.b0},{provide:ws,useFactory:()=>{const h=(0,l.f3M)(me.EM),g=(0,l.f3M)(l.R0b),d=(0,l.f3M)(Br),y=(0,l.f3M)(gn),w=(0,l.f3M)(Vn);return d.scrollOffset&&h.setOffset(d.scrollOffset),new Ae(w,y,h,g,d)}},y?.preloadingStrategy?Ia(y.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:As},y?.initialNavigation?Oa(y):[],y?.bindToComponentInputs?mo(8,[on,{provide:_r,useExisting:on}]).\u0275providers:[],[{provide:xs,useFactory:$i},{provide:l.tb,multi:!0,useExisting:xs}]]}}static forChild(d){return{ngModule:h,providers:[{provide:At,multi:!0,useValue:d}]}}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(Ra,8))},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({}),h})();function Ps(h){return"guarded"}function Oa(h){return["disabled"===h.initialNavigation?mo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const g=(0,l.f3M)(xr);return()=>{g.setUpLocationChangeListener()}}},{provide:Ms,useValue:2}]).\u0275providers:[],"enabledBlocking"===h.initialNavigation?mo(2,[{provide:Ms,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:g=>{const d=g.get(me.V_,Promise.resolve());return()=>d.then(()=>new Promise(y=>{const w=g.get(xr),x=g.get(Bi);Es(w,()=>{y(!0)}),g.get(gn).afterPreactivation=()=>(y(!0),x.closed?(0,he.of)(void 0):x),w.initialNavigation()}))}}]).\u0275providers:[]]}const xs=new l.OlP("")},9659:(Qe,Y,T)=>{"use strict";T.d(Y,{Z:()=>ge});var l=T(5861);const N=new WeakMap,Z=new WeakMap,W=new WeakMap,q=Symbol("anyProducer"),he=Promise.resolve(),be=Symbol("listenerAdded"),F=Symbol("listenerRemoved");let k=!1,K=!1;function oe(z){if("string"!=typeof z&&"symbol"!=typeof z&&"number"!=typeof z)throw new TypeError("`eventName` must be a string, symbol, or number")}function ve(z){if("function"!=typeof z)throw new TypeError("listener must be a function")}function xe(z,j){const fe=Z.get(z);if(fe.has(j))return fe.get(j)}function pe(z,j){const fe="string"==typeof j||"symbol"==typeof j||"number"==typeof j?j:q,le=W.get(z);if(le.has(fe))return le.get(fe)}function Ue(z,j){j=Array.isArray(j)?j:[j];let fe=!1,le=()=>{},Q=[];const ce={enqueue(Ee){Q.push(Ee),le()},finish(){fe=!0,le()}};for(const Ee of j){let ze=pe(z,Ee);ze||(ze=new Set,W.get(z).set(Ee,ze)),ze.add(ce)}return{next(){var Ee=this;return(0,l.Z)(function*(){return Q?0===Q.length?fe?(Q=void 0,Ee.next()):(yield new Promise(ze=>{le=ze}),Ee.next()):{done:!1,value:yield Q.shift()}:{done:!0}})()},return(Ee){var ze=arguments;return(0,l.Z)(function*(){Q=void 0;for(const rt of j){const _t=pe(z,rt);_t&&(_t.delete(ce),0===_t.size&&W.get(z).delete(rt))}return le(),ze.length>0?{done:!0,value:yield Ee}:{done:!0}})()},[Symbol.asyncIterator](){return this}}}function L(z){if(void 0===z)return te;if(!Array.isArray(z))throw new TypeError("`methodNames` must be an array of strings");for(const j of z)if(!te.includes(j))throw"string"!=typeof j?new TypeError("`methodNames` element must be a string"):new Error(`${j} is not Emittery method`);return z}const G=z=>z===be||z===F;function J(z,j,fe){if(G(j))try{k=!0,z.emit(j,fe)}finally{k=!1}}class ge{static mixin(j,fe){return fe=L(fe),le=>{if("function"!=typeof le)throw new TypeError("`target` must be function");for(const Ee of fe)if(void 0!==le.prototype[Ee])throw new Error(`The property \`${Ee}\` already exists on \`target\``);Object.defineProperty(le.prototype,j,{enumerable:!1,get:function Q(){return Object.defineProperty(this,j,{enumerable:!1,value:new ge}),this[j]}});const ce=Ee=>function(...ze){return this[j][Ee](...ze)};for(const Ee of fe)Object.defineProperty(le.prototype,Ee,{enumerable:!1,value:ce(Ee)});return le}}static get isDebugEnabled(){if("object"!=typeof globalThis.process?.env)return K;const{env:j}=globalThis.process??{env:{}};return"emittery"===j.DEBUG||"*"===j.DEBUG||K}static set isDebugEnabled(j){K=j}constructor(j={}){N.set(this,new Set),Z.set(this,new Map),W.set(this,new Map),W.get(this).set(q,new Set),this.debug=j.debug??{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(fe,le,Q,ce)=>{try{ce=JSON.stringify(ce)}catch{ce=`Object with the following keys failed to stringify: ${Object.keys(ce).join(",")}`}("symbol"==typeof Q||"number"==typeof Q)&&(Q=Q.toString());const Ee=new Date,ze=`${Ee.getHours()}:${Ee.getMinutes()}:${Ee.getSeconds()}.${Ee.getMilliseconds()}`;console.log(`[${ze}][emittery:${fe}][${le}] Event Name: ${Q}\n\tdata: ${ce}`)})}logIfDebugEnabled(j,fe,le){(ge.isDebugEnabled||this.debug.enabled)&&this.debug.logger(j,this.debug.name,fe,le)}on(j,fe){ve(fe),j=Array.isArray(j)?j:[j];for(const le of j){oe(le);let Q=xe(this,le);Q||(Q=new Set,Z.get(this).set(le,Q)),Q.add(fe),this.logIfDebugEnabled("subscribe",le,void 0),G(le)||J(this,be,{eventName:le,listener:fe})}return this.off.bind(this,j,fe)}off(j,fe){ve(fe),j=Array.isArray(j)?j:[j];for(const le of j){oe(le);const Q=xe(this,le);Q&&(Q.delete(fe),0===Q.size&&Z.get(this).delete(le)),this.logIfDebugEnabled("unsubscribe",le,void 0),G(le)||J(this,F,{eventName:le,listener:fe})}}once(j){let fe;const le=new Promise(Q=>{fe=this.on(j,ce=>{fe(),Q(ce)})});return le.off=fe,le}events(j){j=Array.isArray(j)?j:[j];for(const fe of j)oe(fe);return Ue(this,j)}emit(j,fe){var le=this;return(0,l.Z)(function*(){if(oe(j),G(j)&&!k)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");le.logIfDebugEnabled("emit",j,fe),function Oe(z,j,fe){const le=W.get(z);if(le.has(j))for(const Q of le.get(j))Q.enqueue(fe);if(le.has(q)){const Q=Promise.all([j,fe]);for(const ce of le.get(q))ce.enqueue(Q)}}(le,j,fe);const Q=xe(le,j)??new Set,ce=N.get(le),Ee=[...Q],ze=G(j)?[]:[...ce];yield he,yield Promise.all([...Ee.map(function(){var rt=(0,l.Z)(function*(_t){if(Q.has(_t))return _t(fe)});return function(_t){return rt.apply(this,arguments)}}()),...ze.map(function(){var rt=(0,l.Z)(function*(_t){if(ce.has(_t))return _t(j,fe)});return function(_t){return rt.apply(this,arguments)}}())])})()}emitSerial(j,fe){var le=this;return(0,l.Z)(function*(){if(oe(j),G(j)&&!k)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");le.logIfDebugEnabled("emitSerial",j,fe);const Q=xe(le,j)??new Set,ce=N.get(le),Ee=[...Q],ze=[...ce];yield he;for(const rt of Ee)Q.has(rt)&&(yield rt(fe));for(const rt of ze)ce.has(rt)&&(yield rt(j,fe))})()}onAny(j){return ve(j),this.logIfDebugEnabled("subscribeAny",void 0,void 0),N.get(this).add(j),J(this,be,{listener:j}),this.offAny.bind(this,j)}anyEvent(){return Ue(this)}offAny(j){ve(j),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),J(this,F,{listener:j}),N.get(this).delete(j)}clearListeners(j){j=Array.isArray(j)?j:[j];for(const fe of j)if(this.logIfDebugEnabled("clear",fe,void 0),"string"==typeof fe||"symbol"==typeof fe||"number"==typeof fe){const le=xe(this,fe);le&&le.clear();const Q=pe(this,fe);if(Q){for(const ce of Q)ce.finish();Q.clear()}}else{N.get(this).clear();for(const[le,Q]of Z.get(this).entries())Q.clear(),Z.get(this).delete(le);for(const[le,Q]of W.get(this).entries()){for(const ce of Q)ce.finish();Q.clear(),W.get(this).delete(le)}}}listenerCount(j){j=Array.isArray(j)?j:[j];let fe=0;for(const le of j)if("string"!=typeof le){typeof le<"u"&&oe(le),fe+=N.get(this).size;for(const Q of Z.get(this).values())fe+=Q.size;for(const Q of W.get(this).values())fe+=Q.size}else fe+=N.get(this).size+(xe(this,le)?.size??0)+(pe(this,le)?.size??0)+(pe(this)?.size??0);return fe}bindMethods(j,fe){if("object"!=typeof j||null===j)throw new TypeError("`target` must be an object");fe=L(fe);for(const le of fe){if(void 0!==j[le])throw new Error(`The property \`${le}\` already exists on \`target\``);Object.defineProperty(j,le,{enumerable:!1,value:this[le].bind(this)})}}}const te=Object.getOwnPropertyNames(ge.prototype).filter(z=>"constructor"!==z);Object.defineProperty(ge,"listenerAdded",{value:be,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(ge,"listenerRemoved",{value:F,writable:!1,enumerable:!0,configurable:!1})},5861:(Qe,Y,T)=>{"use strict";function l(Z,W,q,he,be,F,k){try{var K=Z[F](k),oe=K.value}catch(ve){return void q(ve)}K.done?W(oe):Promise.resolve(oe).then(he,be)}function N(Z){return function(){var W=this,q=arguments;return new Promise(function(he,be){var F=Z.apply(W,q);function k(oe){l(F,he,be,k,K,"next",oe)}function K(oe){l(F,he,be,k,K,"throw",oe)}k(void 0)})}}T.d(Y,{Z:()=>N})},7582:(Qe,Y,T)=>{"use strict";function ve(me,ne,ae,Ie){return new(ae||(ae=Promise))(function(Re,Le){function Ye(ft){try{et(Ie.next(ft))}catch(Ct){Le(Ct)}}function Kt(ft){try{et(Ie.throw(ft))}catch(Ct){Le(Ct)}}function et(ft){ft.done?Re(ft.value):function Fe(Re){return Re instanceof ae?Re:new ae(function(Le){Le(Re)})}(ft.value).then(Ye,Kt)}et((Ie=Ie.apply(me,ne||[])).next())})}function te(me){return this instanceof te?(this.v=me,this):new te(me)}function z(me,ne,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Ie=ae.apply(me,ne||[]),Re=[];return Fe={},Le("next"),Le("throw"),Le("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Le(ht){Ie[ht]&&(Fe[ht]=function(Lt){return new Promise(function(yn,vn){Re.push([ht,Lt,yn,vn])>1||Ye(ht,Lt)})})}function Ye(ht,Lt){try{!function Kt(ht){ht.value instanceof te?Promise.resolve(ht.value.v).then(et,ft):Ct(Re[0][2],ht)}(Ie[ht](Lt))}catch(yn){Ct(Re[0][3],yn)}}function et(ht){Ye("next",ht)}function ft(ht){Ye("throw",ht)}function Ct(ht,Lt){ht(Lt),Re.shift(),Re.length&&Ye(Re[0][0],Re[0][1])}}function fe(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ne=me[Symbol.asyncIterator];return ne?ne.call(me):(me=function Ue(me){var ne="function"==typeof Symbol&&Symbol.iterator,ae=ne&&me[ne],Ie=0;if(ae)return ae.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Ie>=me.length&&(me=void 0),{value:me&&me[Ie++],done:!me}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),ae={},Ie("next"),Ie("throw"),Ie("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function Ie(Re){ae[Re]=me[Re]&&function(Le){return new Promise(function(Ye,Kt){!function Fe(Re,Le,Ye,Kt){Promise.resolve(Kt).then(function(et){Re({value:et,done:Ye})},Le)}(Ye,Kt,(Le=me[Re](Le)).done,Le.value)})}}}T.d(Y,{FC:()=>z,KL:()=>fe,mG:()=>ve,qq:()=>te})}},Qe=>{Qe(Qe.s=8956)}]);