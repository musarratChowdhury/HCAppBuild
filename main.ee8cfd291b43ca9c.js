(self.webpackChunkHCApp=self.webpackChunkHCApp||[]).push([[179],{4670:(et,q,T)=>{"use strict";T.d(q,{PV:()=>oe,f5:()=>l,ok:()=>te,x4:()=>I});class l{constructor(){this.totalWickets=0,this.maxBalls=0,this.roomName="",this.roomId="",this.matchType="",this.playersIdArr=[],this.spectatorsIdArr=[],this.gameOver=!1}setInfos(B,X,ie,be,Ne){this.totalWickets=B,this.maxBalls=X,this.roomId=be,this.roomName=ie,this.matchType=Ne}}class te{constructor(){this.roomId="",this.roomIdString="",this.playerId="",this.currentConnectionId="",this.teamName="",this.name="",this.roomName="",this.number=0,this.runs=0,this.wicketsLeft=0,this.isOnStrike=!1,this.ballsPlayed=0,this.isBatting=!1,this.hasWonToss=!1,this.runRate=0,this.strikeRate=0,this.captainsChoice="",this.isConnected=!1,this.isCaptain=!1,this.isReady=!1,this.isLocked=!1,this.lockedWith=0}}var oe=(()=>((oe=oe||{})[oe.IsDraw=0]="IsDraw",oe[oe.WonByRun=1]="WonByRun",oe[oe.WonByWicket=2]="WonByWicket",oe))();class I{constructor(){this.winnerTeamName="",this.matchWinType=oe.IsDraw,this.wonByRun=0,this.wonByWicket=0,this.player1Runs=0,this.player2Runs=0,this.player1Sr=0,this.player2Sr=0,this.player3Runs=0,this.player4Runs=0,this.player3Sr=0,this.player4Sr=0,this.player1Name="",this.player2Name="",this.player3Name="",this.player4Name="",this.teamATotalRuns=0,this.teamBTotalRuns=0,this.teamAInnings="",this.teamBInnings=""}}},7672:(et,q,T)=>{"use strict";T.d(q,{b9:()=>ue,YW:()=>fe});var l=T(6593),N=T(6814),te=T(95),K=T(6538),W=T(4274),oe=T(4670),I=T(4946),V=T(1982);function B(he,Be){if(1&he&&(I.TgZ(0,"div",45),I._uU(1," Need To Win : "),I.TgZ(2,"span",46),I._uU(3),I.qZA()()),2&he){const Z=I.oxw();I.xp6(3),I.hij(" ",Z.Target,"")}}function X(he,Be){if(1&he){const Z=I.EpF();I.TgZ(0,"div",47),I.NdJ("click",function(){I.CHM(Z);const de=I.oxw();return I.KtG(de.handleReadyClick())}),I._uU(1," READY? "),I.qZA()}}function ie(he,Be){if(1&he){const Z=I.EpF();I.TgZ(0,"div",48)(1,"div",49)(2,"div",50),I.NdJ("click",function(de){I.CHM(Z);const Y=I.oxw();return I.KtG(Y.handleBatBallSelection(de))}),I._uU(3," BAT "),I.qZA(),I.TgZ(4,"div",51),I.NdJ("click",function(de){I.CHM(Z);const Y=I.oxw();return I.KtG(Y.handleBatBallSelection(de))}),I._uU(5," BALL "),I.qZA()()()}}function be(he,Be){1&he&&(I.TgZ(0,"div",52)(1,"div",53),I._uU(2,"OUT!"),I.qZA()())}function Ne(he,Be){if(1&he&&(I.TgZ(0,"li")(1,"div",54),I._uU(2),I.qZA()()),2&he){const Z=Be.$implicit;I.xp6(2),I.Oqu(Z)}}const Fe=[{path:"",redirectTo:"setup",pathMatch:"full"},{path:"",children:[{path:"setup",loadChildren:()=>T.e(802).then(T.bind(T,802)).then(he=>he.SetupModule)},{path:"game",component:(()=>{class he{constructor(Z,Ie,de){this.socketService=Z,this.ngZone=Ie,this.router=de,this.toggleReady=!1,this.toggleConfirm=!1,this.toggleSelection=!1,this.batBallSelection=!1,this.moveOppoHand=!1,this.moveCurrentHand=!1,this.CurrentPlayer=new oe.ok,this.OppoPlayer=new oe.ok,this.MessageBoxText="",this.Overs="",this.Wickets=0,this.TotalWickets=0,this.Target=0,this.Runs=0,this.ThisOverBattingDisplay=[],this.InningsText="1st",this.SelectedNumber=0,this.CaptainsChoice="",this.ShowOutNotification=!1,this.HandImageSrc=["dotball","one","two","three","four","five","six"],this.OppoHandImageSrc=["dotball","oner","twor","threer","fourr","fiver","sixr"],this.HandImage=this.HandImageSrc[0],this.OppoHandImage=this.OppoHandImageSrc[0],this.playerConnection={player1:!1,player2:!1,player3:!1,player4:!1},this.playerNames={player1:"Player 1",player2:"Player 2",player3:"Player 3",player4:"Player 4"},this.playerRuns={player1:0,player2:0,player3:0,player4:0},this.playerWicketsLeft={player1:0,player2:0,player3:0,player4:0},this.OnStrike={player1:!1,player2:!1,player3:!1,player4:!1},this.Bowling={player1:!1,player2:!1,player3:!1,player4:!1},this.OnStrikeImage_player1="nonStriker",this.OnStrikeImage_player2="nonStriker",this.OnStrikeImage_player3="nonStriker",this.OnStrikeImage_player4="nonStriker",this.connectedToTheServer=!1}ngOnInit(){if(this.socketService.CurrentPlayer){this.CurrentPlayer=this.socketService.CurrentPlayer;let Z=this.socketService.CurrentMatchInfo;console.log(Z),this.ngZone.run(()=>{null!=Z&&(this.MessageBoxText=`Joined room : ${this.socketService.CurrentMatchInfo.roomName}`,this.TotalWickets=Z.totalWickets,this.InningsText="1st",this.Overs=this.overText(0,Z.maxBalls),this.setPlayerNames(this.socketService.ExistingPlayerNameList))})}this.socketService.Emitter.on(W.f.OtherPlayerJoined,Z=>{this.ngZone.run(()=>{this.MessageBoxText=`player Joined : ${Z.joinedPlayerName}`,this.setPlayerNames(Z.existingPlayerNameList)})}),this.socketService.Emitter.on(W.p.InitiateTossStage,Z=>{this.ngZone.run(()=>{this.MessageBoxText=" TeamA Captain is head",this.socketService.CurrentPlayer.isCaptain?this.toggleReady=!0:this.MessageBoxText="Captain is Tossing",this.setConnectionStatus(Z.existingPlayersList)})}),this.socketService.Emitter.on(W.f.PlayerReadyReceived,Z=>{this.ngZone.run(()=>{this.socketService.isTeamMate(Z.playerId)?this.moveCurrentHand=!0:this.socketService.isOpponent(Z.playerId)&&(this.moveOppoHand=!0),this.MessageBoxText=`${Z.playerName} is Ready!`})}),this.socketService.Emitter.on(W.p.ShowTheLockedNumber,Z=>{this.ngZone.run(()=>{this.MessageBoxText=`Confirmed : ${Z}`,this.OppoPlayer.isReady=!0})}),this.socketService.Emitter.on(W.p.ShowOppoisLocked,()=>{this.ngZone.run(()=>{this.MessageBoxText="Oppo is locked",this.OppoPlayer.isReady=!0})}),this.socketService.Emitter.on(W.f.TossWinner,Z=>{Z.tosswinner&&this.socketService.CurrentPlayer.isCaptain&&this.ngZone.run(()=>{this.batBallSelection=!0}),this.ngZone.run(()=>{this.HandImage=this.HandImageSrc[Z.myNumber],this.OppoHandImage=this.OppoHandImageSrc[Z.oppoNumber],this.MessageBoxText=`${Z.msg}`})}),this.socketService.Emitter.on(W.f.StartMatch,Z=>{this.ngZone.run(()=>{this.connectedToTheServer=!0}),this.StartScreen(Z)}),this.socketService.Emitter.on(W.f.UpdateScore,Z=>{this.ngZone.run(()=>{this.Overs=this.overText(Z.currentInningsBallsPlayed,this.socketService.CurrentMatchInfo.maxBalls),this.Wickets=Z.currentInningsUpdatedWickets,this.Runs=Z.currentInningsUpdatedRuns}),this.ngZone.run(()=>{"2nd"==this.InningsText&&(this.Target=Z.needToWin),Z.changeInnings&&(this.InningsText="2nd"),Z.isOut&&(this.ShowOutNotification=!0),this.socketService.CurrentPlayer.playerId==Z.currentOnStrikeBatsmanId||this.socketService.isTeamMate(Z.currentOnStrikeBatsmanId)?(this.HandImage=this.HandImageSrc[Z.batsmanWasLockedWith],this.OppoHandImage=this.OppoHandImageSrc[Z.bowlerWasLockedWith]):(this.socketService.CurrentPlayer.playerId==Z.currentOnStrikeBowlerId||this.socketService.isTeamMate(Z.currentOnStrikeBatsmanId))&&(this.HandImage=this.HandImageSrc[Z.bowlerWasLockedWith],this.OppoHandImage=this.OppoHandImageSrc[Z.batsmanWasLockedWith])}),this.socketService.CurrentMatchInfo.gameOver||setTimeout(()=>{this.UpdateScreen(Z)},1500)}),this.socketService.Emitter.on(W.p.ShowMatchWinLose,Z=>{this.ngZone.run(Z.matchWinType==oe.PV.IsDraw?()=>{this.MessageBoxText="Match is Draw!"}:Z.winnerTeamName==this.socketService.CurrentPlayer.teamName?()=>{this.MessageBoxText="Your team has won"}:()=>{this.MessageBoxText="Your team has lost"}),setTimeout(()=>{this.router.navigate(["/result"]).then()},1500)}),this.socketService.Emitter.on(W.f.PlayerDisconnected,()=>{this.ngZone.run(()=>{this.MessageBoxText="player disconnected"})}),this.socketService.Emitter.on(W.f.ServerDisconnected,()=>{this.ngZone.run(()=>{this.connectedToTheServer=!1,this.MessageBoxText="Server Disconnected!"})})}handleReadyClick(){this.CurrentPlayer?(this.socketService.CurrentPlayer.isReady=!0,this.ngZone.run(()=>{this.toggleReady=!1,this.toggleSelection=!0,this.moveCurrentHand=!0}),this.socketService.Emitter.emit(W.f.PlayerReady)):console.log("current player was not found!")}handleConfirmClick(){this.socketService.Emitter.emit(W.f.PlayerConfirmed,this.SelectedNumber),this.ngZone.run(()=>{this.toggleConfirm=!1,this.toggleSelection=!1})}handleNumberClick(Z){const Ie=Z.target?.dataset.number;this.SelectedNumber=Ie,this.ngZone.run(()=>{this.toggleConfirm=!0}),console.log(Ie)}handleBatBallSelection(Z){const Ie=Z.target?.dataset.selection;this.CaptainsChoice=Ie,this.socketService.Emitter.emit(W.f.CaptainsChoice,this.CaptainsChoice),this.ngZone.run(()=>{this.MessageBoxText=`Selected to ${Ie} first`,this.batBallSelection=!1})}getlastnumber(Z){return 0!=Z.length?Z[Z.length-1]:0}isOut(Z){return 0!=Z.length&&Z[Z.length-1].includes("W")}StartScreen(Z){this.ngZone.run(()=>{this.OppoHandImage=this.OppoHandImageSrc[0],this.moveOppoHand=!1,this.moveCurrentHand=!1,this.HandImage=this.HandImageSrc[0],this.ShowOutNotification=!1,this.UpdateOnStikeInfo(Z)});let Ie=Z.currentOnStrikeBatsmanId,de=Z.currentOnStrikeBowlerId,Y=this.socketService.CurrentPlayer.playerId;Ie==Y||de==Y?this.ngZone.run(()=>{this.toggleReady=!0,this.MessageBoxText=Ie==Y?"You are on Strike!":"You are bowling"}):(this.socketService.isTeamMate(Ie)&&this.ngZone.run(()=>{this.MessageBoxText="TeamMate is Batting!"}),this.socketService.isTeamMate(de)&&this.ngZone.run(()=>{this.MessageBoxText="TeamMate is Bowling!"}))}UpdateScreen(Z){this.ngZone.run(()=>{this.OppoHandImage=this.OppoHandImageSrc[0],this.moveOppoHand=!1,this.moveCurrentHand=!1,this.HandImage=this.HandImageSrc[0],this.ShowOutNotification=!1,this.ThisOverBattingDisplay=Z.battingTeamThisOverDisplay,this.updateScoreBoard(Z)});let Ie=Z.currentOnStrikeBatsmanId,de=Z.currentOnStrikeBowlerId,Y=this.socketService.CurrentPlayer.playerId;Ie==Y||de==Y?this.ngZone.run(()=>{this.toggleReady=!0,this.MessageBoxText=Ie==Y?"You are on Strike!":"You are bowling"}):(this.socketService.isTeamMate(Ie)&&this.ngZone.run(()=>{this.MessageBoxText="TeamMate is Batting!"}),this.socketService.isTeamMate(de)&&this.ngZone.run(()=>{this.MessageBoxText="TeamMate is Bowling!"}))}overText(Z,Ie){return`${Math.floor(Z/6)}.${Z%6} (${Ie/6})`}setPlayerNames(Z){this.playerNames.player1=Z[0],this.playerNames.player2=Z[1],this.playerNames.player3=Z[2],this.playerNames.player4=Z[3]}setConnectionStatus(Z){this.playerConnection.player1=Z[0].isConnected,this.playerConnection.player2=Z[1].isConnected,this.playerConnection.player3=Z[2].isConnected,this.playerConnection.player4=Z[3].isConnected}updateScoreBoard(Z){this.OnStrikeImage_player1=Z.teamWiseStrikes[0],this.OnStrikeImage_player2=Z.teamWiseStrikes[1],this.OnStrikeImage_player3=Z.teamWiseStrikes[2],this.OnStrikeImage_player4=Z.teamWiseStrikes[3],this.playerRuns.player1=Z.teamWiseRuns[0],this.playerRuns.player2=Z.teamWiseRuns[1],this.playerRuns.player3=Z.teamWiseRuns[2],this.playerRuns.player4=Z.teamWiseRuns[3],this.playerWicketsLeft.player1=Z.teamWiseWicketsLeft[0],this.playerWicketsLeft.player2=Z.teamWiseWicketsLeft[1],this.playerWicketsLeft.player3=Z.teamWiseWicketsLeft[2],this.playerWicketsLeft.player4=Z.teamWiseWicketsLeft[3]}UpdateOnStikeInfo(Z){this.OnStrikeImage_player1=Z.teamWiseStrikes[0],this.OnStrikeImage_player2=Z.teamWiseStrikes[1],this.OnStrikeImage_player3=Z.teamWiseStrikes[2],this.OnStrikeImage_player4=Z.teamWiseStrikes[3],this.playerWicketsLeft.player1=Z.teamWiseWicketsLeft[0],this.playerWicketsLeft.player2=Z.teamWiseWicketsLeft[1],this.playerWicketsLeft.player3=Z.teamWiseWicketsLeft[2],this.playerWicketsLeft.player4=Z.teamWiseWicketsLeft[3]}}return he.\u0275fac=function(Z){return new(Z||he)(I.Y36(V.$),I.Y36(I.R0b),I.Y36(K.F0))},he.\u0275cmp=I.Xpm({type:he,selectors:[["app-game"]],decls:92,vars:74,consts:[[1,"main-game-section",2,"background-image","url('../../assets/images/backgrounds/stadium.jpg')"],[1,"score-board"],[1,"over"],[1,"over-text"],[1,"runs"],[1,"runs-text"],[1,"wickets"],[1,"wickets-text"],[1,"innings"],[1,"innings-text"],["class","target",4,"ngIf"],[1,"notification-board"],[1,"message-box"],[1,"server-connection-status"],[1,"cricket-field"],[1,"left-side-window"],[1,"team-name"],[1,"players"],[1,"player"],[1,"player-name"],[1,"player-statuses"],[1,"connection-status"],[1,"is-onstrike"],[1,"player-runs"],[1,"player-wicketsLeft"],[1,"back-field"],[1,"hand-1"],["data-hand","oppo","alt","hand","srcset","",3,"src"],[1,"hand-2"],["data-hand","self","alt","hand","srcset","",3,"src"],["class","beautiful-button","id","ready-button",3,"click",4,"ngIf"],["id","confirm-button",1,"beautiful-button",3,"click"],[1,"right-side-window"],["class","captains-decision",4,"ngIf"],["class","outnotification",4,"ngIf"],[1,"this-over-container"],[4,"ngFor","ngForOf"],[1,"bottom-container"],[1,"hand-buttons-container"],["data-number","1",1,"hand","one",2,"background-image","url('../../assets/images/hands/one.png')",3,"click"],["data-number","2",1,"hand","two",2,"background-image","url('../../assets/images/hands/two.png')",3,"click"],["data-number","3",1,"hand","three",2,"background-image","url('../../assets/images/hands/three.png')",3,"click"],["data-number","4",1,"hand","four",2,"background-image","url('../../assets/images/hands/four.png')",3,"click"],["data-number","5",1,"hand","five",2,"background-image","url('../../assets/images/hands/five.png')",3,"click"],["data-number","6",1,"hand","six",2,"background-image","url('../../assets/images/hands/six.png')",3,"click"],[1,"target"],[1,"target-text"],["id","ready-button",1,"beautiful-button",3,"click"],[1,"captains-decision"],[1,"bat-ball-decision"],["data-selection","bat",1,"bat-option",3,"click"],["data-selection","ball",1,"ball-option",3,"click"],[1,"outnotification"],[1,"out-text"],[1,"balls-played"]],template:function(Z,Ie){1&Z&&(I.TgZ(0,"section",0)(1,"div",1)(2,"div",2),I._uU(3," Over : "),I.TgZ(4,"span",3),I._uU(5),I.qZA()(),I.TgZ(6,"div",4),I._uU(7," Runs : "),I.TgZ(8,"span",5),I._uU(9),I.qZA()(),I.TgZ(10,"div",6),I._uU(11," Wickets : "),I.TgZ(12,"span",7),I._uU(13),I.qZA()(),I.TgZ(14,"div",8),I._uU(15," Innings : "),I.TgZ(16,"span",9),I._uU(17),I.qZA()(),I.YNc(18,B,4,1,"div",10),I.qZA(),I.TgZ(19,"div",11)(20,"div",12),I._uU(21),I.qZA(),I._UZ(22,"div",13),I.qZA(),I.TgZ(23,"div",14)(24,"div",15)(25,"div",16),I._uU(26,"Team A"),I.qZA(),I.TgZ(27,"div",17)(28,"div",18)(29,"div",19),I._uU(30),I.qZA(),I.TgZ(31,"div",20),I._UZ(32,"div",21)(33,"div",22),I.qZA(),I.TgZ(34,"div",23),I._uU(35),I.qZA(),I.TgZ(36,"div",24),I._uU(37),I.qZA()(),I.TgZ(38,"div",18)(39,"div",19),I._uU(40),I.qZA(),I.TgZ(41,"div",20),I._UZ(42,"div",21)(43,"div",22),I.qZA(),I.TgZ(44,"div",23),I._uU(45),I.qZA(),I.TgZ(46,"div",24),I._uU(47),I.qZA()()()(),I.TgZ(48,"div",25)(49,"div",26),I._UZ(50,"img",27),I.qZA(),I.TgZ(51,"div",28),I._UZ(52,"img",29),I.qZA(),I.YNc(53,X,2,0,"div",30),I.TgZ(54,"div",31),I.NdJ("click",function(){return Ie.handleConfirmClick()}),I._uU(55),I.qZA()(),I.TgZ(56,"div",32)(57,"div",16),I._uU(58,"Team B"),I.qZA(),I.TgZ(59,"div",17)(60,"div",18)(61,"div",19),I._uU(62),I.qZA(),I.TgZ(63,"div",20),I._UZ(64,"div",21)(65,"div",22),I.qZA(),I.TgZ(66,"div",23),I._uU(67),I.qZA(),I.TgZ(68,"div",24),I._uU(69),I.qZA()(),I.TgZ(70,"div",18)(71,"div",19),I._uU(72),I.qZA(),I.TgZ(73,"div",20),I._UZ(74,"div",21)(75,"div",22),I.qZA(),I.TgZ(76,"div",23),I._uU(77),I.qZA(),I.TgZ(78,"div",24),I._uU(79),I.qZA()()()(),I.YNc(80,ie,6,0,"div",33),I.YNc(81,be,3,0,"div",34),I.qZA(),I.TgZ(82,"div",35),I.YNc(83,Ne,3,1,"li",36),I.qZA(),I.TgZ(84,"div",37)(85,"div",38)(86,"div",39),I.NdJ("click",function(Y){return Ie.handleNumberClick(Y)}),I.qZA(),I.TgZ(87,"div",40),I.NdJ("click",function(Y){return Ie.handleNumberClick(Y)}),I.qZA(),I.TgZ(88,"div",41),I.NdJ("click",function(Y){return Ie.handleNumberClick(Y)}),I.qZA(),I.TgZ(89,"div",42),I.NdJ("click",function(Y){return Ie.handleNumberClick(Y)}),I.qZA(),I.TgZ(90,"div",43),I.NdJ("click",function(Y){return Ie.handleNumberClick(Y)}),I.qZA(),I.TgZ(91,"div",44),I.NdJ("click",function(Y){return Ie.handleNumberClick(Y)}),I.qZA()()()()),2&Z&&(I.xp6(5),I.Oqu(Ie.Overs),I.xp6(4),I.Oqu(Ie.Runs),I.xp6(4),I.AsE("",Ie.Wickets," (",Ie.TotalWickets,")"),I.xp6(4),I.Oqu(Ie.InningsText),I.xp6(1),I.Q6J("ngIf",Ie.Target>0),I.xp6(3),I.Oqu(Ie.MessageBoxText),I.xp6(1),I.ekj("connected-to-server",Ie.connectedToTheServer),I.xp6(8),I.Oqu(Ie.playerNames.player1),I.xp6(2),I.Tol(Ie.playerConnection.player1?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",Ie.OnStrikeImage_player1,".png')"),I.xp6(2),I.hij("Runs : ",Ie.playerRuns.player1,""),I.xp6(2),I.hij(" Wickets Left : ",Ie.playerWicketsLeft.player1," "),I.xp6(3),I.Oqu(Ie.playerNames.player2),I.xp6(2),I.Tol(Ie.playerConnection.player2?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",Ie.OnStrikeImage_player2,".png')"),I.xp6(2),I.hij("Runs : ",Ie.playerRuns.player2,""),I.xp6(2),I.hij(" Wickets Left : ",Ie.playerWicketsLeft.player2," "),I.xp6(2),I.ekj("animated-opp-hand",Ie.moveOppoHand)("animated-opp-hand-rev",!Ie.moveOppoHand),I.xp6(1),I.MGl("src","../../assets/images/hands/",Ie.OppoHandImage,".png",I.LSH),I.xp6(1),I.ekj("animated-self-hand",Ie.moveCurrentHand)("animated-self-hand-rev",!Ie.moveCurrentHand),I.xp6(1),I.MGl("src","../../assets/images/hands/",Ie.HandImage,".png",I.LSH),I.xp6(1),I.Q6J("ngIf",!0===Ie.toggleReady),I.xp6(1),I.ekj("invisible",!Ie.toggleConfirm),I.xp6(1),I.hij(" CONFIRM (",Ie.SelectedNumber,")? "),I.xp6(7),I.Oqu(Ie.playerNames.player3),I.xp6(2),I.Tol(Ie.playerConnection.player3?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",Ie.OnStrikeImage_player3,".png')"),I.xp6(2),I.hij("Runs : ",Ie.playerRuns.player3,""),I.xp6(2),I.hij(" Wickets Left : ",Ie.playerWicketsLeft.player3," "),I.xp6(3),I.Oqu(Ie.playerNames.player4),I.xp6(2),I.Tol(Ie.playerConnection.player4?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",Ie.OnStrikeImage_player4,".png')"),I.xp6(2),I.hij("Runs : ",Ie.playerRuns.player4,""),I.xp6(2),I.hij(" Wickets Left : ",Ie.playerWicketsLeft.player4," "),I.xp6(1),I.Q6J("ngIf",!0===Ie.batBallSelection),I.xp6(1),I.Q6J("ngIf",!0===Ie.ShowOutNotification),I.xp6(2),I.Q6J("ngForOf",Ie.ThisOverBattingDisplay),I.xp6(3),I.ekj("disabled",!Ie.toggleSelection),I.xp6(1),I.ekj("disabled",!Ie.toggleSelection),I.xp6(1),I.ekj("disabled",!Ie.toggleSelection),I.xp6(1),I.ekj("disabled",!Ie.toggleSelection),I.xp6(1),I.ekj("disabled",!Ie.toggleSelection),I.xp6(1),I.ekj("disabled",!Ie.toggleSelection))},dependencies:[N.sg,N.O5],styles:[".main-game-section[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:bottom;margin:0 auto;height:95vh;min-width:370px;max-height:700px;display:grid;grid-template-rows:1.5fr .5fr 5fr .5fr 2fr;border-radius:1rem;-webkit-user-select:none;user-select:none}.score-board[_ngcontent-%COMP%]{background-color:#0e0e5e;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;border-radius:1rem 0rem}.score-board[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:1.6rem;color:#fff;font-family:LCDN}.notification-board[_ngcontent-%COMP%]{background-color:#f70000;border-radius:1rem 0rem;display:flex;justify-content:center;align-items:center}.message-box[_ngcontent-%COMP%]{font-size:1.3rem;font-family:LedBoardR;color:#fff}.cricket-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.back-field[_ngcontent-%COMP%]{width:162px;height:85%;background-color:#fff;border-radius:2rem;position:relative}.hand-1[_ngcontent-%COMP%], .hand-2[_ngcontent-%COMP%]{position:absolute;display:inline-block;transform-origin:top left}.hand-1[_ngcontent-%COMP%]{top:15%;left:50%;transform:translate(-50%,-50%)}.hand-2[_ngcontent-%COMP%]{top:85%;left:50%;transform:translate(-50%,-50%)}.hand-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(180deg)}.hand-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .hand-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.animated-self-hand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveSelfHand .5s ease-in-out forwards}.animated-opp-hand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveOppHand .5s ease-in-out forwards}.animated-self-hand-rev[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveSelfHandR .5s ease-in-out forwards}.animated-opp-hand-rev[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveOppHandR .5s ease-in-out forwards}.hidden[_ngcontent-%COMP%]{display:none}.disabled[_ngcontent-%COMP%]{opacity:60%;pointer-events:none;touch-action:none}.invisible[_ngcontent-%COMP%]{opacity:0%;pointer-events:none;touch-action:none}@keyframes _ngcontent-%COMP%_moveSelfHand{0%{top:85%}to{top:60%}}@keyframes _ngcontent-%COMP%_moveOppHand{0%{top:15%}to{top:39%}}@keyframes _ngcontent-%COMP%_moveSelfHandR{0%{top:60%}to{top:85%}}@keyframes _ngcontent-%COMP%_moveOppHandR{0%{top:39%}to{top:15%}}#ready-button[_ngcontent-%COMP%], #confirm-button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#confirm-button[_ngcontent-%COMP%]{background-color:#c40000}#confirm-button[_ngcontent-%COMP%]:hover{background-color:#a10404}.this-over-container[_ngcontent-%COMP%]{background-color:#dcdcdc;display:flex;justify-content:center;align-items:center}.this-over-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.balls-played[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;border:1px solid;border-radius:50%;font-family:var(--this-over-font)}.hand-buttons-container[_ngcontent-%COMP%]{margin:1rem auto;row-gap:1.5rem;column-gap:1.5rem;width:50%;display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr}.hand[_ngcontent-%COMP%]{border-radius:2rem;width:50px;height:50px;padding:0rem;cursor:pointer;box-shadow:2px 5px #000;background-size:120%;background-position:center;background-repeat:no-repeat}.hand[_ngcontent-%COMP%]:active{box-shadow:1px 2px #000;transform:translateY(2px)}.beautiful-button[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;font-size:16px;font-weight:700;text-align:center;text-decoration:none;color:#fff;background-color:#4caf50;border:none;border-radius:8px;transition:background-color .3s ease;cursor:pointer}.beautiful-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.beautiful-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #fff,0 0 0 4px #4caf50}.beautiful-button[_ngcontent-%COMP%]:active{background-color:#3e8e41}.captains-decision[_ngcontent-%COMP%]{position:absolute}.outnotification[_ngcontent-%COMP%]{position:absolute;top:42%;width:-moz-fit-content;width:fit-content;padding:.3rem;border-radius:1rem;background-color:#666262}.out-text[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.1rem;font-style:bold;color:red;font-family:SunnySpells}.bat-ball-decision[_ngcontent-%COMP%]{background-color:#ffebcd;width:200px;display:flex;justify-content:space-around;align-items:center}.bat-option[_ngcontent-%COMP%], .ball-option[_ngcontent-%COMP%]{padding:.5rem;background-color:#45a049;cursor:pointer}.left-side-window[_ngcontent-%COMP%], .right-side-window[_ngcontent-%COMP%]{padding:.5rem;background-color:#ffffffb3;color:#000;border-radius:.3rem}.player-name[_ngcontent-%COMP%]{padding:.5rem .2rem;text-align:center}.team-name[_ngcontent-%COMP%]{font-family:Roboto;text-align:center}.player-runs[_ngcontent-%COMP%], .player-wicketsLeft[_ngcontent-%COMP%]{font-family:Roboto;font-size:.7rem;padding-bottom:.3rem}.is-onstrike[_ngcontent-%COMP%]{width:20px;height:20px;margin-bottom:.3rem;background-color:#fff;background-size:cover;border:.5px solid black;border-radius:50%}.player-connected[_ngcontent-%COMP%]{background-color:#3e8e41}.player-statuses[_ngcontent-%COMP%]{display:flex}.connection-status[_ngcontent-%COMP%]{width:20px;height:20px;margin-bottom:.3rem;background-size:cover;border:.5px solid black;border-radius:50%;margin:0 .2rem}.not-connected[_ngcontent-%COMP%]{background-color:#f70909}.connected[_ngcontent-%COMP%]{background-color:#98f709}.connected-to-server[_ngcontent-%COMP%]{background-color:#98f709;width:20px;height:20px;border-radius:50%}"]}),he})()},{path:"result",loadChildren:()=>T.e(151).then(T.bind(T,8151)).then(he=>he.ResultModule)}]},{path:"**",redirectTo:"game"}];let ze=(()=>{class he{}return he.\u0275fac=function(Z){return new(Z||he)},he.\u0275mod=I.oAB({type:he}),he.\u0275inj=I.cJS({imports:[N.ez,l.b2,te.u5,K.Bz.forRoot(Fe,{useHash:!0}),K.Bz]}),he})();var F=T(8956);class z{constructor(){this.currentConnectionId="",this.roomName="",this.roomId="",this.playerId="",this.lockedWith=0}}class Ce{constructor(){this.choice="",this.teamName="",this.roomName=""}}class _e{constructor(){this.playerName="",this.playerId="",this.connectionId=""}}function re(he,Be){1&he&&(I.TgZ(0,"h2"),I._uU(1,"App is working"),I.qZA())}function ye(he,Be){1&he&&(I.TgZ(0,"nav")(1,"ul")(2,"li")(3,"a",1),I._uU(4,"Game"),I.qZA()(),I.TgZ(5,"li")(6,"a",2),I._uU(7,"Setup"),I.qZA()(),I.TgZ(8,"li")(9,"a",3),I._uU(10,"Result"),I.qZA()()()())}let $=(()=>{class he{constructor(Z,Ie){this.socketService=Z,this.router=Ie,this.title="HCApp",this.developmentMode=F.Lc!=F.EH.Production,Z.Emitter.on(W.f.InitialFormSubmit,de=>{F.GG.invoke(W.f.InitialFormSubmit,de)}),F.GG.on(W.f.FirstPlayerJoined,de=>{var Y=new oe.ok;Y.name=de.name,Y.playerId=de.playerId,Y.teamName=de.teamName,Y.isCaptain=de.isCaptain;var Q=new oe.f5;Q.setInfos(de.totalWickets,de.maxBalls,de.roomName,de.roomId,de.matchType),Z.CurrentPlayer=Y,Z.CurrentPlayer.currentConnectionId=F.GG.connectionId,Z.CurrentMatchInfo=Q,console.log(Q),Z.Emitter.emit(W.f.LOADGAMESCREEN)}),F.GG.on(W.f.PlayerJoinedSelf,de=>{var Y=new oe.ok;Y.name=de.name,Y.playerId=de.playerId,Y.teamName=de.teamName,Y.isCaptain=de.isCaptain;var Q=new oe.f5;Q.setInfos(de.totalWickets,de.maxBalls,de.roomName,de.roomId,de.matchType),Z.CurrentPlayer=Y,Z.CurrentMatchInfo=Q,Z.CurrentPlayer.currentConnectionId=F.GG.connectionId,Z.ExistingPlayerNameList=de.existingPlayerNameList,console.log(Y),Z.Emitter.emit(W.f.LOADGAMESCREEN)}),F.GG.on(W.f.OtherPlayerJoined,de=>{Z.Emitter.emit(W.f.OtherPlayerJoined,de)}),F.GG.on(W.f.AllPlayersJoined,de=>{Z.TeamWisePlayerList=de.existingPlayersList,de.existingPlayersList.forEach(Y=>{Y.playerId!=Z.CurrentPlayer.playerId&&(Y.playerTeamName==Z.CurrentPlayer.teamName?Z.Teammates.push(Y):Z.OppoPlayers.push(Y))}),setTimeout(()=>{Z.Emitter.emit(W.p.InitiateTossStage,de)},500)}),Z.Emitter.on(W.f.PlayerReady,()=>{var de=new _e;de.connectionId=F.GG.connectionId,de.playerId=Z.CurrentPlayer.playerId,de.playerName=Z.CurrentPlayer.name,""!=Z.CurrentMatchInfo.roomId?F.GG.invoke(W.f.PlayerReady,Z.CurrentMatchInfo.roomId,de):console.error("room id not found on current player")}),F.GG.on(W.f.PlayerReadyReceived,de=>{Z.Emitter.emit(W.f.PlayerReadyReceived,de)}),Z.Emitter.on(W.f.PlayerConfirmed,de=>{let Y=new z;Y.currentConnectionId=F.GG.connectionId,Y.playerId=Z.CurrentPlayer.playerId,Y.lockedWith=parseInt(de),Y.roomName=Z.CurrentMatchInfo.roomName,Y.roomId=Z.CurrentMatchInfo.roomId,""!=Z.CurrentMatchInfo.roomId?F.GG.invoke(W.f.PlayerConfirmed,Z.CurrentMatchInfo.roomId,Y):console.log("room id not found")}),F.GG.on(W.f.PlayerConfirmedReceived,de=>{this.socketService.isTeamMate(de.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",de.lockedWith):this.socketService.Emitter.emit("ShowOppoisLocked")}),F.GG.on(W.f.TossWinner,de=>{let Y=this.socketService.CurrentPlayer.playerId,Q=de.tossWinnerId,se=de.tossLoserId;Y==Q||this.socketService.isTeamMate(Q)?this.socketService.Emitter.emit(W.f.TossWinner,{tosswinner:!0,msg:"You have won the toss",myNumber:de.winnerIsLockedWith,oppoNumber:de.loserIsLockedWith}):(Y==se||this.socketService.isTeamMate(se))&&this.socketService.Emitter.emit(W.f.TossWinner,{tosswinner:!1,msg:`${de.winnerTeamName} have won the toss`,myNumber:de.loserIsLockedWith,oppoNumber:de.winnerIsLockedWith})}),Z.Emitter.on(W.f.CaptainsChoice,de=>{var Y=new Ce;Y.choice=de,Y.teamName=Z.CurrentPlayer.teamName,Y.roomName=Z.CurrentMatchInfo.roomName,F.GG.invoke(W.f.CaptainsChoice,Z.CurrentMatchInfo.roomId,Y)}),F.GG.on(W.f.StartMatch,de=>{console.info("after receiving start match event from server : ",de),de.currentOnStrikeBatsmanId==Z.CurrentPlayer.playerId&&(Z.CurrentPlayer.isOnStrike=!0),de.currentOnStrikeBowlerId==Z.CurrentPlayer.playerId&&(Z.CurrentPlayer.isOnStrike=!0),Z.Emitter.emit(W.f.StartMatch,de)}),F.GG.on(W.f.UpdateScore,de=>{console.info("update score event : ",de),de.currentOnStrikeBatsmanId==Z.CurrentPlayer.playerId&&(Z.CurrentPlayer.isOnStrike=!0),de.currentOnStrikeBowlerId==Z.CurrentPlayer.playerId&&(Z.CurrentPlayer.isOnStrike=!0),Z.Emitter.emit(W.f.UpdateScore,de)}),F.GG.on(W.f.GameOver,de=>{console.info("game over event : ",de),this.socketService.MatchResult=de,this.socketService.CurrentMatchInfo.gameOver=!0,this.socketService.Emitter.emit(W.p.ShowMatchWinLose,de)}),this.socketService.Emitter.on(W.f.DeleteRoom,de=>{F.GG.invoke(W.f.DeleteRoom,de)}),F.GG.on(W.f.RoomDeleted,de=>{console.log("previous room deleted")}),F.GG.on(W.f.PlayerDisconnected,de=>{this.socketService.Emitter.emit(W.f.PlayerDisconnected)}),F.GG.onclose(de=>{console.log("ON CLOSE EVENT TRIGGERED : ",de),this.socketService.IsConnected=!1,this.socketService.Emitter.emit(W.f.ServerDisconnected)})}}return he.\u0275fac=function(Z){return new(Z||he)(I.Y36(V.$),I.Y36(K.F0))},he.\u0275cmp=I.Xpm({type:he,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],["routerLink","/game","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/setup","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/result","routerLinkActive","active","ariaCurrentWhenActive","page"]],template:function(Z,Ie){1&Z&&(I.YNc(0,re,2,0,"h2",0),I.YNc(1,ye,11,0,"nav",0),I._UZ(2,"router-outlet")),2&Z&&(I.Q6J("ngIf",Ie.developmentMode),I.xp6(1),I.Q6J("ngIf",Ie.developmentMode))},dependencies:[N.O5,K.lC,K.rH,K.Od],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,900;1,300;1,400;1,500;1,700;1,900&display=swap";@font-face{font-family:SunnySpells;src:url(SunnySpells.d4013c07149a7a90.ttf)}@font-face{font-family:FredokaOne;src:url(FredokaOne-Regular.818774f549fcbdf1.ttf)}@font-face{font-family:LedBoard;src:url(LedBoard.b6a4846da22262bc.TTF)}@font-face{font-family:LedBoardR;src:url(LEDBDREV.b992883ab656f374.TTF)}@font-face{font-family:LCD2N;src:url(LCD2N___.3422a3060eb00dc0.TTF)}@font-face{font-family:LCDN;src:url(LCD-N___.2924199b10f46e6a.TTF)}[_ngcontent-%COMP%]:root{--notification-font: SunnySpells;--scoreboard-font: LCDN;--this-over-font: LedBoardR}']}),he})();var me=T(9659);const fe=new I.OlP("EmitteryInstance"),J={provide:fe,useClass:me.Z};let ue=(()=>{class he{}return he.\u0275fac=function(Z){return new(Z||he)},he.\u0275mod=I.oAB({type:he,bootstrap:[$]}),he.\u0275inj=I.cJS({providers:[{provide:N.S$,useClass:N.Do},J],imports:[l.b2,ze]}),he})()},4274:(et,q,T)=>{"use strict";T.d(q,{f:()=>l,p:()=>N});var l=(()=>((l=l||{}).ConnectionSuccessful="ConnectionSuccessful",l.GamePageLoaded="gamepageLoaded",l.InitialFormSubmit="initialFormSubmit",l.FirstPlayerJoined="FirstPlayerJoined",l.PLAYERJOINED="PLAYERJOINED",l.AllPlayersJoined="AllPlayersJoined",l.PlayerReady="PlayerReady",l.PlayerReadyReceived="PlayerReadyReceived",l.PlayerConfirmed="PlayerConfirmed",l.PlayerConfirmedReceived="PlayerConfirmedReceived",l.LOADGAMESCREEN="LOADGAMESCREEN",l.TossWinner="TossWinner",l.CaptainsChoice="CaptainsChoice",l.StartMatch="StartMatch",l.UpdateScore="UpdateScore",l.GameOver="GameOver",l.DeleteRoom="DeleteMatchRoom",l.RoomDeleted="RoomDeleted",l.PlayerDisconnected="PlayerDisconnected",l.ServerDisconnected="ServerDisconnected",l.PlayerJoinedSelf="PlayerJoinedSelf",l.OtherPlayerJoined="OtherPlayerJoined",l))(),N=(()=>((N=N||{}).InitiateTossStage="InitiateTossStage",N.ShowTheLockedNumber="ShowTheLockedNumber",N.ShowOppoisLocked="ShowOppoisLocked",N.ShowMatchWinLose="ShowMatchWinLose",N))()},1982:(et,q,T)=>{"use strict";T.d(q,{$:()=>W});var l=T(9659),N=T(7672),te=T(4670),K=T(4946);let W=(()=>{class oe{constructor(V){this.emittery=V,this.IsConnected=!1,this.CurrentPlayer=new te.ok,this.CurrentMatchInfo=new te.f5,this.OppoPlayers=[],this.Teammates=[],this.TeamWisePlayerList=[],this.ExistingPlayerNameList=[],this.MatchResult=new te.x4,V=new l.Z,l.Z.isDebugEnabled=!1}TurnOffDebugger(){l.Z.isDebugEnabled=!1}get Emitter(){return this.emittery}isTeamMate(V){return this.Teammates.some(B=>B.playerId==V)}isOpponent(V){return this.OppoPlayers.some(B=>B.playerId==V)}resetObjects(){this.CurrentPlayer=new te.ok,this.CurrentMatchInfo=new te.f5,this.OppoPlayers=[],this.Teammates=[],this.MatchResult=new te.x4,this.TeamWisePlayerList=[],this.ExistingPlayerNameList=[],this.IsConnected=!1}}return oe.\u0275fac=function(V){return new(V||oe)(K.LFG(N.YW))},oe.\u0275prov=K.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})()},8956:(et,q,T)=>{"use strict";T.d(q,{Lc:()=>To,EH:()=>ri,GG:()=>$r});var l={};T.r(l),T.d(l,{fixNegotiationNeeded:()=>Y,shimAddTrackRemoveTrack:()=>Ie,shimAddTrackRemoveTrackWithNative:()=>Z,shimGetDisplayMedia:()=>me,shimGetSendersWithDtmf:()=>ue,shimGetStats:()=>he,shimGetUserMedia:()=>$,shimMediaStream:()=>fe,shimOnTrack:()=>J,shimPeerConnection:()=>de,shimSenderReceiverGetStats:()=>Be});var N={};T.r(N),T.d(N,{shimGetDisplayMedia:()=>Oe,shimGetUserMedia:()=>Ve,shimPeerConnection:()=>je,shimReplaceTrack:()=>qe});var te={};T.r(te),T.d(te,{shimAddTransceiver:()=>en,shimCreateAnswer:()=>ir,shimCreateOffer:()=>Zt,shimGetDisplayMedia:()=>nt,shimGetParameters:()=>wn,shimGetUserMedia:()=>Kt,shimOnTrack:()=>ht,shimPeerConnection:()=>Ct,shimRTCDataChannel:()=>vn,shimReceiverGetStats:()=>Lt,shimRemoveStream:()=>yn,shimSenderGetStats:()=>pt});var K={};T.r(K),T.d(K,{shimAudioContext:()=>rt,shimCallbacksAPI:()=>Jt,shimConstraints:()=>An,shimCreateOfferLegacy:()=>Ye,shimGetUserMedia:()=>On,shimLocalStreamsAPI:()=>un,shimRTCIceServerUrls:()=>Ot,shimRemoteStreamsAPI:()=>Le,shimTrackEventTransceiver:()=>sn});var W={};T.r(W),T.d(W,{removeExtmapAllowMixed:()=>Qt,shimAddIceCandidateNullOrEmpty:()=>no,shimConnectionState:()=>Gr,shimMaxMessageSize:()=>Nn,shimRTCIceCandidate:()=>kn,shimSendThrowTypeError:()=>rn});var oe=T(5861),I=T(6593),V=T(2264);let B=!0,X=!0;function ie(s,i,c){const f=s.match(i);return f&&f.length>=c&&parseInt(f[c],10)}function be(s,i,c){if(!s.RTCPeerConnection)return;const f=s.RTCPeerConnection.prototype,m=f.addEventListener;f.addEventListener=function(x,R){if(x!==i)return m.apply(this,arguments);const U=j=>{const ne=c(j);ne&&(R.handleEvent?R.handleEvent(ne):R(ne))};return this._eventMap=this._eventMap||{},this._eventMap[i]||(this._eventMap[i]=new Map),this._eventMap[i].set(R,U),m.apply(this,[x,U])};const b=f.removeEventListener;f.removeEventListener=function(x,R){if(x!==i||!this._eventMap||!this._eventMap[i])return b.apply(this,arguments);if(!this._eventMap[i].has(R))return b.apply(this,arguments);const U=this._eventMap[i].get(R);return this._eventMap[i].delete(R),0===this._eventMap[i].size&&delete this._eventMap[i],0===Object.keys(this._eventMap).length&&delete this._eventMap,b.apply(this,[x,U])},Object.defineProperty(f,"on"+i,{get(){return this["_on"+i]},set(x){this["_on"+i]&&(this.removeEventListener(i,this["_on"+i]),delete this["_on"+i]),x&&this.addEventListener(i,this["_on"+i]=x)},enumerable:!0,configurable:!0})}function Ne(s){return"boolean"!=typeof s?new Error("Argument type: "+typeof s+". Please use a boolean."):(B=s,s?"adapter.js logging disabled":"adapter.js logging enabled")}function ve(s){return"boolean"!=typeof s?new Error("Argument type: "+typeof s+". Please use a boolean."):(X=!s,"adapter.js deprecation warnings "+(s?"disabled":"enabled"))}function Fe(){if("object"==typeof window){if(B)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function ze(s,i){X&&console.warn(s+" is deprecated, please use "+i+" instead.")}function z(s){return"[object Object]"===Object.prototype.toString.call(s)}function Ce(s){return z(s)?Object.keys(s).reduce(function(i,c){const f=z(s[c]),m=f?Ce(s[c]):s[c],b=f&&!Object.keys(m).length;return void 0===m||b?i:Object.assign(i,{[c]:m})},{}):s}function _e(s,i,c){!i||c.has(i.id)||(c.set(i.id,i),Object.keys(i).forEach(f=>{f.endsWith("Id")?_e(s,s.get(i[f]),c):f.endsWith("Ids")&&i[f].forEach(m=>{_e(s,s.get(m),c)})}))}function re(s,i,c){const f=c?"outbound-rtp":"inbound-rtp",m=new Map;if(null===i)return m;const b=[];return s.forEach(x=>{"track"===x.type&&x.trackIdentifier===i.id&&b.push(x)}),b.forEach(x=>{s.forEach(R=>{R.type===f&&R.trackId===x.id&&_e(s,R,m)})}),m}const ye=Fe;function $(s,i){const c=s&&s.navigator;if(!c.mediaDevices)return;const f=function(R){if("object"!=typeof R||R.mandatory||R.optional)return R;const U={};return Object.keys(R).forEach(j=>{if("require"===j||"advanced"===j||"mediaSource"===j)return;const ne="object"==typeof R[j]?R[j]:{ideal:R[j]};void 0!==ne.exact&&"number"==typeof ne.exact&&(ne.min=ne.max=ne.exact);const Ee=function(We,Et){return We?We+Et.charAt(0).toUpperCase()+Et.slice(1):"deviceId"===Et?"sourceId":Et};if(void 0!==ne.ideal){U.optional=U.optional||[];let We={};"number"==typeof ne.ideal?(We[Ee("min",j)]=ne.ideal,U.optional.push(We),We={},We[Ee("max",j)]=ne.ideal,U.optional.push(We)):(We[Ee("",j)]=ne.ideal,U.optional.push(We))}void 0!==ne.exact&&"number"!=typeof ne.exact?(U.mandatory=U.mandatory||{},U.mandatory[Ee("",j)]=ne.exact):["min","max"].forEach(We=>{void 0!==ne[We]&&(U.mandatory=U.mandatory||{},U.mandatory[Ee(We,j)]=ne[We])})}),R.advanced&&(U.optional=(U.optional||[]).concat(R.advanced)),U},m=function(R,U){if(i.version>=61)return U(R);if((R=JSON.parse(JSON.stringify(R)))&&"object"==typeof R.audio){const j=function(ne,Ee,We){Ee in ne&&!(We in ne)&&(ne[We]=ne[Ee],delete ne[Ee])};j((R=JSON.parse(JSON.stringify(R))).audio,"autoGainControl","googAutoGainControl"),j(R.audio,"noiseSuppression","googNoiseSuppression"),R.audio=f(R.audio)}if(R&&"object"==typeof R.video){let j=R.video.facingMode;j=j&&("object"==typeof j?j:{ideal:j});const ne=i.version<66;if(j&&("user"===j.exact||"environment"===j.exact||"user"===j.ideal||"environment"===j.ideal)&&(!c.mediaDevices.getSupportedConstraints||!c.mediaDevices.getSupportedConstraints().facingMode||ne)){let Ee;if(delete R.video.facingMode,"environment"===j.exact||"environment"===j.ideal?Ee=["back","rear"]:("user"===j.exact||"user"===j.ideal)&&(Ee=["front"]),Ee)return c.mediaDevices.enumerateDevices().then(We=>{let Et=(We=We.filter(zt=>"videoinput"===zt.kind)).find(zt=>Ee.some(Wt=>zt.label.toLowerCase().includes(Wt)));return!Et&&We.length&&Ee.includes("back")&&(Et=We[We.length-1]),Et&&(R.video.deviceId=j.exact?{exact:Et.deviceId}:{ideal:Et.deviceId}),R.video=f(R.video),ye("chrome: "+JSON.stringify(R)),U(R)})}R.video=f(R.video)}return ye("chrome: "+JSON.stringify(R)),U(R)},b=function(R){return i.version>=64?R:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[R.name]||R.name,message:R.message,constraint:R.constraint||R.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(c.getUserMedia=function(R,U,j){m(R,ne=>{c.webkitGetUserMedia(ne,U,Ee=>{j&&j(b(Ee))})})}.bind(c),c.mediaDevices.getUserMedia){const R=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(U){return m(U,j=>R(j).then(ne=>{if(j.audio&&!ne.getAudioTracks().length||j.video&&!ne.getVideoTracks().length)throw ne.getTracks().forEach(Ee=>{Ee.stop()}),new DOMException("","NotFoundError");return ne},ne=>Promise.reject(b(ne))))}}}function me(s,i){if((!s.navigator.mediaDevices||!("getDisplayMedia"in s.navigator.mediaDevices))&&s.navigator.mediaDevices){if("function"!=typeof i)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");s.navigator.mediaDevices.getDisplayMedia=function(f){return i(f).then(m=>{const b=f.video&&f.video.width,x=f.video&&f.video.height;return f.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:m,maxFrameRate:f.video&&f.video.frameRate||3}},b&&(f.video.mandatory.maxWidth=b),x&&(f.video.mandatory.maxHeight=x),s.navigator.mediaDevices.getUserMedia(f)})}}}function fe(s){s.MediaStream=s.MediaStream||s.webkitMediaStream}function J(s){if("object"==typeof s&&s.RTCPeerConnection&&!("ontrack"in s.RTCPeerConnection.prototype)){Object.defineProperty(s.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(c){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=c)},enumerable:!0,configurable:!0});const i=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=f=>{f.stream.addEventListener("addtrack",m=>{let b;b=s.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(R=>R.track&&R.track.id===m.track.id):{track:m.track};const x=new Event("track");x.track=m.track,x.receiver=b,x.transceiver={receiver:b},x.streams=[f.stream],this.dispatchEvent(x)}),f.stream.getTracks().forEach(m=>{let b;b=s.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(R=>R.track&&R.track.id===m.id):{track:m};const x=new Event("track");x.track=m,x.receiver=b,x.transceiver={receiver:b},x.streams=[f.stream],this.dispatchEvent(x)})},this.addEventListener("addstream",this._ontrackpoly)),i.apply(this,arguments)}}else be(s,"track",i=>(i.transceiver||Object.defineProperty(i,"transceiver",{value:{receiver:i.receiver}}),i))}function ue(s){if("object"==typeof s&&s.RTCPeerConnection&&!("getSenders"in s.RTCPeerConnection.prototype)&&"createDTMFSender"in s.RTCPeerConnection.prototype){const i=function(m,b){return{track:b,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===b.kind?m.createDTMFSender(b):null),this._dtmf},_pc:m}};if(!s.RTCPeerConnection.prototype.getSenders){s.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const m=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(R,U){let j=m.apply(this,arguments);return j||(j=i(this,R),this._senders.push(j)),j};const b=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(R){b.apply(this,arguments);const U=this._senders.indexOf(R);-1!==U&&this._senders.splice(U,1)}}const c=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(b){this._senders=this._senders||[],c.apply(this,[b]),b.getTracks().forEach(x=>{this._senders.push(i(this,x))})};const f=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(b){this._senders=this._senders||[],f.apply(this,[b]),b.getTracks().forEach(x=>{const R=this._senders.find(U=>U.track===x);R&&this._senders.splice(this._senders.indexOf(R),1)})}}else if("object"==typeof s&&s.RTCPeerConnection&&"getSenders"in s.RTCPeerConnection.prototype&&"createDTMFSender"in s.RTCPeerConnection.prototype&&s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)){const i=s.RTCPeerConnection.prototype.getSenders;s.RTCPeerConnection.prototype.getSenders=function(){const f=i.apply(this,[]);return f.forEach(m=>m._pc=this),f},Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function he(s){if(!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[f,m,b]=arguments;if(arguments.length>0&&"function"==typeof f)return i.apply(this,arguments);if(0===i.length&&(0===arguments.length||"function"!=typeof f))return i.apply(this,[]);const x=function(U){const j={};return U.result().forEach(Ee=>{const We={id:Ee.id,timestamp:Ee.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Ee.type]||Ee.type};Ee.names().forEach(Et=>{We[Et]=Ee.stat(Et)}),j[We.id]=We}),j},R=function(U){return new Map(Object.keys(U).map(j=>[j,U[j]]))};return arguments.length>=2?i.apply(this,[function(j){m(R(x(j)))},f]):new Promise((U,j)=>{i.apply(this,[function(ne){U(R(x(ne)))},j])}).then(m,b)}}function Be(s){if(!("object"==typeof s&&s.RTCPeerConnection&&s.RTCRtpSender&&s.RTCRtpReceiver))return;if(!("getStats"in s.RTCRtpSender.prototype)){const c=s.RTCPeerConnection.prototype.getSenders;c&&(s.RTCPeerConnection.prototype.getSenders=function(){const b=c.apply(this,[]);return b.forEach(x=>x._pc=this),b});const f=s.RTCPeerConnection.prototype.addTrack;f&&(s.RTCPeerConnection.prototype.addTrack=function(){const b=f.apply(this,arguments);return b._pc=this,b}),s.RTCRtpSender.prototype.getStats=function(){const b=this;return this._pc.getStats().then(x=>re(x,b.track,!0))}}if(!("getStats"in s.RTCRtpReceiver.prototype)){const c=s.RTCPeerConnection.prototype.getReceivers;c&&(s.RTCPeerConnection.prototype.getReceivers=function(){const m=c.apply(this,[]);return m.forEach(b=>b._pc=this),m}),be(s,"track",f=>(f.receiver._pc=f.srcElement,f)),s.RTCRtpReceiver.prototype.getStats=function(){const m=this;return this._pc.getStats().then(b=>re(b,m.track,!1))}}if(!("getStats"in s.RTCRtpSender.prototype)||!("getStats"in s.RTCRtpReceiver.prototype))return;const i=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof s.MediaStreamTrack){const f=arguments[0];let m,b,x;return this.getSenders().forEach(R=>{R.track===f&&(m?x=!0:m=R)}),this.getReceivers().forEach(R=>(R.track===f&&(b?x=!0:b=R),R.track===f)),x||m&&b?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):m?m.getStats():b?b.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}function Z(s){s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(x=>this._shimmedLocalStreams[x][0])};const i=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(x,R){if(!R)return i.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const U=i.apply(this,arguments);return this._shimmedLocalStreams[R.id]?-1===this._shimmedLocalStreams[R.id].indexOf(U)&&this._shimmedLocalStreams[R.id].push(U):this._shimmedLocalStreams[R.id]=[R,U],U};const c=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(x){this._shimmedLocalStreams=this._shimmedLocalStreams||{},x.getTracks().forEach(j=>{if(this.getSenders().find(Ee=>Ee.track===j))throw new DOMException("Track already exists.","InvalidAccessError")});const R=this.getSenders();c.apply(this,arguments);const U=this.getSenders().filter(j=>-1===R.indexOf(j));this._shimmedLocalStreams[x.id]=[x].concat(U)};const f=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(x){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[x.id],f.apply(this,arguments)};const m=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(x){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},x&&Object.keys(this._shimmedLocalStreams).forEach(R=>{const U=this._shimmedLocalStreams[R].indexOf(x);-1!==U&&this._shimmedLocalStreams[R].splice(U,1),1===this._shimmedLocalStreams[R].length&&delete this._shimmedLocalStreams[R]}),m.apply(this,arguments)}}function Ie(s,i){if(!s.RTCPeerConnection)return;if(s.RTCPeerConnection.prototype.addTrack&&i.version>=65)return Z(s);const c=s.RTCPeerConnection.prototype.getLocalStreams;s.RTCPeerConnection.prototype.getLocalStreams=function(){const ne=c.apply(this);return this._reverseStreams=this._reverseStreams||{},ne.map(Ee=>this._reverseStreams[Ee.id])};const f=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(ne){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},ne.getTracks().forEach(Ee=>{if(this.getSenders().find(Et=>Et.track===Ee))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[ne.id]){const Ee=new s.MediaStream(ne.getTracks());this._streams[ne.id]=Ee,this._reverseStreams[Ee.id]=ne,ne=Ee}f.apply(this,[ne])};const m=s.RTCPeerConnection.prototype.removeStream;function b(j,ne){let Ee=ne.sdp;return Object.keys(j._reverseStreams||[]).forEach(We=>{const Et=j._reverseStreams[We];Ee=Ee.replace(new RegExp(j._streams[Et.id].id,"g"),Et.id)}),new RTCSessionDescription({type:ne.type,sdp:Ee})}s.RTCPeerConnection.prototype.removeStream=function(ne){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.apply(this,[this._streams[ne.id]||ne]),delete this._reverseStreams[this._streams[ne.id]?this._streams[ne.id].id:ne.id],delete this._streams[ne.id]},s.RTCPeerConnection.prototype.addTrack=function(ne,Ee){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const We=[].slice.call(arguments,1);if(1!==We.length||!We[0].getTracks().find(Wt=>Wt===ne))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(Wt=>Wt.track===ne))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const zt=this._streams[Ee.id];if(zt)zt.addTrack(ne),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const Wt=new s.MediaStream([ne]);this._streams[Ee.id]=Wt,this._reverseStreams[Wt.id]=Ee,this.addStream(Wt)}return this.getSenders().find(Wt=>Wt.track===ne)},["createOffer","createAnswer"].forEach(function(j){const ne=s.RTCPeerConnection.prototype[j],Ee={[j](){const We=arguments;return arguments.length&&"function"==typeof arguments[0]?ne.apply(this,[zt=>{const Wt=b(this,zt);We[0].apply(null,[Wt])},zt=>{We[1]&&We[1].apply(null,zt)},arguments[2]]):ne.apply(this,arguments).then(zt=>b(this,zt))}};s.RTCPeerConnection.prototype[j]=Ee[j]});const R=s.RTCPeerConnection.prototype.setLocalDescription;s.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function x(j,ne){let Ee=ne.sdp;return Object.keys(j._reverseStreams||[]).forEach(We=>{const Et=j._reverseStreams[We],zt=j._streams[Et.id];Ee=Ee.replace(new RegExp(Et.id,"g"),zt.id)}),new RTCSessionDescription({type:ne.type,sdp:Ee})}(this,arguments[0]),R.apply(this,arguments)):R.apply(this,arguments)};const U=Object.getOwnPropertyDescriptor(s.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(s.RTCPeerConnection.prototype,"localDescription",{get(){const j=U.get.apply(this);return""===j.type?j:b(this,j)}}),s.RTCPeerConnection.prototype.removeTrack=function(ne){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!ne._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(ne._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let We;this._streams=this._streams||{},Object.keys(this._streams).forEach(Et=>{this._streams[Et].getTracks().find(Wt=>ne.track===Wt)&&(We=this._streams[Et])}),We&&(1===We.getTracks().length?this.removeStream(this._reverseStreams[We.id]):We.removeTrack(ne.track),this.dispatchEvent(new Event("negotiationneeded")))}}function de(s,i){!s.RTCPeerConnection&&s.webkitRTCPeerConnection&&(s.RTCPeerConnection=s.webkitRTCPeerConnection),s.RTCPeerConnection&&i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(c){const f=s.RTCPeerConnection.prototype[c],m={[c](){return arguments[0]=new("addIceCandidate"===c?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),f.apply(this,arguments)}};s.RTCPeerConnection.prototype[c]=m[c]})}function Y(s,i){be(s,"negotiationneeded",c=>{const f=c.target;if(!(i.version<72||f.getConfiguration&&"plan-b"===f.getConfiguration().sdpSemantics)||"stable"===f.signalingState)return c})}var se=T(4191),Pe=T.n(se);function Ve(s){const i=s&&s.navigator,f=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(m){return f(m).catch(b=>Promise.reject(function(m){return{name:{PermissionDeniedError:"NotAllowedError"}[m.name]||m.name,message:m.message,constraint:m.constraint,toString(){return this.name}}}(b)))}}function Oe(s){"getDisplayMedia"in s.navigator&&s.navigator.mediaDevices&&(s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||(s.navigator.mediaDevices.getDisplayMedia=s.navigator.getDisplayMedia.bind(s.navigator)))}function je(s,i){if(s.RTCIceGatherer&&(s.RTCIceCandidate||(s.RTCIceCandidate=function(m){return m}),s.RTCSessionDescription||(s.RTCSessionDescription=function(m){return m}),i.version<15025)){const f=Object.getOwnPropertyDescriptor(s.MediaStreamTrack.prototype,"enabled");Object.defineProperty(s.MediaStreamTrack.prototype,"enabled",{set(m){f.set.call(this,m);const b=new Event("enabled");b.enabled=m,this.dispatchEvent(b)}})}s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)&&Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new s.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),s.RTCDtmfSender&&!s.RTCDTMFSender&&(s.RTCDTMFSender=s.RTCDtmfSender);const c=Pe()(s,i.version);s.RTCPeerConnection=function(m){return m&&m.iceServers&&(m.iceServers=function Q(s,i){let c=!1;return(s=JSON.parse(JSON.stringify(s))).filter(f=>{if(f&&(f.urls||f.url)){let m=f.urls||f.url;f.url&&!f.urls&&ze("RTCIceServer.url","RTCIceServer.urls");const b="string"==typeof m;return b&&(m=[m]),m=m.filter(x=>{if(0===x.indexOf("stun:"))return!1;const R=x.startsWith("turn")&&!x.startsWith("turn:[")&&x.includes("transport=udp");return R&&!c?(c=!0,!0):R&&!c}),delete f.url,f.urls=b?m[0]:m,!!m.length}})}(m.iceServers),Fe("ICE servers after filtering:",m.iceServers)),new c(m)},s.RTCPeerConnection.prototype=c.prototype}function qe(s){s.RTCRtpSender&&!("replaceTrack"in s.RTCRtpSender.prototype)&&(s.RTCRtpSender.prototype.replaceTrack=s.RTCRtpSender.prototype.setTrack)}function Kt(s,i){const c=s&&s.navigator,f=s&&s.MediaStreamTrack;if(c.getUserMedia=function(m,b,x){ze("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),c.mediaDevices.getUserMedia(m).then(b,x)},!(i.version>55&&"autoGainControl"in c.mediaDevices.getSupportedConstraints())){const m=function(x,R,U){R in x&&!(U in x)&&(x[U]=x[R],delete x[R])},b=c.mediaDevices.getUserMedia.bind(c.mediaDevices);if(c.mediaDevices.getUserMedia=function(x){return"object"==typeof x&&"object"==typeof x.audio&&(x=JSON.parse(JSON.stringify(x)),m(x.audio,"autoGainControl","mozAutoGainControl"),m(x.audio,"noiseSuppression","mozNoiseSuppression")),b(x)},f&&f.prototype.getSettings){const x=f.prototype.getSettings;f.prototype.getSettings=function(){const R=x.apply(this,arguments);return m(R,"mozAutoGainControl","autoGainControl"),m(R,"mozNoiseSuppression","noiseSuppression"),R}}if(f&&f.prototype.applyConstraints){const x=f.prototype.applyConstraints;f.prototype.applyConstraints=function(R){return"audio"===this.kind&&"object"==typeof R&&(R=JSON.parse(JSON.stringify(R)),m(R,"autoGainControl","mozAutoGainControl"),m(R,"noiseSuppression","mozNoiseSuppression")),x.apply(this,[R])}}}}function nt(s,i){s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||s.navigator.mediaDevices&&(s.navigator.mediaDevices.getDisplayMedia=function(f){if(!f||!f.video){const m=new DOMException("getDisplayMedia without video constraints is undefined");return m.name="NotFoundError",m.code=8,Promise.reject(m)}return!0===f.video?f.video={mediaSource:i}:f.video.mediaSource=i,s.navigator.mediaDevices.getUserMedia(f)})}function ht(s){"object"==typeof s&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ct(s,i){if("object"!=typeof s||!s.RTCPeerConnection&&!s.mozRTCPeerConnection)return;!s.RTCPeerConnection&&s.mozRTCPeerConnection&&(s.RTCPeerConnection=s.mozRTCPeerConnection),i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(m){const b=s.RTCPeerConnection.prototype[m],x={[m](){return arguments[0]=new("addIceCandidate"===m?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),b.apply(this,arguments)}};s.RTCPeerConnection.prototype[m]=x[m]});const c={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},f=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[b,x,R]=arguments;return f.apply(this,[b||null]).then(U=>{if(i.version<53&&!x)try{U.forEach(j=>{j.type=c[j.type]||j.type})}catch(j){if("TypeError"!==j.name)throw j;U.forEach((ne,Ee)=>{U.set(Ee,Object.assign({},ne,{type:c[ne.type]||ne.type}))})}return U}).then(x,R)}}function pt(s){if("object"!=typeof s||!s.RTCPeerConnection||!s.RTCRtpSender||s.RTCRtpSender&&"getStats"in s.RTCRtpSender.prototype)return;const i=s.RTCPeerConnection.prototype.getSenders;i&&(s.RTCPeerConnection.prototype.getSenders=function(){const m=i.apply(this,[]);return m.forEach(b=>b._pc=this),m});const c=s.RTCPeerConnection.prototype.addTrack;c&&(s.RTCPeerConnection.prototype.addTrack=function(){const m=c.apply(this,arguments);return m._pc=this,m}),s.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Lt(s){if("object"!=typeof s||!s.RTCPeerConnection||!s.RTCRtpSender||s.RTCRtpSender&&"getStats"in s.RTCRtpReceiver.prototype)return;const i=s.RTCPeerConnection.prototype.getReceivers;i&&(s.RTCPeerConnection.prototype.getReceivers=function(){const f=i.apply(this,[]);return f.forEach(m=>m._pc=this),f}),be(s,"track",c=>(c.receiver._pc=c.srcElement,c)),s.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function yn(s){!s.RTCPeerConnection||"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(c){ze("removeStream","removeTrack"),this.getSenders().forEach(f=>{f.track&&c.getTracks().includes(f.track)&&this.removeTrack(f)})})}function vn(s){s.DataChannel&&!s.RTCDataChannel&&(s.RTCDataChannel=s.DataChannel)}function en(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.addTransceiver;i&&(s.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const f=arguments[1],m=f&&"sendEncodings"in f;m&&f.sendEncodings.forEach(x=>{if("rid"in x&&!/^[a-z0-9]{0,16}$/i.test(x.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in x&&!(parseFloat(x.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in x&&!(parseFloat(x.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const b=i.apply(this,arguments);if(m){const{sender:x}=b,R=x.getParameters();(!("encodings"in R)||1===R.encodings.length&&0===Object.keys(R.encodings[0]).length)&&(R.encodings=f.sendEncodings,x.sendEncodings=f.sendEncodings,this.setParametersPromises.push(x.setParameters(R).then(()=>{delete x.sendEncodings}).catch(()=>{delete x.sendEncodings})))}return b})}function wn(s){if("object"!=typeof s||!s.RTCRtpSender)return;const i=s.RTCRtpSender.prototype.getParameters;i&&(s.RTCRtpSender.prototype.getParameters=function(){const f=i.apply(this,arguments);return"encodings"in f||(f.encodings=[].concat(this.sendEncodings||[{}])),f})}function Zt(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function ir(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.createAnswer;s.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function un(s){if("object"==typeof s&&s.RTCPeerConnection){if("getLocalStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in s.RTCPeerConnection.prototype)){const i=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addStream=function(f){this._localStreams||(this._localStreams=[]),this._localStreams.includes(f)||this._localStreams.push(f),f.getAudioTracks().forEach(m=>i.call(this,m,f)),f.getVideoTracks().forEach(m=>i.call(this,m,f))},s.RTCPeerConnection.prototype.addTrack=function(f,...m){return m&&m.forEach(b=>{this._localStreams?this._localStreams.includes(b)||this._localStreams.push(b):this._localStreams=[b]}),i.apply(this,arguments)}}"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(c){this._localStreams||(this._localStreams=[]);const f=this._localStreams.indexOf(c);if(-1===f)return;this._localStreams.splice(f,1);const m=c.getTracks();this.getSenders().forEach(b=>{m.includes(b.track)&&this.removeTrack(b)})})}}function Le(s){if("object"==typeof s&&s.RTCPeerConnection&&("getRemoteStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in s.RTCPeerConnection.prototype))){Object.defineProperty(s.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(c){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=c),this.addEventListener("track",this._onaddstreampoly=f=>{f.streams.forEach(m=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(m))return;this._remoteStreams.push(m);const b=new Event("addstream");b.stream=m,this.dispatchEvent(b)})})}});const i=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){const f=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(m){m.streams.forEach(b=>{if(f._remoteStreams||(f._remoteStreams=[]),f._remoteStreams.indexOf(b)>=0)return;f._remoteStreams.push(b);const x=new Event("addstream");x.stream=b,f.dispatchEvent(x)})}),i.apply(f,arguments)}}}function Jt(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype,c=i.createOffer,f=i.createAnswer,m=i.setLocalDescription,b=i.setRemoteDescription,x=i.addIceCandidate;i.createOffer=function(j,ne){const We=c.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return ne?(We.then(j,ne),Promise.resolve()):We},i.createAnswer=function(j,ne){const We=f.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return ne?(We.then(j,ne),Promise.resolve()):We};let R=function(U,j,ne){const Ee=m.apply(this,[U]);return ne?(Ee.then(j,ne),Promise.resolve()):Ee};i.setLocalDescription=R,R=function(U,j,ne){const Ee=b.apply(this,[U]);return ne?(Ee.then(j,ne),Promise.resolve()):Ee},i.setRemoteDescription=R,R=function(U,j,ne){const Ee=x.apply(this,[U]);return ne?(Ee.then(j,ne),Promise.resolve()):Ee},i.addIceCandidate=R}function On(s){const i=s&&s.navigator;if(i.mediaDevices&&i.mediaDevices.getUserMedia){const c=i.mediaDevices,f=c.getUserMedia.bind(c);i.mediaDevices.getUserMedia=m=>f(An(m))}!i.getUserMedia&&i.mediaDevices&&i.mediaDevices.getUserMedia&&(i.getUserMedia=function(f,m,b){i.mediaDevices.getUserMedia(f).then(m,b)}.bind(i))}function An(s){return s&&void 0!==s.video?Object.assign({},s,{video:Ce(s.video)}):s}function Ot(s){if(!s.RTCPeerConnection)return;const i=s.RTCPeerConnection;s.RTCPeerConnection=function(f,m){if(f&&f.iceServers){const b=[];for(let x=0;x<f.iceServers.length;x++){let R=f.iceServers[x];!R.hasOwnProperty("urls")&&R.hasOwnProperty("url")?(ze("RTCIceServer.url","RTCIceServer.urls"),R=JSON.parse(JSON.stringify(R)),R.urls=R.url,delete R.url,b.push(R)):b.push(f.iceServers[x])}f.iceServers=b}return new i(f,m)},s.RTCPeerConnection.prototype=i.prototype,"generateCertificate"in i&&Object.defineProperty(s.RTCPeerConnection,"generateCertificate",{get:()=>i.generateCertificate})}function sn(s){"object"==typeof s&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ye(s){const i=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(f){if(f){typeof f.offerToReceiveAudio<"u"&&(f.offerToReceiveAudio=!!f.offerToReceiveAudio);const m=this.getTransceivers().find(x=>"audio"===x.receiver.track.kind);!1===f.offerToReceiveAudio&&m?"sendrecv"===m.direction?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":"recvonly"===m.direction&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):!0===f.offerToReceiveAudio&&!m&&this.addTransceiver("audio"),typeof f.offerToReceiveVideo<"u"&&(f.offerToReceiveVideo=!!f.offerToReceiveVideo);const b=this.getTransceivers().find(x=>"video"===x.receiver.track.kind);!1===f.offerToReceiveVideo&&b?"sendrecv"===b.direction?b.setDirection?b.setDirection("sendonly"):b.direction="sendonly":"recvonly"===b.direction&&(b.setDirection?b.setDirection("inactive"):b.direction="inactive"):!0===f.offerToReceiveVideo&&!b&&this.addTransceiver("video")}return i.apply(this,arguments)}}function rt(s){"object"!=typeof s||s.AudioContext||(s.AudioContext=s.webkitAudioContext)}var Tr=T(2917),an=T.n(Tr);function kn(s){if(!s.RTCIceCandidate||s.RTCIceCandidate&&"foundation"in s.RTCIceCandidate.prototype)return;const i=s.RTCIceCandidate;s.RTCIceCandidate=function(f){if("object"==typeof f&&f.candidate&&0===f.candidate.indexOf("a=")&&((f=JSON.parse(JSON.stringify(f))).candidate=f.candidate.substr(2)),f.candidate&&f.candidate.length){const m=new i(f),b=an().parseCandidate(f.candidate),x=Object.assign(m,b);return x.toJSON=function(){return{candidate:x.candidate,sdpMid:x.sdpMid,sdpMLineIndex:x.sdpMLineIndex,usernameFragment:x.usernameFragment}},x}return new i(f)},s.RTCIceCandidate.prototype=i.prototype,be(s,"icecandidate",c=>(c.candidate&&Object.defineProperty(c,"candidate",{value:new s.RTCIceCandidate(c.candidate),writable:"false"}),c))}function Nn(s,i){if(!s.RTCPeerConnection)return;"sctp"in s.RTCPeerConnection.prototype||Object.defineProperty(s.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const x=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===i.browser&&i.version>=76){const{sdpSemantics:U}=this.getConfiguration();"plan-b"===U&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(function(R){if(!R||!R.sdp)return!1;const U=an().splitSections(R.sdp);return U.shift(),U.some(j=>{const ne=an().parseMLine(j);return ne&&"application"===ne.kind&&-1!==ne.protocol.indexOf("SCTP")})}(arguments[0])){const U=function(R){const U=R.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===U||U.length<2)return-1;const j=parseInt(U[1],10);return j!=j?-1:j}(arguments[0]),j=function(R){let U=65536;return"firefox"===i.browser&&(U=i.version<57?-1===R?16384:2147483637:i.version<60?57===i.version?65535:65536:2147483637),U}(U),ne=function(R,U){let j=65536;"firefox"===i.browser&&57===i.version&&(j=65535);const ne=an().matchPrefix(R.sdp,"a=max-message-size:");return ne.length>0?j=parseInt(ne[0].substr(19),10):"firefox"===i.browser&&-1!==U&&(j=2147483637),j}(arguments[0],U);let Ee;Ee=0===j&&0===ne?Number.POSITIVE_INFINITY:0===j||0===ne?Math.max(j,ne):Math.min(j,ne);const We={};Object.defineProperty(We,"maxMessageSize",{get:()=>Ee}),this._sctp=We}return x.apply(this,arguments)}}function rn(s){if(!s.RTCPeerConnection||!("createDataChannel"in s.RTCPeerConnection.prototype))return;function i(f,m){const b=f.send;f.send=function(){const R=arguments[0];if("open"===f.readyState&&m.sctp&&(R.length||R.size||R.byteLength)>m.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+m.sctp.maxMessageSize+" bytes)");return b.apply(f,arguments)}}const c=s.RTCPeerConnection.prototype.createDataChannel;s.RTCPeerConnection.prototype.createDataChannel=function(){const m=c.apply(this,arguments);return i(m,this),m},be(s,"datachannel",f=>(i(f.channel,f.target),f))}function Gr(s){if(!s.RTCPeerConnection||"connectionState"in s.RTCPeerConnection.prototype)return;const i=s.RTCPeerConnection.prototype;Object.defineProperty(i,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(i,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(c){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),c&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=c)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(c=>{const f=i[c];i[c]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=m=>{const b=m.target;if(b._lastConnectionState!==b.connectionState){b._lastConnectionState=b.connectionState;const x=new Event("connectionstatechange",m);b.dispatchEvent(x)}return m},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),f.apply(this,arguments)}})}function Qt(s,i){if(!s.RTCPeerConnection||"chrome"===i.browser&&i.version>=71||"safari"===i.browser&&i.version>=605)return;const c=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(m){if(m&&m.sdp&&-1!==m.sdp.indexOf("\na=extmap-allow-mixed")){const b=m.sdp.split("\n").filter(x=>"a=extmap-allow-mixed"!==x.trim()).join("\n");s.RTCSessionDescription&&m instanceof s.RTCSessionDescription?arguments[0]=new s.RTCSessionDescription({type:m.type,sdp:b}):m.sdp=b}return c.apply(this,arguments)}}function no(s,i){if(!s.RTCPeerConnection||!s.RTCPeerConnection.prototype)return;const c=s.RTCPeerConnection.prototype.addIceCandidate;!c||0===c.length||(s.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===i.browser&&i.version<78||"firefox"===i.browser&&i.version<68||"safari"===i.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():c.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const sr=function He({window:s}={},i={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const c=Fe,f=function F(s){const i={browser:null,version:null};if(typeof s>"u"||!s.navigator)return i.browser="Not a browser.",i;const{navigator:c}=s;if(c.mozGetUserMedia)i.browser="firefox",i.version=ie(c.userAgent,/Firefox\/(\d+)\./,1);else if(c.webkitGetUserMedia||!1===s.isSecureContext&&s.webkitRTCPeerConnection&&!s.RTCIceGatherer)i.browser="chrome",i.version=ie(c.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(c.mediaDevices&&c.userAgent.match(/Edge\/(\d+).(\d+)$/))i.browser="edge",i.version=ie(c.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!s.RTCPeerConnection||!c.userAgent.match(/AppleWebKit\/(\d+)\./))return i.browser="Not a supported browser.",i;i.browser="safari",i.version=ie(c.userAgent,/AppleWebKit\/(\d+)\./,1),i.supportsUnifiedPlan=s.RTCRtpTransceiver&&"currentDirection"in s.RTCRtpTransceiver.prototype}return i}(s),m={browserDetails:f,commonShim:W,extractVersion:ie,disableLog:Ne,disableWarnings:ve};switch(f.browser){case"chrome":if(!l||!de||!i.shimChrome)return c("Chrome shim is not included in this adapter release."),m;if(null===f.version)return c("Chrome shim can not determine version, not shimming."),m;c("adapter.js shimming chrome."),m.browserShim=l,no(s,f),$(s,f),fe(s),de(s,f),J(s),Ie(s,f),ue(s),he(s),Be(s),Y(s,f),kn(s),Gr(s),Nn(s,f),rn(s),Qt(s,f);break;case"firefox":if(!te||!Ct||!i.shimFirefox)return c("Firefox shim is not included in this adapter release."),m;c("adapter.js shimming firefox."),m.browserShim=te,no(s,f),Kt(s,f),Ct(s,f),ht(s),yn(s),pt(s),Lt(s),vn(s),en(s),wn(s),Zt(s),ir(s),kn(s),Gr(s),Nn(s,f),rn(s);break;case"edge":if(!N||!je||!i.shimEdge)return c("MS edge shim is not included in this adapter release."),m;c("adapter.js shimming edge."),m.browserShim=N,Ve(s),Oe(s),je(s,f),qe(s),Nn(s,f),rn(s);break;case"safari":if(!K||!i.shimSafari)return c("Safari shim is not included in this adapter release."),m;c("adapter.js shimming safari."),m.browserShim=K,no(s,f),Ot(s),Ye(s),Jt(s),un(s),Le(s),sn(s),On(s),rt(s),kn(s),Nn(s,f),rn(s),Qt(s,f);break;default:c("Unsupported browser!")}return m}({window:typeof window>"u"?void 0:window});function kt(s,i,c,f){Object.defineProperty(s,i,{get:c,set:f,enumerable:!0,configurable:!0})}var bt=sr.default||sr,Gn=new(function(){function s(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return s.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},s.prototype.isBrowserSupported=function(){var i=this.getBrowser(),c=this.getVersion();return!!this.supportedBrowsers.includes(i)&&("chrome"===i?c>=this.minChromeVersion:"firefox"===i?c>=this.minFirefoxVersion:"safari"===i&&!this.isIOS&&c>=this.minSafariVersion)},s.prototype.getBrowser=function(){return bt.browserDetails.browser},s.prototype.getVersion=function(){return bt.browserDetails.version||0},s.prototype.isUnifiedPlanSupported=function(){var i=this.getBrowser(),c=bt.browserDetails.version||0;if("chrome"===i&&c<this.minChromeVersion)return!1;if("firefox"===i&&c>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var f,m=!1;try{(f=new RTCPeerConnection).addTransceiver("audio"),m=!0}catch{}finally{f&&f.close()}return m},s.prototype.toString=function(){return"Supports:\n    browser:".concat(this.getBrowser(),"\n    version:").concat(this.getVersion(),"\n    isIOS:").concat(this.isIOS,"\n    isWebRTCSupported:").concat(this.isWebRTCSupported(),"\n    isBrowserSupported:").concat(this.isBrowserSupported(),"\n    isUnifiedPlanSupported:").concat(this.isUnifiedPlanSupported())},s}()),Xt={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},dr=function(){function s(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Xt,this.browser=Gn.getBrowser(),this.browserVersion=Gn.getVersion(),this.supports=function(){var c,i={browser:Gn.isBrowserSupported(),webRTC:Gn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!i.webRTC)return i;try{c=new RTCPeerConnection(Xt),i.audioVideo=!0;var f=void 0;try{f=c.createDataChannel("_PEERJSTEST",{ordered:!0}),i.data=!0,i.reliable=!!f.ordered;try{f.binaryType="blob",i.binaryBlob=!Gn.isIOS}catch{}}catch{}finally{f&&f.close()}}catch{}finally{c&&c.close()}return i}(),this.pack=V.pack,this.unpack=V.unpack,this._dataCount=1}return s.prototype.noop=function(){},s.prototype.validateId=function(i){return!i||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(i)},s.prototype.chunk=function(i){for(var c=[],f=i.size,m=Math.ceil(f/Mt.chunkedMTU),b=0,x=0;x<f;){var R=Math.min(f,x+Mt.chunkedMTU),U=i.slice(x,R);c.push({__peerData:this._dataCount,n:b,data:U,total:m}),x=R,b++}return this._dataCount++,c},s.prototype.blobToArrayBuffer=function(i,c){var f=new FileReader;return f.onload=function(m){m.target&&c(m.target.result)},f.readAsArrayBuffer(i),f},s.prototype.binaryStringToArrayBuffer=function(i){for(var c=new Uint8Array(i.length),f=0;f<i.length;f++)c[f]=255&i.charCodeAt(f);return c.buffer},s.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},s.prototype.isSecure=function(){return"https:"===location.protocol},s}(),Mt=new dr;kt({},"Peer",()=>co,s=>co=s);var Tn,Jn=Object.prototype.hasOwnProperty,jt="~";function Bn(){}function we(s,i,c){this.fn=s,this.context=i,this.once=c||!1}function ae(s,i,c,f,m){if("function"!=typeof c)throw new TypeError("The listener must be a function");var b=new we(c,f||s,m),x=jt?jt+i:i;return s._events[x]?s._events[x].fn?s._events[x]=[s._events[x],b]:s._events[x].push(b):(s._events[x]=b,s._eventsCount++),s}function H(s,i){0==--s._eventsCount?s._events=new Bn:delete s._events[i]}function ce(){this._events=new Bn,this._eventsCount=0}Object.create&&(Bn.prototype=Object.create(null),(new Bn).__proto__||(jt=!1)),ce.prototype.eventNames=function(){var c,f,i=[];if(0===this._eventsCount)return i;for(f in c=this._events)Jn.call(c,f)&&i.push(jt?f.slice(1):f);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(c)):i},ce.prototype.listeners=function(i){var f=this._events[jt?jt+i:i];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,b=f.length,x=new Array(b);m<b;m++)x[m]=f[m].fn;return x},ce.prototype.listenerCount=function(i){var f=this._events[jt?jt+i:i];return f?f.fn?1:f.length:0},ce.prototype.emit=function(i,c,f,m,b,x){var R=jt?jt+i:i;if(!this._events[R])return!1;var ne,Ee,U=this._events[R],j=arguments.length;if(U.fn){switch(U.once&&this.removeListener(i,U.fn,void 0,!0),j){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,c),!0;case 3:return U.fn.call(U.context,c,f),!0;case 4:return U.fn.call(U.context,c,f,m),!0;case 5:return U.fn.call(U.context,c,f,m,b),!0;case 6:return U.fn.call(U.context,c,f,m,b,x),!0}for(Ee=1,ne=new Array(j-1);Ee<j;Ee++)ne[Ee-1]=arguments[Ee];U.fn.apply(U.context,ne)}else{var Et,We=U.length;for(Ee=0;Ee<We;Ee++)switch(U[Ee].once&&this.removeListener(i,U[Ee].fn,void 0,!0),j){case 1:U[Ee].fn.call(U[Ee].context);break;case 2:U[Ee].fn.call(U[Ee].context,c);break;case 3:U[Ee].fn.call(U[Ee].context,c,f);break;case 4:U[Ee].fn.call(U[Ee].context,c,f,m);break;default:if(!ne)for(Et=1,ne=new Array(j-1);Et<j;Et++)ne[Et-1]=arguments[Et];U[Ee].fn.apply(U[Ee].context,ne)}}return!0},ce.prototype.on=function(i,c,f){return ae(this,i,c,f,!1)},ce.prototype.once=function(i,c,f){return ae(this,i,c,f,!0)},ce.prototype.removeListener=function(i,c,f,m){var b=jt?jt+i:i;if(!this._events[b])return this;if(!c)return H(this,b),this;var x=this._events[b];if(x.fn)x.fn===c&&(!m||x.once)&&(!f||x.context===f)&&H(this,b);else{for(var R=0,U=[],j=x.length;R<j;R++)(x[R].fn!==c||m&&!x[R].once||f&&x[R].context!==f)&&U.push(x[R]);U.length?this._events[b]=1===U.length?U[0]:U:H(this,b)}return this},ce.prototype.removeAllListeners=function(i){var c;return i?this._events[c=jt?jt+i:i]&&H(this,c):(this._events=new Bn,this._eventsCount=0),this},ce.prototype.off=ce.prototype.removeListener,ce.prototype.addListener=ce.prototype.on,ce.prefixed=jt,ce.EventEmitter=ce,Tn=ce;var pe={};kt(pe,"LogLevel",()=>ot,s=>ot=s),kt(pe,"default",()=>_n,s=>_n=s);var $e=function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var m,x,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(m=f.next()).done;)b.push(m.value)}catch(R){x={error:R}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(x)throw x.error}}return b},Ke=function(s,i,c){if(c||2===arguments.length)for(var b,f=0,m=i.length;f<m;f++)(b||!(f in i))&&(b||(b=Array.prototype.slice.call(i,0,f)),b[f]=i[f]);return s.concat(b||Array.prototype.slice.call(i))},ot=(()=>((ot=ot||{})[ot.Disabled=0]="Disabled",ot[ot.Errors=1]="Errors",ot[ot.Warnings=2]="Warnings",ot[ot.All=3]="All",ot))(),gt=function(){function s(){this._logLevel=ot.Disabled}return Object.defineProperty(s.prototype,"logLevel",{get:function(){return this._logLevel},set:function(i){this._logLevel=i},enumerable:!1,configurable:!0}),s.prototype.log=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=ot.All&&this._print.apply(this,Ke([ot.All],$e(i),!1))},s.prototype.warn=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=ot.Warnings&&this._print.apply(this,Ke([ot.Warnings],$e(i),!1))},s.prototype.error=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=ot.Errors&&this._print.apply(this,Ke([ot.Errors],$e(i),!1))},s.prototype.setLogFunction=function(i){this._print=i},s.prototype._print=function(i){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];var m=Ke(["PeerJS: "],$e(c),!1);for(var b in m)m[b]instanceof Error&&(m[b]="("+m[b].name+") "+m[b].message);i>=ot.All?console.log.apply(console,Ke([],$e(m),!1)):i>=ot.Warnings?console.warn.apply(console,Ke(["WARNING"],$e(m),!1)):i>=ot.Errors&&console.error.apply(console,Ke(["ERROR"],$e(m),!1))},s}(),_n=new gt,zn={};kt(zn,"Socket",()=>zr,s=>zr=s);var Mn,$t=(()=>(($t=$t||{}).Data="data",$t.Media="media",$t))(),vt=(()=>((vt=vt||{}).BrowserIncompatible="browser-incompatible",vt.Disconnected="disconnected",vt.InvalidID="invalid-id",vt.InvalidKey="invalid-key",vt.Network="network",vt.PeerUnavailable="peer-unavailable",vt.SslUnavailable="ssl-unavailable",vt.ServerError="server-error",vt.SocketError="socket-error",vt.SocketClosed="socket-closed",vt.UnavailableID="unavailable-id",vt.WebRTC="webrtc",vt))(),Cn=(()=>((Cn=Cn||{}).Binary="binary",Cn.BinaryUTF8="binary-utf8",Cn.JSON="json",Cn))(),dn=(()=>((dn=dn||{}).Message="message",dn.Disconnected="disconnected",dn.Error="error",dn.Close="close",dn))(),mt=(()=>((mt=mt||{}).Heartbeat="HEARTBEAT",mt.Candidate="CANDIDATE",mt.Offer="OFFER",mt.Answer="ANSWER",mt.Open="OPEN",mt.Error="ERROR",mt.IdTaken="ID-TAKEN",mt.InvalidKey="INVALID-KEY",mt.Leave="LEAVE",mt.Expire="EXPIRE",mt))();Mn=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var s,Wn=(s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)},function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}),zr=function(s){function i(c,f,m,b,x,R){void 0===R&&(R=5e3);var U=s.call(this)||this;return U.pingInterval=R,U._disconnected=!0,U._messagesQueue=[],U._baseUrl=(c?"wss://":"ws://")+f+":"+m+b+"peerjs?key="+x,U}return Wn(i,s),i.prototype.start=function(c,f){var m=this;this._id=c;var b="".concat(this._baseUrl,"&id=").concat(c,"&token=").concat(f);this._socket||!this._disconnected||(this._socket=new WebSocket(b+"&version="+Mn.version),this._disconnected=!1,this._socket.onmessage=function(x){var R;try{R=JSON.parse(x.data),pe.default.log("Server message received:",R)}catch{return void pe.default.log("Invalid server message",x.data)}m.emit(dn.Message,R)},this._socket.onclose=function(x){m._disconnected||(pe.default.log("Socket closed.",x),m._cleanup(),m._disconnected=!0,m.emit(dn.Disconnected))},this._socket.onopen=function(){m._disconnected||(m._sendQueuedMessages(),pe.default.log("Socket open"),m._scheduleHeartbeat())})},i.prototype._scheduleHeartbeat=function(){var c=this;this._wsPingTimer=setTimeout(function(){c._sendHeartbeat()},this.pingInterval)},i.prototype._sendHeartbeat=function(){if(this._wsOpen()){var c=JSON.stringify({type:mt.Heartbeat});this._socket.send(c),this._scheduleHeartbeat()}else pe.default.log("Cannot send heartbeat, because socket closed")},i.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},i.prototype._sendQueuedMessages=function(){var c,f,m=function(s,i,c){if(c||2===arguments.length)for(var b,f=0,m=i.length;f<m;f++)(b||!(f in i))&&(b||(b=Array.prototype.slice.call(i,0,f)),b[f]=i[f]);return s.concat(b||Array.prototype.slice.call(i))}([],function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var m,x,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(m=f.next()).done;)b.push(m.value)}catch(R){x={error:R}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(x)throw x.error}}return b}(this._messagesQueue),!1);this._messagesQueue=[];try{for(var b=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(m),x=b.next();!x.done;x=b.next())this.send(x.value)}catch(U){c={error:U}}finally{try{x&&!x.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}},i.prototype.send=function(c){if(!this._disconnected){if(!this._id)return void this._messagesQueue.push(c);if(!c.type)return void this.emit(dn.Error,"Invalid message");if(this._wsOpen()){var f=JSON.stringify(c);this._socket.send(f)}}},i.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},i.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},i}(Tn.EventEmitter),Mr={};kt(Mr,"MediaConnection",()=>Fr,s=>Fr=s);var ro={};kt(ro,"Negotiator",()=>oo,s=>oo=s);var Dn=function(){return Dn=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var m in i=arguments[c])Object.prototype.hasOwnProperty.call(i,m)&&(s[m]=i[m]);return s},Dn.apply(this,arguments)},Rn=function(s,i,c,f){return new(c||(c=Promise))(function(b,x){function R(ne){try{j(f.next(ne))}catch(Ee){x(Ee)}}function U(ne){try{j(f.throw(ne))}catch(Ee){x(Ee)}}function j(ne){ne.done?b(ne.value):function m(b){return b instanceof c?b:new c(function(x){x(b)})}(ne.value).then(R,U)}j((f=f.apply(s,i||[])).next())})},Ir=function(s,i){var f,m,b,x,c={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return x={next:R(0),throw:R(1),return:R(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function R(j){return function(ne){return function U(j){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,m&&(b=2&j[0]?m.return:j[0]?m.throw||((b=m.return)&&b.call(m),0):m.next)&&!(b=b.call(m,j[1])).done)return b;switch(m=0,b&&(j=[2&j[0],b.value]),j[0]){case 0:case 1:b=j;break;case 4:return c.label++,{value:j[1],done:!1};case 5:c.label++,m=j[1],j=[0];continue;case 7:j=c.ops.pop(),c.trys.pop();continue;default:if(!(b=(b=c.trys).length>0&&b[b.length-1])&&(6===j[0]||2===j[0])){c=0;continue}if(3===j[0]&&(!b||j[1]>b[0]&&j[1]<b[3])){c.label=j[1];break}if(6===j[0]&&c.label<b[1]){c.label=b[1],b=j;break}if(b&&c.label<b[2]){c.label=b[2],c.ops.push(j);break}b[2]&&c.ops.pop(),c.trys.pop();continue}j=i.call(s,c)}catch(ne){j=[6,ne],m=0}finally{f=b=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([j,ne])}}},oo=function(){function s(i){this.connection=i}return s.prototype.startConnection=function(i){var c=this._startPeerConnection();if(this.connection.peerConnection=c,this.connection.type===$t.Media&&i._stream&&this._addTracksToConnection(i._stream,c),i.originator){if(this.connection.type===$t.Data){var f=this.connection,b=c.createDataChannel(f.label,{ordered:!!i.reliable});f.initialize(b)}this._makeOffer()}else this.handleSDP("OFFER",i.sdp)},s.prototype._startPeerConnection=function(){pe.default.log("Creating RTCPeerConnection.");var i=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(i),i},s.prototype._setupListeners=function(i){var c=this,f=this.connection.peer,m=this.connection.connectionId,b=this.connection.type,x=this.connection.provider;pe.default.log("Listening for ICE candidates."),i.onicecandidate=function(R){!R.candidate||!R.candidate.candidate||(pe.default.log("Received ICE candidates for ".concat(f,":"),R.candidate),x.socket.send({type:mt.Candidate,payload:{candidate:R.candidate,type:b,connectionId:m},dst:f}))},i.oniceconnectionstatechange=function(){switch(i.iceConnectionState){case"failed":pe.default.log("iceConnectionState is failed, closing connections to "+f),c.connection.emit("error",new Error("Negotiation of connection to "+f+" failed.")),c.connection.close();break;case"closed":pe.default.log("iceConnectionState is closed, closing connections to "+f),c.connection.emit("error",new Error("Connection to "+f+" closed.")),c.connection.close();break;case"disconnected":pe.default.log("iceConnectionState changed to disconnected on the connection with "+f);break;case"completed":i.onicecandidate=Mt.noop}c.connection.emit("iceStateChanged",i.iceConnectionState)},pe.default.log("Listening for data channel"),i.ondatachannel=function(R){pe.default.log("Received data channel");var U=R.channel;x.getConnection(f,m).initialize(U)},pe.default.log("Listening for remote stream"),i.ontrack=function(R){pe.default.log("Received remote stream");var U=R.streams[0],j=x.getConnection(f,m);j.type===$t.Media&&c._addStreamToMediaConnection(U,j)}},s.prototype.cleanup=function(){pe.default.log("Cleaning up PeerConnection to "+this.connection.peer);var i=this.connection.peerConnection;if(i){this.connection.peerConnection=null,i.onicecandidate=i.oniceconnectionstatechange=i.ondatachannel=i.ontrack=function(){};var f=!1;if(this.connection.type===$t.Data){var b=this.connection.dataChannel;b&&(f=!!b.readyState&&"closed"!==b.readyState)}("closed"!==i.signalingState||f)&&i.close()}},s.prototype._makeOffer=function(){return Rn(this,void 0,Promise,function(){var i,c,f,m,b,x,R;return Ir(this,function(U){switch(U.label){case 0:i=this.connection.peerConnection,c=this.connection.provider,U.label=1;case 1:return U.trys.push([1,7,,8]),[4,i.createOffer(this.connection.options.constraints)];case 2:f=U.sent(),pe.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(f.sdp=this.connection.options.sdpTransform(f.sdp)||f.sdp),U.label=3;case 3:return U.trys.push([3,5,,6]),[4,i.setLocalDescription(f)];case 4:return U.sent(),pe.default.log("Set localDescription:",f,"for:".concat(this.connection.peer)),m={sdp:f,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:Mt.browser},this.connection.type===$t.Data&&(b=this.connection,m=Dn(Dn({},m),{label:b.label,reliable:b.reliable,serialization:b.serialization})),c.socket.send({type:mt.Offer,payload:m,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(x=U.sent())&&(c.emitError(vt.WebRTC,x),pe.default.log("Failed to setLocalDescription, ",x)),[3,6];case 6:return[3,8];case 7:return R=U.sent(),c.emitError(vt.WebRTC,R),pe.default.log("Failed to createOffer, ",R),[3,8];case 8:return[2]}})})},s.prototype._makeAnswer=function(){return Rn(this,void 0,Promise,function(){var i,c,f,m,b;return Ir(this,function(x){switch(x.label){case 0:i=this.connection.peerConnection,c=this.connection.provider,x.label=1;case 1:return x.trys.push([1,7,,8]),[4,i.createAnswer()];case 2:f=x.sent(),pe.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(f.sdp=this.connection.options.sdpTransform(f.sdp)||f.sdp),x.label=3;case 3:return x.trys.push([3,5,,6]),[4,i.setLocalDescription(f)];case 4:return x.sent(),pe.default.log("Set localDescription:",f,"for:".concat(this.connection.peer)),c.socket.send({type:mt.Answer,payload:{sdp:f,type:this.connection.type,connectionId:this.connection.connectionId,browser:Mt.browser},dst:this.connection.peer}),[3,6];case 5:return m=x.sent(),c.emitError(vt.WebRTC,m),pe.default.log("Failed to setLocalDescription, ",m),[3,6];case 6:return[3,8];case 7:return b=x.sent(),c.emitError(vt.WebRTC,b),pe.default.log("Failed to create answer, ",b),[3,8];case 8:return[2]}})})},s.prototype.handleSDP=function(i,c){return Rn(this,void 0,Promise,function(){var f,m,b,x;return Ir(this,function(R){switch(R.label){case 0:c=new RTCSessionDescription(c),f=this.connection.peerConnection,m=this.connection.provider,pe.default.log("Setting remote description",c),b=this,R.label=1;case 1:return R.trys.push([1,5,,6]),[4,f.setRemoteDescription(c)];case 2:return R.sent(),pe.default.log("Set remoteDescription:".concat(i," for:").concat(this.connection.peer)),"OFFER"!==i?[3,4]:[4,b._makeAnswer()];case 3:R.sent(),R.label=4;case 4:return[3,6];case 5:return x=R.sent(),m.emitError(vt.WebRTC,x),pe.default.log("Failed to setRemoteDescription, ",x),[3,6];case 6:return[2]}})})},s.prototype.handleCandidate=function(i){return Rn(this,void 0,Promise,function(){var c,f,m,b,x,R;return Ir(this,function(U){switch(U.label){case 0:pe.default.log("handleCandidate:",i),c=i.candidate,f=i.sdpMLineIndex,m=i.sdpMid,b=this.connection.peerConnection,x=this.connection.provider,U.label=1;case 1:return U.trys.push([1,3,,4]),[4,b.addIceCandidate(new RTCIceCandidate({sdpMid:m,sdpMLineIndex:f,candidate:c}))];case 2:return U.sent(),pe.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return R=U.sent(),x.emitError(vt.WebRTC,R),pe.default.log("Failed to handleCandidate, ",R),[3,4];case 4:return[2]}})})},s.prototype._addTracksToConnection=function(i,c){if(pe.default.log("add tracks from stream ".concat(i.id," to peer connection")),!c.addTrack)return pe.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");i.getTracks().forEach(function(f){c.addTrack(f,i)})},s.prototype._addStreamToMediaConnection=function(i,c){pe.default.log("add stream ".concat(i.id," to media connection ").concat(c.connectionId)),c.addStream(i)},s}(),fr={};kt(fr,"BaseConnection",()=>Wr,s=>Wr=s);var Oo=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),Wr=function(s){function i(c,f,m){var b=s.call(this)||this;return b.peer=c,b.provider=f,b.options=m,b._open=!1,b.metadata=m.metadata,b}return Oo(i,s),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),i}(Tn.EventEmitter),hr=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),Nr=function(){return Nr=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var m in i=arguments[c])Object.prototype.hasOwnProperty.call(i,m)&&(s[m]=i[m]);return s},Nr.apply(this,arguments)},Fr=function(s){function i(c,f,m){var b=s.call(this,c,f,m)||this;return b._localStream=b.options._stream,b.connectionId=b.options.connectionId||i.ID_PREFIX+Mt.randomToken(),b._negotiator=new ro.Negotiator(b),b._localStream&&b._negotiator.startConnection({_stream:b._localStream,originator:!0}),b}return hr(i,s),Object.defineProperty(i.prototype,"type",{get:function(){return $t.Media},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),i.prototype.addStream=function(c){pe.default.log("Receiving stream",c),this._remoteStream=c,s.prototype.emit.call(this,"stream",c)},i.prototype.handleMessage=function(c){var f=c.type,m=c.payload;switch(c.type){case mt.Answer:this._negotiator.handleSDP(f,m.sdp),this._open=!0;break;case mt.Candidate:this._negotiator.handleCandidate(m.candidate);break;default:pe.default.warn("Unrecognized message type:".concat(f," from peer:").concat(this.peer))}},i.prototype.answer=function(c,f){var m,b;if(void 0===f&&(f={}),this._localStream)pe.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=c,f&&f.sdpTransform&&(this.options.sdpTransform=f.sdpTransform),this._negotiator.startConnection(Nr(Nr({},this.options._payload),{_stream:c}));var x=this.provider._getMessages(this.connectionId);try{for(var R=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(x),U=R.next();!U.done;U=R.next())this.handleMessage(U.value)}catch(ne){m={error:ne}}finally{try{U&&!U.done&&(b=R.return)&&b.call(R)}finally{if(m)throw m.error}}this._open=!0}},i.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,s.prototype.emit.call(this,"close"))},i.ID_PREFIX="mc_",i}(fr.BaseConnection),pr={};kt(pr,"DataConnection",()=>Lr,s=>Lr=s);var No={};kt(No,"EncodingQueue",()=>fn,s=>fn=s);var Zr=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),fn=function(s){function i(){var c=s.call(this)||this;return c.fileReader=new FileReader,c._queue=[],c._processing=!1,c.fileReader.onload=function(f){c._processing=!1,f.target&&c.emit("done",f.target.result),c.doNextTask()},c.fileReader.onerror=function(f){pe.default.error("EncodingQueue error:",f),c._processing=!1,c.destroy(),c.emit("error",f)},c}return Zr(i,s),Object.defineProperty(i.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),i.prototype.enque=function(c){this.queue.push(c),!this.processing&&this.doNextTask()},i.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},i.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},i}(Tn.EventEmitter),io=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),Lr=function(s){function i(c,f,m){var b=s.call(this,c,f,m)||this;return b.stringify=JSON.stringify,b.parse=JSON.parse,b._buffer=[],b._bufferSize=0,b._buffering=!1,b._chunkedData={},b._encodingQueue=new No.EncodingQueue,b.connectionId=b.options.connectionId||i.ID_PREFIX+Mt.randomToken(),b.label=b.options.label||b.connectionId,b.serialization=b.options.serialization||Cn.Binary,b.reliable=!!b.options.reliable,b._encodingQueue.on("done",function(x){b._bufferedSend(x)}),b._encodingQueue.on("error",function(){pe.default.error("DC#".concat(b.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),b.close()}),b._negotiator=new ro.Negotiator(b),b._negotiator.startConnection(b.options._payload||{originator:!0}),b}return io(i,s),Object.defineProperty(i.prototype,"type",{get:function(){return $t.Data},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),i.prototype.initialize=function(c){this._dc=c,this._configureDataChannel()},i.prototype._configureDataChannel=function(){var c=this;(!Mt.supports.binaryBlob||Mt.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){pe.default.log("DC#".concat(c.connectionId," dc connection success")),c._open=!0,c.emit("open")},this.dataChannel.onmessage=function(f){pe.default.log("DC#".concat(c.connectionId," dc onmessage:"),f.data),c._handleDataMessage(f)},this.dataChannel.onclose=function(){pe.default.log("DC#".concat(c.connectionId," dc closed for:"),c.peer),c.close()}},i.prototype._handleDataMessage=function(c){var f=this,m=c.data,b=m.constructor,R=m;if(this.serialization===Cn.Binary||this.serialization===Cn.BinaryUTF8){if(b===Blob)return void Mt.blobToArrayBuffer(m,function(j){var ne=Mt.unpack(j);f.emit("data",ne)});if(b===ArrayBuffer)R=Mt.unpack(m);else if(b===String){var U=Mt.binaryStringToArrayBuffer(m);R=Mt.unpack(U)}}else this.serialization===Cn.JSON&&(R=this.parse(m));R.__peerData?this._handleChunk(R):s.prototype.emit.call(this,"data",R)},i.prototype._handleChunk=function(c){var f=c.__peerData,m=this._chunkedData[f]||{data:[],count:0,total:c.total};if(m.data[c.n]=c.data,m.count++,this._chunkedData[f]=m,m.total===m.count){delete this._chunkedData[f];var b=new Blob(m.data);this._handleDataMessage({data:b})}},i.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,s.prototype.emit.call(this,"close"))},i.prototype.send=function(c,f){if(this.open)if(this.serialization===Cn.JSON)this._bufferedSend(this.stringify(c));else if(this.serialization===Cn.Binary||this.serialization===Cn.BinaryUTF8){var m=Mt.pack(c);if(!f&&m.size>Mt.chunkedMTU)return void this._sendChunks(m);Mt.supports.binaryBlob?this._bufferedSend(m):this._encodingQueue.enque(m)}else this._bufferedSend(c);else s.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."))},i.prototype._bufferedSend=function(c){(this._buffering||!this._trySend(c))&&(this._buffer.push(c),this._bufferSize=this._buffer.length)},i.prototype._trySend=function(c){var f=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>i.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){f._buffering=!1,f._tryBuffer()},50),!1;try{this.dataChannel.send(c)}catch(m){return pe.default.error("DC#:".concat(this.connectionId," Error when sending:"),m),this._buffering=!0,this.close(),!1}return!0},i.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},i.prototype._sendChunks=function(c){var f,m,b=Mt.chunk(c);pe.default.log("DC#".concat(this.connectionId," Try to send ").concat(b.length," chunks..."));try{for(var x=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(b),R=x.next();!R.done;R=x.next())this.send(R.value,!0)}catch(j){f={error:j}}finally{try{R&&!R.done&&(m=x.return)&&m.call(x)}finally{if(f)throw f.error}}},i.prototype.handleMessage=function(c){var f=c.payload;switch(c.type){case mt.Answer:this._negotiator.handleSDP(c.type,f.sdp);break;case mt.Candidate:this._negotiator.handleCandidate(f.candidate);break;default:pe.default.warn("Unrecognized message type:",c.type,"from peer:",this.peer)}},i.ID_PREFIX="dc_",i.MAX_BUFFERED_AMOUNT=8388608,i}(fr.BaseConnection),Pn={};kt(Pn,"API",()=>Vr,s=>Vr=s);var Fo=function(s,i,c,f){return new(c||(c=Promise))(function(b,x){function R(ne){try{j(f.next(ne))}catch(Ee){x(Ee)}}function U(ne){try{j(f.throw(ne))}catch(Ee){x(Ee)}}function j(ne){ne.done?b(ne.value):function m(b){return b instanceof c?b:new c(function(x){x(b)})}(ne.value).then(R,U)}j((f=f.apply(s,i||[])).next())})},Ar=function(s,i){var f,m,b,x,c={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return x={next:R(0),throw:R(1),return:R(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function R(j){return function(ne){return function U(j){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,m&&(b=2&j[0]?m.return:j[0]?m.throw||((b=m.return)&&b.call(m),0):m.next)&&!(b=b.call(m,j[1])).done)return b;switch(m=0,b&&(j=[2&j[0],b.value]),j[0]){case 0:case 1:b=j;break;case 4:return c.label++,{value:j[1],done:!1};case 5:c.label++,m=j[1],j=[0];continue;case 7:j=c.ops.pop(),c.trys.pop();continue;default:if(!(b=(b=c.trys).length>0&&b[b.length-1])&&(6===j[0]||2===j[0])){c=0;continue}if(3===j[0]&&(!b||j[1]>b[0]&&j[1]<b[3])){c.label=j[1];break}if(6===j[0]&&c.label<b[1]){c.label=b[1],b=j;break}if(b&&c.label<b[2]){c.label=b[2],c.ops.push(j);break}b[2]&&c.ops.pop(),c.trys.pop();continue}j=i.call(s,c)}catch(ne){j=[6,ne],m=0}finally{f=b=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([j,ne])}}},Vr=function(){function s(i){this._options=i}return s.prototype._buildRequest=function(i){var f=this._options,m=f.host,b=f.port,x=f.path,R=f.key,U=new URL("".concat(this._options.secure?"https":"http","://").concat(m,":").concat(b).concat(x).concat(R,"/").concat(i));return U.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),U.searchParams.set("version",Mn.version),fetch(U.href,{referrerPolicy:this._options.referrerPolicy})},s.prototype.retrieveId=function(){return Fo(this,void 0,Promise,function(){var i,c,f;return Ar(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(200!==(i=m.sent()).status)throw new Error("Error. Status:".concat(i.status));return[2,i.text()];case 2:throw c=m.sent(),pe.default.error("Error retrieving ID",c),f="","/"===this._options.path&&this._options.host!==Mt.CLOUD_HOST&&(f=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+f);case 3:return[2]}})})},s.prototype.listAllPeers=function(){return Fo(this,void 0,Promise,function(){var i,c,f;return Ar(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(200!==(i=m.sent()).status)throw 401===i.status?("",c=this._options.host===Mt.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+c)):new Error("Error. Status:".concat(i.status));return[2,i.json()];case 2:throw f=m.sent(),pe.default.error("Error retrieving list peers",f),new Error("Could not get list peers from the server."+f);case 3:return[2]}})})},s}(),Do=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),bn=function(){return bn=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var m in i=arguments[c])Object.prototype.hasOwnProperty.call(i,m)&&(s[m]=i[m]);return s},bn.apply(this,arguments)},ao=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Zo=function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var m,x,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(m=f.next()).done;)b.push(m.value)}catch(R){x={error:R}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(x)throw x.error}}return b},co=function(s){function i(c,f){var b,m=s.call(this)||this;return m._id=null,m._lastServerId=null,m._destroyed=!1,m._disconnected=!1,m._open=!1,m._connections=new Map,m._lostMessages=new Map,c&&c.constructor==Object?f=c:c&&(b=c.toString()),f=bn({debug:0,host:Mt.CLOUD_HOST,port:Mt.CLOUD_PORT,path:"/",key:i.DEFAULT_KEY,token:Mt.randomToken(),config:Mt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},f),m._options=f,"/"===m._options.host&&(m._options.host=window.location.hostname),m._options.path&&("/"!==m._options.path[0]&&(m._options.path="/"+m._options.path),"/"!==m._options.path[m._options.path.length-1]&&(m._options.path+="/")),void 0===m._options.secure&&m._options.host!==Mt.CLOUD_HOST?m._options.secure=Mt.isSecure():m._options.host==Mt.CLOUD_HOST&&(m._options.secure=!0),m._options.logFunction&&pe.default.setLogFunction(m._options.logFunction),pe.default.logLevel=m._options.debug||0,m._api=new Pn.API(f),m._socket=m._createServerConnection(),Mt.supports.audioVideo||Mt.supports.data?b&&!Mt.validateId(b)?(m._delayedAbort(vt.InvalidID,'ID "'.concat(b,'" is invalid')),m):(b?m._initialize(b):m._api.retrieveId().then(function(x){return m._initialize(x)}).catch(function(x){return m._abort(vt.ServerError,x)}),m):(m._delayedAbort(vt.BrowserIncompatible,"The current browser does not support WebRTC"),m)}return Do(i,s),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connections",{get:function(){var c,f,m=Object.create(null);try{for(var b=ao(this._connections),x=b.next();!x.done;x=b.next()){var R=Zo(x.value,2);m[R[0]]=R[1]}}catch(ne){c={error:ne}}finally{try{x&&!x.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}return m},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),i.prototype._createServerConnection=function(){var c=this,f=new zn.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return f.on(dn.Message,function(m){c._handleMessage(m)}),f.on(dn.Error,function(m){c._abort(vt.SocketError,m)}),f.on(dn.Disconnected,function(){c.disconnected||(c.emitError(vt.Network,"Lost connection to server."),c.disconnect())}),f.on(dn.Close,function(){c.disconnected||c._abort(vt.SocketClosed,"Underlying socket is already closed.")}),f},i.prototype._initialize=function(c){this._id=c,this.socket.start(c,this._options.token)},i.prototype._handleMessage=function(c){var f,m,b=c.type,x=c.payload,R=c.src;switch(b){case mt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case mt.Error:this._abort(vt.ServerError,x.msg);break;case mt.IdTaken:this._abort(vt.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case mt.InvalidKey:this._abort(vt.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case mt.Leave:pe.default.log("Received leave message from ".concat(R)),this._cleanupPeer(R),this._connections.delete(R);break;case mt.Expire:this.emitError(vt.PeerUnavailable,"Could not connect to peer ".concat(R));break;case mt.Offer:if((Wt=this.getConnection(R,zt=x.connectionId))&&(Wt.close(),pe.default.warn("Offer received for existing Connection ID:".concat(zt))),x.type===$t.Media){var U=new Mr.MediaConnection(R,this,{connectionId:zt,_payload:x,metadata:x.metadata});this._addConnection(R,Wt=U),this.emit("call",U)}else{if(x.type!==$t.Data)return void pe.default.warn("Received malformed connection type:".concat(x.type));var j=new pr.DataConnection(R,this,{connectionId:zt,_payload:x,metadata:x.metadata,label:x.label,serialization:x.serialization,reliable:x.reliable});this._addConnection(R,Wt=j),this.emit("connection",j)}var ne=this._getMessages(zt);try{for(var Ee=ao(ne),We=Ee.next();!We.done;We=Ee.next())Wt.handleMessage(We.value)}catch(Ai){f={error:Ai}}finally{try{We&&!We.done&&(m=Ee.return)&&m.call(Ee)}finally{if(f)throw f.error}}break;default:if(!x)return void pe.default.warn("You received a malformed message from ".concat(R," of type ").concat(b));var zt,Wt;(Wt=this.getConnection(R,zt=x.connectionId))&&Wt.peerConnection?Wt.handleMessage(c):zt?this._storeMessage(zt,c):pe.default.warn("You received an unrecognized message:",c)}},i.prototype._storeMessage=function(c,f){this._lostMessages.has(c)||this._lostMessages.set(c,[]),this._lostMessages.get(c).push(f)},i.prototype._getMessages=function(c){var f=this._lostMessages.get(c);return f?(this._lostMessages.delete(c),f):[]},i.prototype.connect=function(c,f){if(void 0===f&&(f={}),this.disconnected)return pe.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var m=new pr.DataConnection(c,this,f);return this._addConnection(c,m),m},i.prototype.call=function(c,f,m){if(void 0===m&&(m={}),this.disconnected)return pe.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(f){var b=new Mr.MediaConnection(c,this,bn(bn({},m),{_stream:f}));return this._addConnection(c,b),b}pe.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},i.prototype._addConnection=function(c,f){pe.default.log("add connection ".concat(f.type,":").concat(f.connectionId," to peerId:").concat(c)),this._connections.has(c)||this._connections.set(c,[]),this._connections.get(c).push(f)},i.prototype._removeConnection=function(c){var f=this._connections.get(c.peer);if(f){var m=f.indexOf(c);-1!==m&&f.splice(m,1)}this._lostMessages.delete(c.connectionId)},i.prototype.getConnection=function(c,f){var m,b,x=this._connections.get(c);if(!x)return null;try{for(var R=ao(x),U=R.next();!U.done;U=R.next()){var j=U.value;if(j.connectionId===f)return j}}catch(ne){m={error:ne}}finally{try{U&&!U.done&&(b=R.return)&&b.call(R)}finally{if(m)throw m.error}}return null},i.prototype._delayedAbort=function(c,f){var m=this;setTimeout(function(){m._abort(c,f)},0)},i.prototype._abort=function(c,f){pe.default.error("Aborting!"),this.emitError(c,f),this._lastServerId?this.disconnect():this.destroy()},i.prototype.emitError=function(c,f){var m;pe.default.error("Error:",f),(m="string"==typeof f?new Error(f):f).type=c,this.emit("error",m)},i.prototype.destroy=function(){this.destroyed||(pe.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},i.prototype._cleanup=function(){var c,f;try{for(var m=ao(this._connections.keys()),b=m.next();!b.done;b=m.next()){var x=b.value;this._cleanupPeer(x),this._connections.delete(x)}}catch(R){c={error:R}}finally{try{b&&!b.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}this.socket.removeAllListeners()},i.prototype._cleanupPeer=function(c){var f,m,b=this._connections.get(c);if(b)try{for(var x=ao(b),R=x.next();!R.done;R=x.next())R.value.close()}catch(j){f={error:j}}finally{try{R&&!R.done&&(m=x.return)&&m.call(x)}finally{if(f)throw f.error}}},i.prototype.disconnect=function(){if(!this.disconnected){var c=this.id;pe.default.log("Disconnect peer with ID:".concat(c)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=c,this._id=null,this.emit("disconnected",c)}},i.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)pe.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"));pe.default.error("In a hurry? We're still trying to make the initial connection!")}},i.prototype.listAllPeers=function(c){var f=this;void 0===c&&(c=function(m){}),this._api.listAllPeers().then(function(m){return c(m)}).catch(function(m){return f._abort(vt.ServerError,m)})},i.DEFAULT_KEY="peerjs",i}(Tn.EventEmitter),lo=T(7672);const Lo=[0,2e3,1e4,3e4,null];class uo{constructor(i){this._retryDelays=void 0!==i?[...i,null]:Lo}nextRetryDelayInMilliseconds(i){return this._retryDelays[i.previousRetryCount]}}let Br=(()=>{class s{}return s.Authorization="Authorization",s.Cookie="Cookie",s})();class fo{constructor(i,c,f){this.statusCode=i,this.statusText=c,this.content=f}}class wt{get(i,c){return this.send({...c,method:"GET",url:i})}post(i,c){return this.send({...c,method:"POST",url:i})}delete(i,c){return this.send({...c,method:"DELETE",url:i})}getCookieString(i){return""}}class Sn extends wt{constructor(i,c){super(),this._innerClient=i,this._accessTokenFactory=c}send(i){var c=this;return(0,oe.Z)(function*(){let f=!0;c._accessTokenFactory&&(!c._accessToken||i.url&&i.url.indexOf("/negotiate?")>0)&&(f=!1,c._accessToken=yield c._accessTokenFactory()),c._setAuthorizationHeader(i);const m=yield c._innerClient.send(i);return f&&401===m.statusCode&&c._accessTokenFactory?(c._accessToken=yield c._accessTokenFactory(),c._setAuthorizationHeader(i),yield c._innerClient.send(i)):m})()}_setAuthorizationHeader(i){i.headers||(i.headers={}),this._accessToken?i.headers[Br.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&i.headers[Br.Authorization]&&delete i.headers[Br.Authorization]}getCookieString(i){return this._innerClient.getCookieString(i)}}class cn extends Error{constructor(i,c){const f=new.target.prototype;super(`${i}: Status code '${c}'`),this.statusCode=c,this.__proto__=f}}class gr extends Error{constructor(i="A timeout occurred."){const c=new.target.prototype;super(i),this.__proto__=c}}class Nt extends Error{constructor(i="An abort occurred."){const c=new.target.prototype;super(i),this.__proto__=c}}class bo extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="UnsupportedTransportError",this.__proto__=f}}class jr extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="DisabledTransportError",this.__proto__=f}}class mr extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="FailedToStartTransportError",this.__proto__=f}}class ar extends Error{constructor(i){const c=new.target.prototype;super(i),this.errorType="FailedToNegotiateWithServerError",this.__proto__=c}}class yr extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.innerErrors=c,this.__proto__=f}}var De=(()=>((De=De||{})[De.Trace=0]="Trace",De[De.Debug=1]="Debug",De[De.Information=2]="Information",De[De.Warning=3]="Warning",De[De.Error=4]="Error",De[De.Critical=5]="Critical",De[De.None=6]="None",De))();class Ue{constructor(){}log(i,c){}}Ue.instance=new Ue;const lt="7.0.7";class it{static isRequired(i,c){if(null==i)throw new Error(`The '${c}' argument is required.`)}static isNotEmpty(i,c){if(!i||i.match(/^\s*$/))throw new Error(`The '${c}' argument should not be empty.`)}static isIn(i,c,f){if(!(i in c))throw new Error(`Unknown ${f} value: ${i}.`)}}class It{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Qn(s,i){let c="";return Zn(s)?(c=`Binary data of length ${s.byteLength}`,i&&(c+=`. Content: '${function ln(s){const i=new Uint8Array(s);let c="";return i.forEach(f=>{c+=`0x${f<16?"0":""}${f.toString(16)} `}),c.substr(0,c.length-1)}(s)}'`)):"string"==typeof s&&(c=`String data of length ${s.length}`,i&&(c+=`. Content: '${s}'`)),c}function Zn(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&"ArrayBuffer"===s.constructor.name)}function Ut(s,i,c,f,m,b){return cr.apply(this,arguments)}function cr(){return cr=(0,oe.Z)(function*(s,i,c,f,m,b){const x={},[R,U]=vr();x[R]=U,s.log(De.Trace,`(${i} transport) sending data. ${Qn(m,b.logMessageContent)}.`);const j=Zn(m)?"arraybuffer":"text",ne=yield c.post(f,{content:m,headers:{...x,...b.headers},responseType:j,timeout:b.timeout,withCredentials:b.withCredentials});s.log(De.Trace,`(${i} transport) request complete. Response status: ${ne.statusCode}.`)}),cr.apply(this,arguments)}class at{constructor(i,c){this._subject=i,this._observer=c}dispose(){const i=this._subject.observers.indexOf(this._observer);i>-1&&this._subject.observers.splice(i,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(c=>{})}}class $n{constructor(i){this._minLevel=i,this.out=console}log(i,c){if(i>=this._minLevel){const f=`[${(new Date).toISOString()}] ${De[i]}: ${c}`;switch(i){case De.Critical:case De.Error:this.out.error(f);break;case De.Warning:this.out.warn(f);break;case De.Information:this.out.info(f);break;default:this.out.log(f)}}}}function vr(){let s="X-SignalR-User-Agent";return It.isNode&&(s="User-Agent"),[s,_r(lt,on(),It.isNode?"NodeJS":"Browser",ho())]}function _r(s,i,c,f){let m="Microsoft SignalR/";const b=s.split(".");return m+=`${b[0]}.${b[1]}`,m+=` (${s}; `,m+=i&&""!==i?`${i}; `:"Unknown OS; ",m+=`${c}`,m+=f?`; ${f}`:"; Unknown Runtime Version",m+=")",m}function on(){if(!It.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function ho(){if(It.isNode)return process.versions.node}function Ln(s){return s.stack?s.stack:s.message?s.message:`${s}`}class Yr extends wt{constructor(i){if(super(),this._logger=i,typeof fetch>"u"){const c=require;this._jar=new(c("tough-cookie").CookieJar),this._fetchType=c("node-fetch"),this._fetchType=c("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Rr(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const c=require;this._abortControllerType=c("abort-controller")}else this._abortControllerType=AbortController}send(i){var c=this;return(0,oe.Z)(function*(){if(i.abortSignal&&i.abortSignal.aborted)throw new Nt;if(!i.method)throw new Error("No method defined.");if(!i.url)throw new Error("No url defined.");const f=new c._abortControllerType;let m;i.abortSignal&&(i.abortSignal.onabort=()=>{f.abort(),m=new Nt});let x,b=null;i.timeout&&(b=setTimeout(()=>{f.abort(),c._logger.log(De.Warning,"Timeout from HTTP request."),m=new gr},i.timeout)),""===i.content&&(i.content=void 0),i.content&&(i.headers=i.headers||{},i.headers["Content-Type"]=Zn(i.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{x=yield c._fetchType(i.url,{body:i.content,cache:"no-cache",credentials:!0===i.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...i.headers},method:i.method,mode:"cors",redirect:"follow",signal:f.signal})}catch(j){throw m||(c._logger.log(De.Warning,`Error from HTTP request. ${j}.`),j)}finally{b&&clearTimeout(b),i.abortSignal&&(i.abortSignal.onabort=null)}if(!x.ok){const j=yield er(x,"text");throw new cn(j||x.statusText,x.status)}const U=yield er(x,i.responseType);return new fo(x.status,x.statusText,U)})()}getCookieString(i){let c="";return It.isNode&&this._jar&&this._jar.getCookies(i,(f,m)=>c=m.join("; ")),c}}function er(s,i){let c;switch(i){case"arraybuffer":c=s.arrayBuffer();break;case"text":default:c=s.text();break;case"blob":case"document":case"json":throw new Error(`${i} is not supported.`)}return c}class En extends wt{constructor(i){super(),this._logger=i}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new Nt):i.method?i.url?new Promise((c,f)=>{const m=new XMLHttpRequest;m.open(i.method,i.url,!0),m.withCredentials=void 0===i.withCredentials||i.withCredentials,m.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===i.content&&(i.content=void 0),i.content&&(Zn(i.content)?m.setRequestHeader("Content-Type","application/octet-stream"):m.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const b=i.headers;b&&Object.keys(b).forEach(x=>{m.setRequestHeader(x,b[x])}),i.responseType&&(m.responseType=i.responseType),i.abortSignal&&(i.abortSignal.onabort=()=>{m.abort(),f(new Nt)}),i.timeout&&(m.timeout=i.timeout),m.onload=()=>{i.abortSignal&&(i.abortSignal.onabort=null),m.status>=200&&m.status<300?c(new fo(m.status,m.statusText,m.response||m.responseText)):f(new cn(m.response||m.responseText||m.statusText,m.status))},m.onerror=()=>{this._logger.log(De.Warning,`Error from HTTP request. ${m.status}: ${m.statusText}.`),f(new cn(m.statusText,m.status))},m.ontimeout=()=>{this._logger.log(De.Warning,"Timeout from HTTP request."),f(new gr)},m.send(i.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class po extends wt{constructor(i){if(super(),typeof fetch<"u"||It.isNode)this._httpClient=new Yr(i);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new En(i)}}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new Nt):i.method?i.url?this._httpClient.send(i):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(i){return this._httpClient.getCookieString(i)}}var Tt=(()=>((Tt=Tt||{})[Tt.None=0]="None",Tt[Tt.WebSockets=1]="WebSockets",Tt[Tt.ServerSentEvents=2]="ServerSentEvents",Tt[Tt.LongPolling=4]="LongPolling",Tt))(),tt=(()=>((tt=tt||{})[tt.Text=1]="Text",tt[tt.Binary=2]="Binary",tt))();class Yo{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class So{constructor(i,c,f){this._httpClient=i,this._logger=c,this._pollAbort=new Yo,this._options=f,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(i,c){var f=this;return(0,oe.Z)(function*(){if(it.isRequired(i,"url"),it.isRequired(c,"transferFormat"),it.isIn(c,tt,"transferFormat"),f._url=i,f._logger.log(De.Trace,"(LongPolling transport) Connecting."),c===tt.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[m,b]=vr(),x={[m]:b,...f._options.headers},R={abortSignal:f._pollAbort.signal,headers:x,timeout:1e5,withCredentials:f._options.withCredentials};c===tt.Binary&&(R.responseType="arraybuffer");const U=`${i}&_=${Date.now()}`;f._logger.log(De.Trace,`(LongPolling transport) polling: ${U}.`);const j=yield f._httpClient.get(U,R);200!==j.statusCode?(f._logger.log(De.Error,`(LongPolling transport) Unexpected response code: ${j.statusCode}.`),f._closeError=new cn(j.statusText||"",j.statusCode),f._running=!1):f._running=!0,f._receiving=f._poll(f._url,R)})()}_poll(i,c){var f=this;return(0,oe.Z)(function*(){try{for(;f._running;)try{const m=`${i}&_=${Date.now()}`;f._logger.log(De.Trace,`(LongPolling transport) polling: ${m}.`);const b=yield f._httpClient.get(m,c);204===b.statusCode?(f._logger.log(De.Information,"(LongPolling transport) Poll terminated by server."),f._running=!1):200!==b.statusCode?(f._logger.log(De.Error,`(LongPolling transport) Unexpected response code: ${b.statusCode}.`),f._closeError=new cn(b.statusText||"",b.statusCode),f._running=!1):b.content?(f._logger.log(De.Trace,`(LongPolling transport) data received. ${Qn(b.content,f._options.logMessageContent)}.`),f.onreceive&&f.onreceive(b.content)):f._logger.log(De.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(m){f._running?m instanceof gr?f._logger.log(De.Trace,"(LongPolling transport) Poll timed out, reissuing."):(f._closeError=m,f._running=!1):f._logger.log(De.Trace,`(LongPolling transport) Poll errored after shutdown: ${m.message}`)}}finally{f._logger.log(De.Trace,"(LongPolling transport) Polling complete."),f.pollAborted||f._raiseOnClose()}})()}send(i){var c=this;return(0,oe.Z)(function*(){return c._running?Ut(c._logger,"LongPolling",c._httpClient,c._url,i,c._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var i=this;return(0,oe.Z)(function*(){i._logger.log(De.Trace,"(LongPolling transport) Stopping polling."),i._running=!1,i._pollAbort.abort();try{yield i._receiving,i._logger.log(De.Trace,`(LongPolling transport) sending DELETE request to ${i._url}.`);const c={},[f,m]=vr();c[f]=m;const b={headers:{...c,...i._options.headers},timeout:i._options.timeout,withCredentials:i._options.withCredentials};yield i._httpClient.delete(i._url,b),i._logger.log(De.Trace,"(LongPolling transport) DELETE request sent.")}finally{i._logger.log(De.Trace,"(LongPolling transport) Stop finished."),i._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let i="(LongPolling transport) Firing onclose event.";this._closeError&&(i+=" Error: "+this._closeError),this._logger.log(De.Trace,i),this.onclose(this._closeError)}}}class qo{constructor(i,c,f,m){this._httpClient=i,this._accessToken=c,this._logger=f,this._options=m,this.onreceive=null,this.onclose=null}connect(i,c){var f=this;return(0,oe.Z)(function*(){return it.isRequired(i,"url"),it.isRequired(c,"transferFormat"),it.isIn(c,tt,"transferFormat"),f._logger.log(De.Trace,"(SSE transport) Connecting."),f._url=i,f._accessToken&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(f._accessToken)}`),new Promise((m,b)=>{let R,x=!1;if(c===tt.Text){if(It.isBrowser||It.isWebWorker)R=new f._options.EventSource(i,{withCredentials:f._options.withCredentials});else{const U=f._httpClient.getCookieString(i),j={};j.Cookie=U;const[ne,Ee]=vr();j[ne]=Ee,R=new f._options.EventSource(i,{withCredentials:f._options.withCredentials,headers:{...j,...f._options.headers}})}try{R.onmessage=U=>{if(f.onreceive)try{f._logger.log(De.Trace,`(SSE transport) data received. ${Qn(U.data,f._options.logMessageContent)}.`),f.onreceive(U.data)}catch(j){return void f._close(j)}},R.onerror=U=>{x?f._close():b(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},R.onopen=()=>{f._logger.log(De.Information,`SSE connected to ${f._url}`),f._eventSource=R,x=!0,m()}}catch(U){return void b(U)}}else b(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(i){var c=this;return(0,oe.Z)(function*(){return c._eventSource?Ut(c._logger,"SSE",c._httpClient,c._url,i,c._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(i){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(i))}}class In{constructor(i,c,f,m,b,x){this._logger=f,this._accessTokenFactory=c,this._logMessageContent=m,this._webSocketConstructor=b,this._httpClient=i,this.onreceive=null,this.onclose=null,this._headers=x}connect(i,c){var f=this;return(0,oe.Z)(function*(){let m;return it.isRequired(i,"url"),it.isRequired(c,"transferFormat"),it.isIn(c,tt,"transferFormat"),f._logger.log(De.Trace,"(WebSockets transport) Connecting."),f._accessTokenFactory&&(m=yield f._accessTokenFactory()),new Promise((b,x)=>{let R;i=i.replace(/^http/,"ws");const U=f._httpClient.getCookieString(i);let j=!1;if(It.isNode||It.isReactNative){const ne={},[Ee,We]=vr();ne[Ee]=We,m&&(ne[Br.Authorization]=`Bearer ${m}`),U&&(ne[Br.Cookie]=U),R=new f._webSocketConstructor(i,void 0,{headers:{...ne,...f._headers}})}else m&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(m)}`);R||(R=new f._webSocketConstructor(i)),c===tt.Binary&&(R.binaryType="arraybuffer"),R.onopen=ne=>{f._logger.log(De.Information,`WebSocket connected to ${i}.`),f._webSocket=R,j=!0,b()},R.onerror=ne=>{let Ee=null;Ee=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"There was an error with the transport",f._logger.log(De.Information,`(WebSockets transport) ${Ee}.`)},R.onmessage=ne=>{if(f._logger.log(De.Trace,`(WebSockets transport) data received. ${Qn(ne.data,f._logMessageContent)}.`),f.onreceive)try{f.onreceive(ne.data)}catch(Ee){return void f._close(Ee)}},R.onclose=ne=>{if(j)f._close(ne);else{let Ee=null;Ee=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",x(new Error(Ee))}}})})()}send(i){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(De.Trace,`(WebSockets transport) sending data. ${Qn(i,this._logMessageContent)}.`),this._webSocket.send(i),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(i){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(De.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(i)||!1!==i.wasClean&&1e3===i.code?i instanceof Error?this.onclose(i):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${i.code} (${i.reason||"no reason given"}).`)))}_isCloseEvent(i){return i&&"boolean"==typeof i.wasClean&&"number"==typeof i.code}}class Kr{constructor(i,c={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,it.isRequired(i,"url"),this._logger=function Xn(s){return void 0===s?new $n(De.Information):null===s?Ue.instance:void 0!==s.log?s:new $n(s)}(c.logger),this.baseUrl=this._resolveUrl(i),(c=c||{}).logMessageContent=void 0!==c.logMessageContent&&c.logMessageContent,"boolean"!=typeof c.withCredentials&&void 0!==c.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");c.withCredentials=void 0===c.withCredentials||c.withCredentials,c.timeout=void 0===c.timeout?1e5:c.timeout;let f=null,m=null;if(It.isNode){const b=require;f=b("ws"),m=b("eventsource")}!It.isNode&&typeof WebSocket<"u"&&!c.WebSocket?c.WebSocket=WebSocket:It.isNode&&!c.WebSocket&&f&&(c.WebSocket=f),!It.isNode&&typeof EventSource<"u"&&!c.EventSource?c.EventSource=EventSource:It.isNode&&!c.EventSource&&typeof m<"u"&&(c.EventSource=m),this._httpClient=new Sn(c.httpClient||new po(this._logger),c.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=c,this.onreceive=null,this.onclose=null}start(i){var c=this;return(0,oe.Z)(function*(){if(it.isIn(i=i||tt.Binary,tt,"transferFormat"),c._logger.log(De.Debug,`Starting connection with transfer format '${tt[i]}'.`),"Disconnected"!==c._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(c._connectionState="Connecting",c._startInternalPromise=c._startInternal(i),yield c._startInternalPromise,"Disconnecting"===c._connectionState){const f="Failed to start the HttpConnection before stop() was called.";return c._logger.log(De.Error,f),yield c._stopPromise,Promise.reject(new Nt(f))}if("Connected"!==c._connectionState){const f="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return c._logger.log(De.Error,f),Promise.reject(new Nt(f))}c._connectionStarted=!0})()}send(i){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new hn(this.transport)),this._sendQueue.send(i))}stop(i){var c=this;return(0,oe.Z)(function*(){return"Disconnected"===c._connectionState?(c._logger.log(De.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===c._connectionState?(c._logger.log(De.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),c._stopPromise):(c._connectionState="Disconnecting",c._stopPromise=new Promise(f=>{c._stopPromiseResolver=f}),yield c._stopInternal(i),void(yield c._stopPromise))})()}_stopInternal(i){var c=this;return(0,oe.Z)(function*(){c._stopError=i;try{yield c._startInternalPromise}catch{}if(c.transport){try{yield c.transport.stop()}catch(f){c._logger.log(De.Error,`HttpConnection.transport.stop() threw error '${f}'.`),c._stopConnection()}c.transport=void 0}else c._logger.log(De.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(i){var c=this;return(0,oe.Z)(function*(){let f=c.baseUrl;c._accessTokenFactory=c._options.accessTokenFactory,c._httpClient._accessTokenFactory=c._accessTokenFactory;try{if(c._options.skipNegotiation){if(c._options.transport!==Tt.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");c.transport=c._constructTransport(Tt.WebSockets),yield c._startTransport(f,i)}else{let m=null,b=0;do{if(m=yield c._getNegotiationResponse(f),"Disconnecting"===c._connectionState||"Disconnected"===c._connectionState)throw new Nt("The connection was stopped during negotiation.");if(m.error)throw new Error(m.error);if(m.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(m.url&&(f=m.url),m.accessToken){const x=m.accessToken;c._accessTokenFactory=()=>x,c._httpClient._accessToken=x,c._httpClient._accessTokenFactory=void 0}b++}while(m.url&&b<100);if(100===b&&m.url)throw new Error("Negotiate redirection limit exceeded.");yield c._createTransport(f,c._options.transport,m,i)}c.transport instanceof So&&(c.features.inherentKeepAlive=!0),"Connecting"===c._connectionState&&(c._logger.log(De.Debug,"The HttpConnection connected successfully."),c._connectionState="Connected")}catch(m){return c._logger.log(De.Error,"Failed to start the connection: "+m),c._connectionState="Disconnected",c.transport=void 0,c._stopPromiseResolver(),Promise.reject(m)}})()}_getNegotiationResponse(i){var c=this;return(0,oe.Z)(function*(){const f={},[m,b]=vr();f[m]=b;const x=c._resolveNegotiateUrl(i);c._logger.log(De.Debug,`Sending negotiation request: ${x}.`);try{const R=yield c._httpClient.post(x,{content:"",headers:{...f,...c._options.headers},timeout:c._options.timeout,withCredentials:c._options.withCredentials});if(200!==R.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${R.statusCode}'`));const U=JSON.parse(R.content);return(!U.negotiateVersion||U.negotiateVersion<1)&&(U.connectionToken=U.connectionId),U}catch(R){let U="Failed to complete negotiation with the server: "+R;return R instanceof cn&&404===R.statusCode&&(U+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),c._logger.log(De.Error,U),Promise.reject(new ar(U))}})()}_createConnectUrl(i,c){return c?i+(-1===i.indexOf("?")?"?":"&")+`id=${c}`:i}_createTransport(i,c,f,m){var b=this;return(0,oe.Z)(function*(){let x=b._createConnectUrl(i,f.connectionToken);if(b._isITransport(c))return b._logger.log(De.Debug,"Connection was provided an instance of ITransport, using that directly."),b.transport=c,yield b._startTransport(x,m),void(b.connectionId=f.connectionId);const R=[],U=f.availableTransports||[];let j=f;for(const ne of U){const Ee=b._resolveTransportOrError(ne,c,m);if(Ee instanceof Error)R.push(`${ne.transport} failed:`),R.push(Ee);else if(b._isITransport(Ee)){if(b.transport=Ee,!j){try{j=yield b._getNegotiationResponse(i)}catch(We){return Promise.reject(We)}x=b._createConnectUrl(i,j.connectionToken)}try{return yield b._startTransport(x,m),void(b.connectionId=j.connectionId)}catch(We){if(b._logger.log(De.Error,`Failed to start the transport '${ne.transport}': ${We}`),j=void 0,R.push(new mr(`${ne.transport} failed: ${We}`,Tt[ne.transport])),"Connecting"!==b._connectionState){const Et="Failed to select transport before stop() was called.";return b._logger.log(De.Debug,Et),Promise.reject(new Nt(Et))}}}}return Promise.reject(R.length>0?new yr(`Unable to connect to the server with any of the available transports. ${R.join(" ")}`,R):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(i){switch(i){case Tt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new In(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Tt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new qo(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Tt.LongPolling:return new So(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${i}.`)}}_startTransport(i,c){return this.transport.onreceive=this.onreceive,this.transport.onclose=f=>this._stopConnection(f),this.transport.connect(i,c)}_resolveTransportOrError(i,c,f){const m=Tt[i.transport];if(null==m)return this._logger.log(De.Debug,`Skipping transport '${i.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${i.transport}' because it is not supported by this client.`);if(!function Jr(s,i){return!s||0!=(i&s)}(c,m))return this._logger.log(De.Debug,`Skipping transport '${Tt[m]}' because it was disabled by the client.`),new jr(`'${Tt[m]}' is disabled by the client.`,m);if(!(i.transferFormats.map(x=>tt[x]).indexOf(f)>=0))return this._logger.log(De.Debug,`Skipping transport '${Tt[m]}' because it does not support the requested transfer format '${tt[f]}'.`),new Error(`'${Tt[m]}' does not support ${tt[f]}.`);if(m===Tt.WebSockets&&!this._options.WebSocket||m===Tt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(De.Debug,`Skipping transport '${Tt[m]}' because it is not supported in your environment.'`),new bo(`'${Tt[m]}' is not supported in your environment.`,m);this._logger.log(De.Debug,`Selecting transport '${Tt[m]}'.`);try{return this._constructTransport(m)}catch(x){return x}}_isITransport(i){return i&&"object"==typeof i&&"connect"in i}_stopConnection(i){if(this._logger.log(De.Debug,`HttpConnection.stopConnection(${i}) called while in state ${this._connectionState}.`),this.transport=void 0,i=this._stopError||i,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(De.Warning,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${i}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),i?this._logger.log(De.Error,`Connection disconnected with error '${i}'.`):this._logger.log(De.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(c=>{this._logger.log(De.Error,`TransportSendQueue.stop() threw error '${c}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(i)}catch(c){this._logger.log(De.Error,`HttpConnection.onclose(${i}) threw error '${c}'.`)}}}else this._logger.log(De.Debug,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(i){if(0===i.lastIndexOf("https://",0)||0===i.lastIndexOf("http://",0))return i;if(!It.isBrowser)throw new Error(`Cannot resolve '${i}'.`);const c=window.document.createElement("a");return c.href=i,this._logger.log(De.Information,`Normalizing '${i}' to '${c.href}'.`),c.href}_resolveNegotiateUrl(i){const c=i.indexOf("?");let f=i.substring(0,-1===c?i.length:c);return"/"!==f[f.length-1]&&(f+="/"),f+="negotiate",f+=-1===c?"":i.substring(c),-1===f.indexOf("negotiateVersion")&&(f+=-1===c?"?":"&",f+="negotiateVersion="+this._negotiateVersion),f}}class hn{constructor(i){this._transport=i,this._buffer=[],this._executing=!0,this._sendBufferedData=new Eo,this._transportResult=new Eo,this._sendLoopPromise=this._sendLoop()}send(i){return this._bufferData(i),this._transportResult||(this._transportResult=new Eo),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(i){if(this._buffer.length&&typeof this._buffer[0]!=typeof i)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof i}`);this._buffer.push(i),this._sendBufferedData.resolve()}_sendLoop(){var i=this;return(0,oe.Z)(function*(){for(;;){if(yield i._sendBufferedData.promise,!i._executing){i._transportResult&&i._transportResult.reject("Connection stopped.");break}i._sendBufferedData=new Eo;const c=i._transportResult;i._transportResult=void 0;const f="string"==typeof i._buffer[0]?i._buffer.join(""):hn._concatBuffers(i._buffer);i._buffer.length=0;try{yield i._transport.send(f),c.resolve()}catch(m){c.reject(m)}}})()}static _concatBuffers(i){const c=i.map(b=>b.byteLength).reduce((b,x)=>b+x),f=new Uint8Array(c);let m=0;for(const b of i)f.set(new Uint8Array(b),m),m+=b.byteLength;return f.buffer}}class Eo{constructor(){this.promise=new Promise((i,c)=>[this._resolver,this._rejecter]=[i,c])}resolve(){this._resolver()}reject(i){this._rejecter(i)}}class Ht{static write(i){return`${i}${Ht.RecordSeparator}`}static parse(i){if(i[i.length-1]!==Ht.RecordSeparator)throw new Error("Message is incomplete.");const c=i.split(Ht.RecordSeparator);return c.pop(),c}}Ht.RecordSeparatorCode=30,Ht.RecordSeparator=String.fromCharCode(Ht.RecordSeparatorCode);class Yt{writeHandshakeRequest(i){return Ht.write(JSON.stringify(i))}parseHandshakeResponse(i){let c,f;if(Zn(i)){const R=new Uint8Array(i),U=R.indexOf(Ht.RecordSeparatorCode);if(-1===U)throw new Error("Message is incomplete.");const j=U+1;c=String.fromCharCode.apply(null,Array.prototype.slice.call(R.slice(0,j))),f=R.byteLength>j?R.slice(j).buffer:null}else{const R=i,U=R.indexOf(Ht.RecordSeparator);if(-1===U)throw new Error("Message is incomplete.");const j=U+1;c=R.substring(0,j),f=R.length>j?R.substring(j):null}const m=Ht.parse(c),b=JSON.parse(m[0]);if(b.type)throw new Error("Expected a handshake response from the server.");return[f,b]}}var dt=(()=>((dt=dt||{})[dt.Invocation=1]="Invocation",dt[dt.StreamItem=2]="StreamItem",dt[dt.Completion=3]="Completion",dt[dt.StreamInvocation=4]="StreamInvocation",dt[dt.CancelInvocation=5]="CancelInvocation",dt[dt.Ping=6]="Ping",dt[dt.Close=7]="Close",dt))();class Un{constructor(){this.observers=[]}next(i){for(const c of this.observers)c.next(i)}error(i){for(const c of this.observers)c.error&&c.error(i)}complete(){for(const i of this.observers)i.complete&&i.complete()}subscribe(i){return this.observers.push(i),new at(this,i)}}var Rt=(()=>((Rt=Rt||{}).Disconnected="Disconnected",Rt.Connecting="Connecting",Rt.Connected="Connected",Rt.Disconnecting="Disconnecting",Rt.Reconnecting="Reconnecting",Rt))();class Qr{constructor(i,c,f,m){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(De.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},it.isRequired(i,"connection"),it.isRequired(c,"logger"),it.isRequired(f,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=c,this._protocol=f,this.connection=i,this._reconnectPolicy=m,this._handshakeProtocol=new Yt,this.connection.onreceive=b=>this._processIncomingData(b),this.connection.onclose=b=>this._connectionClosed(b),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Rt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:dt.Ping})}static create(i,c,f,m){return new Qr(i,c,f,m)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(i){if(this._connectionState!==Rt.Disconnected&&this._connectionState!==Rt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!i)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=i}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var i=this;return(0,oe.Z)(function*(){if(i._connectionState!==Rt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));i._connectionState=Rt.Connecting,i._logger.log(De.Debug,"Starting HubConnection.");try{yield i._startInternal(),It.isBrowser&&window.document.addEventListener("freeze",i._freezeEventListener),i._connectionState=Rt.Connected,i._connectionStarted=!0,i._logger.log(De.Debug,"HubConnection connected successfully.")}catch(c){return i._connectionState=Rt.Disconnected,i._logger.log(De.Debug,`HubConnection failed to start successfully because of error '${c}'.`),Promise.reject(c)}})()}_startInternal(){var i=this;return(0,oe.Z)(function*(){i._stopDuringStartError=void 0,i._receivedHandshakeResponse=!1;const c=new Promise((f,m)=>{i._handshakeResolver=f,i._handshakeRejecter=m});yield i.connection.start(i._protocol.transferFormat);try{const f={protocol:i._protocol.name,version:i._protocol.version};if(i._logger.log(De.Debug,"Sending handshake request."),yield i._sendMessage(i._handshakeProtocol.writeHandshakeRequest(f)),i._logger.log(De.Information,`Using HubProtocol '${i._protocol.name}'.`),i._cleanupTimeout(),i._resetTimeoutPeriod(),i._resetKeepAliveInterval(),yield c,i._stopDuringStartError)throw i._stopDuringStartError;i.connection.features.inherentKeepAlive||(yield i._sendMessage(i._cachedPingMessage))}catch(f){throw i._logger.log(De.Debug,`Hub handshake failed with error '${f}' during start(). Stopping HubConnection.`),i._cleanupTimeout(),i._cleanupPingTimer(),yield i.connection.stop(f),f}})()}stop(){var i=this;return(0,oe.Z)(function*(){const c=i._startPromise;i._stopPromise=i._stopInternal(),yield i._stopPromise;try{yield c}catch{}})()}_stopInternal(i){return this._connectionState===Rt.Disconnected?(this._logger.log(De.Debug,`Call to HubConnection.stop(${i}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Rt.Disconnecting?(this._logger.log(De.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Rt.Disconnecting,this._logger.log(De.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(De.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=i||new Nt("The connection was stopped before the hub handshake could complete."),this.connection.stop(i)))}stream(i,...c){const[f,m]=this._replaceStreamingParams(c),b=this._createStreamInvocation(i,c,m);let x;const R=new Un;return R.cancelCallback=()=>{const U=this._createCancelInvocation(b.invocationId);return delete this._callbacks[b.invocationId],x.then(()=>this._sendWithProtocol(U))},this._callbacks[b.invocationId]=(U,j)=>{j?R.error(j):U&&(U.type===dt.Completion?U.error?R.error(new Error(U.error)):R.complete():R.next(U.item))},x=this._sendWithProtocol(b).catch(U=>{R.error(U),delete this._callbacks[b.invocationId]}),this._launchStreams(f,x),R}_sendMessage(i){return this._resetKeepAliveInterval(),this.connection.send(i)}_sendWithProtocol(i){return this._sendMessage(this._protocol.writeMessage(i))}send(i,...c){const[f,m]=this._replaceStreamingParams(c),b=this._sendWithProtocol(this._createInvocation(i,c,!0,m));return this._launchStreams(f,b),b}invoke(i,...c){const[f,m]=this._replaceStreamingParams(c),b=this._createInvocation(i,c,!1,m);return new Promise((R,U)=>{this._callbacks[b.invocationId]=(ne,Ee)=>{Ee?U(Ee):ne&&(ne.type===dt.Completion?ne.error?U(new Error(ne.error)):R(ne.result):U(new Error(`Unexpected message type: ${ne.type}`)))};const j=this._sendWithProtocol(b).catch(ne=>{U(ne),delete this._callbacks[b.invocationId]});this._launchStreams(f,j)})}on(i,c){!i||!c||(i=i.toLowerCase(),this._methods[i]||(this._methods[i]=[]),-1===this._methods[i].indexOf(c)&&this._methods[i].push(c))}off(i,c){if(!i)return;i=i.toLowerCase();const f=this._methods[i];if(f)if(c){const m=f.indexOf(c);-1!==m&&(f.splice(m,1),0===f.length&&delete this._methods[i])}else delete this._methods[i]}onclose(i){i&&this._closedCallbacks.push(i)}onreconnecting(i){i&&this._reconnectingCallbacks.push(i)}onreconnected(i){i&&this._reconnectedCallbacks.push(i)}_processIncomingData(i){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(i=this._processHandshakeResponse(i),this._receivedHandshakeResponse=!0),i){const c=this._protocol.parseMessages(i,this._logger);for(const f of c)switch(f.type){case dt.Invocation:this._invokeClientMethod(f);break;case dt.StreamItem:case dt.Completion:{const m=this._callbacks[f.invocationId];if(m){f.type===dt.Completion&&delete this._callbacks[f.invocationId];try{m(f)}catch(b){this._logger.log(De.Error,`Stream callback threw error: ${Ln(b)}`)}}break}case dt.Ping:break;case dt.Close:{this._logger.log(De.Information,"Close message received from server.");const m=f.error?new Error("Server returned an error on close: "+f.error):void 0;!0===f.allowReconnect?this.connection.stop(m):this._stopPromise=this._stopInternal(m);break}default:this._logger.log(De.Warning,`Invalid message type: ${f.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(i){let c,f;try{[f,c]=this._handshakeProtocol.parseHandshakeResponse(i)}catch(m){const b="Error parsing handshake response: "+m;this._logger.log(De.Error,b);const x=new Error(b);throw this._handshakeRejecter(x),x}if(c.error){const m="Server returned handshake error: "+c.error;this._logger.log(De.Error,m);const b=new Error(m);throw this._handshakeRejecter(b),b}return this._logger.log(De.Debug,"Server handshake complete."),this._handshakeResolver(),f}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var i=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let c=this._nextKeepAlive-(new Date).getTime();c<0&&(c=0),this._pingServerHandle=setTimeout((0,oe.Z)(function*(){if(i._connectionState===Rt.Connected)try{yield i._sendMessage(i._cachedPingMessage)}catch{i._cleanupPingTimer()}}),c)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(i){var c=this;return(0,oe.Z)(function*(){const f=i.target.toLowerCase(),m=c._methods[f];if(!m)return c._logger.log(De.Warning,`No client method with the name '${f}' found.`),void(i.invocationId&&(c._logger.log(De.Warning,`No result given for '${f}' method and invocation ID '${i.invocationId}'.`),yield c._sendWithProtocol(c._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null))));const b=m.slice(),x=!!i.invocationId;let R,U,j;for(const ne of b)try{const Ee=R;R=yield ne.apply(c,i.arguments),x&&R&&Ee&&(c._logger.log(De.Error,`Multiple results provided for '${f}'. Sending error to server.`),j=c._createCompletionMessage(i.invocationId,"Client provided multiple results.",null)),U=void 0}catch(Ee){U=Ee,c._logger.log(De.Error,`A callback for the method '${f}' threw error '${Ee}'.`)}j?yield c._sendWithProtocol(j):x?(U?j=c._createCompletionMessage(i.invocationId,`${U}`,null):void 0!==R?j=c._createCompletionMessage(i.invocationId,null,R):(c._logger.log(De.Warning,`No result given for '${f}' method and invocation ID '${i.invocationId}'.`),j=c._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null)),yield c._sendWithProtocol(j)):R&&c._logger.log(De.Error,`Result given for '${f}' method but server is not expecting a result.`)})()}_connectionClosed(i){this._logger.log(De.Debug,`HubConnection.connectionClosed(${i}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||i||new Nt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(i||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Rt.Disconnecting?this._completeClose(i):this._connectionState===Rt.Connected&&this._reconnectPolicy?this._reconnect(i):this._connectionState===Rt.Connected&&this._completeClose(i)}_completeClose(i){if(this._connectionStarted){this._connectionState=Rt.Disconnected,this._connectionStarted=!1,It.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(c=>c.apply(this,[i]))}catch(c){this._logger.log(De.Error,`An onclose callback called with error '${i}' threw error '${c}'.`)}}}_reconnect(i){var c=this;return(0,oe.Z)(function*(){const f=Date.now();let m=0,b=void 0!==i?i:new Error("Attempting to reconnect due to a unknown error."),x=c._getNextRetryDelay(m++,0,b);if(null===x)return c._logger.log(De.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void c._completeClose(i);if(c._connectionState=Rt.Reconnecting,c._logger.log(De.Information,i?`Connection reconnecting because of error '${i}'.`:"Connection reconnecting."),0!==c._reconnectingCallbacks.length){try{c._reconnectingCallbacks.forEach(R=>R.apply(c,[i]))}catch(R){c._logger.log(De.Error,`An onreconnecting callback called with error '${i}' threw error '${R}'.`)}if(c._connectionState!==Rt.Reconnecting)return void c._logger.log(De.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==x;){if(c._logger.log(De.Information,`Reconnect attempt number ${m} will start in ${x} ms.`),yield new Promise(R=>{c._reconnectDelayHandle=setTimeout(R,x)}),c._reconnectDelayHandle=void 0,c._connectionState!==Rt.Reconnecting)return void c._logger.log(De.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield c._startInternal(),c._connectionState=Rt.Connected,c._logger.log(De.Information,"HubConnection reconnected successfully."),0!==c._reconnectedCallbacks.length)try{c._reconnectedCallbacks.forEach(R=>R.apply(c,[c.connection.connectionId]))}catch(R){c._logger.log(De.Error,`An onreconnected callback called with connectionId '${c.connection.connectionId}; threw error '${R}'.`)}return}catch(R){if(c._logger.log(De.Information,`Reconnect attempt failed because of error '${R}'.`),c._connectionState!==Rt.Reconnecting)return c._logger.log(De.Debug,`Connection moved to the '${c._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(c._connectionState===Rt.Disconnecting&&c._completeClose());b=R instanceof Error?R:new Error(R.toString()),x=c._getNextRetryDelay(m++,Date.now()-f,b)}}c._logger.log(De.Information,`Reconnect retries have been exhausted after ${Date.now()-f} ms and ${m} failed attempts. Connection disconnecting.`),c._completeClose()})()}_getNextRetryDelay(i,c,f){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:c,previousRetryCount:i,retryReason:f})}catch(m){return this._logger.log(De.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${i}, ${c}) threw error '${m}'.`),null}}_cancelCallbacksWithError(i){const c=this._callbacks;this._callbacks={},Object.keys(c).forEach(f=>{const m=c[f];try{m(null,i)}catch(b){this._logger.log(De.Error,`Stream 'error' callback called with '${i}' threw error: ${Ln(b)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(i,c,f,m){if(f)return 0!==m.length?{arguments:c,streamIds:m,target:i,type:dt.Invocation}:{arguments:c,target:i,type:dt.Invocation};{const b=this._invocationId;return this._invocationId++,0!==m.length?{arguments:c,invocationId:b.toString(),streamIds:m,target:i,type:dt.Invocation}:{arguments:c,invocationId:b.toString(),target:i,type:dt.Invocation}}}_launchStreams(i,c){if(0!==i.length){c||(c=Promise.resolve());for(const f in i)i[f].subscribe({complete:()=>{c=c.then(()=>this._sendWithProtocol(this._createCompletionMessage(f)))},error:m=>{let b;b=m instanceof Error?m.message:m&&m.toString?m.toString():"Unknown error",c=c.then(()=>this._sendWithProtocol(this._createCompletionMessage(f,b)))},next:m=>{c=c.then(()=>this._sendWithProtocol(this._createStreamItemMessage(f,m)))}})}}_replaceStreamingParams(i){const c=[],f=[];for(let m=0;m<i.length;m++){const b=i[m];if(this._isObservable(b)){const x=this._invocationId;this._invocationId++,c[x]=b,f.push(x.toString()),i.splice(m,1)}}return[c,f]}_isObservable(i){return i&&i.subscribe&&"function"==typeof i.subscribe}_createStreamInvocation(i,c,f){const m=this._invocationId;return this._invocationId++,0!==f.length?{arguments:c,invocationId:m.toString(),streamIds:f,target:i,type:dt.StreamInvocation}:{arguments:c,invocationId:m.toString(),target:i,type:dt.StreamInvocation}}_createCancelInvocation(i){return{invocationId:i,type:dt.CancelInvocation}}_createStreamItemMessage(i,c){return{invocationId:i,item:c,type:dt.StreamItem}}_createCompletionMessage(i,c,f){return c?{error:c,invocationId:i,type:dt.Completion}:{invocationId:i,result:f,type:dt.Completion}}}class Ii{constructor(){this.name="json",this.version=1,this.transferFormat=tt.Text}parseMessages(i,c){if("string"!=typeof i)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!i)return[];null===c&&(c=Ue.instance);const f=Ht.parse(i),m=[];for(const b of f){const x=JSON.parse(b);if("number"!=typeof x.type)throw new Error("Invalid payload.");switch(x.type){case dt.Invocation:this._isInvocationMessage(x);break;case dt.StreamItem:this._isStreamItemMessage(x);break;case dt.Completion:this._isCompletionMessage(x);break;case dt.Ping:case dt.Close:break;default:c.log(De.Information,"Unknown message type '"+x.type+"' ignored.");continue}m.push(x)}return m}writeMessage(i){return Ht.write(JSON.stringify(i))}_isInvocationMessage(i){this._assertNotEmptyString(i.target,"Invalid payload for Invocation message."),void 0!==i.invocationId&&this._assertNotEmptyString(i.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(i){if(this._assertNotEmptyString(i.invocationId,"Invalid payload for StreamItem message."),void 0===i.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(i){if(i.result&&i.error)throw new Error("Invalid payload for Completion message.");!i.result&&i.error&&this._assertNotEmptyString(i.error,"Invalid payload for Completion message."),this._assertNotEmptyString(i.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(i,c){if("string"!=typeof i||""===i)throw new Error(c)}}const hi={trace:De.Trace,debug:De.Debug,info:De.Information,information:De.Information,warn:De.Warning,warning:De.Warning,error:De.Error,critical:De.Critical,none:De.None},ri={Development:"Development",Production:"Production"},To=ri.Production;let Gt="";Gt=To==ri.Production?"https://handcricketreborn.azurewebsites.net":"https://localhost:5000";const $r=(new class wo{configureLogging(i){if(it.isRequired(i,"logging"),function pi(s){return void 0!==s.log}(i))this.logger=i;else if("string"==typeof i){const c=function Xr(s){const i=hi[s.toLowerCase()];if(typeof i<"u")return i;throw new Error(`Unknown log level: ${s}`)}(i);this.logger=new $n(c)}else this.logger=new $n(i);return this}withUrl(i,c){return it.isRequired(i,"url"),it.isNotEmpty(i,"url"),this.url=i,this.httpConnectionOptions="object"==typeof c?{...this.httpConnectionOptions,...c}:{...this.httpConnectionOptions,transport:c},this}withHubProtocol(i){return it.isRequired(i,"protocol"),this.protocol=i,this}withAutomaticReconnect(i){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=i?Array.isArray(i)?new uo(i):i:new uo,this}build(){const i=this.httpConnectionOptions||{};if(void 0===i.logger&&(i.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const c=new Kr(this.url,i);return Qr.create(c,this.logger||Ue.instance,this.protocol||new Ii,this.reconnectPolicy)}}).withUrl(`${Gt}/gamehub`).build();let S=null;(new co).on("open",s=>{!function(){var c=(0,oe.Z)(function*(){S=s,$r.keepAliveIntervalInMilliseconds=1e4,$r.serverTimeoutInMilliseconds=2e5,$r.onreconnecting(()=>{console.log("TRYING TO RECONNECT",$r.state)}),yield $r.start().then(()=>{console.log("Connection Made",$r.state)}).catch(f=>{console.log("ERROR FOUND : ",f)}),yield $r.invoke("JoinRoom",S).catch(f=>{console.log("Join Room Failed",f)})});return function(){return c.apply(this,arguments)}}()()}),I.q6().bootstrapModule(lo.b9).catch(s=>console.error(s))},2264:(et,q,T)=>{var l=T(2162).MY,N=T(2162).cx;function K(V){this.index=0,this.dataBuffer=V,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function W(){this.bufferBuilder=new l}function oe(V){var B=V.charCodeAt(0);return B<=2047?"00":B<=65535?"000":B<=2097151?"0000":B<=67108863?"00000":"000000"}et.exports={unpack:function(V){return new K(V).unpack()},pack:function(V){var B=new W;return B.pack(V),B.getBuffer()}},K.prototype.unpack=function(){var B,V=this.unpack_uint8();if(V<128)return V;if((224^V)<32)return(224^V)-32;if((B=160^V)<=15)return this.unpack_raw(B);if((B=176^V)<=15)return this.unpack_string(B);if((B=144^V)<=15)return this.unpack_array(B);if((B=128^V)<=15)return this.unpack_map(B);switch(V){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return B=this.unpack_uint16(),this.unpack_string(B);case 217:return B=this.unpack_uint32(),this.unpack_string(B);case 218:return B=this.unpack_uint16(),this.unpack_raw(B);case 219:return B=this.unpack_uint32(),this.unpack_raw(B);case 220:return B=this.unpack_uint16(),this.unpack_array(B);case 221:return B=this.unpack_uint32(),this.unpack_array(B);case 222:return B=this.unpack_uint16(),this.unpack_map(B);case 223:return B=this.unpack_uint32(),this.unpack_map(B)}},K.prototype.unpack_uint8=function(){var V=255&this.dataView[this.index];return this.index++,V},K.prototype.unpack_uint16=function(){var V=this.read(2),B=256*(255&V[0])+(255&V[1]);return this.index+=2,B},K.prototype.unpack_uint32=function(){var V=this.read(4),B=256*(256*(256*V[0]+V[1])+V[2])+V[3];return this.index+=4,B},K.prototype.unpack_uint64=function(){var V=this.read(8),B=256*(256*(256*(256*(256*(256*(256*V[0]+V[1])+V[2])+V[3])+V[4])+V[5])+V[6])+V[7];return this.index+=8,B},K.prototype.unpack_int8=function(){var V=this.unpack_uint8();return V<128?V:V-256},K.prototype.unpack_int16=function(){var V=this.unpack_uint16();return V<32768?V:V-65536},K.prototype.unpack_int32=function(){var V=this.unpack_uint32();return V<Math.pow(2,31)?V:V-Math.pow(2,32)},K.prototype.unpack_int64=function(){var V=this.unpack_uint64();return V<Math.pow(2,63)?V:V-Math.pow(2,64)},K.prototype.unpack_raw=function(V){if(this.length<this.index+V)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+V+" "+this.length);var B=this.dataBuffer.slice(this.index,this.index+V);return this.index+=V,B},K.prototype.unpack_string=function(V){for(var be,Ne,B=this.read(V),X=0,ie="";X<V;)(be=B[X])<128?(ie+=String.fromCharCode(be),X++):(192^be)<32?(Ne=(192^be)<<6|63&B[X+1],ie+=String.fromCharCode(Ne),X+=2):(Ne=(15&be)<<12|(63&B[X+1])<<6|63&B[X+2],ie+=String.fromCharCode(Ne),X+=3);return this.index+=V,ie},K.prototype.unpack_array=function(V){for(var B=new Array(V),X=0;X<V;X++)B[X]=this.unpack();return B},K.prototype.unpack_map=function(V){for(var B={},X=0;X<V;X++){var ie=this.unpack(),be=this.unpack();B[ie]=be}return B},K.prototype.unpack_float=function(){var V=this.unpack_uint32();return(0==V>>31?1:-1)*(8388607&V|8388608)*Math.pow(2,(V>>23&255)-127-23)},K.prototype.unpack_double=function(){var V=this.unpack_uint32(),B=this.unpack_uint32(),ie=(V>>20&2047)-1023;return(0==V>>31?1:-1)*((1048575&V|1048576)*Math.pow(2,ie-20)+B*Math.pow(2,ie-52))},K.prototype.read=function(V){var B=this.index;if(B+V<=this.length)return this.dataView.subarray(B,B+V);throw new Error("BinaryPackFailure: read index out of range")},W.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},W.prototype.pack=function(V){var B=typeof V;if("string"===B)this.pack_string(V);else if("number"===B)Math.floor(V)===V?this.pack_integer(V):this.pack_double(V);else if("boolean"===B)!0===V?this.bufferBuilder.append(195):!1===V&&this.bufferBuilder.append(194);else if("undefined"===B)this.bufferBuilder.append(192);else{if("object"!==B)throw new Error('Type "'+B+'" not yet supported');if(null===V)this.bufferBuilder.append(192);else{var X=V.constructor;if(X==Array)this.pack_array(V);else if(X==Blob||X==File||V instanceof Blob||V instanceof File)this.pack_bin(V);else if(X==ArrayBuffer)this.pack_bin(N.useArrayBufferView?new Uint8Array(V):V);else if("BYTES_PER_ELEMENT"in V)this.pack_bin(N.useArrayBufferView?new Uint8Array(V.buffer):V.buffer);else if(X==Object||X.toString().startsWith("class"))this.pack_object(V);else if(X==Date)this.pack_string(V.toString());else{if("function"!=typeof V.toBinaryPack)throw new Error('Type "'+X.toString()+'" not yet supported');this.bufferBuilder.append(V.toBinaryPack())}}}this.bufferBuilder.flush()},W.prototype.pack_bin=function(V){var B=V.length||V.byteLength||V.size;if(B<=15)this.pack_uint8(160+B);else if(B<=65535)this.bufferBuilder.append(218),this.pack_uint16(B);else{if(!(B<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(B)}this.bufferBuilder.append(V)},W.prototype.pack_string=function(V){var B=function I(V){return V.length>600?new Blob([V]).size:V.replace(/[^\u0000-\u007F]/g,oe).length}(V);if(B<=15)this.pack_uint8(176+B);else if(B<=65535)this.bufferBuilder.append(216),this.pack_uint16(B);else{if(!(B<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(B)}this.bufferBuilder.append(V)},W.prototype.pack_array=function(V){var B=V.length;if(B<=15)this.pack_uint8(144+B);else if(B<=65535)this.bufferBuilder.append(220),this.pack_uint16(B);else{if(!(B<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(B)}for(var X=0;X<B;X++)this.pack(V[X])},W.prototype.pack_integer=function(V){if(V>=-32&&V<=127)this.bufferBuilder.append(255&V);else if(V>=0&&V<=255)this.bufferBuilder.append(204),this.pack_uint8(V);else if(V>=-128&&V<=127)this.bufferBuilder.append(208),this.pack_int8(V);else if(V>=0&&V<=65535)this.bufferBuilder.append(205),this.pack_uint16(V);else if(V>=-32768&&V<=32767)this.bufferBuilder.append(209),this.pack_int16(V);else if(V>=0&&V<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(V);else if(V>=-2147483648&&V<=2147483647)this.bufferBuilder.append(210),this.pack_int32(V);else if(V>=-0x8000000000000000&&V<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(V);else{if(!(V>=0&&V<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(V)}},W.prototype.pack_double=function(V){var B=0;V<0&&(B=1,V=-V);var X=Math.floor(Math.log(V)/Math.LN2),ie=V/Math.pow(2,X)-1,be=Math.floor(ie*Math.pow(2,52)),Ne=Math.pow(2,32),ve=B<<31|X+1023<<20|be/Ne&1048575,Fe=be%Ne;this.bufferBuilder.append(203),this.pack_int32(ve),this.pack_int32(Fe)},W.prototype.pack_object=function(V){var X=Object.keys(V).length;if(X<=15)this.pack_uint8(128+X);else if(X<=65535)this.bufferBuilder.append(222),this.pack_uint16(X);else{if(!(X<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(X)}for(var ie in V)V.hasOwnProperty(ie)&&(this.pack(ie),this.pack(V[ie]))},W.prototype.pack_uint8=function(V){this.bufferBuilder.append(V)},W.prototype.pack_uint16=function(V){this.bufferBuilder.append(V>>8),this.bufferBuilder.append(255&V)},W.prototype.pack_uint32=function(V){var B=4294967295&V;this.bufferBuilder.append((4278190080&B)>>>24),this.bufferBuilder.append((16711680&B)>>>16),this.bufferBuilder.append((65280&B)>>>8),this.bufferBuilder.append(255&B)},W.prototype.pack_uint64=function(V){var B=V/Math.pow(2,32),X=V%Math.pow(2,32);this.bufferBuilder.append((4278190080&B)>>>24),this.bufferBuilder.append((16711680&B)>>>16),this.bufferBuilder.append((65280&B)>>>8),this.bufferBuilder.append(255&B),this.bufferBuilder.append((4278190080&X)>>>24),this.bufferBuilder.append((16711680&X)>>>16),this.bufferBuilder.append((65280&X)>>>8),this.bufferBuilder.append(255&X)},W.prototype.pack_int8=function(V){this.bufferBuilder.append(255&V)},W.prototype.pack_int16=function(V){this.bufferBuilder.append((65280&V)>>8),this.bufferBuilder.append(255&V)},W.prototype.pack_int32=function(V){this.bufferBuilder.append(V>>>24&255),this.bufferBuilder.append((16711680&V)>>>16),this.bufferBuilder.append((65280&V)>>>8),this.bufferBuilder.append(255&V)},W.prototype.pack_int64=function(V){var B=Math.floor(V/Math.pow(2,32)),X=V%Math.pow(2,32);this.bufferBuilder.append((4278190080&B)>>>24),this.bufferBuilder.append((16711680&B)>>>16),this.bufferBuilder.append((65280&B)>>>8),this.bufferBuilder.append(255&B),this.bufferBuilder.append((4278190080&X)>>>24),this.bufferBuilder.append((16711680&X)>>>16),this.bufferBuilder.append((65280&X)>>>8),this.bufferBuilder.append(255&X)}},2162:et=>{var q={};q.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),q.useArrayBufferView=!q.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch{return!0}}(),et.exports.cx=q;var T=et.exports.xE;function l(){this._pieces=[],this._parts=[]}typeof window<"u"&&(T=et.exports.xE=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),l.prototype.append=function(N){"number"==typeof N?this._pieces.push(N):(this.flush(),this._parts.push(N))},l.prototype.flush=function(){if(this._pieces.length>0){var N=new Uint8Array(this._pieces);q.useArrayBufferView||(N=N.buffer),this._parts.push(N),this._pieces=[]}},l.prototype.getBuffer=function(){if(this.flush(),q.useBlobBuilder){for(var N=new T,te=0,K=this._parts.length;te<K;te++)N.append(this._parts[te]);return N.getBlob()}return new Blob(this._parts)},et.exports.MY=l},4191:(et,q,T)=>{"use strict";var l=T(2917);function te(B,X,ie,be,Ne){var ve=l.writeRtpDescription(B.kind,X);if(ve+=l.writeIceParameters(B.iceGatherer.getLocalParameters()),ve+=l.writeDtlsParameters(B.dtlsTransport.getLocalParameters(),"offer"===ie?"actpass":Ne||"active"),ve+="a=mid:"+B.mid+"\r\n",ve+=B.rtpSender&&B.rtpReceiver?"a=sendrecv\r\n":B.rtpSender?"a=sendonly\r\n":B.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",B.rtpSender){var Fe=B.rtpSender._initialTrackId||B.rtpSender.track.id;B.rtpSender._initialTrackId=Fe;var ze="msid:"+(be?be.id:"-")+" "+Fe+"\r\n";ve+="a="+ze,ve+="a=ssrc:"+B.sendEncodingParameters[0].ssrc+" "+ze,B.sendEncodingParameters[0].rtx&&(ve+="a=ssrc:"+B.sendEncodingParameters[0].rtx.ssrc+" "+ze,ve+="a=ssrc-group:FID "+B.sendEncodingParameters[0].ssrc+" "+B.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return ve+="a=ssrc:"+B.sendEncodingParameters[0].ssrc+" cname:"+l.localCName+"\r\n",B.rtpSender&&B.sendEncodingParameters[0].rtx&&(ve+="a=ssrc:"+B.sendEncodingParameters[0].rtx.ssrc+" cname:"+l.localCName+"\r\n"),ve}function W(B,X){var ie={codecs:[],headerExtensions:[],fecMechanisms:[]},be=function(ve,Fe){ve=parseInt(ve,10);for(var ze=0;ze<Fe.length;ze++)if(Fe[ze].payloadType===ve||Fe[ze].preferredPayloadType===ve)return Fe[ze]},Ne=function(ve,Fe,ze,F){var z=be(ve.parameters.apt,ze),Ce=be(Fe.parameters.apt,F);return z&&Ce&&z.name.toLowerCase()===Ce.name.toLowerCase()};return B.codecs.forEach(function(ve){for(var Fe=0;Fe<X.codecs.length;Fe++){var ze=X.codecs[Fe];if(ve.name.toLowerCase()===ze.name.toLowerCase()&&ve.clockRate===ze.clockRate){if("rtx"===ve.name.toLowerCase()&&ve.parameters&&ze.parameters.apt&&!Ne(ve,ze,B.codecs,X.codecs))continue;(ze=JSON.parse(JSON.stringify(ze))).numChannels=Math.min(ve.numChannels,ze.numChannels),ie.codecs.push(ze),ze.rtcpFeedback=ze.rtcpFeedback.filter(function(F){for(var z=0;z<ve.rtcpFeedback.length;z++)if(ve.rtcpFeedback[z].type===F.type&&ve.rtcpFeedback[z].parameter===F.parameter)return!0;return!1});break}}}),B.headerExtensions.forEach(function(ve){for(var Fe=0;Fe<X.headerExtensions.length;Fe++){var ze=X.headerExtensions[Fe];if(ve.uri===ze.uri){ie.headerExtensions.push(ze);break}}}),ie}function oe(B,X,ie){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[X][B].indexOf(ie)}function I(B,X){var ie=B.getRemoteCandidates().find(function(be){return X.foundation===be.foundation&&X.ip===be.ip&&X.port===be.port&&X.priority===be.priority&&X.protocol===be.protocol&&X.type===be.type});return ie||B.addRemoteCandidate(X),!ie}function V(B,X){var ie=new Error(X);return ie.name=B,ie.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[B],ie}et.exports=function(B,X){function ie(F,z){z.addTrack(F),z.dispatchEvent(new B.MediaStreamTrackEvent("addtrack",{track:F}))}function Ne(F,z,Ce,_e){var re=new Event("track");re.track=z,re.receiver=Ce,re.transceiver={receiver:Ce},re.streams=_e,B.setTimeout(function(){F._dispatchEvent("track",re)})}var ve=function(F){var z=this,Ce=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(re){z[re]=Ce[re].bind(Ce)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",F=JSON.parse(JSON.stringify(F||{})),this.usingBundle="max-bundle"===F.bundlePolicy,"negotiate"===F.rtcpMuxPolicy)throw V("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(F.rtcpMuxPolicy||(F.rtcpMuxPolicy="require"),F.iceTransportPolicy){case"all":case"relay":break;default:F.iceTransportPolicy="all"}switch(F.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:F.bundlePolicy="balanced"}if(F.iceServers=function K(B,X){var ie=!1;return(B=JSON.parse(JSON.stringify(B))).filter(function(be){if(be&&(be.urls||be.url)){var Ne=be.urls||be.url;be.url&&!be.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var ve="string"==typeof Ne;return ve&&(Ne=[Ne]),Ne=Ne.filter(function(Fe){return 0!==Fe.indexOf("turn:")||-1===Fe.indexOf("transport=udp")||-1!==Fe.indexOf("turn:[")||ie?0===Fe.indexOf("stun:")&&X>=14393&&-1===Fe.indexOf("?transport=udp"):(ie=!0,!0)}),delete be.url,be.urls=ve?Ne[0]:Ne,!!Ne.length}})}(F.iceServers||[],X),this._iceGatherers=[],F.iceCandidatePoolSize)for(var _e=F.iceCandidatePoolSize;_e>0;_e--)this._iceGatherers.push(new B.RTCIceGatherer({iceServers:F.iceServers,gatherPolicy:F.iceTransportPolicy}));else F.iceCandidatePoolSize=0;this._config=F,this.transceivers=[],this._sdpSessionId=l.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(ve.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(ve.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),ve.prototype.onicecandidate=null,ve.prototype.onaddstream=null,ve.prototype.ontrack=null,ve.prototype.onremovestream=null,ve.prototype.onsignalingstatechange=null,ve.prototype.oniceconnectionstatechange=null,ve.prototype.onconnectionstatechange=null,ve.prototype.onicegatheringstatechange=null,ve.prototype.onnegotiationneeded=null,ve.prototype.ondatachannel=null,ve.prototype._dispatchEvent=function(F,z){this._isClosed||(this.dispatchEvent(z),"function"==typeof this["on"+F]&&this["on"+F](z))},ve.prototype._emitGatheringStateChange=function(){var F=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",F)},ve.prototype.getConfiguration=function(){return this._config},ve.prototype.getLocalStreams=function(){return this.localStreams},ve.prototype.getRemoteStreams=function(){return this.remoteStreams},ve.prototype._createTransceiver=function(F,z){var _e={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:F,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)_e.iceTransport=this.transceivers[0].iceTransport,_e.dtlsTransport=this.transceivers[0].dtlsTransport;else{var re=this._createIceAndDtlsTransports();_e.iceTransport=re.iceTransport,_e.dtlsTransport=re.dtlsTransport}return z||this.transceivers.push(_e),_e},ve.prototype.addTrack=function(F,z){if(this._isClosed)throw V("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(ye){return ye.track===F}))throw V("InvalidAccessError","Track already exists.");for(var _e,re=0;re<this.transceivers.length;re++)!this.transceivers[re].track&&this.transceivers[re].kind===F.kind&&(_e=this.transceivers[re]);return _e||(_e=this._createTransceiver(F.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(z)&&this.localStreams.push(z),_e.track=F,_e.stream=z,_e.rtpSender=new B.RTCRtpSender(F,_e.dtlsTransport),_e.rtpSender},ve.prototype.addStream=function(F){var z=this;if(X>=15025)F.getTracks().forEach(function(_e){z.addTrack(_e,F)});else{var Ce=F.clone();F.getTracks().forEach(function(_e,re){var ye=Ce.getTracks()[re];_e.addEventListener("enabled",function($){ye.enabled=$.enabled})}),Ce.getTracks().forEach(function(_e){z.addTrack(_e,Ce)})}},ve.prototype.removeTrack=function(F){if(this._isClosed)throw V("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(F instanceof B.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var z=this.transceivers.find(function(re){return re.rtpSender===F});if(!z)throw V("InvalidAccessError","Sender was not created by this connection.");var Ce=z.stream;z.rtpSender.stop(),z.rtpSender=null,z.track=null,z.stream=null,-1===this.transceivers.map(function(re){return re.stream}).indexOf(Ce)&&this.localStreams.indexOf(Ce)>-1&&this.localStreams.splice(this.localStreams.indexOf(Ce),1),this._maybeFireNegotiationNeeded()},ve.prototype.removeStream=function(F){var z=this;F.getTracks().forEach(function(Ce){var _e=z.getSenders().find(function(re){return re.track===Ce});_e&&z.removeTrack(_e)})},ve.prototype.getSenders=function(){return this.transceivers.filter(function(F){return!!F.rtpSender}).map(function(F){return F.rtpSender})},ve.prototype.getReceivers=function(){return this.transceivers.filter(function(F){return!!F.rtpReceiver}).map(function(F){return F.rtpReceiver})},ve.prototype._createIceGatherer=function(F,z){var Ce=this;if(z&&F>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var _e=new B.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(_e,"state",{value:"new",writable:!0}),this.transceivers[F].bufferedCandidateEvents=[],this.transceivers[F].bufferCandidates=function(re){var ye=!re.candidate||0===Object.keys(re.candidate).length;_e.state=ye?"completed":"gathering",null!==Ce.transceivers[F].bufferedCandidateEvents&&Ce.transceivers[F].bufferedCandidateEvents.push(re)},_e.addEventListener("localcandidate",this.transceivers[F].bufferCandidates),_e},ve.prototype._gather=function(F,z){var Ce=this,_e=this.transceivers[z].iceGatherer;if(!_e.onlocalcandidate){var re=this.transceivers[z].bufferedCandidateEvents;this.transceivers[z].bufferedCandidateEvents=null,_e.removeEventListener("localcandidate",this.transceivers[z].bufferCandidates),_e.onlocalcandidate=function(ye){if(!(Ce.usingBundle&&z>0)){var $=new Event("icecandidate");$.candidate={sdpMid:F,sdpMLineIndex:z};var me=ye.candidate,fe=!me||0===Object.keys(me).length;if(fe)("new"===_e.state||"gathering"===_e.state)&&(_e.state="completed");else{"new"===_e.state&&(_e.state="gathering"),me.component=1,me.ufrag=_e.getLocalParameters().usernameFragment;var J=l.writeCandidate(me);$.candidate=Object.assign($.candidate,l.parseCandidate(J)),$.candidate.candidate=J,$.candidate.toJSON=function(){return{candidate:$.candidate.candidate,sdpMid:$.candidate.sdpMid,sdpMLineIndex:$.candidate.sdpMLineIndex,usernameFragment:$.candidate.usernameFragment}}}var ue=l.getMediaSections(Ce._localDescription.sdp);ue[$.candidate.sdpMLineIndex]+=fe?"a=end-of-candidates\r\n":"a="+$.candidate.candidate+"\r\n",Ce._localDescription.sdp=l.getDescription(Ce._localDescription.sdp)+ue.join("");var he=Ce.transceivers.every(function(Be){return Be.iceGatherer&&"completed"===Be.iceGatherer.state});"gathering"!==Ce.iceGatheringState&&(Ce.iceGatheringState="gathering",Ce._emitGatheringStateChange()),fe||Ce._dispatchEvent("icecandidate",$),he&&(Ce._dispatchEvent("icecandidate",new Event("icecandidate")),Ce.iceGatheringState="complete",Ce._emitGatheringStateChange())}},B.setTimeout(function(){re.forEach(function(ye){_e.onlocalcandidate(ye)})},0)}},ve.prototype._createIceAndDtlsTransports=function(){var F=this,z=new B.RTCIceTransport(null);z.onicestatechange=function(){F._updateIceConnectionState(),F._updateConnectionState()};var Ce=new B.RTCDtlsTransport(z);return Ce.ondtlsstatechange=function(){F._updateConnectionState()},Ce.onerror=function(){Object.defineProperty(Ce,"state",{value:"failed",writable:!0}),F._updateConnectionState()},{iceTransport:z,dtlsTransport:Ce}},ve.prototype._disposeIceAndDtlsTransports=function(F){var z=this.transceivers[F].iceGatherer;z&&(delete z.onlocalcandidate,delete this.transceivers[F].iceGatherer);var Ce=this.transceivers[F].iceTransport;Ce&&(delete Ce.onicestatechange,delete this.transceivers[F].iceTransport);var _e=this.transceivers[F].dtlsTransport;_e&&(delete _e.ondtlsstatechange,delete _e.onerror,delete this.transceivers[F].dtlsTransport)},ve.prototype._transceive=function(F,z,Ce){var _e=W(F.localCapabilities,F.remoteCapabilities);z&&F.rtpSender&&(_e.encodings=F.sendEncodingParameters,_e.rtcp={cname:l.localCName,compound:F.rtcpParameters.compound},F.recvEncodingParameters.length&&(_e.rtcp.ssrc=F.recvEncodingParameters[0].ssrc),F.rtpSender.send(_e)),Ce&&F.rtpReceiver&&_e.codecs.length>0&&("video"===F.kind&&F.recvEncodingParameters&&X<15019&&F.recvEncodingParameters.forEach(function(re){delete re.rtx}),_e.encodings=F.recvEncodingParameters.length?F.recvEncodingParameters:[{}],_e.rtcp={compound:F.rtcpParameters.compound},F.rtcpParameters.cname&&(_e.rtcp.cname=F.rtcpParameters.cname),F.sendEncodingParameters.length&&(_e.rtcp.ssrc=F.sendEncodingParameters[0].ssrc),F.rtpReceiver.receive(_e))},ve.prototype.setLocalDescription=function(F){var Ce,_e,z=this;if(-1===["offer","answer"].indexOf(F.type))return Promise.reject(V("TypeError",'Unsupported type "'+F.type+'"'));if(!oe("setLocalDescription",F.type,z.signalingState)||z._isClosed)return Promise.reject(V("InvalidStateError","Can not set local "+F.type+" in state "+z.signalingState));if("offer"===F.type)Ce=l.splitSections(F.sdp),_e=Ce.shift(),Ce.forEach(function(ye,$){var me=l.parseRtpParameters(ye);z.transceivers[$].localCapabilities=me}),z.transceivers.forEach(function(ye,$){z._gather(ye.mid,$)});else if("answer"===F.type){Ce=l.splitSections(z._remoteDescription.sdp),_e=Ce.shift();var re=l.matchPrefix(_e,"a=ice-lite").length>0;Ce.forEach(function(ye,$){var me=z.transceivers[$],fe=me.iceGatherer,J=me.iceTransport,ue=me.dtlsTransport,he=me.localCapabilities,Be=me.remoteCapabilities;if(!(l.isRejected(ye)&&0===l.matchPrefix(ye,"a=bundle-only").length||me.rejected)){var Ie=l.getIceParameters(ye,_e),de=l.getDtlsParameters(ye,_e);re&&(de.role="server"),(!z.usingBundle||0===$)&&(z._gather(me.mid,$),"new"===J.state&&J.start(fe,Ie,re?"controlling":"controlled"),"new"===ue.state&&ue.start(de));var Y=W(he,Be);z._transceive(me,Y.codecs.length>0,!1)}})}return z._localDescription={type:F.type,sdp:F.sdp},z._updateSignalingState("offer"===F.type?"have-local-offer":"stable"),Promise.resolve()},ve.prototype.setRemoteDescription=function(F){var z=this;if(-1===["offer","answer"].indexOf(F.type))return Promise.reject(V("TypeError",'Unsupported type "'+F.type+'"'));if(!oe("setRemoteDescription",F.type,z.signalingState)||z._isClosed)return Promise.reject(V("InvalidStateError","Can not set remote "+F.type+" in state "+z.signalingState));var Ce={};z.remoteStreams.forEach(function(J){Ce[J.id]=J});var _e=[],re=l.splitSections(F.sdp),ye=re.shift(),$=l.matchPrefix(ye,"a=ice-lite").length>0,me=l.matchPrefix(ye,"a=group:BUNDLE ").length>0;z.usingBundle=me;var fe=l.matchPrefix(ye,"a=ice-options:")[0];return z.canTrickleIceCandidates=!!fe&&fe.substr(14).split(" ").indexOf("trickle")>=0,re.forEach(function(J,ue){var he=l.splitLines(J),Be=l.getKind(J),Z=l.isRejected(J)&&0===l.matchPrefix(J,"a=bundle-only").length,Ie=he[0].substr(2).split(" ")[2],de=l.getDirection(J,ye),Y=l.parseMsid(J),Q=l.getMid(J)||l.generateIdentifier();if(Z||"application"===Be&&("DTLS/SCTP"===Ie||"UDP/DTLS/SCTP"===Ie))z.transceivers[ue]={mid:Q,kind:Be,protocol:Ie,rejected:!0};else{!Z&&z.transceivers[ue]&&z.transceivers[ue].rejected&&(z.transceivers[ue]=z._createTransceiver(Be,!0));var se,Pe,Ve,Oe,je,qe,Kt,nt,ht,pt,Lt,Ct=l.parseRtpParameters(J);Z||(pt=l.getIceParameters(J,ye),(Lt=l.getDtlsParameters(J,ye)).role="client"),Kt=l.parseRtpEncodingParameters(J);var yn=l.parseRtcpParameters(J),vn=l.matchPrefix(J,"a=end-of-candidates",ye).length>0,en=l.matchPrefix(J,"a=candidate:").map(function(Le){return l.parseCandidate(Le)}).filter(function(Le){return 1===Le.component});if(("offer"===F.type||"answer"===F.type)&&!Z&&me&&ue>0&&z.transceivers[ue]&&(z._disposeIceAndDtlsTransports(ue),z.transceivers[ue].iceGatherer=z.transceivers[0].iceGatherer,z.transceivers[ue].iceTransport=z.transceivers[0].iceTransport,z.transceivers[ue].dtlsTransport=z.transceivers[0].dtlsTransport,z.transceivers[ue].rtpSender&&z.transceivers[ue].rtpSender.setTransport(z.transceivers[0].dtlsTransport),z.transceivers[ue].rtpReceiver&&z.transceivers[ue].rtpReceiver.setTransport(z.transceivers[0].dtlsTransport)),"offer"!==F.type||Z)"answer"!==F.type||Z||(Pe=(se=z.transceivers[ue]).iceGatherer,Ve=se.iceTransport,Oe=se.dtlsTransport,je=se.rtpReceiver,qe=se.sendEncodingParameters,nt=se.localCapabilities,z.transceivers[ue].recvEncodingParameters=Kt,z.transceivers[ue].remoteCapabilities=Ct,z.transceivers[ue].rtcpParameters=yn,en.length&&"new"===Ve.state&&(!$&&!vn||me&&0!==ue?en.forEach(function(Le){I(se.iceTransport,Le)}):Ve.setRemoteCandidates(en)),(!me||0===ue)&&("new"===Ve.state&&Ve.start(Pe,pt,"controlling"),"new"===Oe.state&&Oe.start(Lt)),!W(se.localCapabilities,se.remoteCapabilities).codecs.filter(function(Le){return"rtx"===Le.name.toLowerCase()}).length&&se.sendEncodingParameters[0].rtx&&delete se.sendEncodingParameters[0].rtx,z._transceive(se,"sendrecv"===de||"recvonly"===de,"sendrecv"===de||"sendonly"===de),!je||"sendrecv"!==de&&"sendonly"!==de?delete se.rtpReceiver:(ht=je.track,Y?(Ce[Y.stream]||(Ce[Y.stream]=new B.MediaStream),ie(ht,Ce[Y.stream]),_e.push([ht,je,Ce[Y.stream]])):(Ce.default||(Ce.default=new B.MediaStream),ie(ht,Ce.default),_e.push([ht,je,Ce.default]))));else{(se=z.transceivers[ue]||z._createTransceiver(Be)).mid=Q,se.iceGatherer||(se.iceGatherer=z._createIceGatherer(ue,me)),en.length&&"new"===se.iceTransport.state&&(!vn||me&&0!==ue?en.forEach(function(Le){I(se.iceTransport,Le)}):se.iceTransport.setRemoteCandidates(en)),nt=B.RTCRtpReceiver.getCapabilities(Be),X<15019&&(nt.codecs=nt.codecs.filter(function(Le){return"rtx"!==Le.name})),qe=se.sendEncodingParameters||[{ssrc:1001*(2*ue+2)}];var Zt,wn=!1;"sendrecv"===de||"sendonly"===de?(wn=!se.rtpReceiver,je=se.rtpReceiver||new B.RTCRtpReceiver(se.dtlsTransport,Be),wn&&(ht=je.track,Y&&"-"===Y.stream||(Y?(Ce[Y.stream]||(Ce[Y.stream]=new B.MediaStream,Object.defineProperty(Ce[Y.stream],"id",{get:function(){return Y.stream}})),Object.defineProperty(ht,"id",{get:function(){return Y.track}}),Zt=Ce[Y.stream]):(Ce.default||(Ce.default=new B.MediaStream),Zt=Ce.default)),Zt&&(ie(ht,Zt),se.associatedRemoteMediaStreams.push(Zt)),_e.push([ht,je,Zt]))):se.rtpReceiver&&se.rtpReceiver.track&&(se.associatedRemoteMediaStreams.forEach(function(Le){var Jt=Le.getTracks().find(function(On){return On.id===se.rtpReceiver.track.id});Jt&&function be(F,z){z.removeTrack(F),z.dispatchEvent(new B.MediaStreamTrackEvent("removetrack",{track:F}))}(Jt,Le)}),se.associatedRemoteMediaStreams=[]),se.localCapabilities=nt,se.remoteCapabilities=Ct,se.rtpReceiver=je,se.rtcpParameters=yn,se.sendEncodingParameters=qe,se.recvEncodingParameters=Kt,z._transceive(z.transceivers[ue],!1,wn)}}}),void 0===z._dtlsRole&&(z._dtlsRole="offer"===F.type?"active":"passive"),z._remoteDescription={type:F.type,sdp:F.sdp},z._updateSignalingState("offer"===F.type?"have-remote-offer":"stable"),Object.keys(Ce).forEach(function(J){var ue=Ce[J];if(ue.getTracks().length){if(-1===z.remoteStreams.indexOf(ue)){z.remoteStreams.push(ue);var he=new Event("addstream");he.stream=ue,B.setTimeout(function(){z._dispatchEvent("addstream",he)})}_e.forEach(function(Be){ue.id===Be[2].id&&Ne(z,Be[0],Be[1],[ue])})}}),_e.forEach(function(J){J[2]||Ne(z,J[0],J[1],[])}),B.setTimeout(function(){z&&z.transceivers&&z.transceivers.forEach(function(J){J.iceTransport&&"new"===J.iceTransport.state&&J.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),J.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},ve.prototype.close=function(){this.transceivers.forEach(function(F){F.iceTransport&&F.iceTransport.stop(),F.dtlsTransport&&F.dtlsTransport.stop(),F.rtpSender&&F.rtpSender.stop(),F.rtpReceiver&&F.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},ve.prototype._updateSignalingState=function(F){this.signalingState=F;var z=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",z)},ve.prototype._maybeFireNegotiationNeeded=function(){var F=this;"stable"!==this.signalingState||!0===this.needNegotiation||(this.needNegotiation=!0,B.setTimeout(function(){if(F.needNegotiation){F.needNegotiation=!1;var z=new Event("negotiationneeded");F._dispatchEvent("negotiationneeded",z)}},0))},ve.prototype._updateIceConnectionState=function(){var F,z={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(_e){_e.iceTransport&&!_e.rejected&&z[_e.iceTransport.state]++}),F="new",z.failed>0?F="failed":z.checking>0?F="checking":z.disconnected>0?F="disconnected":z.new>0?F="new":z.connected>0?F="connected":z.completed>0&&(F="completed"),F!==this.iceConnectionState){this.iceConnectionState=F;var Ce=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",Ce)}},ve.prototype._updateConnectionState=function(){var F,z={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(_e){_e.iceTransport&&_e.dtlsTransport&&!_e.rejected&&(z[_e.iceTransport.state]++,z[_e.dtlsTransport.state]++)}),z.connected+=z.completed,F="new",z.failed>0?F="failed":z.connecting>0?F="connecting":z.disconnected>0?F="disconnected":z.new>0?F="new":z.connected>0&&(F="connected"),F!==this.connectionState){this.connectionState=F;var Ce=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",Ce)}},ve.prototype.createOffer=function(){var F=this;if(F._isClosed)return Promise.reject(V("InvalidStateError","Can not call createOffer after close"));var z=F.transceivers.filter(function($){return"audio"===$.kind}).length,Ce=F.transceivers.filter(function($){return"video"===$.kind}).length,_e=arguments[0];if(_e){if(_e.mandatory||_e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==_e.offerToReceiveAudio&&(z=!0===_e.offerToReceiveAudio?1:!1===_e.offerToReceiveAudio?0:_e.offerToReceiveAudio),void 0!==_e.offerToReceiveVideo&&(Ce=!0===_e.offerToReceiveVideo?1:!1===_e.offerToReceiveVideo?0:_e.offerToReceiveVideo)}for(F.transceivers.forEach(function($){"audio"===$.kind?--z<0&&($.wantReceive=!1):"video"===$.kind&&--Ce<0&&($.wantReceive=!1)});z>0||Ce>0;)z>0&&(F._createTransceiver("audio"),z--),Ce>0&&(F._createTransceiver("video"),Ce--);var re=l.writeSessionBoilerplate(F._sdpSessionId,F._sdpSessionVersion++);F.transceivers.forEach(function($,me){var fe=$.track,J=$.kind,ue=$.mid||l.generateIdentifier();$.mid=ue,$.iceGatherer||($.iceGatherer=F._createIceGatherer(me,F.usingBundle));var he=B.RTCRtpSender.getCapabilities(J);X<15019&&(he.codecs=he.codecs.filter(function(Z){return"rtx"!==Z.name})),he.codecs.forEach(function(Z){"H264"===Z.name&&void 0===Z.parameters["level-asymmetry-allowed"]&&(Z.parameters["level-asymmetry-allowed"]="1"),$.remoteCapabilities&&$.remoteCapabilities.codecs&&$.remoteCapabilities.codecs.forEach(function(Ie){Z.name.toLowerCase()===Ie.name.toLowerCase()&&Z.clockRate===Ie.clockRate&&(Z.preferredPayloadType=Ie.payloadType)})}),he.headerExtensions.forEach(function(Z){($.remoteCapabilities&&$.remoteCapabilities.headerExtensions||[]).forEach(function(de){Z.uri===de.uri&&(Z.id=de.id)})});var Be=$.sendEncodingParameters||[{ssrc:1001*(2*me+1)}];fe&&X>=15019&&"video"===J&&!Be[0].rtx&&(Be[0].rtx={ssrc:Be[0].ssrc+1}),$.wantReceive&&($.rtpReceiver=new B.RTCRtpReceiver($.dtlsTransport,J)),$.localCapabilities=he,$.sendEncodingParameters=Be}),"max-compat"!==F._config.bundlePolicy&&(re+="a=group:BUNDLE "+F.transceivers.map(function($){return $.mid}).join(" ")+"\r\n"),re+="a=ice-options:trickle\r\n",F.transceivers.forEach(function($,me){re+=te($,$.localCapabilities,"offer",$.stream,F._dtlsRole),re+="a=rtcp-rsize\r\n",$.iceGatherer&&"new"!==F.iceGatheringState&&(0===me||!F.usingBundle)&&($.iceGatherer.getLocalCandidates().forEach(function(fe){fe.component=1,re+="a="+l.writeCandidate(fe)+"\r\n"}),"completed"===$.iceGatherer.state&&(re+="a=end-of-candidates\r\n"))});var ye=new B.RTCSessionDescription({type:"offer",sdp:re});return Promise.resolve(ye)},ve.prototype.createAnswer=function(){var F=this;if(F._isClosed)return Promise.reject(V("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==F.signalingState&&"have-local-pranswer"!==F.signalingState)return Promise.reject(V("InvalidStateError","Can not call createAnswer in signalingState "+F.signalingState));var z=l.writeSessionBoilerplate(F._sdpSessionId,F._sdpSessionVersion++);F.usingBundle&&(z+="a=group:BUNDLE "+F.transceivers.map(function(re){return re.mid}).join(" ")+"\r\n"),z+="a=ice-options:trickle\r\n";var Ce=l.getMediaSections(F._remoteDescription.sdp).length;F.transceivers.forEach(function(re,ye){if(!(ye+1>Ce)){if(re.rejected)return"application"===re.kind?z+="DTLS/SCTP"===re.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+re.protocol+" webrtc-datachannel\r\n":"audio"===re.kind?z+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===re.kind&&(z+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(z+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+re.mid+"\r\n");var $;re.stream&&("audio"===re.kind?$=re.stream.getAudioTracks()[0]:"video"===re.kind&&($=re.stream.getVideoTracks()[0]),$&&X>=15019&&"video"===re.kind&&!re.sendEncodingParameters[0].rtx&&(re.sendEncodingParameters[0].rtx={ssrc:re.sendEncodingParameters[0].ssrc+1}));var me=W(re.localCapabilities,re.remoteCapabilities);!me.codecs.filter(function(J){return"rtx"===J.name.toLowerCase()}).length&&re.sendEncodingParameters[0].rtx&&delete re.sendEncodingParameters[0].rtx,z+=te(re,me,"answer",re.stream,F._dtlsRole),re.rtcpParameters&&re.rtcpParameters.reducedSize&&(z+="a=rtcp-rsize\r\n")}});var _e=new B.RTCSessionDescription({type:"answer",sdp:z});return Promise.resolve(_e)},ve.prototype.addIceCandidate=function(F){var Ce,z=this;return F&&void 0===F.sdpMLineIndex&&!F.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(_e,re){if(!z._remoteDescription)return re(V("InvalidStateError","Can not add ICE candidate without a remote description"));if(F&&""!==F.candidate){var $=F.sdpMLineIndex;if(F.sdpMid)for(var me=0;me<z.transceivers.length;me++)if(z.transceivers[me].mid===F.sdpMid){$=me;break}var fe=z.transceivers[$];if(!fe)return re(V("OperationError","Can not add ICE candidate"));if(fe.rejected)return _e();var J=Object.keys(F.candidate).length>0?l.parseCandidate(F.candidate):{};if("tcp"===J.protocol&&(0===J.port||9===J.port)||J.component&&1!==J.component)return _e();if((0===$||$>0&&fe.iceTransport!==z.transceivers[0].iceTransport)&&!I(fe.iceTransport,J))return re(V("OperationError","Can not add ICE candidate"));var ue=F.candidate.trim();0===ue.indexOf("a=")&&(ue=ue.substr(2)),(Ce=l.getMediaSections(z._remoteDescription.sdp))[$]+="a="+(J.type?ue:"end-of-candidates")+"\r\n",z._remoteDescription.sdp=l.getDescription(z._remoteDescription.sdp)+Ce.join("")}else for(var ye=0;ye<z.transceivers.length&&(z.transceivers[ye].rejected||(z.transceivers[ye].iceTransport.addRemoteCandidate({}),(Ce=l.getMediaSections(z._remoteDescription.sdp))[ye]+="a=end-of-candidates\r\n",z._remoteDescription.sdp=l.getDescription(z._remoteDescription.sdp)+Ce.join(""),!z.usingBundle));ye++);_e()})},ve.prototype.getStats=function(F){if(F&&F instanceof B.MediaStreamTrack){var z=null;if(this.transceivers.forEach(function(_e){_e.rtpSender&&_e.rtpSender.track===F?z=_e.rtpSender:_e.rtpReceiver&&_e.rtpReceiver.track===F&&(z=_e.rtpReceiver)}),!z)throw V("InvalidAccessError","Invalid selector.");return z.getStats()}var Ce=[];return this.transceivers.forEach(function(_e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(re){_e[re]&&Ce.push(_e[re].getStats())})}),Promise.all(Ce).then(function(_e){var re=new Map;return _e.forEach(function(ye){ye.forEach(function($){re.set($.id,$)})}),re})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(F){var z=B[F];if(z&&z.prototype&&z.prototype.getStats){var Ce=z.prototype.getStats;z.prototype.getStats=function(){return Ce.apply(this).then(function(_e){var re=new Map;return Object.keys(_e).forEach(function(ye){_e[ye].type=function N(B){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[B.type]||B.type}(_e[ye]),re.set(ye,_e[ye])}),re})}}});var ze=["createOffer","createAnswer"];return ze.forEach(function(F){var z=ve.prototype[F];ve.prototype[F]=function(){var Ce=arguments;return"function"==typeof Ce[0]||"function"==typeof Ce[1]?z.apply(this,[arguments[2]]).then(function(_e){"function"==typeof Ce[0]&&Ce[0].apply(null,[_e])},function(_e){"function"==typeof Ce[1]&&Ce[1].apply(null,[_e])}):z.apply(this,arguments)}}),(ze=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(F){var z=ve.prototype[F];ve.prototype[F]=function(){var Ce=arguments;return"function"==typeof Ce[1]||"function"==typeof Ce[2]?z.apply(this,arguments).then(function(){"function"==typeof Ce[1]&&Ce[1].apply(null)},function(_e){"function"==typeof Ce[2]&&Ce[2].apply(null,[_e])}):z.apply(this,arguments)}}),["getStats"].forEach(function(F){var z=ve.prototype[F];ve.prototype[F]=function(){var Ce=arguments;return"function"==typeof Ce[1]?z.apply(this,arguments).then(function(){"function"==typeof Ce[1]&&Ce[1].apply(null)}):z.apply(this,arguments)}}),ve}},5619:(et,q,T)=>{"use strict";T.d(q,{X:()=>N});var l=T(8645);class N extends l.x{constructor(K){super(),this._value=K}get value(){return this.getValue()}_subscribe(K){const W=super._subscribe(K);return!W.closed&&K.next(this._value),W}getValue(){const{hasError:K,thrownError:W,_value:oe}=this;if(K)throw W;return this._throwIfClosed(),oe}next(K){super.next(this._value=K)}}},5592:(et,q,T)=>{"use strict";T.d(q,{y:()=>V});var l=T(1887),N=T(7394),te=T(4850),K=T(8407),W=T(2653),oe=T(4674),I=T(1441);let V=(()=>{class be{constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const Fe=new be;return Fe.source=this,Fe.operator=ve,Fe}subscribe(ve,Fe,ze){const F=function ie(be){return be&&be instanceof l.Lv||function X(be){return be&&(0,oe.m)(be.next)&&(0,oe.m)(be.error)&&(0,oe.m)(be.complete)}(be)&&(0,N.Nn)(be)}(ve)?ve:new l.Hp(ve,Fe,ze);return(0,I.x)(()=>{const{operator:z,source:Ce}=this;F.add(z?z.call(F,Ce):Ce?this._subscribe(F):this._trySubscribe(F))}),F}_trySubscribe(ve){try{return this._subscribe(ve)}catch(Fe){ve.error(Fe)}}forEach(ve,Fe){return new(Fe=B(Fe))((ze,F)=>{const z=new l.Hp({next:Ce=>{try{ve(Ce)}catch(_e){F(_e),z.unsubscribe()}},error:F,complete:ze});this.subscribe(z)})}_subscribe(ve){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(ve)}[te.L](){return this}pipe(...ve){return(0,K.U)(ve)(this)}toPromise(ve){return new(ve=B(ve))((Fe,ze)=>{let F;this.subscribe(z=>F=z,z=>ze(z),()=>Fe(F))})}}return be.create=Ne=>new be(Ne),be})();function B(be){var Ne;return null!==(Ne=be??W.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(et,q,T)=>{"use strict";T.d(q,{x:()=>I});var l=T(5592),N=T(7394);const K=(0,T(2306).d)(B=>function(){B(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=T(9039),oe=T(1441);let I=(()=>{class B extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const be=new V(this,this);return be.operator=ie,be}_throwIfClosed(){if(this.closed)throw new K}next(ie){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(ie)}})}error(ie){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:be}=this;for(;be.length;)be.shift().error(ie)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:be,isStopped:Ne,observers:ve}=this;return be||Ne?N.Lc:(this.currentObservers=null,ve.push(ie),new N.w0(()=>{this.currentObservers=null,(0,W.P)(ve,ie)}))}_checkFinalizedStatuses(ie){const{hasError:be,thrownError:Ne,isStopped:ve}=this;be?ie.error(Ne):ve&&ie.complete()}asObservable(){const ie=new l.y;return ie.source=this,ie}}return B.create=(X,ie)=>new V(X,ie),B})();class V extends I{constructor(X,ie){super(),this.destination=X,this.source=ie}next(X){var ie,be;null===(be=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===be||be.call(ie,X)}error(X){var ie,be;null===(be=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===be||be.call(ie,X)}complete(){var X,ie;null===(ie=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ie||ie.call(X)}_subscribe(X){var ie,be;return null!==(be=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(X))&&void 0!==be?be:N.Lc}}},1887:(et,q,T)=>{"use strict";T.d(q,{Hp:()=>ze,Lv:()=>be});var l=T(4674),N=T(7394),te=T(2653),K=T(3894);function W(){}const oe=B("C",void 0,void 0);function B(re,ye,$){return{kind:re,value:ye,error:$}}var X=T(7599),ie=T(1441);class be extends N.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,N.Nn)(ye)&&ye.add(this)):this.destination=_e}static create(ye,$,me){return new ze(ye,$,me)}next(ye){this.isStopped?Ce(function V(re){return B("N",re,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ce(function I(re){return B("E",void 0,re)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ce(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function ve(re,ye){return Ne.call(re,ye)}class Fe{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:$}=this;if($.next)try{$.next(ye)}catch(me){F(me)}}error(ye){const{partialObserver:$}=this;if($.error)try{$.error(ye)}catch(me){F(me)}else F(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch($){F($)}}}class ze extends be{constructor(ye,$,me){let fe;if(super(),(0,l.m)(ye)||!ye)fe={next:ye??void 0,error:$??void 0,complete:me??void 0};else{let J;this&&te.config.useDeprecatedNextContext?(J=Object.create(ye),J.unsubscribe=()=>this.unsubscribe(),fe={next:ye.next&&ve(ye.next,J),error:ye.error&&ve(ye.error,J),complete:ye.complete&&ve(ye.complete,J)}):fe=ye}this.destination=new Fe(fe)}}function F(re){te.config.useDeprecatedSynchronousErrorHandling?(0,ie.O)(re):(0,K.h)(re)}function Ce(re,ye){const{onStoppedNotification:$}=te.config;$&&X.z.setTimeout(()=>$(re,ye))}const _e={closed:!0,next:W,error:function z(re){throw re},complete:W}},7394:(et,q,T)=>{"use strict";T.d(q,{Lc:()=>oe,w0:()=>W,Nn:()=>I});var l=T(4674);const te=(0,T(2306).d)(B=>function(ie){B(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((be,Ne)=>`${Ne+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var K=T(9039);class W{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const ve of ie)ve.remove(this);else ie.remove(this);const{initialTeardown:be}=this;if((0,l.m)(be))try{be()}catch(ve){X=ve instanceof te?ve.errors:[ve]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const ve of Ne)try{V(ve)}catch(Fe){X=X??[],Fe instanceof te?X=[...X,...Fe.errors]:X.push(Fe)}}if(X)throw new te(X)}}add(X){var ie;if(X&&X!==this)if(this.closed)V(X);else{if(X instanceof W){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(X)}}_hasParent(X){const{_parentage:ie}=this;return ie===X||Array.isArray(ie)&&ie.includes(X)}_addParent(X){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(X),ie):ie?[ie,X]:X}_removeParent(X){const{_parentage:ie}=this;ie===X?this._parentage=null:Array.isArray(ie)&&(0,K.P)(ie,X)}remove(X){const{_finalizers:ie}=this;ie&&(0,K.P)(ie,X),X instanceof W&&X._removeParent(this)}}W.EMPTY=(()=>{const B=new W;return B.closed=!0,B})();const oe=W.EMPTY;function I(B){return B instanceof W||B&&"closed"in B&&(0,l.m)(B.remove)&&(0,l.m)(B.add)&&(0,l.m)(B.unsubscribe)}function V(B){(0,l.m)(B)?B():B.unsubscribe()}},2653:(et,q,T)=>{"use strict";T.d(q,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(et,q,T)=>{"use strict";T.d(q,{E:()=>N});const N=new(T(5592).y)(W=>W.complete())},7715:(et,q,T)=>{"use strict";T.d(q,{D:()=>me});var l=T(4829),N=T(7103),te=T(9360),K=T(8251);function W(fe,J=0){return(0,te.e)((ue,he)=>{ue.subscribe((0,K.x)(he,Be=>(0,N.f)(he,fe,()=>he.next(Be),J),()=>(0,N.f)(he,fe,()=>he.complete(),J),Be=>(0,N.f)(he,fe,()=>he.error(Be),J)))})}function oe(fe,J=0){return(0,te.e)((ue,he)=>{he.add(fe.schedule(()=>ue.subscribe(he),J))})}var B=T(5592),ie=T(4971),be=T(4674);function ve(fe,J){if(!fe)throw new Error("Iterable cannot be null");return new B.y(ue=>{(0,N.f)(ue,J,()=>{const he=fe[Symbol.asyncIterator]();(0,N.f)(ue,J,()=>{he.next().then(Be=>{Be.done?ue.complete():ue.next(Be.value)})},0,!0)})})}var Fe=T(8382),ze=T(4026),F=T(4266),z=T(3664),Ce=T(5726),_e=T(9853),re=T(541);function me(fe,J){return J?function $(fe,J){if(null!=fe){if((0,Fe.c)(fe))return function I(fe,J){return(0,l.Xf)(fe).pipe(oe(J),W(J))}(fe,J);if((0,F.z)(fe))return function X(fe,J){return new B.y(ue=>{let he=0;return J.schedule(function(){he===fe.length?ue.complete():(ue.next(fe[he++]),ue.closed||this.schedule())})})}(fe,J);if((0,ze.t)(fe))return function V(fe,J){return(0,l.Xf)(fe).pipe(oe(J),W(J))}(fe,J);if((0,Ce.D)(fe))return ve(fe,J);if((0,z.T)(fe))return function Ne(fe,J){return new B.y(ue=>{let he;return(0,N.f)(ue,J,()=>{he=fe[ie.h](),(0,N.f)(ue,J,()=>{let Be,Z;try{({value:Be,done:Z}=he.next())}catch(Ie){return void ue.error(Ie)}Z?ue.complete():ue.next(Be)},0,!0)}),()=>(0,be.m)(he?.return)&&he.return()})}(fe,J);if((0,re.L)(fe))return function ye(fe,J){return ve((0,re.Q)(fe),J)}(fe,J)}throw(0,_e.z)(fe)}(fe,J):(0,l.Xf)(fe)}},4829:(et,q,T)=>{"use strict";T.d(q,{Xf:()=>Ne});var l=T(7582),N=T(4266),te=T(4026),K=T(5592),W=T(8382),oe=T(5726),I=T(9853),V=T(3664),B=T(541),X=T(4674),ie=T(3894),be=T(4850);function Ne(re){if(re instanceof K.y)return re;if(null!=re){if((0,W.c)(re))return function ve(re){return new K.y(ye=>{const $=re[be.L]();if((0,X.m)($.subscribe))return $.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,N.z)(re))return function Fe(re){return new K.y(ye=>{for(let $=0;$<re.length&&!ye.closed;$++)ye.next(re[$]);ye.complete()})}(re);if((0,te.t)(re))return function ze(re){return new K.y(ye=>{re.then($=>{ye.closed||(ye.next($),ye.complete())},$=>ye.error($)).then(null,ie.h)})}(re);if((0,oe.D)(re))return z(re);if((0,V.T)(re))return function F(re){return new K.y(ye=>{for(const $ of re)if(ye.next($),ye.closed)return;ye.complete()})}(re);if((0,B.L)(re))return function Ce(re){return z((0,B.Q)(re))}(re)}throw(0,I.z)(re)}function z(re){return new K.y(ye=>{(function _e(re,ye){var $,me,fe,J;return(0,l.mG)(this,void 0,void 0,function*(){try{for($=(0,l.KL)(re);!(me=yield $.next()).done;)if(ye.next(me.value),ye.closed)return}catch(ue){fe={error:ue}}finally{try{me&&!me.done&&(J=$.return)&&(yield J.call($))}finally{if(fe)throw fe.error}}ye.complete()})})(re,ye).catch($=>ye.error($))})}},2096:(et,q,T)=>{"use strict";T.d(q,{of:()=>te});var l=T(4564),N=T(7715);function te(...K){const W=(0,l.yG)(K);return(0,N.D)(K,W)}},8251:(et,q,T)=>{"use strict";T.d(q,{x:()=>N});var l=T(1887);function N(K,W,oe,I,V){return new te(K,W,oe,I,V)}class te extends l.Lv{constructor(W,oe,I,V,B,X){super(W),this.onFinalize=B,this.shouldUnsubscribe=X,this._next=oe?function(ie){try{oe(ie)}catch(be){W.error(be)}}:super._next,this._error=V?function(ie){try{V(ie)}catch(be){W.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=I?function(){try{I()}catch(ie){W.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},7398:(et,q,T)=>{"use strict";T.d(q,{U:()=>te});var l=T(9360),N=T(8251);function te(K,W){return(0,l.e)((oe,I)=>{let V=0;oe.subscribe((0,N.x)(I,B=>{I.next(K.call(W,B,V++))}))})}},7537:(et,q,T)=>{"use strict";T.d(q,{J:()=>te});var l=T(1631),N=T(2737);function te(K=1/0){return(0,l.z)(N.y,K)}},1631:(et,q,T)=>{"use strict";T.d(q,{z:()=>V});var l=T(7398),N=T(4829),te=T(9360),K=T(7103),W=T(8251),I=T(4674);function V(B,X,ie=1/0){return(0,I.m)(X)?V((be,Ne)=>(0,l.U)((ve,Fe)=>X(be,ve,Ne,Fe))((0,N.Xf)(B(be,Ne))),ie):("number"==typeof X&&(ie=X),(0,te.e)((be,Ne)=>function oe(B,X,ie,be,Ne,ve,Fe,ze){const F=[];let z=0,Ce=0,_e=!1;const re=()=>{_e&&!F.length&&!z&&X.complete()},ye=me=>z<be?$(me):F.push(me),$=me=>{ve&&X.next(me),z++;let fe=!1;(0,N.Xf)(ie(me,Ce++)).subscribe((0,W.x)(X,J=>{Ne?.(J),ve?ye(J):X.next(J)},()=>{fe=!0},void 0,()=>{if(fe)try{for(z--;F.length&&z<be;){const J=F.shift();Fe?(0,K.f)(X,Fe,()=>$(J)):$(J)}re()}catch(J){X.error(J)}}))};return B.subscribe((0,W.x)(X,ye,()=>{_e=!0,re()})),()=>{ze?.()}}(be,Ne,B,ie)))}},4664:(et,q,T)=>{"use strict";T.d(q,{w:()=>K});var l=T(4829),N=T(9360),te=T(8251);function K(W,oe){return(0,N.e)((I,V)=>{let B=null,X=0,ie=!1;const be=()=>ie&&!B&&V.complete();I.subscribe((0,te.x)(V,Ne=>{B?.unsubscribe();let ve=0;const Fe=X++;(0,l.Xf)(W(Ne,Fe)).subscribe(B=(0,te.x)(V,ze=>V.next(oe?oe(Ne,ze,Fe,ve++):ze),()=>{B=null,be()}))},()=>{ie=!0,be()}))})}},7599:(et,q,T)=>{"use strict";T.d(q,{z:()=>l});const l={setTimeout(N,te,...K){const{delegate:W}=l;return W?.setTimeout?W.setTimeout(N,te,...K):setTimeout(N,te,...K)},clearTimeout(N){const{delegate:te}=l;return(te?.clearTimeout||clearTimeout)(N)},delegate:void 0}},4971:(et,q,T)=>{"use strict";T.d(q,{h:()=>N});const N=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(et,q,T)=>{"use strict";T.d(q,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(et,q,T)=>{"use strict";T.d(q,{_6:()=>oe,jO:()=>K,yG:()=>W});var l=T(4674);function te(I){return I[I.length-1]}function K(I){return(0,l.m)(te(I))?I.pop():void 0}function W(I){return function N(I){return I&&(0,l.m)(I.schedule)}(te(I))?I.pop():void 0}function oe(I,V){return"number"==typeof te(I)?I.pop():V}},7453:(et,q,T)=>{"use strict";T.d(q,{D:()=>W});const{isArray:l}=Array,{getPrototypeOf:N,prototype:te,keys:K}=Object;function W(I){if(1===I.length){const V=I[0];if(l(V))return{args:V,keys:null};if(function oe(I){return I&&"object"==typeof I&&N(I)===te}(V)){const B=K(V);return{args:B.map(X=>V[X]),keys:B}}}return{args:I,keys:null}}},9039:(et,q,T)=>{"use strict";function l(N,te){if(N){const K=N.indexOf(te);0<=K&&N.splice(K,1)}}T.d(q,{P:()=>l})},2306:(et,q,T)=>{"use strict";function l(N){const K=N(W=>{Error.call(W),W.stack=(new Error).stack});return K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K}T.d(q,{d:()=>l})},2714:(et,q,T)=>{"use strict";function l(N,te){return N.reduce((K,W,oe)=>(K[W]=te[oe],K),{})}T.d(q,{n:()=>l})},1441:(et,q,T)=>{"use strict";T.d(q,{O:()=>K,x:()=>te});var l=T(2653);let N=null;function te(W){if(l.config.useDeprecatedSynchronousErrorHandling){const oe=!N;if(oe&&(N={errorThrown:!1,error:null}),W(),oe){const{errorThrown:I,error:V}=N;if(N=null,I)throw V}}else W()}function K(W){l.config.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=W)}},7103:(et,q,T)=>{"use strict";function l(N,te,K,W=0,oe=!1){const I=te.schedule(function(){K(),oe?N.add(this.schedule(null,W)):this.unsubscribe()},W);if(N.add(I),!oe)return I}T.d(q,{f:()=>l})},2737:(et,q,T)=>{"use strict";function l(N){return N}T.d(q,{y:()=>l})},4266:(et,q,T)=>{"use strict";T.d(q,{z:()=>l});const l=N=>N&&"number"==typeof N.length&&"function"!=typeof N},5726:(et,q,T)=>{"use strict";T.d(q,{D:()=>N});var l=T(4674);function N(te){return Symbol.asyncIterator&&(0,l.m)(te?.[Symbol.asyncIterator])}},4674:(et,q,T)=>{"use strict";function l(N){return"function"==typeof N}T.d(q,{m:()=>l})},8382:(et,q,T)=>{"use strict";T.d(q,{c:()=>te});var l=T(4850),N=T(4674);function te(K){return(0,N.m)(K[l.L])}},3664:(et,q,T)=>{"use strict";T.d(q,{T:()=>te});var l=T(4971),N=T(4674);function te(K){return(0,N.m)(K?.[l.h])}},4026:(et,q,T)=>{"use strict";T.d(q,{t:()=>N});var l=T(4674);function N(te){return(0,l.m)(te?.then)}},541:(et,q,T)=>{"use strict";T.d(q,{L:()=>K,Q:()=>te});var l=T(7582),N=T(4674);function te(W){return(0,l.FC)(this,arguments,function*(){const I=W.getReader();try{for(;;){const{value:V,done:B}=yield(0,l.qq)(I.read());if(B)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(V)}}finally{I.releaseLock()}})}function K(W){return(0,N.m)(W?.getReader)}},9360:(et,q,T)=>{"use strict";T.d(q,{A:()=>N,e:()=>te});var l=T(4674);function N(K){return(0,l.m)(K?.lift)}function te(K){return W=>{if(N(W))return W.lift(function(oe){try{return K(oe,this)}catch(I){this.error(I)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(et,q,T)=>{"use strict";T.d(q,{Z:()=>K});var l=T(7398);const{isArray:N}=Array;function K(W){return(0,l.U)(oe=>function te(W,oe){return N(oe)?W(...oe):W(oe)}(W,oe))}},8407:(et,q,T)=>{"use strict";T.d(q,{U:()=>te,z:()=>N});var l=T(2737);function N(...K){return te(K)}function te(K){return 0===K.length?l.y:1===K.length?K[0]:function(oe){return K.reduce((I,V)=>V(I),oe)}}},3894:(et,q,T)=>{"use strict";T.d(q,{h:()=>te});var l=T(2653),N=T(7599);function te(K){N.z.setTimeout(()=>{const{onUnhandledError:W}=l.config;if(!W)throw K;W(K)})}},9853:(et,q,T)=>{"use strict";function l(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(q,{z:()=>l})},2917:et=>{"use strict";var q={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};q.localCName=q.generateIdentifier(),q.splitLines=function(T){return T.trim().split("\n").map(function(l){return l.trim()})},q.splitSections=function(T){return T.split("\nm=").map(function(N,te){return(te>0?"m="+N:N).trim()+"\r\n"})},q.getDescription=function(T){var l=q.splitSections(T);return l&&l[0]},q.getMediaSections=function(T){var l=q.splitSections(T);return l.shift(),l},q.matchPrefix=function(T,l){return q.splitLines(T).filter(function(N){return 0===N.indexOf(l)})},q.parseCandidate=function(T){for(var l,N={foundation:(l=0===T.indexOf("a=candidate:")?T.substring(12).split(" "):T.substring(10).split(" "))[0],component:parseInt(l[1],10),protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]},te=8;te<l.length;te+=2)switch(l[te]){case"raddr":N.relatedAddress=l[te+1];break;case"rport":N.relatedPort=parseInt(l[te+1],10);break;case"tcptype":N.tcpType=l[te+1];break;case"ufrag":N.ufrag=l[te+1],N.usernameFragment=l[te+1];break;default:N[l[te]]=l[te+1]}return N},q.writeCandidate=function(T){var l=[];l.push(T.foundation),l.push(T.component),l.push(T.protocol.toUpperCase()),l.push(T.priority),l.push(T.address||T.ip),l.push(T.port);var N=T.type;return l.push("typ"),l.push(N),"host"!==N&&T.relatedAddress&&T.relatedPort&&(l.push("raddr"),l.push(T.relatedAddress),l.push("rport"),l.push(T.relatedPort)),T.tcpType&&"tcp"===T.protocol.toLowerCase()&&(l.push("tcptype"),l.push(T.tcpType)),(T.usernameFragment||T.ufrag)&&(l.push("ufrag"),l.push(T.usernameFragment||T.ufrag)),"candidate:"+l.join(" ")},q.parseIceOptions=function(T){return T.substr(14).split(" ")},q.parseRtpMap=function(T){var l=T.substr(9).split(" "),N={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),N.name=l[0],N.clockRate=parseInt(l[1],10),N.channels=3===l.length?parseInt(l[2],10):1,N.numChannels=N.channels,N},q.writeRtpMap=function(T){var l=T.payloadType;void 0!==T.preferredPayloadType&&(l=T.preferredPayloadType);var N=T.channels||T.numChannels||1;return"a=rtpmap:"+l+" "+T.name+"/"+T.clockRate+(1!==N?"/"+N:"")+"\r\n"},q.parseExtmap=function(T){var l=T.substr(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1]}},q.writeExtmap=function(T){return"a=extmap:"+(T.id||T.preferredId)+(T.direction&&"sendrecv"!==T.direction?"/"+T.direction:"")+" "+T.uri+"\r\n"},q.parseFmtp=function(T){for(var N,l={},te=T.substr(T.indexOf(" ")+1).split(";"),K=0;K<te.length;K++)l[(N=te[K].trim().split("="))[0].trim()]=N[1];return l},q.writeFmtp=function(T){var l="",N=T.payloadType;if(void 0!==T.preferredPayloadType&&(N=T.preferredPayloadType),T.parameters&&Object.keys(T.parameters).length){var te=[];Object.keys(T.parameters).forEach(function(K){te.push(T.parameters[K]?K+"="+T.parameters[K]:K)}),l+="a=fmtp:"+N+" "+te.join(";")+"\r\n"}return l},q.parseRtcpFb=function(T){var l=T.substr(T.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},q.writeRtcpFb=function(T){var l="",N=T.payloadType;return void 0!==T.preferredPayloadType&&(N=T.preferredPayloadType),T.rtcpFeedback&&T.rtcpFeedback.length&&T.rtcpFeedback.forEach(function(te){l+="a=rtcp-fb:"+N+" "+te.type+(te.parameter&&te.parameter.length?" "+te.parameter:"")+"\r\n"}),l},q.parseSsrcMedia=function(T){var l=T.indexOf(" "),N={ssrc:parseInt(T.substr(7,l-7),10)},te=T.indexOf(":",l);return te>-1?(N.attribute=T.substr(l+1,te-l-1),N.value=T.substr(te+1)):N.attribute=T.substr(l+1),N},q.parseSsrcGroup=function(T){var l=T.substr(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(function(N){return parseInt(N,10)})}},q.getMid=function(T){var l=q.matchPrefix(T,"a=mid:")[0];if(l)return l.substr(6)},q.parseFingerprint=function(T){var l=T.substr(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1]}},q.getDtlsParameters=function(T,l){return{role:"auto",fingerprints:q.matchPrefix(T+l,"a=fingerprint:").map(q.parseFingerprint)}},q.writeDtlsParameters=function(T,l){var N="a=setup:"+l+"\r\n";return T.fingerprints.forEach(function(te){N+="a=fingerprint:"+te.algorithm+" "+te.value+"\r\n"}),N},q.parseCryptoLine=function(T){var l=T.substr(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},q.writeCryptoLine=function(T){return"a=crypto:"+T.tag+" "+T.cryptoSuite+" "+("object"==typeof T.keyParams?q.writeCryptoKeyParams(T.keyParams):T.keyParams)+(T.sessionParams?" "+T.sessionParams.join(" "):"")+"\r\n"},q.parseCryptoKeyParams=function(T){if(0!==T.indexOf("inline:"))return null;var l=T.substr(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},q.writeCryptoKeyParams=function(T){return T.keyMethod+":"+T.keySalt+(T.lifeTime?"|"+T.lifeTime:"")+(T.mkiValue&&T.mkiLength?"|"+T.mkiValue+":"+T.mkiLength:"")},q.getCryptoParameters=function(T,l){return q.matchPrefix(T+l,"a=crypto:").map(q.parseCryptoLine)},q.getIceParameters=function(T,l){var N=q.matchPrefix(T+l,"a=ice-ufrag:")[0],te=q.matchPrefix(T+l,"a=ice-pwd:")[0];return N&&te?{usernameFragment:N.substr(12),password:te.substr(10)}:null},q.writeIceParameters=function(T){return"a=ice-ufrag:"+T.usernameFragment+"\r\na=ice-pwd:"+T.password+"\r\n"},q.parseRtpParameters=function(T){for(var l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},te=q.splitLines(T)[0].split(" "),K=3;K<te.length;K++){var W=te[K],oe=q.matchPrefix(T,"a=rtpmap:"+W+" ")[0];if(oe){var I=q.parseRtpMap(oe),V=q.matchPrefix(T,"a=fmtp:"+W+" ");switch(I.parameters=V.length?q.parseFmtp(V[0]):{},I.rtcpFeedback=q.matchPrefix(T,"a=rtcp-fb:"+W+" ").map(q.parseRtcpFb),l.codecs.push(I),I.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(I.name.toUpperCase())}}}return q.matchPrefix(T,"a=extmap:").forEach(function(B){l.headerExtensions.push(q.parseExtmap(B))}),l},q.writeRtpDescription=function(T,l){var N="";N+="m="+T+" ",N+=l.codecs.length>0?"9":"0",N+=" UDP/TLS/RTP/SAVPF ",N+=l.codecs.map(function(K){return void 0!==K.preferredPayloadType?K.preferredPayloadType:K.payloadType}).join(" ")+"\r\n",N+="c=IN IP4 0.0.0.0\r\n",N+="a=rtcp:9 IN IP4 0.0.0.0\r\n",l.codecs.forEach(function(K){N+=q.writeRtpMap(K),N+=q.writeFmtp(K),N+=q.writeRtcpFb(K)});var te=0;return l.codecs.forEach(function(K){K.maxptime>te&&(te=K.maxptime)}),te>0&&(N+="a=maxptime:"+te+"\r\n"),N+="a=rtcp-mux\r\n",l.headerExtensions&&l.headerExtensions.forEach(function(K){N+=q.writeExtmap(K)}),N},q.parseRtpEncodingParameters=function(T){var I,l=[],N=q.parseRtpParameters(T),te=-1!==N.fecMechanisms.indexOf("RED"),K=-1!==N.fecMechanisms.indexOf("ULPFEC"),W=q.matchPrefix(T,"a=ssrc:").map(function(X){return q.parseSsrcMedia(X)}).filter(function(X){return"cname"===X.attribute}),oe=W.length>0&&W[0].ssrc,V=q.matchPrefix(T,"a=ssrc-group:FID").map(function(X){return X.substr(17).split(" ").map(function(be){return parseInt(be,10)})});V.length>0&&V[0].length>1&&V[0][0]===oe&&(I=V[0][1]),N.codecs.forEach(function(X){if("RTX"===X.name.toUpperCase()&&X.parameters.apt){var ie={ssrc:oe,codecPayloadType:parseInt(X.parameters.apt,10)};oe&&I&&(ie.rtx={ssrc:I}),l.push(ie),te&&((ie=JSON.parse(JSON.stringify(ie))).fec={ssrc:oe,mechanism:K?"red+ulpfec":"red"},l.push(ie))}}),0===l.length&&oe&&l.push({ssrc:oe});var B=q.matchPrefix(T,"b=");return B.length&&(B=0===B[0].indexOf("b=TIAS:")?parseInt(B[0].substr(7),10):0===B[0].indexOf("b=AS:")?1e3*parseInt(B[0].substr(5),10)*.95-16e3:void 0,l.forEach(function(X){X.maxBitrate=B})),l},q.parseRtcpParameters=function(T){var l={},N=q.matchPrefix(T,"a=ssrc:").map(function(W){return q.parseSsrcMedia(W)}).filter(function(W){return"cname"===W.attribute})[0];N&&(l.cname=N.value,l.ssrc=N.ssrc);var te=q.matchPrefix(T,"a=rtcp-rsize");l.reducedSize=te.length>0,l.compound=0===te.length;var K=q.matchPrefix(T,"a=rtcp-mux");return l.mux=K.length>0,l},q.parseMsid=function(T){var l,N=q.matchPrefix(T,"a=msid:");if(1===N.length)return{stream:(l=N[0].substr(7).split(" "))[0],track:l[1]};var te=q.matchPrefix(T,"a=ssrc:").map(function(K){return q.parseSsrcMedia(K)}).filter(function(K){return"msid"===K.attribute});return te.length>0?{stream:(l=te[0].value.split(" "))[0],track:l[1]}:void 0},q.parseSctpDescription=function(T){var te,l=q.parseMLine(T),N=q.matchPrefix(T,"a=max-message-size:");N.length>0&&(te=parseInt(N[0].substr(19),10)),isNaN(te)&&(te=65536);var K=q.matchPrefix(T,"a=sctp-port:");if(K.length>0)return{port:parseInt(K[0].substr(12),10),protocol:l.fmt,maxMessageSize:te};if(q.matchPrefix(T,"a=sctpmap:").length>0){var oe=q.matchPrefix(T,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(oe[0],10),protocol:oe[1],maxMessageSize:te}}},q.writeSctpDescription=function(T,l){var N=[];return N="DTLS/SCTP"!==T.protocol?["m="+T.kind+" 9 "+T.protocol+" "+l.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+l.port+"\r\n"]:["m="+T.kind+" 9 "+T.protocol+" "+l.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+l.port+" "+l.protocol+" 65535\r\n"],void 0!==l.maxMessageSize&&N.push("a=max-message-size:"+l.maxMessageSize+"\r\n"),N.join("")},q.generateSessionId=function(){return Math.random().toString().substr(2,21)},q.writeSessionBoilerplate=function(T,l,N){var K=void 0!==l?l:2;return"v=0\r\no="+(N||"thisisadapterortc")+" "+(T||q.generateSessionId())+" "+K+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},q.writeMediaSection=function(T,l,N,te){var K=q.writeRtpDescription(T.kind,l);if(K+=q.writeIceParameters(T.iceGatherer.getLocalParameters()),K+=q.writeDtlsParameters(T.dtlsTransport.getLocalParameters(),"offer"===N?"actpass":"active"),K+="a=mid:"+T.mid+"\r\n",K+=T.direction?"a="+T.direction+"\r\n":T.rtpSender&&T.rtpReceiver?"a=sendrecv\r\n":T.rtpSender?"a=sendonly\r\n":T.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",T.rtpSender){var W="msid:"+te.id+" "+T.rtpSender.track.id+"\r\n";K+="a="+W,K+="a=ssrc:"+T.sendEncodingParameters[0].ssrc+" "+W,T.sendEncodingParameters[0].rtx&&(K+="a=ssrc:"+T.sendEncodingParameters[0].rtx.ssrc+" "+W,K+="a=ssrc-group:FID "+T.sendEncodingParameters[0].ssrc+" "+T.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return K+="a=ssrc:"+T.sendEncodingParameters[0].ssrc+" cname:"+q.localCName+"\r\n",T.rtpSender&&T.sendEncodingParameters[0].rtx&&(K+="a=ssrc:"+T.sendEncodingParameters[0].rtx.ssrc+" cname:"+q.localCName+"\r\n"),K},q.getDirection=function(T,l){for(var N=q.splitLines(T),te=0;te<N.length;te++)switch(N[te]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return N[te].substr(2)}return l?q.getDirection(l):"sendrecv"},q.getKind=function(T){return q.splitLines(T)[0].split(" ")[0].substr(2)},q.isRejected=function(T){return"0"===T.split(" ",2)[1]},q.parseMLine=function(T){var N=q.splitLines(T)[0].substr(2).split(" ");return{kind:N[0],port:parseInt(N[1],10),protocol:N[2],fmt:N.slice(3).join(" ")}},q.parseOLine=function(T){var N=q.matchPrefix(T,"o=")[0].substr(2).split(" ");return{username:N[0],sessionId:N[1],sessionVersion:parseInt(N[2],10),netType:N[3],addressType:N[4],address:N[5]}},q.isValidSDP=function(T){if("string"!=typeof T||0===T.length)return!1;for(var l=q.splitLines(T),N=0;N<l.length;N++)if(l[N].length<2||"="!==l[N].charAt(1))return!1;return!0},et.exports=q},6814:(et,q,T)=>{"use strict";T.d(q,{Do:()=>ze,EM:()=>lr,HT:()=>K,JF:()=>En,K0:()=>oe,Mx:()=>Dn,O5:()=>Fr,PM:()=>vr,S$:()=>Ne,V_:()=>V,Ye:()=>F,b0:()=>Fe,bD:()=>Ut,ez:()=>Zn,q:()=>te,sg:()=>hr,w_:()=>W});var l=T(4946);let N=null;function te(){return N}function K(_){N||(N=_)}class W{}const oe=new l.OlP("DocumentToken");let I=(()=>{class _{historyGo(C){throw new Error("Not implemented")}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return(0,l.f3M)(B)},providedIn:"platform"}),_})();const V=new l.OlP("Location Initialized");let B=(()=>{class _ extends I{constructor(){super(),this._doc=(0,l.f3M)(oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(C){const P=te().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",C,!1),()=>P.removeEventListener("popstate",C)}onHashChange(C){const P=te().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",C,!1),()=>P.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,P,G){this._history.pushState(C,P,G)}replaceState(C,P,G){this._history.replaceState(C,P,G)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return new _},providedIn:"platform"}),_})();function X(_,M){if(0==_.length)return M;if(0==M.length)return _;let C=0;return _.endsWith("/")&&C++,M.startsWith("/")&&C++,2==C?_+M.substring(1):1==C?_+M:_+"/"+M}function ie(_){const M=_.match(/#|\?|$/),C=M&&M.index||_.length;return _.slice(0,C-("/"===_[C-1]?1:0))+_.slice(C)}function be(_){return _&&"?"!==_[0]?"?"+_:_}let Ne=(()=>{class _{historyGo(C){throw new Error("Not implemented")}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return(0,l.f3M)(Fe)},providedIn:"root"}),_})();const ve=new l.OlP("appBaseHref");let Fe=(()=>{class _ extends Ne{constructor(C,P){super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return X(this._baseHref,C)}path(C=!1){const P=this._platformLocation.pathname+be(this._platformLocation.search),G=this._platformLocation.hash;return G&&C?`${P}${G}`:P}pushState(C,P,G,Se){const Te=this.prepareExternalUrl(G+be(Se));this._platformLocation.pushState(C,P,Te)}replaceState(C,P,G,Se){const Te=this.prepareExternalUrl(G+be(Se));this._platformLocation.replaceState(C,P,Te)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return _.\u0275fac=function(C){return new(C||_)(l.LFG(I),l.LFG(ve,8))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),ze=(()=>{class _ extends Ne{constructor(C,P){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(C){const P=X(this._baseHref,C);return P.length>0?"#"+P:P}pushState(C,P,G,Se){let Te=this.prepareExternalUrl(G+be(Se));0==Te.length&&(Te=this._platformLocation.pathname),this._platformLocation.pushState(C,P,Te)}replaceState(C,P,G,Se){let Te=this.prepareExternalUrl(G+be(Se));0==Te.length&&(Te=this._platformLocation.pathname),this._platformLocation.replaceState(C,P,Te)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return _.\u0275fac=function(C){return new(C||_)(l.LFG(I),l.LFG(ve,8))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac}),_})(),F=(()=>{class _{constructor(C){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const P=this._locationStrategy.getBaseHref();this._basePath=function re(_){if(new RegExp("^(https?:)?//").test(_)){const[,C]=_.split(/\/\/[^\/]+/);return C}return _}(ie(_e(P))),this._locationStrategy.onPopState(G=>{this._subject.emit({url:this.path(!0),pop:!0,state:G.state,type:G.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,P=""){return this.path()==this.normalize(C+be(P))}normalize(C){return _.stripTrailingSlash(function Ce(_,M){if(!_||!M.startsWith(_))return M;const C=M.substring(_.length);return""===C||["/",";","?","#"].includes(C[0])?C:M}(this._basePath,_e(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,P="",G=null){this._locationStrategy.pushState(G,"",C,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+be(P)),G)}replaceState(C,P="",G=null){this._locationStrategy.replaceState(G,"",C,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+be(P)),G)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",P){this._urlChangeListeners.forEach(G=>G(C,P))}subscribe(C,P,G){return this._subject.subscribe({next:C,error:P,complete:G})}}return _.normalizeQueryParams=be,_.joinWithSlash=X,_.stripTrailingSlash=ie,_.\u0275fac=function(C){return new(C||_)(l.LFG(Ne))},_.\u0275prov=l.Yz7({token:_,factory:function(){return function z(){return new F((0,l.LFG)(Ne))}()},providedIn:"root"}),_})();function _e(_){return _.replace(/\/index.html$/,"")}function Dn(_,M){M=encodeURIComponent(M);for(const C of _.split(";")){const P=C.indexOf("="),[G,Se]=-1==P?[C,""]:[C.slice(0,P),C.slice(P+1)];if(G.trim()===M)return decodeURIComponent(Se)}return null}class Wr{constructor(M,C,P,G){this.$implicit=M,this.ngForOf=C,this.index=P,this.count=G}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hr=(()=>{class _{set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}constructor(C,P,G){this._viewContainer=C,this._template=P,this._differs=G,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const P=this._viewContainer;C.forEachOperation((G,Se,Te)=>{if(null==G.previousIndex)P.createEmbeddedView(this._template,new Wr(G.item,this._ngForOf,-1,-1),null===Te?void 0:Te);else if(null==Te)P.remove(null===Se?void 0:Se);else if(null!==Se){const Je=P.get(Se);P.move(Je,Te),Nr(Je,G)}});for(let G=0,Se=P.length;G<Se;G++){const Je=P.get(G).context;Je.index=G,Je.count=Se,Je.ngForOf=this._ngForOf}C.forEachIdentityChange(G=>{Nr(P.get(G.currentIndex),G)})}static ngTemplateContextGuard(C,P){return!0}}return _.\u0275fac=function(C){return new(C||_)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},_.\u0275dir=l.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),_})();function Nr(_,M){_.context.$implicit=M.item}let Fr=(()=>{class _{constructor(C,P){this._viewContainer=C,this._context=new pr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){No("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){No("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,P){return!0}}return _.\u0275fac=function(C){return new(C||_)(l.Y36(l.s_b),l.Y36(l.Rgc))},_.\u0275dir=l.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),_})();class pr{constructor(){this.$implicit=null,this.ngIf=null}}function No(_,M){if(M&&!M.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,l.AaK)(M)}'.`)}let Zn=(()=>{class _{}return _.\u0275fac=function(C){return new(C||_)},_.\u0275mod=l.oAB({type:_}),_.\u0275inj=l.cJS({}),_})();const Ut="browser",cr="server";function vr(_){return _===cr}let lr=(()=>{class _{}return _.\u0275prov=(0,l.Yz7)({token:_,providedIn:"root",factory:()=>new Ln((0,l.LFG)(oe),window)}),_})();class Ln{constructor(M,C){this.document=M,this.window=C,this.offset=()=>[0,0]}setOffset(M){this.offset=Array.isArray(M)?()=>M:M}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(M){this.supportsScrolling()&&this.window.scrollTo(M[0],M[1])}scrollToAnchor(M){if(!this.supportsScrolling())return;const C=function Yr(_,M){const C=_.getElementById(M)||_.getElementsByName(M)[0];if(C)return C;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const P=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let G=P.currentNode;for(;G;){const Se=G.shadowRoot;if(Se){const Te=Se.getElementById(M)||Se.querySelector(`[name="${M}"]`);if(Te)return Te}G=P.nextNode()}}return null}(this.document,M);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(M){if(this.supportScrollRestoration()){const C=this.window.history;C&&C.scrollRestoration&&(C.scrollRestoration=M)}}scrollToElement(M){const C=M.getBoundingClientRect(),P=C.left+this.window.pageXOffset,G=C.top+this.window.pageYOffset,Se=this.offset();this.window.scrollTo(P-Se[0],G-Se[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const M=Rr(this.window.history)||Rr(Object.getPrototypeOf(this.window.history));return!(!M||!M.writable&&!M.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Rr(_){return Object.getOwnPropertyDescriptor(_,"scrollRestoration")}class En{}},4946:(et,q,T)=>{"use strict";T.d(q,{tb:()=>sd,AFp:()=>zf,ip1:()=>Pm,hGG:()=>dE,z2F:()=>_s,Ojb:()=>d_,sBO:()=>qS,Sil:()=>AS,EJc:()=>MS,Xts:()=>Ys,SBq:()=>Qs,lqb:()=>Si,qLn:()=>es,vpe:()=>Wo,XFs:()=>He,OlP:()=>nn,zs3:()=>ui,ZZ4:()=>fd,aQg:()=>hd,soG:()=>Fc,YKP:()=>Vg,h0i:()=>ms,PXZ:()=>$S,R0b:()=>kr,FiY:()=>Ha,Lbi:()=>Bl,g9A:()=>Wf,Qsj:()=>w_,FYo:()=>eh,JOm:()=>$o,tp0:()=>Ga,Rgc:()=>ma,dDg:()=>LS,eoX:()=>Hm,GfV:()=>th,s_b:()=>kc,ifc:()=>Wn,VuI:()=>CE,MMx:()=>jg,Lck:()=>cb,eFA:()=>Zm,Gpc:()=>J,f3M:()=>gt,$WT:()=>gr,_c5:()=>uE,qFp:()=>bE,rg0:()=>Da,c2e:()=>xm,zSh:()=>kl,HDt:()=>Om,wAp:()=>ut,vHH:()=>de,lri:()=>$m,rWj:()=>Um,cg1:()=>Pu,kL8:()=>lg,dqk:()=>Xt,Z0I:()=>Tr,eJc:()=>Ku,QGY:()=>bu,F4k:()=>fp,RDi:()=>xv,AaK:()=>$,qOj:()=>lu,Xq5:()=>Wh,TTD:()=>Fi,_Bn:()=>Lg,jDz:()=>$g,xp6:()=>hh,uIk:()=>du,Tol:()=>Np,ekj:()=>Mu,Suo:()=>um,Xpm:()=>Zo,lG2:()=>Br,Yz7:()=>Ot,cJS:()=>Ye,oAB:()=>lo,Yjl:()=>fo,Y36:()=>ns,_UZ:()=>_u,qZA:()=>Ec,TgZ:()=>Sc,EpF:()=>dp,n5z:()=>kd,LFG:()=>ct,$8M:()=>rl,$Z:()=>Ch,NdJ:()=>Su,CRH:()=>dm,oxw:()=>yp,Q6J:()=>yu,MGl:()=>wc,iGM:()=>lm,KtG:()=>mo,CHM:()=>Ts,LSH:()=>Rl,P3R:()=>Nf,Jzz:()=>Jp,YNc:()=>ip,_uU:()=>Up,Oqu:()=>Au,hij:()=>Ic,AsE:()=>Ru});var l=T(8645),N=T(7394),te=T(5619),K=T(5592),W=T(7537),oe=T(4829),I=T(6232),V=T(4564),B=T(7715),ie=T(2096),be=T(1887),Ne=T(9360);function ve(e={}){const{connector:t=(()=>new l.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return a=>{let u,p,v,E=0,A=!1,L=!1;const ee=()=>{p?.unsubscribe(),p=void 0},ge=()=>{ee(),u=v=void 0,A=L=!1},Ae=()=>{const ke=u;ge(),ke?.unsubscribe()};return(0,Ne.e)((ke,Ge)=>{E++,!L&&!A&&ee();const Xe=v=v??t();Ge.add(()=>{E--,0===E&&!L&&!A&&(p=Fe(Ae,o))}),Xe.subscribe(Ge),!u&&E>0&&(u=new be.Hp({next:Re=>Xe.next(Re),error:Re=>{L=!0,ee(),p=Fe(ge,n,Re),Xe.error(Re)},complete:()=>{A=!0,ee(),p=Fe(ge,r),Xe.complete()}}),(0,oe.Xf)(ke).subscribe(u))})(a)}}function Fe(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new be.Hp({next:()=>{r.unsubscribe(),e()}});return(0,oe.Xf)(t(...n)).subscribe(r)}var ze=T(4664),F=T(2737),z=T(8251);function _e(e,t){return e===t}function re(e){for(let t in e)if(e[t]===re)return t;throw Error("Could not find renamed property on target object.")}function ye(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function me(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const fe=re({__forward_ref__:re});function J(e){return e.__forward_ref__=J,e.toString=function(){return $(this())},e}function ue(e){return he(e)?e():e}function he(e){return"function"==typeof e&&e.hasOwnProperty(fe)&&e.__forward_ref__===J}function Be(e){return e&&!!e.\u0275providers}const Ie="https://g.co/ng/security#xss";class de extends Error{constructor(t,n){super(function Y(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Q(e){return"string"==typeof e?e:null==e?"":String(e)}function je(e,t){throw new de(-201,!1)}function un(e,t){null==e&&function Le(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ot(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ye(e){return{providers:e.providers||[],imports:e.imports||[]}}function rt(e){return an(e,rn)||an(e,Qt)}function Tr(e){return null!==rt(e)}function an(e,t){return e.hasOwnProperty(t)?e[t]:null}function Nn(e){return e&&(e.hasOwnProperty(Gr)||e.hasOwnProperty(no))?e[Gr]:null}const rn=re({\u0275prov:re}),Gr=re({\u0275inj:re}),Qt=re({ngInjectableDef:re}),no=re({ngInjectorDef:re});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let Co;function kt(e){const t=Co;return Co=e,t}function bt(e,t,n){const r=rt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&He.Optional?null:void 0!==t?t:void je($(e))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tn={},Jn="__NG_DI_FLAG__",jt="ngTempTokenPath",we=/\n/gm,H="__source";let ce;function $e(e){const t=ce;return ce=e,t}function Ke(e,t=He.Default){if(void 0===ce)throw new de(-203,!1);return null===ce?bt(e,void 0,t):ce.get(e,t&He.Optional?null:void 0,t)}function ct(e,t=He.Default){return(function sr(){return Co}()||Ke)(ue(e),t)}function gt(e,t=He.Default){return ct(e,_n(t))}function _n(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function zn(e){const t=[];for(let n=0;n<e.length;n++){const r=ue(e[n]);if(Array.isArray(r)){if(0===r.length)throw new de(900,!1);let o,a=He.Default;for(let u=0;u<r.length;u++){const p=r[u],v=vt(p);"number"==typeof v?-1===v?o=p.token:a|=v:o=p}t.push(ct(o,a))}else t.push(ct(r))}return t}function $t(e,t){return e[Jn]=t,e.prototype[Jn]=t,e}function vt(e){return e[Jn]}function mt(e){return{toString:e}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),Wn=(()=>{return(e=Wn||(Wn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Wn;var e})();const Fn={},Dt=[],jn=re({\u0275cmp:re}),zr=re({\u0275dir:re}),Mr=re({\u0275pipe:re}),ro=re({\u0275mod:re}),Dn=re({\u0275fac:re}),Rn=re({__NG_ELEMENT_ID__:re}),Ir=re({__NG_ENV_ID__:re});function oo(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const a=t.length;if(o+a===r||e.charCodeAt(o+a)<=32)return o}n=o+1}}function fr(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const a=n[r++],u=n[r++],p=n[r++];e.setAttribute(t,u,p,a)}else{const a=o,u=n[++r];Wr(a)?e.setProperty(t,a,u):e.setAttribute(t,a,u),r++}}return r}function Oo(e){return 3===e||4===e||6===e}function Wr(e){return 64===e.charCodeAt(0)}function hr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Nr(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Nr(e,t,n,r,o){let a=0,u=e.length;if(-1===t)u=-1;else for(;a<e.length;){const p=e[a++];if("number"==typeof p){if(p===t){u=-1;break}if(p>t){u=a-1;break}}}for(;a<e.length;){const p=e[a];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==o&&(e[a+1]=o));if(r===e[a+1])return void(e[a+2]=o)}a++,null!==r&&a++,null!==o&&a++}-1!==u&&(e.splice(u,0,t),a=u+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==o&&e.splice(a++,0,o)}const ko="ng-template";function Fr(e,t,n){let r=0,o=!0;for(;r<e.length;){let a=e[r++];if("string"==typeof a&&o){const u=e[r++];if(n&&"class"===a&&-1!==oo(u.toLowerCase(),t,0))return!0}else{if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(o=!1)}}return!1}function pr(e){return 4===e.type&&e.value!==ko}function No(e,t,n){return t===(4!==e.type||n?e.value:ko)}function Zr(e,t,n){let r=4;const o=e.attrs||[],a=function Pn(e){for(let t=0;t<e.length;t++)if(Oo(e[t]))return t;return e.length}(o);let u=!1;for(let p=0;p<t.length;p++){const v=t[p];if("number"!=typeof v){if(!u)if(4&r){if(r=2|1&r,""!==v&&!No(e,v,n)||""===v&&1===t.length){if(fn(r))return!1;u=!0}}else{const E=8&r?v:t[++p];if(8&r&&null!==e.attrs){if(!Fr(e.attrs,E,n)){if(fn(r))return!1;u=!0}continue}const L=io(8&r?"class":v,o,pr(e),n);if(-1===L){if(fn(r))return!1;u=!0;continue}if(""!==E){let ee;ee=L>a?"":o[L+1].toLowerCase();const ge=8&r?ee:null;if(ge&&-1!==oo(ge,E,0)||2&r&&E!==ee){if(fn(r))return!1;u=!0}}}}else{if(!u&&!fn(r)&&!fn(v))return!1;if(u&&fn(v))continue;u=!1,r=v|1&r}}return fn(r)||u}function fn(e){return 0==(1&e)}function io(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let a=!1;for(;o<t.length;){const u=t[o];if(u===e)return o;if(3===u||6===u)a=!0;else{if(1===u||2===u){let p=t[++o];for(;"string"==typeof p;)p=t[++o];continue}if(4===u)break;if(0===u){o+=4;continue}}o+=a?1:2}return-1}return function Fo(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function so(e,t,n=!1){for(let r=0;r<t.length;r++)if(Zr(e,t[r],n))return!0;return!1}function Vr(e,t){return e?":not("+t.trim()+")":t}function Do(e){let t=e[0],n=1,r=2,o="",a=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const p=e[++n];o+="["+u+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?o+="."+u:4&r&&(o+=" "+u);else""!==o&&!fn(u)&&(t+=Vr(a,o),o=""),r=u,a=a||!fn(r);n++}return""!==o&&(t+=Vr(a,o)),t}function Zo(e){return mt(()=>{const t=bo(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Wn.Emulated,styles:e.styles||Dt,_:null,schemas:e.schemas||null,tView:null,id:""};jr(n);const r=e.dependencies;return n.directiveDefs=mr(r,!1),n.pipeDefs=mr(r,!0),n.id=function yr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function co(e){return wt(e)||Sn(e)}function ni(e){return null!==e}function lo(e){return mt(()=>({type:e.type,bootstrap:e.bootstrap||Dt,declarations:e.declarations||Dt,imports:e.imports||Dt,exports:e.exports||Dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function uo(e,t){if(null==e)return Fn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],a=o;Array.isArray(o)&&(a=o[1],o=o[0]),n[o]=r,t&&(t[o]=a)}return n}function Br(e){return mt(()=>{const t=bo(e);return jr(t),t})}function fo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function wt(e){return e[jn]||null}function Sn(e){return e[zr]||null}function cn(e){return e[Mr]||null}function gr(e){const t=wt(e)||Sn(e)||cn(e);return null!==t&&t.standalone}function Nt(e,t){const n=e[ro]||null;if(!n&&!0===t)throw new Error(`Type ${$(e)} does not have '\u0275mod' property.`);return n}function bo(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Fn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Dt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:uo(e.inputs,t),outputs:uo(e.outputs)}}function jr(e){e.features?.forEach(t=>t(e))}function mr(e,t){if(!e)return null;const n=t?cn:co;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(ni)}const De=0,Ue=1,lt=2,it=3,It=4,Qn=5,ln=6,Zn=7,Ut=8,cr=9,Xn=10,at=11,$n=12,vr=13,_r=14,on=15,ho=16,lr=17,Ln=18,Rr=19,Yr=20,er=21,En=22,po=23,Tt=24,tt=25,So=1,qo=2,In=7,Kr=9,hn=11;function Ht(e){return Array.isArray(e)&&"object"==typeof e[So]}function Yt(e){return Array.isArray(e)&&!0===e[So]}function dt(e){return 0!=(4&e.flags)}function Un(e){return e.componentOffset>-1}function Ko(e){return 1==(1&e.flags)}function ur(e){return!!e.template}function Rt(e){return 0!=(512&e[lt])}function j(e,t){return e.hasOwnProperty(Dn)?e[Dn]:null}let Wt=Xt.WeakRef??class zt{constructor(t){this.ref=t}deref(){return this.ref}},Cs=0,tr=null,oi=!1;function pn(e){const t=tr;return tr=e,t}class Ri{constructor(){this.id=Cs++,this.ref=function Ai(e){return new Wt(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=oi;oi=!0;try{for(const[n,r]of this.consumers){const o=r.consumerNode.deref();void 0!==o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),o?.producers.delete(this.id))}}finally{oi=t}}producerAccessed(){if(oi)throw new Error("");if(null===tr)return;let t=tr.producers.get(this.id);void 0===t?(t={consumerNode:tr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:tr.trackingVersion},tr.producers.set(this.id,t),this.consumers.set(tr.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=tr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==tr?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let ki=null;function Da(e){const t=pn(null);try{return e()}finally{pn(t)}}const bs=()=>{};class ba extends Ri{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=bs,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=pn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=bs,this.watch(this.registerOnCleanup)}finally{pn(t)}}cleanup(){this.cleanupFn()}}class Sa{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Fi(){return Li}function Li(e){return e.type.prototype.ngOnChanges&&(e.setInput=_),yi}function yi(){const e=C(this),t=e?.current;if(t){const n=e.previous;if(n===Fn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function _(e,t,n,r){const o=this.declaredInputs[n],a=C(e)||function P(e,t){return e[M]=t}(e,{previous:Fn,current:null}),u=a.current||(a.current={}),p=a.previous,v=p[o];u[o]=new Sa(v&&v.currentValue,t,p===Fn),e[r]=t}Fi.ngInherit=!0;const M="__ngSimpleChanges__";function C(e){return e[M]||null}const Te=function(e,t,n){};function st(e){for(;Array.isArray(e);)e=e[De];return e}function yt(e,t){return st(t[e])}function Pt(e,t){return st(t[e.index])}function gn(e,t){return e.data[t]}function mn(e,t){const n=t[e];return Ht(n)?n:n[De]}function rr(e,t){return null==t?null:e[t]}function Ur(e){e[lr]=0}function Gc(e){1024&e[lt]||(e[lt]|=1024,Cr(e,1))}function Ea(e){1024&e[lt]&&(e[lt]&=-1025,Cr(e,-1))}function Cr(e,t){let n=e[it];if(null===n)return;n[Qn]+=t;let r=n;for(n=n[it];null!==n&&(1===t&&1===r[Qn]||-1===t&&0===r[Qn]);)n[Qn]+=t,r=n,n=n[it]}const ft={lFrame:xs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Es(){return ft.bindingsEnabled}function xe(){return ft.lFrame.lView}function Vt(){return ft.lFrame.tView}function Ts(e){return ft.lFrame.contextLView=e,e[Ut]}function mo(e){return ft.lFrame.contextLView=null,e}function Yn(){let e=Yc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Yc(){return ft.lFrame.currentTNode}function Io(e,t){const n=ft.lFrame;n.currentTNode=e,n.isParent=t}function ji(){return ft.lFrame.isParent}function vi(){return ft.lFrame.bindingIndex++}function Bo(e){const t=ft.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Dd(e,t){const n=ft.lFrame;n.bindingIndex=n.bindingRootIndex=e,Is(t)}function Is(e){ft.lFrame.currentDirectiveIndex=e}function Pa(){return ft.lFrame.currentQueryIndex}function Rs(e){ft.lFrame.currentQueryIndex=e}function qc(e){const t=e[Ue];return 2===t.type?t.declTNode:1===t.type?e[ln]:null}function xa(e,t,n){if(n&He.SkipSelf){let o=t,a=e;for(;!(o=o.parent,null!==o||n&He.Host||(o=qc(a),null===o||(a=a[_r],10&o.type))););if(null===o)return!1;t=o,e=a}const r=ft.lFrame=Oa();return r.currentTNode=t,r.lView=e,!0}function Ps(e){const t=Oa(),n=e[Ue];ft.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Oa(){const e=ft.lFrame,t=null===e?null:e.child;return null===t?xs(e):t}function xs(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ka(){const e=ft.lFrame;return ft.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Kc=ka;function Na(){const e=ka();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function br(){return ft.lFrame.selectedIndex}function si(e){ft.lFrame.selectedIndex=e}function h(){const e=ft.lFrame;return gn(e.tView,e.selectedIndex)}let k=!0;function le(){return k}function Me(e){k=e}function Qe(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:E,ngOnDestroy:A}=a;u&&(e.contentHooks??=[]).push(-n,u),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),v&&(e.viewHooks??=[]).push(-n,v),E&&((e.viewHooks??=[]).push(n,E),(e.viewCheckHooks??=[]).push(n,E)),null!=A&&(e.destroyHooks??=[]).push(n,A)}}function Ft(e,t,n){ai(e,t,3,n)}function or(e,t,n,r){(3&e[lt])===n&&ai(e,t,n,r)}function _i(e,t){let n=e[lt];(3&n)===t&&(n&=8191,n+=1,e[lt]=n)}function ai(e,t,n,r){const a=r??-1,u=t.length-1;let p=0;for(let v=void 0!==r?65535&e[lr]:0;v<u;v++)if("number"==typeof t[v+1]){if(p=t[v],null!=r&&p>=r)break}else t[v]<0&&(e[lr]+=65536),(p<a||-1==a)&&(Os(e,n,t,v),e[lr]=(4294901760&e[lr])+v+2),v++}function ci(e,t){Te(4,e,t);const n=pn(null);try{t.call(e)}finally{pn(n),Te(5,e,t)}}function Os(e,t,n,r){const o=n[r]<0,a=n[r+1],p=e[o?-n[r]:n[r]];o?e[lt]>>13<e[lr]>>16&&(3&e[lt])===t&&(e[lt]+=8192,ci(p,a)):ci(p,a)}const Ao=-1;class ks{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ed(e){return e!==Ao}function Fa(e){return 32767&e}function La(e,t){let n=function Cy(e){return e>>16}(e),r=t;for(;n>0;)r=r[_r],n--;return r}let Qc=!0;function Va(e){const t=Qc;return Qc=e,t}const wd=255,Td=5;let Dy=0;const jo={};function Ba(e,t){const n=Md(e,t);if(-1!==n)return n;const r=t[Ue];r.firstCreatePass&&(e.injectorIndex=t.length,Xc(r.data,e),Xc(t,null),Xc(r.blueprint,null));const o=el(e,t),a=e.injectorIndex;if(Ed(o)){const u=Fa(o),p=La(o,t),v=p[Ue].data;for(let E=0;E<8;E++)t[a+E]=p[u+E]|v[u+E]}return t[a+8]=o,a}function Xc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Md(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function el(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Nd(o),null===r)return Ao;if(n++,o=o[_r],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ao}function tl(e,t,n){!function by(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rn)&&(r=n[Rn]),null==r&&(r=n[Rn]=Dy++);const o=r&wd;t.data[e+(o>>Td)]|=1<<o}(e,t,n)}function Id(e,t,n){if(n&He.Optional||void 0!==e)return e;je()}function Ad(e,t,n,r){if(n&He.Optional&&void 0===r&&(r=null),!(n&(He.Self|He.Host))){const o=e[cr],a=kt(void 0);try{return o?o.get(t,r,n&He.Optional):bt(t,r,n&He.Optional)}finally{kt(a)}}return Id(r,0,n)}function Rd(e,t,n,r=He.Default,o){if(null!==e){if(2048&t[lt]&&!(r&He.Self)){const u=function My(e,t,n,r,o){let a=e,u=t;for(;null!==a&&null!==u&&2048&u[lt]&&!(512&u[lt]);){const p=Pd(a,u,n,r|He.Self,jo);if(p!==jo)return p;let v=a.parent;if(!v){const E=u[Yr];if(E){const A=E.get(n,jo,r);if(A!==jo)return A}v=Nd(u),u=u[_r]}a=v}return o}(e,t,n,r,jo);if(u!==jo)return u}const a=Pd(e,t,n,r,jo);if(a!==jo)return a}return Ad(t,n,r,o)}function Pd(e,t,n,r,o){const a=function wy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Rn)?e[Rn]:void 0;return"number"==typeof t?t>=0?t&wd:Ty:t}(n);if("function"==typeof a){if(!xa(t,e,r))return r&He.Host?Id(o,0,r):Ad(t,n,r,o);try{const u=a(r);if(null!=u||r&He.Optional)return u;je()}finally{Kc()}}else if("number"==typeof a){let u=null,p=Md(e,t),v=Ao,E=r&He.Host?t[on][ln]:null;for((-1===p||r&He.SkipSelf)&&(v=-1===p?el(e,t):t[p+8],v!==Ao&&Od(r,!1)?(u=t[Ue],p=Fa(v),t=La(v,t)):p=-1);-1!==p;){const A=t[Ue];if(xd(a,p,A.data)){const L=Ey(p,t,n,u,r,E);if(L!==jo)return L}v=t[p+8],v!==Ao&&Od(r,t[Ue].data[p+8]===E)&&xd(a,p,t)?(u=A,p=Fa(v),t=La(v,t)):p=-1}}return o}function Ey(e,t,n,r,o,a){const u=t[Ue],p=u.data[e+8],A=ja(p,u,n,null==r?Un(p)&&Qc:r!=u&&0!=(3&p.type),o&He.Host&&a===p);return null!==A?Ci(t,u,A,p):jo}function ja(e,t,n,r,o){const a=e.providerIndexes,u=t.data,p=1048575&a,v=e.directiveStart,A=a>>20,ee=o?p+A:e.directiveEnd;for(let ge=r?p:p+A;ge<ee;ge++){const Ae=u[ge];if(ge<v&&n===Ae||ge>=v&&Ae.type===n)return ge}if(o){const ge=u[v];if(ge&&ur(ge)&&ge.type===n)return v}return null}function Ci(e,t,n,r){let o=e[n];const a=t.data;if(function yy(e){return e instanceof ks}(o)){const u=o;u.resolving&&function Pe(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new de(-200,`Circular dependency in DI detected for ${e}${n}`)}(function se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Q(e)}(a[n]));const p=Va(u.canSeeViewProviders);u.resolving=!0;const v=u.injectImpl?kt(u.injectImpl):null;xa(e,r,He.Default);try{o=e[n]=u.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Ze(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:a}=t.type.prototype;if(r){const u=Li(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}o&&(n.preOrderHooks??=[]).push(0-e,o),a&&((n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a))}(n,a[n],t)}finally{null!==v&&kt(v),Va(p),u.resolving=!1,Kc()}}return o}function xd(e,t,n){return!!(n[t+(e>>Td)]&1<<e)}function Od(e,t){return!(e&He.Self||e&He.Host&&t)}class Ui{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Rd(this._tNode,this._lView,t,_n(r),n)}}function Ty(){return new Ui(Yn(),xe())}function kd(e){return mt(()=>{const t=e.prototype.constructor,n=t[Dn]||nl(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const a=o[Dn]||nl(o);if(a&&a!==n)return a;o=Object.getPrototypeOf(o)}return a=>new a})}function nl(e){return he(e)?()=>{const t=nl(ue(e));return t&&t()}:j(e)}function Nd(e){const t=e[Ue],n=t.type;return 2===n?t.declTNode:1===n?e[ln]:null}function rl(e){return function Sy(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const a=n[o];if(Oo(a))break;if(0===a)o+=2;else if("number"==typeof a)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(a===t)return n[o+1];o+=2}}}return null}(Yn(),e)}const Gi="__parameters__";function Wi(e,t,n){return mt(()=>{const r=function ol(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...a){if(this instanceof o)return r.apply(this,a),this;const u=new o(...a);return p.annotation=u,p;function p(v,E,A){const L=v.hasOwnProperty(Gi)?v[Gi]:Object.defineProperty(v,Gi,{value:[]})[Gi];for(;L.length<=A;)L.push(null);return(L[A]=L[A]||[]).push(u),v}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Ls(e,t){e.forEach(n=>Array.isArray(n)?Ls(n,t):t(n))}function Ld(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $a(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function eo(e,t,n){let r=Zi(e,t);return r>=0?e[1|r]=n:(r=~r,function xy(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function il(e,t){const n=Zi(e,t);if(n>=0)return e[1|n]}function Zi(e,t){return function Vd(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const a=r+(o-r>>1),u=e[a<<n];if(t===u)return a<<n;u>t?o=a:r=a+1}return~(o<<n)}(e,t,1)}const Ha=$t(Wi("Optional"),8),Ga=$t(Wi("SkipSelf"),4);function Ya(e){return 128==(128&e.flags)}var $o=(()=>(($o=$o||{})[$o.Important=1]="Important",$o[$o.DashCase=2]="DashCase",$o))();const dl=new Map;let nv=0;const hl="__ngContext__";function Sr(e,t){Ht(t)?(e[hl]=t[Rr],function ov(e){dl.set(e[Rr],e)}(t)):e[hl]=t}let pl;function gl(e,t){return pl(e,t)}function $s(e){const t=e[it];return Yt(t)?t[it]:t}function sf(e){return cf(e[$n])}function af(e){return cf(e[It])}function cf(e){for(;null!==e&&!Yt(e);)e=e[It];return e}function Ki(e,t,n,r,o){if(null!=r){let a,u=!1;Yt(r)?a=r:Ht(r)&&(u=!0,r=r[De]);const p=st(r);0===e&&null!==n?null==o?hf(t,n,p):Di(t,n,p,o||null,!0):1===e&&null!==n?Di(t,n,p,o||null,!0):2===e?function ec(e,t,n){const r=Qa(e,t);r&&function Sv(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,p,u):3===e&&t.destroyNode(p),null!=a&&function Tv(e,t,n,r,o){const a=n[In];a!==st(n)&&Ki(t,e,r,a,o);for(let p=hn;p<n.length;p++){const v=n[p];Hs(v[Ue],v,e,t,r,a)}}(t,e,a,n,o)}}function Ja(e,t,n){return e.createElement(t,n)}function uf(e,t){const n=e[Kr],r=n.indexOf(t);Ea(t),n.splice(r,1)}function yl(e,t){if(e.length<=hn)return;const n=hn+t,r=e[n];if(r){const o=r[ho];null!==o&&o!==e&&uf(o,r),t>0&&(e[n-1][It]=r[It]);const a=$a(e,hn+t);!function gv(e,t){Hs(e,t,t[at],2,null,null),t[De]=null,t[ln]=null}(r[Ue],r);const u=a[Ln];null!==u&&u.detachView(a[Ue]),r[it]=null,r[It]=null,r[lt]&=-129}return r}function df(e,t){if(!(256&t[lt])){const n=t[at];t[po]?.destroy(),t[Tt]?.destroy(),n.destroyNode&&Hs(e,t,n,3,null,null),function vv(e){let t=e[$n];if(!t)return vl(e[Ue],e);for(;t;){let n=null;if(Ht(t))n=t[$n];else{const r=t[hn];r&&(n=r)}if(!n){for(;t&&!t[It]&&t!==e;)Ht(t)&&vl(t[Ue],t),t=t[it];null===t&&(t=e),Ht(t)&&vl(t[Ue],t),n=t&&t[It]}t=n}}(t)}}function vl(e,t){if(!(256&t[lt])){t[lt]&=-129,t[lt]|=256,function bv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof ks)){const a=n[r+1];if(Array.isArray(a))for(let u=0;u<a.length;u+=2){const p=o[a[u]],v=a[u+1];Te(4,p,v);try{v.call(p)}finally{Te(5,p,v)}}else{Te(4,o,a);try{a.call(o)}finally{Te(5,o,a)}}}}}(e,t),function Dv(e,t){const n=e.cleanup,r=t[Zn];if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const u=n[a+3];u>=0?r[u]():r[-u].unsubscribe(),a+=2}else n[a].call(r[n[a+1]]);null!==r&&(t[Zn]=null);const o=t[er];if(null!==o){t[er]=null;for(let a=0;a<o.length;a++)(0,o[a])()}}(e,t),1===t[Ue].type&&t[at].destroy();const n=t[ho];if(null!==n&&Yt(t[it])){n!==t[it]&&uf(n,t);const r=t[Ln];null!==r&&r.detachView(e)}!function iv(e){dl.delete(e[Rr])}(t)}}function _l(e,t,n){return function ff(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[De];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:a}=e.data[r.directiveStart+o];if(a===Wn.None||a===Wn.Emulated)return null}return Pt(r,n)}}(e,t.parent,n)}function Di(e,t,n,r,o){e.insertBefore(t,n,r,o)}function hf(e,t,n){e.appendChild(t,n)}function pf(e,t,n,r,o){null!==r?Di(e,t,n,r,o):hf(e,t,n)}function Qa(e,t){return e.parentNode(t)}let Cl,El,nc,yf=function mf(e,t,n){return 40&e.type?Pt(e,n):null};function Xa(e,t,n,r){const o=_l(e,r,t),a=t[at],p=function gf(e,t,n){return yf(e,t,n)}(r.parent||t[ln],r,t);if(null!=o)if(Array.isArray(n))for(let v=0;v<n.length;v++)pf(a,o,n[v],p,!1);else pf(a,o,n,p,!1);void 0!==Cl&&Cl(a,r,t,n,o)}function Us(e,t){if(null!==t){const n=t.type;if(3&n)return Pt(t,e);if(4&n)return Dl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Us(e,r);{const o=e[t.index];return Yt(o)?Dl(-1,o):st(o)}}if(32&n)return gl(t,e)()||st(e[t.index]);{const r=_f(e,t);return null!==r?Array.isArray(r)?r[0]:Us($s(e[on]),r):Us(e,t.next)}}return null}function _f(e,t){return null!==t?e[on][ln].projection[t.projection]:null}function Dl(e,t){const n=hn+e+1;if(n<t.length){const r=t[n],o=r[Ue].firstChild;if(null!==o)return Us(r,o)}return t[In]}function bl(e,t,n,r,o,a,u){for(;null!=n;){const p=r[n.index],v=n.type;if(u&&0===t&&(p&&Sr(st(p),r),n.flags|=2),32!=(32&n.flags))if(8&v)bl(e,t,n.child,r,o,a,!1),Ki(t,e,o,p,a);else if(32&v){const E=gl(n,r);let A;for(;A=E();)Ki(t,e,o,A,a);Ki(t,e,o,p,a)}else 16&v?Df(e,t,r,n,o,a):Ki(t,e,o,p,a);n=u?n.projectionNext:n.next}}function Hs(e,t,n,r,o,a){bl(n,r,e.firstChild,t,o,a,!1)}function Df(e,t,n,r,o,a){const u=n[on],v=u[ln].projection[r.projection];if(Array.isArray(v))for(let E=0;E<v.length;E++)Ki(t,e,o,v[E],a);else{let E=v;const A=u[it];Ya(r)&&(E.flags|=128),bl(e,t,E,A,o,a,!0)}}function bf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Sf(e,t,n){const{mergedAttrs:r,classes:o,styles:a}=n;null!==r&&fr(e,t,r),null!==o&&bf(e,t,o),null!==a&&function Iv(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}function xv(e){El=e}function Tf(e){return function wl(){if(void 0===nc&&(nc=null,Xt.trustedTypes))try{nc=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return nc}()?.createScriptURL(e)||e}class Mf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ie})`}}function li(e){return e instanceof Mf?e.changingThisBreaksApplicationSecurity:e}function zs(e,t){const n=function Vv(e){return e instanceof Mf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ie})`)}return n===t}const Uv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Hn=(()=>((Hn=Hn||{})[Hn.NONE=0]="NONE",Hn[Hn.HTML=1]="HTML",Hn[Hn.STYLE=2]="STYLE",Hn[Hn.SCRIPT=3]="SCRIPT",Hn[Hn.URL=4]="URL",Hn[Hn.RESOURCE_URL=5]="RESOURCE_URL",Hn))();function Rl(e){const t=Zs();return t?t.sanitize(Hn.URL,e)||"":zs(e,"URL")?li(e):function Tl(e){return(e=String(e)).match(Uv)?e:"unsafe:"+e}(Q(e))}function kf(e){const t=Zs();if(t)return Tf(t.sanitize(Hn.RESOURCE_URL,e)||"");if(zs(e,"ResourceURL"))return Tf(li(e));throw new de(904,!1)}function Nf(e,t,n){return function e_(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?kf:Rl}(t,n)(e)}function Zs(){const e=xe();return e&&e[Xn].sanitizer}class nn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ot({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ys=new nn("ENVIRONMENT_INITIALIZER"),Ff=new nn("INJECTOR",-1),Lf=new nn("INJECTOR_DEF_TYPES");class Vf{get(t,n=Tn){if(n===Tn){const r=new Error(`NullInjectorError: No provider for ${$(t)}!`);throw r.name="NullInjectorError",r}return n}}function t_(...e){return{\u0275providers:jf(0,e),\u0275fromNgModule:!0}}function jf(e,...t){const n=[],r=new Set;let o;return Ls(t,a=>{const u=a;Pl(u,n,[],r)&&(o||=[],o.push(u))}),void 0!==o&&$f(o,n),n}function $f(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];xl(o,a=>{t.push(a)})}}function Pl(e,t,n,r){if(!(e=ue(e)))return!1;let o=null,a=Nn(e);const u=!a&&wt(e);if(a||u){if(u&&!u.standalone)return!1;o=e}else{const v=e.ngModule;if(a=Nn(v),!a)return!1;o=v}const p=r.has(o);if(u){if(p)return!1;if(r.add(o),u.dependencies){const v="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const E of v)Pl(E,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!p){let E;r.add(o);try{Ls(a.imports,A=>{Pl(A,t,n,r)&&(E||=[],E.push(A))})}finally{}void 0!==E&&$f(E,t)}if(!p){const E=j(o)||(()=>new o);t.push({provide:o,useFactory:E,deps:Dt},{provide:Lf,useValue:o,multi:!0},{provide:Ys,useValue:()=>ct(o),multi:!0})}const v=a.providers;null==v||p||xl(v,A=>{t.push(A)})}}return o!==e&&void 0!==e.providers}function xl(e,t){for(let n of e)Be(n)&&(n=n.\u0275providers),Array.isArray(n)?xl(n,t):t(n)}const n_=re({provide:String,useValue:re});function Ol(e){return null!==e&&"object"==typeof e&&n_ in e}function bi(e){return"function"==typeof e}const kl=new nn("Set Injector scope."),oc={},o_={};let Nl;function ic(){return void 0===Nl&&(Nl=new Vf),Nl}class Si{}class Fl extends Si{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vl(t,u=>this.processProvider(u)),this.records.set(Ff,Qi(void 0,this)),o.has("environment")&&this.records.set(Si,Qi(void 0,this));const a=this.records.get(kl);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Lf.multi,Dt,He.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=$e(this),r=kt(void 0);try{return t()}finally{$e(n),kt(r)}}get(t,n=Tn,r=He.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ir))return t[Ir](this);r=_n(r);const o=$e(this),a=kt(void 0);try{if(!(r&He.SkipSelf)){let p=this.records.get(t);if(void 0===p){const v=function l_(e){return"function"==typeof e||"object"==typeof e&&e instanceof nn}(t)&&rt(t);p=v&&this.injectableDefInScope(v)?Qi(Ll(t),oc):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&He.Self?ic():this.parent).get(t,n=r&He.Optional&&n===Tn?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[jt]=u[jt]||[]).unshift($(t)),o)throw u;return function Cn(e,t,n,r){const o=e[jt];throw t[H]&&o.unshift(t[H]),e.message=function dn(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=$(t);if(Array.isArray(t))o=t.map($).join(" -> ");else if("object"==typeof t){let a=[];for(let u in t)if(t.hasOwnProperty(u)){let p=t[u];a.push(u+":"+("string"==typeof p?JSON.stringify(p):$(p)))}o=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(we,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[jt]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{kt(a),$e(o)}}resolveInjectorInitializers(){const t=$e(this),n=kt(void 0);try{const r=this.get(Ys.multi,Dt,He.Self);for(const o of r)o()}finally{$e(t),kt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push($(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(t){let n=bi(t=ue(t))?t:ue(t&&t.provide);const r=function s_(e){return Ol(e)?Qi(void 0,e.useValue):Qi(Gf(e),oc)}(t);if(bi(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Qi(void 0,oc,!0),o.factory=()=>zn(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===oc&&(n.value=o_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function c_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ue(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ll(e){const t=rt(e),n=null!==t?t.factory:j(e);if(null!==n)return n;if(e instanceof nn)throw new de(204,!1);if(e instanceof Function)return function i_(e){const t=e.length;if(t>0)throw function Vs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new de(204,!1);const n=function kn(e){return e&&(e[rn]||e[Qt])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new de(204,!1)}function Gf(e,t,n){let r;if(bi(e)){const o=ue(e);return j(o)||Ll(o)}if(Ol(e))r=()=>ue(e.useValue);else if(function Hf(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...zn(e.deps||[]));else if(function Uf(e){return!(!e||!e.useExisting)}(e))r=()=>ct(ue(e.useExisting));else{const o=ue(e&&(e.useClass||e.provide));if(!function a_(e){return!!e.deps}(e))return j(o)||Ll(o);r=()=>new o(...zn(e.deps))}return r}function Qi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Vl(e,t){for(const n of e)Array.isArray(n)?Vl(n,t):n&&Be(n)?Vl(n.\u0275providers,t):t(n)}const zf=new nn("AppId",{providedIn:"root",factory:()=>u_}),u_="ng",Wf=new nn("Platform Initializer"),Bl=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),d_=new nn("CSP nonce",{providedIn:"root",factory:()=>function Gs(){if(void 0!==El)return El;if(typeof document<"u")return document;throw new de(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Yf=(e,t)=>null;function qf(e,t){return Yf(e,t)}class C_{}class Qf{}class b_{resolveComponentFactory(t){throw function D_(e){const t=Error(`No component factory found for ${$(e)}.`);return t.ngComponent=e,t}(t)}}let uc=(()=>{class e{}return e.NULL=new b_,e})();function S_(){return Xi(Yn(),xe())}function Xi(e,t){return new Qs(Pt(e,t))}let Qs=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=S_,e})();function E_(e){return e instanceof Qs?e.nativeElement:e}class eh{}let w_=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function T_(){const e=xe(),n=mn(Yn().index,e);return(Ht(n)?n:e)[at]}(),e})(),M_=(()=>{class e{}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>null}),e})();class th{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const I_=new th("16.1.2"),Kl={};function Xs(e){for(;e;){e[lt]|=64;const t=$s(e);if(Rt(e)&&!t)return e;e=t}return null}function Jl(e){return e.ngOriginalError}class es{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Jl(t);for(;n&&Jl(n);)n=Jl(n);return n||null}}const oh=new nn("",{providedIn:"root",factory:()=>!1});function Xo(e){return e instanceof Function?e():e}class lh extends Ri{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){Xs(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const o=pn(this);this.trackingVersion++;try{t(n,r)}finally{pn(o)}}destroy(){this.trackingVersion++}}let fc=null;function uh(){return fc??=new lh,fc}function dh(e,t){return e[t]??uh()}function fh(e,t){const n=uh();n.hasReadASignal&&(e[t]=fc,n.lView=e,fc=new lh)}const St={};function hh(e){ph(Vt(),xe(),br()+e,!1)}function ph(e,t,n,r){if(!r)if(3==(3&t[lt])){const a=e.preOrderCheckHooks;null!==a&&Ft(t,a,n)}else{const a=e.preOrderHooks;null!==a&&or(t,a,0,n)}si(n)}function vh(e,t=null,n=null,r){const o=_h(e,t,n,r);return o.resolveInjectorInitializers(),o}function _h(e,t=null,n=null,r,o=new Set){const a=[n||Dt,t_(e)];return r=r||("object"==typeof e?void 0:$(e)),new Fl(a,t||ic(),r||null,o)}let ui=(()=>{class e{static create(n,r){if(Array.isArray(n))return vh({name:""},r,n,"");{const o=n.name??"";return vh({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Tn,e.NULL=new Vf,e.\u0275prov=Ot({token:e,providedIn:"any",factory:()=>ct(Ff)}),e.__NG_ELEMENT_ID__=-1,e})();function ns(e,t=He.Default){const n=xe();return null===n?ct(e,t):Rd(Yn(),n,ue(e),t)}function Ch(){throw new Error("invalid")}function hc(e,t,n,r,o,a,u,p,v,E,A){const L=t.blueprint.slice();return L[De]=o,L[lt]=140|r,(null!==E||e&&2048&e[lt])&&(L[lt]|=2048),Ur(L),L[it]=L[_r]=e,L[Ut]=n,L[Xn]=u||e&&e[Xn],L[at]=p||e&&e[at],L[cr]=v||e&&e[cr]||null,L[ln]=a,L[Rr]=function rv(){return nv++}(),L[En]=A,L[Yr]=E,L[on]=2==t.type?e[on]:L,L}function rs(e,t,n,r,o){let a=e.data[t];if(null===a)a=function Ql(e,t,n,r,o){const a=Yc(),u=ji(),v=e.data[t]=function q_(e,t,n,r,o,a){let u=t?t.injectorIndex:-1,p=0;return function ii(){return null!==ft.skipHydrationRootTNode}()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?a:a&&a.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=v),null!==a&&(u?null==a.child&&null!==v.parent&&(a.child=v):null===a.next&&(a.next=v,v.prev=a)),v}(e,t,n,r,o),function Cd(){return ft.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=o;const u=function Bi(){const e=ft.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===u?-1:u.injectorIndex}return Io(a,!0),a}function ea(e,t,n,r){if(0===n)return-1;const o=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Dh(e,t,n,r,o){const a=dh(t,po),u=br(),p=2&r;try{if(si(-1),p&&t.length>tt&&ph(e,t,tt,!1),Te(p?2:0,o),p)a.runInContext(n,r,o);else{const E=pn(null);try{n(r,o)}finally{pn(E)}}}finally{p&&null===t[po]&&fh(t,po),si(u),Te(p?3:1,o)}}function Xl(e,t,n){if(dt(t)){const r=pn(null);try{const a=t.directiveEnd;for(let u=t.directiveStart;u<a;u++){const p=e.data[u];p.contentQueries&&p.contentQueries(1,n[u],u)}}finally{pn(r)}}}function eu(e,t,n){Es()&&(function nC(e,t,n,r){const o=n.directiveStart,a=n.directiveEnd;Un(n)&&function lC(e,t,n){const r=Pt(t,e),o=bh(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const p=pc(e,hc(e,o,null,u,r,t,null,e[Xn].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Ba(n,t),Sr(r,t);const u=n.initialInputs;for(let p=o;p<a;p++){const v=e.data[p],E=Ci(t,e,p,n);Sr(E,t),null!==u&&uC(0,p-o,E,v,0,u),ur(v)&&(mn(n.index,t)[Ut]=Ci(t,e,p,n))}}(e,t,n,Pt(n,t)),64==(64&n.flags)&&Mh(e,t,n))}function tu(e,t,n=Pt){const r=t.localNames;if(null!==r){let o=t.index+1;for(let a=0;a<r.length;a+=2){const u=r[a+1],p=-1===u?n(t,e):e[u];e[o++]=p}}}function bh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function nu(e,t,n,r,o,a,u,p,v,E,A){const L=tt+r,ee=L+o,ge=function H_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:St);return n}(L,ee),Ae="function"==typeof E?E():E;return ge[Ue]={type:e,blueprint:ge,template:n,queries:null,viewQuery:p,declTNode:t,data:ge.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:v,consts:Ae,incompleteFirstPass:!1,ssrId:A}}let Sh=e=>null;function Eh(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const a=e[o];null===r?wh(n,t,o,a):r.hasOwnProperty(o)&&wh(n,t,r[o],a)}return n}function wh(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function to(e,t,n,r,o,a,u,p){const v=Pt(t,n);let A,E=t.inputs;!p&&null!=E&&(A=E[r])?(au(e,n,A,r,o),Un(t)&&function Q_(e,t){const n=mn(t,e);16&n[lt]||(n[lt]|=64)}(n,t.index)):3&t.type&&(r=function J_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=u?u(o,t.value||"",r):o,a.setProperty(v,r,o))}function ru(e,t,n,r){if(Es()){const o=null===r?null:{"":-1},a=function oC(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let a=0;a<n.length;a++){const u=n[a];if(so(t,u.selectors,!1))if(r||(r=[]),ur(u))if(null!==u.findHostDirectiveDefs){const p=[];o=o||new Map,u.findHostDirectiveDefs(u,p,o),r.unshift(...p,u),ou(e,t,p.length)}else r.unshift(u),ou(e,t,0);else o=o||new Map,u.findHostDirectiveDefs?.(u,r,o),r.push(u)}return null===r?null:[r,o]}(e,n);let u,p;null===a?u=p=null:[u,p]=a,null!==u&&Th(e,t,n,u,o,p),o&&function iC(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const a=n[t[o+1]];if(null==a)throw new de(-301,!1);r.push(t[o],a)}}}(n,r,o)}n.mergedAttrs=hr(n.mergedAttrs,n.attrs)}function Th(e,t,n,r,o,a){for(let E=0;E<r.length;E++)tl(Ba(n,t),e,r[E].type);!function aC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let E=0;E<r.length;E++){const A=r[E];A.providersResolver&&A.providersResolver(A)}let u=!1,p=!1,v=ea(e,t,r.length,null);for(let E=0;E<r.length;E++){const A=r[E];n.mergedAttrs=hr(n.mergedAttrs,A.hostAttrs),cC(e,n,t,v,A),sC(v,A,o),null!==A.contentQueries&&(n.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=64);const L=A.type.prototype;!u&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!p&&(L.ngOnChanges||L.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),v++}!function K_(e,t,n){const o=t.directiveEnd,a=e.data,u=t.attrs,p=[];let v=null,E=null;for(let A=t.directiveStart;A<o;A++){const L=a[A],ee=n?n.get(L):null,Ae=ee?ee.outputs:null;v=Eh(L.inputs,A,v,ee?ee.inputs:null),E=Eh(L.outputs,A,E,Ae);const ke=null===v||null===u||pr(t)?null:dC(v,A,u);p.push(ke)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=v,t.outputs=E}(e,n,a)}function Mh(e,t,n){const r=n.directiveStart,o=n.directiveEnd,a=n.index,u=function Ra(){return ft.lFrame.currentDirectiveIndex}();try{si(a);for(let p=r;p<o;p++){const v=e.data[p],E=t[p];Is(p),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&rC(v,E)}}finally{si(-1),Is(u)}}function rC(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ou(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function sC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ur(t)&&(n[""]=e)}}function cC(e,t,n,r,o){e.data[r]=o;const a=o.factory||(o.factory=j(o.type)),u=new ks(a,ur(o),ns);e.blueprint[r]=u,n[r]=u,function eC(e,t,n,r,o){const a=o.hostBindings;if(a){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const p=~t.index;(function tC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=p&&u.push(p),u.push(n,r,a)}}(e,t,r,ea(e,n,o.hostVars,St),o)}function Uo(e,t,n,r,o,a){const u=Pt(e,t);!function iu(e,t,n,r,o,a,u){if(null==a)e.removeAttribute(t,o,n);else{const p=null==u?Q(a):u(a,r||"",o);e.setAttribute(t,o,p,n)}}(t[at],u,a,e.value,n,r,o)}function uC(e,t,n,r,o,a){const u=a[t];if(null!==u)for(let p=0;p<u.length;)Ih(r,n,u[p++],u[p++],u[p++])}function Ih(e,t,n,r,o){const a=pn(null);try{const u=e.inputTransforms;null!==u&&u.hasOwnProperty(r)&&(o=u[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{pn(a)}}function dC(e,t,n){let r=null,o=0;for(;o<n.length;){const a=n[o];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const u=e[a];for(let p=0;p<u.length;p+=2)if(u[p]===t){r.push(a,u[p+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Ah(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Rh(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r+1];if(-1!==a){const u=e.data[a];Rs(n[r]),u.contentQueries(2,t[a],a)}}}function pc(e,t){return e[$n]?e[vr][It]=t:e[$n]=t,e[vr]=t,t}function su(e,t,n){Rs(0);const r=pn(null);try{t(e,n)}finally{pn(r)}}function Ph(e){return e[Zn]||(e[Zn]=[])}function xh(e){return e.cleanup||(e.cleanup=[])}function kh(e,t){const n=e[cr],r=n?n.get(es,null):null;r&&r.handleError(t)}function au(e,t,n,r,o){for(let a=0;a<n.length;){const u=n[a++],p=n[a++];Ih(e.data[u],t[u],r,p,o)}}function ei(e,t,n){const r=yt(t,e);!function lf(e,t,n){e.setValue(t,n)}(e[at],r,n)}function fC(e,t){const n=mn(t,e),r=n[Ue];!function hC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[De];null!==o&&null===n[En]&&(n[En]=qf(o,n[cr])),cu(r,n,n[Ut])}function cu(e,t,n){Ps(t);try{const r=e.viewQuery;null!==r&&su(1,r,n);const o=e.template;null!==o&&Dh(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Rh(e,t),e.staticViewQueries&&su(2,e.viewQuery,n);const a=e.components;null!==a&&function pC(e,t){for(let n=0;n<t.length;n++)fC(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[lt]&=-5,Na()}}let Nh=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const a=typeof Zone>"u"?null:Zone.current,u=new ba(n,E=>{this.all.has(E)&&this.queue.set(E,a)},o);let p;this.all.add(u),u.notify();const v=()=>{u.cleanup(),p?.(),this.all.delete(u),this.queue.delete(u)};return p=r?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>new e}),e})();function gc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,a=0;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?a=p:1==a?o=me(o,p):2==a&&(r=me(r,p+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function ta(e,t,n,r,o=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(st(a)),Yt(a)){for(let p=hn;p<a.length;p++){const v=a[p],E=v[Ue].firstChild;null!==E&&ta(v[Ue],v,E,r)}a[In]!==a[De]&&r.push(a[In])}const u=n.type;if(8&u)ta(e,t,n.child,r);else if(32&u){const p=gl(n,t);let v;for(;v=p();)r.push(v)}else if(16&u){const p=_f(t,n);if(Array.isArray(p))r.push(...p);else{const v=$s(t[on]);ta(v[Ue],v,p,r,!0)}}n=o?n.projectionNext:n.next}return r}function mc(e,t,n,r=!0){const o=t[Xn].rendererFactory;o.begin&&o.begin();try{Fh(e,t,e.template,n)}catch(u){throw r&&kh(t,u),u}finally{o.end&&o.end(),t[Xn].effectManager?.flush()}}function Fh(e,t,n,r){const o=t[lt];if(256!=(256&o)){t[Xn].effectManager?.flush(),Ps(t);try{Ur(t),function Ia(e){return ft.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Dh(e,t,n,2,r);const u=3==(3&o);if(u){const E=e.preOrderCheckHooks;null!==E&&Ft(t,E,null)}else{const E=e.preOrderHooks;null!==E&&or(t,E,0,null),_i(t,0)}if(function _C(e){for(let t=sf(e);null!==t;t=af(t)){if(!t[qo])continue;const n=t[Kr];for(let r=0;r<n.length;r++){Gc(n[r])}}}(t),Lh(t,2),null!==e.contentQueries&&Rh(e,t),u){const E=e.contentCheckHooks;null!==E&&Ft(t,E)}else{const E=e.contentHooks;null!==E&&or(t,E,1),_i(t,1)}!function U_(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=dh(t,Tt);try{for(let o=0;o<n.length;o++){const a=n[o];if(a<0)si(~a);else{const u=a,p=n[++o],v=n[++o];Dd(p,u),r.runInContext(v,2,t[u])}}}finally{null===t[Tt]&&fh(t,Tt),si(-1)}}(e,t);const p=e.components;null!==p&&Bh(t,p,0);const v=e.viewQuery;if(null!==v&&su(2,v,r),u){const E=e.viewCheckHooks;null!==E&&Ft(t,E)}else{const E=e.viewHooks;null!==E&&or(t,E,2),_i(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[lt]&=-73,Ea(t)}finally{Na()}}}function Lh(e,t){for(let n=sf(e);null!==n;n=af(n))for(let r=hn;r<n.length;r++)Vh(n[r],t)}function CC(e,t,n){Vh(mn(t,e),n)}function Vh(e,t){if(!function Pr(e){return 128==(128&e[lt])}(e))return;const n=e[Ue];if(80&e[lt]&&0===t||1024&e[lt]||2===t)Fh(n,e,n.template,e[Ut]);else if(e[Qn]>0){Lh(e,1);const o=e[Ue].components;null!==o&&Bh(e,o,1)}}function Bh(e,t,n){for(let r=0;r<t.length;r++)CC(e,t[r],n)}class na{get rootNodes(){const t=this._lView,n=t[Ue];return ta(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(t){this._lView[Ut]=t}get destroyed(){return 256==(256&this._lView[lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[it];if(Yt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(yl(t,r),$a(n,r))}this._attachedToViewContainer=!1}df(this._lView[Ue],this._lView)}onDestroy(t){!function Ss(e,t){if(256==(256&e[lt]))throw new de(911,!1);null===e[er]&&(e[er]=[]),e[er].push(t)}(this._lView,t)}markForCheck(){Xs(this._cdRefInjectingView||this._lView)}detach(){this._lView[lt]&=-129}reattach(){this._lView[lt]|=128}detectChanges(){mc(this._lView[Ue],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yv(e,t){Hs(e,t,t[at],2,null,null)}(this._lView[Ue],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=t}}class DC extends na{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;mc(t[Ue],t,t[Ut],!1)}checkNoChanges(){}get context(){return null}}class jh extends uc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=wt(t);return new ra(n,this.ngModule)}}function $h(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class SC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=_n(r);const o=this.injector.get(t,Kl,r);return o!==Kl||n===Kl?o:this.parentInjector.get(t,n,r)}}class ra extends Qf{get inputs(){return $h(this.componentDef.inputs)}get outputs(){return $h(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function bn(e){return e.map(Do).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let a=(o=o||this.ngModule)instanceof Si?o:o?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const u=a?new SC(t,a):t,p=u.get(eh,null);if(null===p)throw new de(407,!1);const A={rendererFactory:p,sanitizer:u.get(M_,null),effectManager:u.get(Nh,null)},L=p.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",ge=r?function G_(e,t,n,r){const a=r.get(oh,!1)||n===Wn.ShadowDom,u=e.selectRootElement(t,a);return function z_(e){Sh(e)}(u),u}(L,r,this.componentDef.encapsulation,u):Ja(L,ee,function bC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ee)),Ge=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Xe=nu(0,null,null,1,0,null,null,null,null,null,null),Re=hc(null,Xe,null,Ge,null,null,A,L,u,null,null);let _t,xt;Ps(Re);try{const Bt=this.componentDef;let wr,$c=null;Bt.findHostDirectiveDefs?(wr=[],$c=new Map,Bt.findHostDirectiveDefs(Bt,wr,$c),wr.push(Bt)):wr=[Bt];const SE=function wC(e,t){const n=e[Ue],r=tt;return e[r]=t,rs(n,r,2,"#host",null)}(Re,ge),EE=function TC(e,t,n,r,o,a,u){const p=o[Ue];!function MC(e,t,n,r){for(const o of e)t.mergedAttrs=hr(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(gc(t,t.mergedAttrs,!0),null!==n&&Sf(r,n,t))}(r,e,t,u);let v=null;null!==t&&(v=qf(t,o[cr]));const E=a.rendererFactory.createRenderer(t,n);let A=16;n.signals?A=4096:n.onPush&&(A=64);const L=hc(o,bh(n),null,A,o[e.index],e,a,E,null,null,v);return p.firstCreatePass&&ou(p,e,r.length-1),pc(o,L),o[e.index]=L}(SE,ge,Bt,wr,Re,A,L);xt=gn(Xe,tt),ge&&function AC(e,t,n,r){if(r)fr(e,n,["ng-version",I_.full]);else{const{attrs:o,classes:a}=function ao(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===o?""!==a&&t.push(a,e[++r]):8===o&&n.push(a);else{if(!fn(o))break;o=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&fr(e,n,o),a&&a.length>0&&bf(e,n,a.join(" "))}}(L,Bt,ge,r),void 0!==n&&function RC(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const a=n[o];r.push(null!=a?Array.from(a):null)}}(xt,this.ngContentSelectors,n),_t=function IC(e,t,n,r,o,a){const u=Yn(),p=o[Ue],v=Pt(u,o);Th(p,o,u,n,null,r);for(let A=0;A<n.length;A++)Sr(Ci(o,p,u.directiveStart+A,u),o);Mh(p,o,u),v&&Sr(v,o);const E=Ci(o,p,u.directiveStart+u.componentOffset,u);if(e[Ut]=o[Ut]=E,null!==a)for(const A of a)A(E,t);return Xl(p,u,e),E}(EE,Bt,wr,$c,Re,[PC]),cu(Xe,Re,null)}finally{Na()}return new EC(this.componentType,_t,Xi(xt,Re),Re,xt)}}class EC extends C_{constructor(t,n,r,o,a){super(),this.location=r,this._rootLView=o,this._tNode=a,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new DC(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const a=this._rootLView;au(a[Ue],a,o,t,n),this.previousInputValues.set(t,n),Xs(mn(this._tNode.index,a))}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function PC(){const e=Yn();Qe(xe()[Ue],e)}function lu(e){let t=function Uh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(ur(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new de(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const u=e;u.inputs=yc(e.inputs),u.inputTransforms=yc(e.inputTransforms),u.declaredInputs=yc(e.declaredInputs),u.outputs=yc(e.outputs);const p=o.hostBindings;p&&NC(e,p);const v=o.viewQuery,E=o.contentQueries;if(v&&OC(e,v),E&&kC(e,E),ye(e.inputs,o.inputs),ye(e.declaredInputs,o.declaredInputs),ye(e.outputs,o.outputs),null!==o.inputTransforms&&(null===u.inputTransforms&&(u.inputTransforms={}),ye(u.inputTransforms,o.inputTransforms)),ur(o)&&o.data.animation){const A=e.data;A.animation=(A.animation||[]).concat(o.data.animation)}}const a=o.features;if(a)for(let u=0;u<a.length;u++){const p=a[u];p&&p.ngInherit&&p(e),p===lu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function xC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=hr(o.hostAttrs,n=hr(n,o.hostAttrs))}}(r)}function yc(e){return e===Fn?{}:e===Dt?[]:e}function OC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function kC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,a)=>{t(r,o,a),n(r,o,a)}:t}function NC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function Wh(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[2]&&(n[r]=o[2])}e.inputTransforms=n}function vc(e){return!!uu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function uu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Er(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function du(e,t,n,r){const o=xe();return Er(o,vi(),t)&&(Vt(),Uo(h(),o,e,t,n,r)),du}function is(e,t,n,r){return Er(e,vi(),n)?t+Q(n)+r:St}function ss(e,t,n,r,o,a){const p=function Ei(e,t,n,r){const o=Er(e,t,n);return Er(e,t+1,r)||o}(e,function yo(){return ft.lFrame.bindingIndex}(),n,o);return Bo(2),p?t+Q(n)+r+Q(o)+a:St}function ip(e,t,n,r,o,a,u,p){const v=xe(),E=Vt(),A=e+tt,L=E.firstCreatePass?function sD(e,t,n,r,o,a,u,p,v){const E=t.consts,A=rs(t,e,4,u||null,rr(E,p));ru(t,n,A,rr(E,v)),Qe(t,A);const L=A.tView=nu(2,A,r,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,E,null);return null!==t.queries&&(t.queries.template(t,A),L.queries=t.queries.embeddedTView(A)),A}(A,E,v,t,n,r,o,a,u):E.data[A];Io(L,!1);const ee=sp(E,v,L,e);le()&&Xa(E,v,ee,L),Sr(ee,v),pc(v,v[A]=Ah(ee,v,ee,L)),Ko(L)&&eu(E,v,L),null!=u&&tu(v,L,p)}let sp=function ap(e,t,n,r){return Me(!0),t[at].createComment("")};function yu(e,t,n){const r=xe();return Er(r,vi(),t)&&to(Vt(),h(),r,e,t,r[at],n,!1),yu}function vu(e,t,n,r,o){const u=o?"class":"style";au(e,n,t.inputs[u],u,r)}function Sc(e,t,n,r){const o=xe(),a=Vt(),u=tt+e,p=o[at],v=a.firstCreatePass?function dD(e,t,n,r,o,a){const u=t.consts,v=rs(t,e,2,r,rr(u,o));return ru(t,n,v,rr(u,a)),null!==v.attrs&&gc(v,v.attrs,!1),null!==v.mergedAttrs&&gc(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(u,a,o,t,n,r):a.data[u],E=cp(a,o,v,p,t,e);o[u]=E;const A=Ko(v);return Io(v,!0),Sf(p,E,v),32!=(32&v.flags)&&le()&&Xa(a,o,E,v),0===function xr(){return ft.lFrame.elementDepthCount}()&&Sr(E,o),function Wc(){ft.lFrame.elementDepthCount++}(),A&&(eu(a,o,v),Xl(a,v,o)),null!==r&&tu(o,v),Sc}function Ec(){let e=Yn();ji()?function $i(){ft.lFrame.isParent=!1}():(e=e.parent,Io(e,!1));const t=e;(function Ta(e){return ft.skipHydrationRootTNode===e})(t)&&function ws(){ft.skipHydrationRootTNode=null}(),function Vi(){ft.lFrame.elementDepthCount--}();const n=Vt();return n.firstCreatePass&&(Qe(n,e),dt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function vy(e){return 0!=(8&e.flags)}(t)&&vu(n,t,xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function _y(e){return 0!=(16&e.flags)}(t)&&vu(n,t,xe(),t.stylesWithoutHost,!1),Ec}function _u(e,t,n,r){return Sc(e,t,n,r),Ec(),_u}let cp=(e,t,n,r,o,a)=>(Me(!0),Ja(r,o,function O(){return ft.lFrame.currentNamespace}()));function dp(){return xe()}function bu(e){return!!e&&"function"==typeof e.then}function fp(e){return!!e&&"function"==typeof e.subscribe}function Su(e,t,n,r){const o=xe(),a=Vt(),u=Yn();return function pp(e,t,n,r,o,a,u){const p=Ko(r),E=e.firstCreatePass&&xh(e),A=t[Ut],L=Ph(t);let ee=!0;if(3&r.type||u){const ke=Pt(r,t),Ge=u?u(ke):ke,Xe=L.length,Re=u?xt=>u(st(xt[r.index])):r.index;let _t=null;if(!u&&p&&(_t=function yD(e,t,n,r){const o=e.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const u=o[a];if(u===n&&o[a+1]===r){const p=t[Zn],v=o[a+2];return p.length>v?p[v]:null}"string"==typeof u&&(a+=2)}return null}(e,t,o,r.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=a,_t.__ngLastListenerFn__=a,ee=!1;else{a=mp(r,t,A,a,!1);const xt=n.listen(Ge,o,a);L.push(a,xt),E&&E.push(o,Re,Xe,Xe+1)}}else a=mp(r,t,A,a,!1);const ge=r.outputs;let Ae;if(ee&&null!==ge&&(Ae=ge[o])){const ke=Ae.length;if(ke)for(let Ge=0;Ge<ke;Ge+=2){const Bt=t[Ae[Ge]][Ae[Ge+1]].subscribe(a),wr=L.length;L.push(a,Bt),E&&E.push(o,r.index,wr,-(wr+1))}}}(a,o,o[at],u,e,t,r),Su}function gp(e,t,n,r){try{return Te(6,t,n),!1!==n(r)}catch(o){return kh(e,o),!1}finally{Te(7,t,n)}}function mp(e,t,n,r,o){return function a(u){if(u===Function)return r;Xs(e.componentOffset>-1?mn(e.index,t):t);let v=gp(t,n,r,u),E=a.__ngNextListenerFn__;for(;E;)v=gp(t,n,E,u)&&v,E=E.__ngNextListenerFn__;return o&&!1===v&&u.preventDefault(),v}}function yp(e=1){return function bd(e){return(ft.lFrame.contextLView=function Sd(e,t){for(;e>0;)t=t[_r],e--;return t}(e,ft.lFrame.contextLView))[Ut]}(e)}function wc(e,t,n,r,o){const a=xe(),u=is(a,t,n,r);return u!==St&&to(Vt(),h(),a,e,u,a[at],o,!1),wc}function Tc(e,t){return e<<17|t<<2}function di(e){return e>>17&32767}function Eu(e){return 2|e}function wi(e){return(131068&e)>>2}function wu(e,t){return-131069&e|t<<2}function Tu(e){return 1|e}function Mp(e,t,n,r,o){const a=e[n+1],u=null===t;let p=r?di(a):wi(a),v=!1;for(;0!==p&&(!1===v||u);){const A=e[p+1];TD(e[p],t)&&(v=!0,e[p+1]=r?Tu(A):Eu(A)),p=r?di(A):wi(A)}v&&(e[n+1]=r?Eu(a):Tu(a))}function TD(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Zi(e,t)>=0}const Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ip(e){return e.substring(Kn.key,Kn.keyEnd)}function MD(e){return e.substring(Kn.value,Kn.valueEnd)}function Ap(e,t){const n=Kn.textEnd;return n===t?-1:(t=Kn.keyEnd=function RD(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Kn.key=t,n),hs(e,t,n))}function Rp(e,t){const n=Kn.textEnd;let r=Kn.key=hs(e,t,n);return n===r?-1:(r=Kn.keyEnd=function PD(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=xp(e,r,n),r=Kn.value=hs(e,r,n),r=Kn.valueEnd=function xD(e,t,n){let r=-1,o=-1,a=-1,u=t,p=u;for(;u<n;){const v=e.charCodeAt(u++);if(59===v)return p;34===v||39===v?p=u=Op(e,v,u,n):t===u-4&&85===a&&82===o&&76===r&&40===v?p=u=Op(e,41,u,n):v>32&&(p=u),a=o,o=r,r=-33&v}return p}(e,r,n),xp(e,r,n))}function Pp(e){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=e.length}function hs(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function xp(e,t,n,r){return(t=hs(e,t,n))<n&&t++,t}function Op(e,t,n,r){let o=-1,a=n;for(;a<r;){const u=e.charCodeAt(a++);if(u==t&&92!==o)return a;o=92==u&&92===o?0:u}throw new Error}function Mu(e,t){return function Ro(e,t,n,r){const o=xe(),a=Vt(),u=Bo(2);a.firstUpdatePass&&Lp(a,e,u,r),t!==St&&Er(o,u,t)&&Bp(a,a.data[br()],o,o[at],e,o[u+1]=function $D(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=$(li(e)))),e}(t,n),r,u)}(e,t,null,!0),Mu}function OD(e,t){for(let n=function AD(e){return Pp(e),Rp(e,hs(e,0,Kn.textEnd))}(t);n>=0;n=Rp(t,n))Vp(e,Ip(t),MD(t))}function Np(e){Po(BD,zo,e,!0)}function zo(e,t){for(let n=function ID(e){return Pp(e),Ap(e,hs(e,0,Kn.textEnd))}(t);n>=0;n=Ap(t,n))eo(e,Ip(t),!0)}function Po(e,t,n,r){const o=Vt(),a=Bo(2);o.firstUpdatePass&&Lp(o,null,a,r);const u=xe();if(n!==St&&Er(u,a,n)){const p=o.data[br()];if($p(p,r)&&!Fp(o,a)){let v=r?p.classesWithoutHost:p.stylesWithoutHost;null!==v&&(n=me(v,n||"")),vu(o,p,u,n,r)}else!function jD(e,t,n,r,o,a,u,p){o===St&&(o=Dt);let v=0,E=0,A=0<o.length?o[0]:null,L=0<a.length?a[0]:null;for(;null!==A||null!==L;){const ee=v<o.length?o[v+1]:void 0,ge=E<a.length?a[E+1]:void 0;let ke,Ae=null;A===L?(v+=2,E+=2,ee!==ge&&(Ae=L,ke=ge)):null===L||null!==A&&A<L?(v+=2,Ae=A):(E+=2,Ae=L,ke=ge),null!==Ae&&Bp(e,t,n,r,Ae,ke,u,p),A=v<o.length?o[v]:null,L=E<a.length?a[E]:null}}(o,p,u,u[at],u[a+1],u[a+1]=function VD(e,t,n){if(null==n||""===n)return Dt;const r=[],o=li(n);if(Array.isArray(o))for(let a=0;a<o.length;a++)e(r,o[a],!0);else if("object"==typeof o)for(const a in o)o.hasOwnProperty(a)&&e(r,a,o[a]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,a)}}function Fp(e,t){return t>=e.expandoStartIndex}function Lp(e,t,n,r){const o=e.data;if(null===o[n+1]){const a=o[br()],u=Fp(e,n);$p(a,r)&&null===t&&!u&&(t=!1),t=function kD(e,t,n,r){const o=function As(e){const t=ft.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=ca(n=Iu(null,e,t,n,r),t.attrs,r),a=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==o)if(n=Iu(o,e,t,n,r),null===a){let v=function ND(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==wi(r))return e[di(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Iu(null,e,t,v[1],r),v=ca(v,t.attrs,r),function FD(e,t,n,r){e[di(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else a=function LD(e,t,n){let r;const o=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<o;a++)r=ca(r,e[a].hostAttrs,n);return ca(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(o,a,t,r),function ED(e,t,n,r,o,a){let u=a?t.classBindings:t.styleBindings,p=di(u),v=wi(u);e[r]=n;let A,E=!1;if(Array.isArray(n)?(A=n[1],(null===A||Zi(n,A)>0)&&(E=!0)):A=n,o)if(0!==v){const ee=di(e[p+1]);e[r+1]=Tc(ee,p),0!==ee&&(e[ee+1]=wu(e[ee+1],r)),e[p+1]=function bD(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=Tc(p,0),0!==p&&(e[p+1]=wu(e[p+1],r)),p=r;else e[r+1]=Tc(v,0),0===p?p=r:e[v+1]=wu(e[v+1],r),v=r;E&&(e[r+1]=Eu(e[r+1])),Mp(e,A,r,!0),Mp(e,A,r,!1),function wD(e,t,n,r,o){const a=o?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Zi(a,t)>=0&&(n[r+1]=Tu(n[r+1]))}(t,A,e,r,a),u=Tc(p,v),a?t.classBindings=u:t.styleBindings=u}(o,a,t,n,u,r)}}function Iu(e,t,n,r,o){let a=null;const u=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<u&&(a=t[p],r=ca(r,a.hostAttrs,o),a!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function ca(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let a=0;a<t.length;a++){const u=t[a];"number"==typeof u?o=u:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),eo(e,u,!!n||t[++a]))}return void 0===e?null:e}function Vp(e,t,n){eo(e,t,li(n))}function BD(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&eo(e,r,n)}function Bp(e,t,n,r,o,a,u,p){if(!(3&t.type))return;const v=e.data,E=v[p+1],A=function SD(e){return 1==(1&e)}(E)?jp(v,t,n,o,wi(E),u):void 0;Mc(A)||(Mc(a)||function DD(e){return 2==(2&e)}(E)&&(a=jp(v,null,n,o,p,u)),function Mv(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let a=-1===r.indexOf("-")?void 0:$o.DashCase;null==o?e.removeStyle(n,r,a):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),a|=$o.Important),e.setStyle(n,r,o,a))}}(r,u,yt(br(),n),o,a))}function jp(e,t,n,r,o,a){const u=null===t;let p;for(;o>0;){const v=e[o],E=Array.isArray(v),A=E?v[1]:v,L=null===A;let ee=n[o+1];ee===St&&(ee=L?Dt:void 0);let ge=L?il(ee,r):A===r?ee:void 0;if(E&&!Mc(ge)&&(ge=il(v,r)),Mc(ge)&&(p=ge,u))return p;const Ae=e[o+1];o=u?di(Ae):wi(Ae)}if(null!==t){let v=a?t.residualClasses:t.residualStyles;null!=v&&(p=il(v,r))}return p}function Mc(e){return void 0!==e}function $p(e,t){return 0!=(e.flags&(t?8:16))}function Up(e,t=""){const n=xe(),r=Vt(),o=e+tt,a=r.firstCreatePass?rs(r,o,1,t,null):r.data[o],u=Hp(r,n,a,t,e);n[o]=u,le()&&Xa(r,n,u,a),Io(a,!1)}let Hp=(e,t,n,r,o)=>(Me(!0),function Ka(e,t){return e.createText(t)}(t[at],r));function Au(e){return Ic("",e,""),Au}function Ic(e,t,n){const r=xe(),o=is(r,e,t,n);return o!==St&&ei(r,br(),o),Ic}function Ru(e,t,n,r,o){const a=xe(),u=ss(a,e,t,n,r,o);return u!==St&&ei(a,br(),u),Ru}function Jp(e,t,n){!function Go(e){Po(Vp,OD,e,!1)}(is(xe(),e,t,n))}const Ti=void 0;var l0=["en",[["a","p"],["AM","PM"],Ti],[["AM","PM"],Ti,Ti],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ti,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ti,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ti,"{1} 'at' {0}",Ti],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function c0(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ps={};function Pu(e){const t=function u0(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ug(t);if(n)return n;const r=t.split("-")[0];if(n=ug(r),n)return n;if("en"===r)return l0;throw new de(701,!1)}function lg(e){return Pu(e)[ut.PluralCase]}function ug(e){return e in ps||(ps[e]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[e]),ps[e]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const gs="en-US";let dg=gs;function ku(e,t,n,r,o){if(e=ue(e),Array.isArray(e))for(let a=0;a<e.length;a++)ku(e[a],t,n,r,o);else{const a=Vt(),u=xe();let p=bi(e)?e:ue(e.provide),v=Gf(e);const E=Yn(),A=1048575&E.providerIndexes,L=E.directiveStart,ee=E.providerIndexes>>20;if(bi(e)||!e.multi){const ge=new ks(v,o,ns),Ae=Fu(p,t,o?A:A+ee,L);-1===Ae?(tl(Ba(E,u),a,p),Nu(a,e,t.length),t.push(p),E.directiveStart++,E.directiveEnd++,o&&(E.providerIndexes+=1048576),n.push(ge),u.push(ge)):(n[Ae]=ge,u[Ae]=ge)}else{const ge=Fu(p,t,A+ee,L),Ae=Fu(p,t,A,A+ee),Ge=Ae>=0&&n[Ae];if(o&&!Ge||!o&&!(ge>=0&&n[ge])){tl(Ba(E,u),a,p);const Xe=function ab(e,t,n,r,o){const a=new ks(e,n,ns);return a.multi=[],a.index=t,a.componentProviders=0,Fg(a,o,r&&!n),a}(o?sb:ib,n.length,o,r,v);!o&&Ge&&(n[Ae].providerFactory=Xe),Nu(a,e,t.length,0),t.push(p),E.directiveStart++,E.directiveEnd++,o&&(E.providerIndexes+=1048576),n.push(Xe),u.push(Xe)}else Nu(a,e,ge>-1?ge:Ae,Fg(n[o?Ae:ge],v,!o&&r));!o&&r&&Ge&&n[Ae].componentProviders++}}}function Nu(e,t,n,r){const o=bi(t),a=function r_(e){return!!e.useClass}(t);if(o||a){const v=(a?ue(t.useClass):t).prototype.ngOnDestroy;if(v){const E=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const A=E.indexOf(n);-1===A?E.push(n,[r,v]):E[A+1].push(r,v)}else E.push(n,v)}}}function Fg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Fu(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function ib(e,t,n,r){return Lu(this.multi,[])}function sb(e,t,n,r){const o=this.multi;let a;if(this.providerFactory){const u=this.providerFactory.componentProviders,p=Ci(n,n[Ue],this.providerFactory.index,r);a=p.slice(0,u),Lu(o,a);for(let v=u;v<p.length;v++)a.push(p[v])}else a=[],Lu(o,a);return a}function Lu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Lg(e,t=[]){return n=>{n.providersResolver=(r,o)=>function ob(e,t,n){const r=Vt();if(r.firstCreatePass){const o=ur(e);ku(n,r.data,r.blueprint,o,!0),ku(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class ms{}class Vg{}function cb(e,t){return new Vu(e,t??null,[])}class Vu extends ms{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jh(this);const o=Nt(t);this._bootstrapComponents=Xo(o.bootstrap),this._r3Injector=_h(t,n,[{provide:ms,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...r],$(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Bu extends Vg{constructor(t){super(),this.moduleType=t}create(t){return new Vu(this.moduleType,t,[])}}class Bg extends ms{constructor(t){super(),this.componentFactoryResolver=new jh(this),this.instance=null;const n=new Fl([...t.providers,{provide:ms,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],t.parent||ic(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function jg(e,t,n=null){return new Bg({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let ub=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=jf(0,n.type),o=r.length>0?jg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ot({token:e,providedIn:"environment",factory:()=>new e(ct(Si))}),e})();function $g(e){e.getStandaloneInjector=t=>t.get(ub).getOrCreateStandaloneInjector(e)}function $u(e){return t=>{setTimeout(e,void 0,t)}}const Wo=class Fb extends l.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,a=n||(()=>null),u=r;if(t&&"object"==typeof t){const v=t;o=v.next?.bind(v),a=v.error?.bind(v),u=v.complete?.bind(v)}this.__isAsync&&(a=$u(a),o&&(o=$u(o)),u&&(u=$u(u)));const p=super.subscribe({next:o,error:a,complete:u});return t instanceof N.w0&&t.add(p),p}};function Lb(){return this._results[Symbol.iterator]()}class Uu{get changes(){return this._changes||(this._changes=new Wo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Uu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Lb)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function vo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ry(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r];if(n&&(o=n(o),a=n(a)),a!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ma=(()=>{class e{}return e.__NG_ELEMENT_ID__=jb,e})();const Vb=ma,Bb=class extends Vb{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const u=this._declarationTContainer.tView,p=hc(this._declarationLView,u,t,4096&this._declarationLView[lt]?4096:16,null,u.declTNode,null,null,null,n||null,r||null);p[ho]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[Ln];return null!==E&&(p[Ln]=E.createEmbeddedView(u)),cu(u,p,t),new na(p)}};function jb(){return Oc(Yn(),xe())}function Oc(e,t){return 4&e.type?new Bb(t,e,Xi(e,t)):null}let kc=(()=>{class e{}return e.__NG_ELEMENT_ID__=Zb,e})();function Zb(){return om(Yn(),xe())}const Yb=kc,nm=class extends Yb{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Xi(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const t=el(this._hostTNode,this._hostLView);if(Ed(t)){const n=La(t,this._hostLView),r=Fa(t);return new Ui(n[Ue].data[r+8],n)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=rm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(t,n,r){let o,a;"number"==typeof r?o=r:null!=r&&(o=r.index,a=r.injector);const p=t.createEmbeddedViewImpl(n||{},a,null);return this.insertImpl(p,o,false),p}createComponent(t,n,r,o,a){const u=t&&!function Fs(e){return"function"==typeof e}(t);let p;if(u)p=n;else{const ke=n||{};p=ke.index,r=ke.injector,o=ke.projectableNodes,a=ke.environmentInjector||ke.ngModuleRef}const v=u?t:new ra(wt(t)),E=r||this.parentInjector;if(!a&&null==v.ngModule){const Ge=(u?E:this.parentInjector).get(Si,null);Ge&&(a=Ge)}wt(v.componentType??{});const ge=v.create(E,o,null,a);return this.insertImpl(ge.hostView,p,false),ge}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView,a=o[Ue];if(function Mo(e){return Yt(e[it])}(o)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const E=o[it],A=new nm(E,E[ln],E[it]);A.detach(A.indexOf(t))}}const u=this._adjustIndex(n),p=this._lContainer;if(function _v(e,t,n,r){const o=hn+r,a=n.length;r>0&&(n[o-1][It]=t),r<a-hn?(t[It]=n[o],Ld(n,hn+r,t)):(n.push(t),t[It]=null),t[it]=n;const u=t[ho];null!==u&&n!==u&&function Cv(e,t){const n=e[Kr];t[on]!==t[it][it][on]&&(e[qo]=!0),null===n?e[Kr]=[t]:n.push(t)}(u,t);const p=t[Ln];null!==p&&p.insertView(e),t[lt]|=128}(a,o,p,u),!r){const v=Dl(u,p),E=o[at],A=Qa(E,p[In]);null!==A&&function mv(e,t,n,r,o,a){r[De]=o,r[ln]=t,Hs(e,r,n,1,o,a)}(a,p[ln],E,o,A,v)}return t.attachToViewContainerRef(),Ld(Gu(p),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=rm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);r&&($a(Gu(this._lContainer),n),df(r[Ue],r))}detach(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);return r&&null!=$a(Gu(this._lContainer),n)?new na(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function rm(e){return e[8]}function Gu(e){return e[8]||(e[8]=[])}function om(e,t){let n;const r=t[e.index];return Yt(r)?n=r:(n=Ah(r,t,null,e),t[e.index]=n,pc(t,n)),im(n,t,e,r),new nm(n,e,t)}let im=function sm(e,t,n,r){if(e[In])return;let o;o=8&n.type?st(r):function qb(e,t){const n=e[at],r=n.createComment(""),o=Pt(t,e);return Di(n,Qa(n,o),r,function Ev(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[In]=o};class zu{constructor(t){this.queryList=t,this.matches=null}clone(){return new zu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let a=0;a<r;a++){const u=n.getByIndex(a);o.push(this.queries[u.indexInDeclarationView].clone())}return new Wu(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==pm(t,n).matches&&this.queries[n].setDirty()}}class am{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Zu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,o);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new Zu(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Yu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Yu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const a=r[o];this.matchTNodeWithReadOption(t,n,Qb(n,a)),this.matchTNodeWithReadOption(t,n,ja(n,t,a,!1,!1))}else r===ma?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ja(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Qs||o===kc||o===ma&&4&n.type)this.addMatch(n.index,-2);else{const a=ja(n,t,o,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Qb(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function eS(e,t,n,r){return-1===n?function Xb(e,t){return 11&e.type?Xi(e,t):4&e.type?Oc(e,t):null}(t,e):-2===n?function tS(e,t,n){return n===Qs?Xi(t,e):n===ma?Oc(t,e):n===kc?om(t,e):void 0}(e,t,r):Ci(e,e[Ue],n,t)}function cm(e,t,n,r){const o=t[Ln].queries[r];if(null===o.matches){const a=e.data,u=n.matches,p=[];for(let v=0;v<u.length;v+=2){const E=u[v];p.push(E<0?null:eS(t,a[E],u[v+1],n.metadata.read))}o.matches=p}return o.matches}function qu(e,t,n,r){const o=e.queries.getByIndex(n),a=o.matches;if(null!==a){const u=cm(e,t,o,n);for(let p=0;p<a.length;p+=2){const v=a[p];if(v>0)r.push(u[p/2]);else{const E=a[p+1],A=t[-v];for(let L=hn;L<A.length;L++){const ee=A[L];ee[ho]===ee[it]&&qu(ee[Ue],ee,E,r)}if(null!==A[Kr]){const L=A[Kr];for(let ee=0;ee<L.length;ee++){const ge=L[ee];qu(ge[Ue],ge,E,r)}}}}}return r}function lm(e){const t=xe(),n=Vt(),r=Pa();Rs(r+1);const o=pm(n,r);if(e.dirty&&function Vo(e){return 4==(4&e[lt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const a=o.crossesNgTemplate?qu(n,t,r,[]):cm(n,t,o,r);e.reset(a,E_),e.notifyOnChanges()}return!0}return!1}function um(e,t,n,r){const o=Vt();if(o.firstCreatePass){const a=Yn();(function hm(e,t,n){null===e.queries&&(e.queries=new Zu),e.queries.track(new Yu(t,n))})(o,new am(t,n,r),a.index),function oS(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}!function fm(e,t,n){const r=new Uu(4==(4&n));(function Y_(e,t,n,r){const o=Ph(t);o.push(n),e.firstCreatePass&&xh(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[Ln]&&(t[Ln]=new Wu),t[Ln].queries.push(new zu(r))}(o,xe(),n)}function dm(){return function rS(e,t){return e[Ln].queries[t].queryList}(xe(),Pa())}function pm(e,t){return e.queries.getByIndex(t)}function Ku(e){return!!Nt(e)}const Pm=new nn("Application Initializer");let td=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=gt(Pm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const a=o();if(bu(a))n.push(a);else if(fp(a)){const u=new Promise((p,v)=>{a.subscribe({complete:p,error:v})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xm=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Fc=new nn("LocaleId",{providedIn:"root",factory:()=>gt(Fc,He.Optional|He.SkipSelf)||function TS(){return typeof $localize<"u"&&$localize.locale||gs}()}),MS=new nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Om=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new te.X(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class IS{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let AS=(()=>{class e{compileModuleSync(n){return new Bu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=Xo(Nt(n).declarations).reduce((u,p)=>{const v=wt(p);return v&&u.push(new ra(v)),u},[]);return new IS(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Fm(...e){}class kr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1),typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function xS(){let e=Xt.requestAnimationFrame,t=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function NS(e){const t=()=>{!function kS(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,rd(e),e.isCheckStableRunning=!0,nd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),rd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,a,u,p)=>{try{return Lm(e),n.invokeTask(o,a,u,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Vm(e)}},onInvoke:(n,r,o,a,u,p,v)=>{try{return Lm(e),n.invoke(o,a,u,p,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),Vm(e)}},onHasTask:(n,r,o,a)=>{n.hasTask(o,a),r===o&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,rd(e),nd(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,o,a)=>(n.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kr.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(kr.isInAngularZone())throw new de(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const a=this._inner,u=a.scheduleEventTask("NgZoneEvent: "+o,t,OS,Fm,Fm);try{return a.runTask(u,n,r)}finally{a.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const OS={};function nd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Lm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vm(e){e._nesting--,nd(e)}class FS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Bm=new nn("",{providedIn:"root",factory:jm});function jm(){const e=gt(kr);let t=!0;return function X(...e){const t=(0,V.yG)(e),n=(0,V._6)(e,1/0),r=e;return r.length?1===r.length?(0,oe.Xf)(r[0]):(0,W.J)(n)((0,B.D)(r,t)):I.E}(new K.y(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new K.y(o=>{let a;e.runOutsideAngular(()=>{a=e.onStable.subscribe(()=>{kr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const u=e.onUnstable.subscribe(()=>{kr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{a.unsubscribe(),u.unsubscribe()}}).pipe(ve()))}const $m=new nn(""),Um=new nn("");let od,LS=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,od||(function VS(e){od=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(ct(kr),ct(Hm),ct(Um))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})(),Hm=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return od?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),fi=null;const Gm=new nn("AllowMultipleToken"),id=new nn("PlatformDestroyListeners"),sd=new nn("appBootstrapListener");class $S{constructor(t,n){this.name=t,this.token=n}}function Zm(e,t,n=[]){const r=`Platform: ${t}`,o=new nn(r);return(a=[])=>{let u=ad();if(!u||u.injector.get(Gm,!1)){const p=[...n,...a,{provide:o,useValue:!0}];e?e(p):function US(e){if(fi&&!fi.get(Gm,!1))throw new de(400,!1);(function zm(){!function Ds(e){ki=e}(()=>{throw new de(600,!1)})})(),fi=e;const t=e.get(qm);(function Wm(e){e.get(Wf,null)?.forEach(n=>n())})(e)}(function Ym(e=[],t){return ui.create({name:t,providers:[{provide:kl,useValue:"platform"},{provide:id,useValue:new Set([()=>fi=null])},...e]})}(p,r))}return function GS(e){const t=ad();if(!t)throw new de(401,!1);return t}()}}function ad(){return fi?.get(qm)??null}let qm=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function zS(e="zone.js",t){return"noop"===e?new FS:"zone.js"===e?new kr(t):e}(r?.ngZone,function Km(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const a=function lb(e,t,n){return new Vu(e,t,n)}(n.moduleType,this.injector,function ty(e){return[{provide:kr,useFactory:e},{provide:Ys,multi:!0,useFactory:()=>{const t=gt(ZS,{optional:!0});return()=>t.initialize()}},{provide:ey,useFactory:WS},{provide:Bm,useFactory:jm}]}(()=>o)),u=a.injector.get(es,null);return o.runOutsideAngular(()=>{const p=o.onError.subscribe({next:v=>{u.handleError(v)}});a.onDestroy(()=>{Lc(this._modules,a),p.unsubscribe()})}),function Jm(e,t,n){try{const r=n();return bu(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,o,()=>{const p=a.injector.get(td);return p.runInitializers(),p.donePromise.then(()=>(function fg(e){un(e,"Expected localeId to be defined"),"string"==typeof e&&(dg=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Fc,gs)||gs),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const o=Qm({},r);return function BS(e,t,n){const r=new Bu(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(n){const r=n.injector.get(_s);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new de(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(id,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ct(ui))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Qm(e,t){return Array.isArray(t)?t.reduce(Qm,e):{...e,...t}}let _s=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gt(ey),this.zoneIsStable=gt(Bm),this.componentTypes=[],this.components=[],this.isStable=gt(Om).hasPendingTasks.pipe((0,ze.w)(n=>n?(0,ie.of)(!1):this.zoneIsStable),function Ce(e,t=F.y){return e=e??_e,(0,Ne.e)((n,r)=>{let o,a=!0;n.subscribe((0,z.x)(r,u=>{const p=t(u);(a||!e(o,p))&&(a=!1,o=p,r.next(u))}))})}(),ve()),this._injector=gt(Si)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Qf;if(!this._injector.get(td).done)throw!o&&gr(n),new de(405,!1);let u;u=o?n:this._injector.get(uc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const p=function jS(e){return e.isBoundToModule}(u)?void 0:this._injector.get(ms),E=u.create(ui.NULL,[],r||u.selector,p),A=E.location.nativeElement,L=E.injector.get($m,null);return L?.registerApplication(A),E.onDestroy(()=>{this.detachView(E.hostView),Lc(this.components,E),L?.unregisterApplication(A)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new de(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Lc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(sd,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new de(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ey=new nn("",{providedIn:"root",factory:()=>gt(es).handleError.bind(void 0)});function WS(){const e=gt(kr),t=gt(es);return n=>e.runOutsideAngular(()=>t.handleError(n))}let ZS=(()=>{class e{constructor(){this.zone=gt(kr),this.applicationRef=gt(_s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let qS=(()=>{class e{}return e.__NG_ELEMENT_ID__=KS,e})();function KS(e){return function JS(e,t,n){if(Un(e)&&!n){const r=mn(e.index,t);return new na(r,r)}return 47&e.type?new na(t[on],t):null}(Yn(),xe(),16==(16&e))}class iy{constructor(){}supports(t){return vc(t)}create(t){return new rE(t)}}const nE=(e,t)=>t;class rE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nE}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,a=null;for(;n||r;){const u=!r||n&&n.currentIndex<ay(r,o,a)?n:r,p=ay(u,o,a),v=u.currentIndex;if(u===r)o--,r=r._nextRemoved;else if(n=n._next,null==u.previousIndex)o++;else{a||(a=[]);const E=p-o,A=v-o;if(E!=A){for(let ee=0;ee<E;ee++){const ge=ee<a.length?a[ee]:a[ee]=0,Ae=ge+ee;A<=Ae&&Ae<E&&(a[ee]=ge+1)}a[u.previousIndex]=A-E}}p!==v&&t(u,p,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!vc(t))throw new de(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,a,u,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)a=t[p],u=this._trackByFn(p,a),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,a,u,p)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,u,p),r=!0),n=n._next}else o=0,function UC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,p=>{u=this._trackByFn(o,p),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,p,u,o)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,u,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,o)):t=this._addAfter(new oE(n,r),a,o),t}_verifyReinsertion(t,n,r,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,a=t._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new sy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oE{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new iE,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ay(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class cy{constructor(){}supports(t){return t instanceof Map||uu(t)}create(){return new sE}}class sE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||uu(t)))throw new de(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const a=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const a=o._prev,u=o._next;return a&&(a._next=u),u&&(u._prev=a),o._next=null,o._prev=null,o}const r=new aE(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class aE{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ly(){return new fd([new iy])}let fd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ly()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new de(901,!1)}}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:ly}),e})();function uy(){return new hd([new cy])}let hd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||uy()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new de(901,!1)}}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:uy}),e})();const uE=Zm(null,"core",[]);let dE=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ct(_s))},e.\u0275mod=lo({type:e}),e.\u0275inj=Ye({}),e})();function CE(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function bE(e){const t=wt(e);if(!t)return null;const n=new ra(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},95:(et,q,T)=>{"use strict";T.d(q,{Wl:()=>F,Fj:()=>re,NI:()=>Pn,u:()=>Ut,cw:()=>ct,sg:()=>Ue,u5:()=>Gt,JJ:()=>Ye,JL:()=>rt,YN:()=>vr,eT:()=>jr,UX:()=>$r,Q7:()=>In,EJ:()=>$n,kI:()=>ue,_Y:()=>uo,Kr:()=>Rr});var l=T(4946),N=T(6814),te=T(7715),K=T(5592),W=T(7453),oe=T(4829),I=T(4564),V=T(8251),B=T(7400),X=T(2714),be=T(7398);let Ne=(()=>{class S{constructor(s,i){this._renderer=s,this._elementRef=i,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(s,i){this._renderer.setProperty(this._elementRef.nativeElement,s,i)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.Qsj),l.Y36(l.SBq))},S.\u0275dir=l.lG2({type:S}),S})(),ve=(()=>{class S extends Ne{}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,features:[l.qOj]}),S})();const Fe=new l.OlP("NgValueAccessor"),ze={provide:Fe,useExisting:(0,l.Gpc)(()=>F),multi:!0};let F=(()=>{class S extends ve{writeValue(s){this.setProperty("checked",s)}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.checked)})("blur",function(){return i.onTouched()})},features:[l._Bn([ze]),l.qOj]}),S})();const z={provide:Fe,useExisting:(0,l.Gpc)(()=>re),multi:!0},_e=new l.OlP("CompositionEventMode");let re=(()=>{class S extends Ne{constructor(s,i,c){super(s,i),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ce(){const S=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(S.toLowerCase())}())}writeValue(s){this.setProperty("value",s??"")}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(_e,8))},S.\u0275dir=l.lG2({type:S,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,i){1&s&&l.NdJ("input",function(f){return i._handleInput(f.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(f){return i._compositionEnd(f.target.value)})},features:[l._Bn([z]),l.qOj]}),S})();function ye(S){return null==S||("string"==typeof S||Array.isArray(S))&&0===S.length}function $(S){return null!=S&&"number"==typeof S.length}const me=new l.OlP("NgValidators"),fe=new l.OlP("NgAsyncValidators"),J=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ue{static min(D){return function he(S){return D=>{if(ye(D.value)||ye(S))return null;const s=parseFloat(D.value);return!isNaN(s)&&s<S?{min:{min:S,actual:D.value}}:null}}(D)}static max(D){return function Be(S){return D=>{if(ye(D.value)||ye(S))return null;const s=parseFloat(D.value);return!isNaN(s)&&s>S?{max:{max:S,actual:D.value}}:null}}(D)}static required(D){return Z(D)}static requiredTrue(D){return function Ie(S){return!0===S.value?null:{required:!0}}(D)}static email(D){return function de(S){return ye(S.value)||J.test(S.value)?null:{email:!0}}(D)}static minLength(D){return function Y(S){return D=>ye(D.value)||!$(D.value)?null:D.value.length<S?{minlength:{requiredLength:S,actualLength:D.value.length}}:null}(D)}static maxLength(D){return function Q(S){return D=>$(D.value)&&D.value.length>S?{maxlength:{requiredLength:S,actualLength:D.value.length}}:null}(D)}static pattern(D){return function se(S){if(!S)return Pe;let D,s;return"string"==typeof S?(s="","^"!==S.charAt(0)&&(s+="^"),s+=S,"$"!==S.charAt(S.length-1)&&(s+="$"),D=new RegExp(s)):(s=S.toString(),D=S),i=>{if(ye(i.value))return null;const c=i.value;return D.test(c)?null:{pattern:{requiredPattern:s,actualValue:c}}}}(D)}static nullValidator(D){return null}static compose(D){return ht(D)}static composeAsync(D){return pt(D)}}function Z(S){return ye(S.value)?{required:!0}:null}function Pe(S){return null}function Ve(S){return null!=S}function Oe(S){return(0,l.QGY)(S)?(0,te.D)(S):S}function je(S){let D={};return S.forEach(s=>{D=null!=s?{...D,...s}:D}),0===Object.keys(D).length?null:D}function qe(S,D){return D.map(s=>s(S))}function nt(S){return S.map(D=>function Kt(S){return!S.validate}(D)?D:s=>D.validate(s))}function ht(S){if(!S)return null;const D=S.filter(Ve);return 0==D.length?null:function(s){return je(qe(s,D))}}function Ct(S){return null!=S?ht(nt(S)):null}function pt(S){if(!S)return null;const D=S.filter(Ve);return 0==D.length?null:function(s){return function ie(...S){const D=(0,I.jO)(S),{args:s,keys:i}=(0,W.D)(S),c=new K.y(f=>{const{length:m}=s;if(!m)return void f.complete();const b=new Array(m);let x=m,R=m;for(let U=0;U<m;U++){let j=!1;(0,oe.Xf)(s[U]).subscribe((0,V.x)(f,ne=>{j||(j=!0,R--),b[U]=ne},()=>x--,void 0,()=>{(!x||!j)&&(R||f.next(i?(0,X.n)(i,b):b),f.complete())}))}});return D?c.pipe((0,B.Z)(D)):c}(qe(s,D).map(Oe)).pipe((0,be.U)(je))}}function Lt(S){return null!=S?pt(nt(S)):null}function yn(S,D){return null===S?[D]:Array.isArray(S)?[...S,D]:[S,D]}function vn(S){return S._rawValidators}function en(S){return S._rawAsyncValidators}function wn(S){return S?Array.isArray(S)?S:[S]:[]}function Zt(S,D){return Array.isArray(S)?S.includes(D):S===D}function ir(S,D){const s=wn(D);return wn(S).forEach(c=>{Zt(s,c)||s.push(c)}),s}function un(S,D){return wn(D).filter(s=>!Zt(S,s))}class Le{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(D){this._rawValidators=D||[],this._composedValidatorFn=Ct(this._rawValidators)}_setAsyncValidators(D){this._rawAsyncValidators=D||[],this._composedAsyncValidatorFn=Lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(D){this._onDestroyCallbacks.push(D)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(D=>D()),this._onDestroyCallbacks=[]}reset(D=void 0){this.control&&this.control.reset(D)}hasError(D,s){return!!this.control&&this.control.hasError(D,s)}getError(D,s){return this.control?this.control.getError(D,s):null}}class Jt extends Le{get formDirective(){return null}get path(){return null}}class On extends Le{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class An{constructor(D){this._cd=D}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ye=(()=>{class S extends An{constructor(s){super(s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(On,2))},S.\u0275dir=l.lG2({type:S,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,i){2&s&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),S})(),rt=(()=>{class S extends An{constructor(s){super(s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(Jt,10))},S.\u0275dir=l.lG2({type:S,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,i){2&s&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),S})();const Vn="VALID",Tn="INVALID",Jn="PENDING",jt="DISABLED";function Bn(S){return(ce(S)?S.validators:S)||null}function ae(S,D){return(ce(D)?D.asyncValidators:S)||null}function ce(S){return null!=S&&!Array.isArray(S)&&"object"==typeof S}class Ke{constructor(D,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(D),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(D){this._rawValidators=this._composedValidatorFn=D}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(D){this._rawAsyncValidators=this._composedAsyncValidatorFn=D}get parent(){return this._parent}get valid(){return this.status===Vn}get invalid(){return this.status===Tn}get pending(){return this.status==Jn}get disabled(){return this.status===jt}get enabled(){return this.status!==jt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(D){this._assignValidators(D)}setAsyncValidators(D){this._assignAsyncValidators(D)}addValidators(D){this.setValidators(ir(D,this._rawValidators))}addAsyncValidators(D){this.setAsyncValidators(ir(D,this._rawAsyncValidators))}removeValidators(D){this.setValidators(un(D,this._rawValidators))}removeAsyncValidators(D){this.setAsyncValidators(un(D,this._rawAsyncValidators))}hasValidator(D){return Zt(this._rawValidators,D)}hasAsyncValidator(D){return Zt(this._rawAsyncValidators,D)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(D={}){this.touched=!0,this._parent&&!D.onlySelf&&this._parent.markAsTouched(D)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(D=>D.markAllAsTouched())}markAsUntouched(D={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}markAsDirty(D={}){this.pristine=!1,this._parent&&!D.onlySelf&&this._parent.markAsDirty(D)}markAsPristine(D={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}markAsPending(D={}){this.status=Jn,!1!==D.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!D.onlySelf&&this._parent.markAsPending(D)}disable(D={}){const s=this._parentMarkedDirty(D.onlySelf);this.status=jt,this.errors=null,this._forEachChild(i=>{i.disable({...D,onlySelf:!0})}),this._updateValue(),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...D,skipPristineCheck:s}),this._onDisabledChange.forEach(i=>i(!0))}enable(D={}){const s=this._parentMarkedDirty(D.onlySelf);this.status=Vn,this._forEachChild(i=>{i.enable({...D,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent}),this._updateAncestors({...D,skipPristineCheck:s}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(D){this._parent&&!D.onlySelf&&(this._parent.updateValueAndValidity(D),D.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(D){this._parent=D}getRawValue(){return this.value}updateValueAndValidity(D={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vn||this.status===Jn)&&this._runAsyncValidator(D.emitEvent)),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!D.onlySelf&&this._parent.updateValueAndValidity(D)}_updateTreeValidity(D={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(D)),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jt:Vn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(D){if(this.asyncValidator){this.status=Jn,this._hasOwnPendingAsyncValidator=!0;const s=Oe(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:D})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(D,s={}){this.errors=D,this._updateControlsErrors(!1!==s.emitEvent)}get(D){let s=D;return null==s||(Array.isArray(s)||(s=s.split(".")),0===s.length)?null:s.reduce((i,c)=>i&&i._find(c),this)}getError(D,s){const i=s?this.get(s):this;return i&&i.errors?i.errors[D]:null}hasError(D,s){return!!this.getError(D,s)}get root(){let D=this;for(;D._parent;)D=D._parent;return D}_updateControlsErrors(D){this.status=this._calculateStatus(),D&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(D)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?jt:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jn)?Jn:this._anyControlsHaveStatus(Tn)?Tn:Vn}_anyControlsHaveStatus(D){return this._anyControls(s=>s.status===D)}_anyControlsDirty(){return this._anyControls(D=>D.dirty)}_anyControlsTouched(){return this._anyControls(D=>D.touched)}_updatePristine(D={}){this.pristine=!this._anyControlsDirty(),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}_updateTouched(D={}){this.touched=this._anyControlsTouched(),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}_registerOnCollectionChange(D){this._onCollectionChange=D}_setUpdateStrategy(D){ce(D)&&null!=D.updateOn&&(this._updateOn=D.updateOn)}_parentMarkedDirty(D){return!D&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(D){return null}_assignValidators(D){this._rawValidators=Array.isArray(D)?D.slice():D,this._composedValidatorFn=function we(S){return Array.isArray(S)?Ct(S):S||null}(this._rawValidators)}_assignAsyncValidators(D){this._rawAsyncValidators=Array.isArray(D)?D.slice():D,this._composedAsyncValidatorFn=function H(S){return Array.isArray(S)?Lt(S):S||null}(this._rawAsyncValidators)}}class ct extends Ke{constructor(D,s,i){super(Bn(s),ae(i,s)),this.controls=D,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(D,s){return this.controls[D]?this.controls[D]:(this.controls[D]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(D,s,i={}){this.registerControl(D,s),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(D,s={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(D,s,i={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],s&&this.registerControl(D,s),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(D){return this.controls.hasOwnProperty(D)&&this.controls[D].enabled}setValue(D,s={}){(function $e(S,D,s){S._forEachChild((i,c)=>{if(void 0===s[c])throw new l.vHH(1002,"")})})(this,0,D),Object.keys(D).forEach(i=>{(function pe(S,D,s){const i=S.controls;if(!(D?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[s])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(D[i],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(D,s={}){null!=D&&(Object.keys(D).forEach(i=>{const c=this.controls[i];c&&c.patchValue(D[i],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(D={},s={}){this._forEachChild((i,c)=>{i.reset(D[c],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(D,s,i)=>(D[i]=s.getRawValue(),D))}_syncPendingControls(){let D=this._reduceChildren(!1,(s,i)=>!!i._syncPendingControls()||s);return D&&this.updateValueAndValidity({onlySelf:!0}),D}_forEachChild(D){Object.keys(this.controls).forEach(s=>{const i=this.controls[s];i&&D(i,s)})}_setUpControls(){this._forEachChild(D=>{D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(D){for(const[s,i]of Object.entries(this.controls))if(this.contains(s)&&D(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(s,i,c)=>((i.enabled||this.disabled)&&(s[c]=i.value),s))}_reduceChildren(D,s){let i=D;return this._forEachChild((c,f)=>{i=s(i,c,f)}),i}_allControlsDisabled(){for(const D of Object.keys(this.controls))if(this.controls[D].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(D){return this.controls.hasOwnProperty(D)?this.controls[D]:null}}const $t=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>vt}),vt="always";function dn(S,D,s=vt){Fn(S,D),D.valueAccessor.writeValue(S.value),(S.disabled||"always"===s)&&D.valueAccessor.setDisabledState?.(S.disabled),function jn(S,D){D.valueAccessor.registerOnChange(s=>{S._pendingValue=s,S._pendingChange=!0,S._pendingDirty=!0,"change"===S.updateOn&&Mr(S,D)})}(S,D),function ro(S,D){const s=(i,c)=>{D.valueAccessor.writeValue(i),c&&D.viewToModelUpdate(i)};S.registerOnChange(s),D._registerOnDestroy(()=>{S._unregisterOnChange(s)})}(S,D),function zr(S,D){D.valueAccessor.registerOnTouched(()=>{S._pendingTouched=!0,"blur"===S.updateOn&&S._pendingChange&&Mr(S,D),"submit"!==S.updateOn&&S.markAsTouched()})}(S,D),function Wn(S,D){if(D.valueAccessor.setDisabledState){const s=i=>{D.valueAccessor.setDisabledState(i)};S.registerOnDisabledChange(s),D._registerOnDestroy(()=>{S._unregisterOnDisabledChange(s)})}}(S,D)}function mt(S,D,s=!0){const i=()=>{};D.valueAccessor&&(D.valueAccessor.registerOnChange(i),D.valueAccessor.registerOnTouched(i)),Dt(S,D),S&&(D._invokeOnDestroyCallbacks(),S._registerOnCollectionChange(()=>{}))}function Mn(S,D){S.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(D)})}function Fn(S,D){const s=vn(S);null!==D.validator?S.setValidators(yn(s,D.validator)):"function"==typeof s&&S.setValidators([s]);const i=en(S);null!==D.asyncValidator?S.setAsyncValidators(yn(i,D.asyncValidator)):"function"==typeof i&&S.setAsyncValidators([i]);const c=()=>S.updateValueAndValidity();Mn(D._rawValidators,c),Mn(D._rawAsyncValidators,c)}function Dt(S,D){let s=!1;if(null!==S){if(null!==D.validator){const c=vn(S);if(Array.isArray(c)&&c.length>0){const f=c.filter(m=>m!==D.validator);f.length!==c.length&&(s=!0,S.setValidators(f))}}if(null!==D.asyncValidator){const c=en(S);if(Array.isArray(c)&&c.length>0){const f=c.filter(m=>m!==D.asyncValidator);f.length!==c.length&&(s=!0,S.setAsyncValidators(f))}}}const i=()=>{};return Mn(D._rawValidators,i),Mn(D._rawAsyncValidators,i),s}function Mr(S,D){S._pendingDirty&&S.markAsDirty(),S.setValue(S._pendingValue,{emitModelToViewChange:!1}),D.viewToModelUpdate(S._pendingValue),S._pendingChange=!1}function so(S,D){const s=S.indexOf(D);s>-1&&S.splice(s,1)}function Lr(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}const Pn=class extends Ke{constructor(D=null,s,i){super(Bn(s),ae(i,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(D),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ce(s)&&(s.nonNullable||s.initialValueIsDefault)&&(this.defaultValue=Lr(D)?D.value:D)}setValue(D,s={}){this.value=this._pendingValue=D,this._onChange.length&&!1!==s.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==s.emitViewToModelChange)),this.updateValueAndValidity(s)}patchValue(D,s={}){this.setValue(D,s)}reset(D=this.defaultValue,s={}){this._applyFormState(D),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(D){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(D){this._onChange.push(D)}_unregisterOnChange(D){so(this._onChange,D)}registerOnDisabledChange(D){this._onDisabledChange.push(D)}_unregisterOnDisabledChange(D){so(this._onDisabledChange,D)}_forEachChild(D){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(D){Lr(D)?(this.value=this._pendingValue=D.value,D.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=D}};let uo=(()=>{class S{}return S.\u0275fac=function(s){return new(s||S)},S.\u0275dir=l.lG2({type:S,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),S})(),cn=(()=>{class S{}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({}),S})();const bo={provide:Fe,useExisting:(0,l.Gpc)(()=>jr),multi:!0};let jr=(()=>{class S extends ve{writeValue(s){this.setProperty("value",parseFloat(s))}registerOnChange(s){this.onChange=i=>{s(""==i?null:parseFloat(i))}}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.value)})("input",function(f){return i.onChange(f.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([bo]),l.qOj]}),S})();const mr=new l.OlP("NgModelWithFormControlWarning"),De={provide:Jt,useExisting:(0,l.Gpc)(()=>Ue)};let Ue=(()=>{class S extends Jt{constructor(s,i,c){super(),this.callSetDisabledState=c,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(s),this._setAsyncValidators(i)}ngOnChanges(s){this._checkFormPresent(),s.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(s){const i=this.form.get(s.path);return dn(i,s,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(s),i}getControl(s){return this.form.get(s.path)}removeControl(s){mt(s.control||null,s,!1),function pr(S,D){const s=S.indexOf(D);s>-1&&S.splice(s,1)}(this.directives,s)}addFormGroup(s){this._setUpFormContainer(s)}removeFormGroup(s){this._cleanUpFormContainer(s)}getFormGroup(s){return this.form.get(s.path)}addFormArray(s){this._setUpFormContainer(s)}removeFormArray(s){this._cleanUpFormContainer(s)}getFormArray(s){return this.form.get(s.path)}updateModel(s,i){this.form.get(s.path).setValue(i)}onSubmit(s){return this.submitted=!0,function ko(S,D){S._syncPendingControls(),D.forEach(s=>{const i=s.control;"submit"===i.updateOn&&i._pendingChange&&(s.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(s),"dialog"===s?.target?.method}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_updateDomValue(){this.directives.forEach(s=>{const i=s.control,c=this.form.get(s.path);i!==c&&(mt(i||null,s),(S=>S instanceof Pn)(c)&&(dn(c,s,this.callSetDisabledState),s.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(s){const i=this.form.get(s.path);(function Dn(S,D){Fn(S,D)})(i,s),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(s){if(this.form){const i=this.form.get(s.path);i&&function Rn(S,D){return Dt(S,D)}(i,s)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fn(this.form,this),this._oldForm&&Dt(this._oldForm,this)}_checkFormPresent(){}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(me,10),l.Y36(fe,10),l.Y36($t,8))},S.\u0275dir=l.lG2({type:S,selectors:[["","formGroup",""]],hostBindings:function(s,i){1&s&&l.NdJ("submit",function(f){return i.onSubmit(f)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([De]),l.qOj,l.TTD]}),S})();const Zn={provide:On,useExisting:(0,l.Gpc)(()=>Ut)};let Ut=(()=>{class S extends On{set isDisabled(s){}constructor(s,i,c,f,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=s,this._setValidators(i),this._setAsyncValidators(c),this.valueAccessor=function Fr(S,D){if(!D)return null;let s,i,c;return Array.isArray(D),D.forEach(f=>{f.constructor===re?s=f:function Nr(S){return Object.getPrototypeOf(S.constructor)===ve}(f)?i=f:c=f}),c||i||s||null}(0,f)}ngOnChanges(s){this._added||this._setUpControl(),function hr(S,D){if(!S.hasOwnProperty("model"))return!1;const s=S.model;return!!s.isFirstChange()||!Object.is(D,s.currentValue)}(s,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}get path(){return function Cn(S,D){return[...D.path,S]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return S._ngModelWarningSentOnce=!1,S.\u0275fac=function(s){return new(s||S)(l.Y36(Jt,13),l.Y36(me,10),l.Y36(fe,10),l.Y36(Fe,10),l.Y36(mr,8))},S.\u0275dir=l.lG2({type:S,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Zn]),l.qOj,l.TTD]}),S})();const cr={provide:Fe,useExisting:(0,l.Gpc)(()=>$n),multi:!0};function Xn(S,D){return null==S?`${D}`:(D&&"object"==typeof D&&(D="Object"),`${S}: ${D}`.slice(0,50))}let $n=(()=>{class S extends ve{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){this.value=s;const c=Xn(this._getOptionId(s),s);this.setProperty("value",c)}registerOnChange(s){this.onChange=i=>{this.value=this._getOptionValue(i),s(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(s){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),s))return i;return null}_getOptionValue(s){const i=function at(S){return S.split(":")[0]}(s);return this._optionMap.has(i)?this._optionMap.get(i):s}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([cr]),l.qOj]}),S})(),vr=(()=>{class S{constructor(s,i,c){this._element=s,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(s){null!=this._select&&(this._select._optionMap.set(this.id,s),this._setElementValue(Xn(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._setElementValue(s),this._select&&this._select.writeValue(this._select.value)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36($n,9))},S.\u0275dir=l.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})();const _r={provide:Fe,useExisting:(0,l.Gpc)(()=>Ln),multi:!0};function on(S,D){return null==S?`${D}`:("string"==typeof D&&(D=`'${D}'`),D&&"object"==typeof D&&(D="Object"),`${S}: ${D}`.slice(0,50))}let Ln=(()=>{class S extends ve{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){let i;if(this.value=s,Array.isArray(s)){const c=s.map(f=>this._getOptionId(f));i=(f,m)=>{f._setSelected(c.indexOf(m.toString())>-1)}}else i=(c,f)=>{c._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(s){this.onChange=i=>{const c=[],f=i.selectedOptions;if(void 0!==f){const m=f;for(let b=0;b<m.length;b++){const R=this._getOptionValue(m[b].value);c.push(R)}}else{const m=i.options;for(let b=0;b<m.length;b++){const x=m[b];if(x.selected){const R=this._getOptionValue(x.value);c.push(R)}}}this.value=c,s(c)}}_registerOption(s){const i=(this._idCounter++).toString();return this._optionMap.set(i,s),i}_getOptionId(s){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,s))return i;return null}_getOptionValue(s){const i=function ho(S){return S.split(":")[0]}(s);return this._optionMap.has(i)?this._optionMap.get(i)._value:s}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([_r]),l.qOj]}),S})(),Rr=(()=>{class S{constructor(s,i,c){this._element=s,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(s){null!=this._select&&(this._value=s,this._setElementValue(on(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._select?(this._value=s,this._setElementValue(on(this.id,s)),this._select.writeValue(this._select.value)):this._setElementValue(s)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}_setSelected(s){this._renderer.setProperty(this._element.nativeElement,"selected",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ln,9))},S.\u0275dir=l.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})(),En=(()=>{class S{constructor(){this._validator=Pe}ngOnChanges(s){if(this.inputName in s){const i=this.normalizeInput(s[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Pe,this._onChange&&this._onChange()}}validate(s){return this._validator(s)}registerOnValidatorChange(s){this._onChange=s}enabled(s){return null!=s}}return S.\u0275fac=function(s){return new(s||S)},S.\u0275dir=l.lG2({type:S,features:[l.TTD]}),S})();const So={provide:me,useExisting:(0,l.Gpc)(()=>In),multi:!0};let In=(()=>{class S extends En{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=s=>Z}enabled(s){return s}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,i){2&s&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([So]),l.qOj]}),S})(),Qr=(()=>{class S{}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[cn]}),S})(),Gt=(()=>{class S{static withConfig(s){return{ngModule:S,providers:[{provide:$t,useValue:s.callSetDisabledState??vt}]}}}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[Qr]}),S})(),$r=(()=>{class S{static withConfig(s){return{ngModule:S,providers:[{provide:mr,useValue:s.warnOnNgModelWithFormControl??"always"},{provide:$t,useValue:s.callSetDisabledState??vt}]}}}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[Qr]}),S})()},6593:(et,q,T)=>{"use strict";T.d(q,{Dx:()=>On,b2:()=>Zt,q6:()=>yn});var l=T(4946),N=T(6814);class te extends N.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class K extends te{static makeCurrent(){(0,N.HT)(new K)}onAndCancel(ae,H,ce){return ae.addEventListener(H,ce),()=>{ae.removeEventListener(H,ce)}}dispatchEvent(ae,H){ae.dispatchEvent(H)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,H){return(H=H||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,H){return"window"===H?window:"document"===H?ae:"body"===H?ae.body:null}getBaseHref(ae){const H=function oe(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==H?null:function V(we){I=I||document.createElement("a"),I.setAttribute("href",we);const ae=I.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(H)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,N.Mx)(document.cookie,ae)}}let I,W=null,X=(()=>{class we{build(){return new XMLHttpRequest}}return we.\u0275fac=function(H){return new(H||we)},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac}),we})();const ie=new l.OlP("EventManagerPlugins");let be=(()=>{class we{constructor(H,ce){this._zone=ce,this._eventNameToPlugin=new Map,H.forEach(pe=>{pe.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,ce,pe){return this._findPluginFor(ce).addEventListener(H,ce,pe)}getZone(){return this._zone}_findPluginFor(H){let ce=this._eventNameToPlugin.get(H);if(ce)return ce;if(ce=this._plugins.find($e=>$e.supports(H)),!ce)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(H,ce),ce}}return we.\u0275fac=function(H){return new(H||we)(l.LFG(ie),l.LFG(l.R0b))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac}),we})();class Ne{constructor(ae){this._doc=ae}}const ve="ng-app-id";let Fe=(()=>{class we{constructor(H,ce,pe,$e={}){this.doc=H,this.appId=ce,this.nonce=pe,this.platformId=$e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,N.PM)($e),this.resetHostNodes()}addStyles(H){for(const ce of H)1===this.changeUsageCount(ce,1)&&this.onStyleAdded(ce)}removeStyles(H){for(const ce of H)this.changeUsageCount(ce,-1)<=0&&this.onStyleRemoved(ce)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(ce=>ce.remove()),H.clear());for(const ce of this.getAllStyles())this.onStyleRemoved(ce);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const ce of this.getAllStyles())this.addStyleToHost(H,ce)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const ce of this.hostNodes)this.addStyleToHost(ce,H)}onStyleRemoved(H){const ce=this.styleRef;ce.get(H)?.elements?.forEach(pe=>pe.remove()),ce.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${ve}="${this.appId}"]`);if(H?.length){const ce=new Map;return H.forEach(pe=>{null!=pe.textContent&&ce.set(pe.textContent,pe)}),ce}return null}changeUsageCount(H,ce){const pe=this.styleRef;if(pe.has(H)){const $e=pe.get(H);return $e.usage+=ce,$e.usage}return pe.set(H,{usage:ce,elements:[]}),ce}getStyleElement(H,ce){const pe=this.styleNodesInDOM,$e=pe?.get(ce);if($e?.parentNode===H)return pe.delete(ce),$e.removeAttribute(ve),$e;{const Ke=this.doc.createElement("style");return this.nonce&&Ke.setAttribute("nonce",this.nonce),Ke.textContent=ce,this.platformIsServer&&Ke.setAttribute(ve,this.appId),Ke}}addStyleToHost(H,ce){const pe=this.getStyleElement(H,ce);H.appendChild(pe);const $e=this.styleRef,Ke=$e.get(ce)?.elements;Ke?Ke.push(pe):$e.set(ce,{elements:[pe],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}}return we.\u0275fac=function(H){return new(H||we)(l.LFG(N.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac}),we})();const ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},F=/%COMP%/g,z="%COMP%",Ce=`_nghost-${z}`,_e=`_ngcontent-${z}`,ye=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function fe(we,ae){return ae.map(H=>H.replace(F,we))}let J=(()=>{class we{constructor(H,ce,pe,$e,Ke,ct,ot,gt=null){this.eventManager=H,this.sharedStylesHost=ce,this.appId=pe,this.removeStylesOnCompDestory=$e,this.doc=Ke,this.platformId=ct,this.ngZone=ot,this.nonce=gt,this.rendererByCompId=new Map,this.platformIsServer=(0,N.PM)(ct),this.defaultRenderer=new ue(H,Ke,ot,this.platformIsServer)}createRenderer(H,ce){if(!H||!ce)return this.defaultRenderer;this.platformIsServer&&ce.encapsulation===l.ifc.ShadowDom&&(ce={...ce,encapsulation:l.ifc.Emulated});const pe=this.getOrCreateRenderer(H,ce);return pe instanceof Y?pe.applyToHost(H):pe instanceof de&&pe.applyStyles(),pe}getOrCreateRenderer(H,ce){const pe=this.rendererByCompId;let $e=pe.get(ce.id);if(!$e){const Ke=this.doc,ct=this.ngZone,ot=this.eventManager,gt=this.sharedStylesHost,_n=this.removeStylesOnCompDestory,zn=this.platformIsServer;switch(ce.encapsulation){case l.ifc.Emulated:$e=new Y(ot,gt,ce,this.appId,_n,Ke,ct,zn);break;case l.ifc.ShadowDom:return new Ie(ot,gt,H,ce,Ke,ct,this.nonce,zn);default:$e=new de(ot,gt,ce,_n,Ke,ct,zn)}$e.onDestroy=()=>pe.delete(ce.id),pe.set(ce.id,$e)}return $e}ngOnDestroy(){this.rendererByCompId.clear()}}return we.\u0275fac=function(H){return new(H||we)(l.LFG(be),l.LFG(Fe),l.LFG(l.AFp),l.LFG(ye),l.LFG(N.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac}),we})();class ue{constructor(ae,H,ce,pe){this.eventManager=ae,this.doc=H,this.ngZone=ce,this.platformIsServer=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,H){return H?this.doc.createElementNS(ze[H]||H,ae):this.doc.createElement(ae)}createComment(ae){return this.doc.createComment(ae)}createText(ae){return this.doc.createTextNode(ae)}appendChild(ae,H){(Z(ae)?ae.content:ae).appendChild(H)}insertBefore(ae,H,ce){ae&&(Z(ae)?ae.content:ae).insertBefore(H,ce)}removeChild(ae,H){ae&&ae.removeChild(H)}selectRootElement(ae,H){let ce="string"==typeof ae?this.doc.querySelector(ae):ae;if(!ce)throw new l.vHH(5104,!1);return H||(ce.textContent=""),ce}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,H,ce,pe){if(pe){H=pe+":"+H;const $e=ze[pe];$e?ae.setAttributeNS($e,H,ce):ae.setAttribute(H,ce)}else ae.setAttribute(H,ce)}removeAttribute(ae,H,ce){if(ce){const pe=ze[ce];pe?ae.removeAttributeNS(pe,H):ae.removeAttribute(`${ce}:${H}`)}else ae.removeAttribute(H)}addClass(ae,H){ae.classList.add(H)}removeClass(ae,H){ae.classList.remove(H)}setStyle(ae,H,ce,pe){pe&(l.JOm.DashCase|l.JOm.Important)?ae.style.setProperty(H,ce,pe&l.JOm.Important?"important":""):ae.style[H]=ce}removeStyle(ae,H,ce){ce&l.JOm.DashCase?ae.style.removeProperty(H):ae.style[H]=""}setProperty(ae,H,ce){ae[H]=ce}setValue(ae,H){ae.nodeValue=H}listen(ae,H,ce){if("string"==typeof ae&&!(ae=(0,N.q)().getGlobalEventTarget(this.doc,ae)))throw new Error(`Unsupported event target ${ae} for event ${H}`);return this.eventManager.addEventListener(ae,H,this.decoratePreventDefault(ce))}decoratePreventDefault(ae){return H=>{if("__ngUnwrap__"===H)return ae;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ae(H)):ae(H))&&H.preventDefault()}}}function Z(we){return"TEMPLATE"===we.tagName&&void 0!==we.content}class Ie extends ue{constructor(ae,H,ce,pe,$e,Ke,ct,ot){super(ae,$e,Ke,ot),this.sharedStylesHost=H,this.hostEl=ce,this.shadowRoot=ce.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gt=fe(pe.id,pe.styles);for(const _n of gt){const zn=document.createElement("style");ct&&zn.setAttribute("nonce",ct),zn.textContent=_n,this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}appendChild(ae,H){return super.appendChild(this.nodeOrShadowRoot(ae),H)}insertBefore(ae,H,ce){return super.insertBefore(this.nodeOrShadowRoot(ae),H,ce)}removeChild(ae,H){return super.removeChild(this.nodeOrShadowRoot(ae),H)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class de extends ue{constructor(ae,H,ce,pe,$e,Ke,ct,ot){super(ae,$e,Ke,ct),this.sharedStylesHost=H,this.removeStylesOnCompDestory=pe,this.rendererUsageCount=0,this.styles=ot?fe(ot,ce.styles):ce.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Y extends de{constructor(ae,H,ce,pe,$e,Ke,ct,ot){const gt=pe+"-"+ce.id;super(ae,H,ce,$e,Ke,ct,ot,gt),this.contentAttr=function $(we){return _e.replace(F,we)}(gt),this.hostAttr=function me(we){return Ce.replace(F,we)}(gt)}applyToHost(ae){this.applyStyles(),this.setAttribute(ae,this.hostAttr,"")}createElement(ae,H){const ce=super.createElement(ae,H);return super.setAttribute(ce,this.contentAttr,""),ce}}let Q=(()=>{class we extends Ne{constructor(H){super(H)}supports(H){return!0}addEventListener(H,ce,pe){return H.addEventListener(ce,pe,!1),()=>this.removeEventListener(H,ce,pe)}removeEventListener(H,ce,pe){return H.removeEventListener(ce,pe)}}return we.\u0275fac=function(H){return new(H||we)(l.LFG(N.K0))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac}),we})();const se=["alt","control","meta","shift"],Pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ve={alt:we=>we.altKey,control:we=>we.ctrlKey,meta:we=>we.metaKey,shift:we=>we.shiftKey};let Oe=(()=>{class we extends Ne{constructor(H){super(H)}supports(H){return null!=we.parseEventName(H)}addEventListener(H,ce,pe){const $e=we.parseEventName(ce),Ke=we.eventCallback($e.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,N.q)().onAndCancel(H,$e.domEventName,Ke))}static parseEventName(H){const ce=H.toLowerCase().split("."),pe=ce.shift();if(0===ce.length||"keydown"!==pe&&"keyup"!==pe)return null;const $e=we._normalizeKey(ce.pop());let Ke="",ct=ce.indexOf("code");if(ct>-1&&(ce.splice(ct,1),Ke="code."),se.forEach(gt=>{const _n=ce.indexOf(gt);_n>-1&&(ce.splice(_n,1),Ke+=gt+".")}),Ke+=$e,0!=ce.length||0===$e.length)return null;const ot={};return ot.domEventName=pe,ot.fullKey=Ke,ot}static matchEventFullKeyCode(H,ce){let pe=Pe[H.key]||H.key,$e="";return ce.indexOf("code.")>-1&&(pe=H.code,$e="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),se.forEach(Ke=>{Ke!==pe&&(0,Ve[Ke])(H)&&($e+=Ke+".")}),$e+=pe,$e===ce)}static eventCallback(H,ce,pe){return $e=>{we.matchEventFullKeyCode($e,H)&&pe.runGuarded(()=>ce($e))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return we.\u0275fac=function(H){return new(H||we)(l.LFG(N.K0))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac}),we})();const yn=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:N.bD},{provide:l.g9A,useValue:function ht(){K.makeCurrent()},multi:!0},{provide:N.K0,useFactory:function pt(){return(0,l.RDi)(document),document},deps:[]}]),vn=new l.OlP(""),en=[{provide:l.rWj,useClass:class B{addToWindow(ae){l.dqk.getAngularTestability=(ce,pe=!0)=>{const $e=ae.findTestabilityInTree(ce,pe);if(null==$e)throw new l.vHH(5103,!1);return $e},l.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(ce=>{const pe=l.dqk.getAllAngularTestabilities();let $e=pe.length,Ke=!1;const ct=function(ot){Ke=Ke||ot,$e--,0==$e&&ce(Ke)};pe.forEach(function(ot){ot.whenStable(ct)})})}findTestabilityInTree(ae,H,ce){return null==H?null:ae.getTestability(H)??(ce?(0,N.q)().isShadowRoot(H)?this.findTestabilityInTree(ae,H.host,!0):this.findTestabilityInTree(ae,H.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],wn=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ct(){return new l.qLn},deps:[]},{provide:ie,useClass:Q,multi:!0,deps:[N.K0,l.R0b,l.Lbi]},{provide:ie,useClass:Oe,multi:!0,deps:[N.K0]},J,Fe,be,{provide:l.FYo,useExisting:J},{provide:N.JF,useClass:X,deps:[]},[]];let Zt=(()=>{class we{constructor(H){}static withServerTransition(H){return{ngModule:we,providers:[{provide:l.AFp,useValue:H.appId}]}}}return we.\u0275fac=function(H){return new(H||we)(l.LFG(vn,12))},we.\u0275mod=l.oAB({type:we}),we.\u0275inj=l.cJS({providers:[...wn,...en],imports:[N.ez,l.hGG]}),we})(),On=(()=>{class we{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return we.\u0275fac=function(H){return new(H||we)(l.LFG(N.K0))},we.\u0275prov=l.Yz7({token:we,factory:function(H){let ce=null;return ce=H?new H:function Jt(){return new On((0,l.LFG)(N.K0))}(),ce},providedIn:"root"}),we})();typeof window<"u"&&window},6538:(et,q,T)=>{"use strict";T.d(q,{F0:()=>xr,rH:()=>Vi,Od:()=>Es,Bz:()=>Pa,lC:()=>$n});var l=T(4946),N=T(5592),te=T(4674),W=T(7715),oe=T(2096),I=T(5619),V=T(7453),B=T(2737),X=T(7400),ie=T(4564),be=T(2714),Ne=T(8251),ve=T(7103);function Fe(...h){const g=(0,ie.yG)(h),d=(0,ie.jO)(h),{args:y,keys:w}=(0,V.D)(h);if(0===y.length)return(0,W.D)([],g);const O=new N.y(function ze(h,g,d=B.y){return y=>{F(g,()=>{const{length:w}=h,O=new Array(w);let k=w,le=w;for(let Me=0;Me<w;Me++)F(g,()=>{const Ze=(0,W.D)(h[Me],g);let Qe=!1;Ze.subscribe((0,Ne.x)(y,Ft=>{O[Me]=Ft,Qe||(Qe=!0,le--),le||y.next(d(O.slice()))},()=>{--k||y.complete()}))},y)},y)}}(y,g,w?k=>(0,be.n)(w,k):B.y));return d?O.pipe((0,X.Z)(d)):O}function F(h,g,d){h?(0,ve.f)(d,h,g):g()}const Ce=(0,T(2306).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"});var _e=T(7537);function ye(...h){return function re(){return(0,_e.J)(1)}()((0,W.D)(h,(0,ie.yG)(h)))}var $=T(4829);function me(h){return new N.y(g=>{(0,$.Xf)(h()).subscribe(g)})}var fe=T(8407);function J(h,g){const d=(0,te.m)(h)?h:()=>h,y=w=>w.error(d());return new N.y(g?w=>g.schedule(y,0,w):y)}var ue=T(6232),he=T(7394),Be=T(9360);function Z(){return(0,Be.e)((h,g)=>{let d=null;h._refCount++;const y=(0,Ne.x)(g,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(d=null);const w=h._connection,O=d;d=null,w&&(!O||w===O)&&w.unsubscribe(),g.unsubscribe()});h.subscribe(y),y.closed||(d=h.connect())})}class Ie extends N.y{constructor(g,d){super(),this.source=g,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,Be.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new he.w0;const d=this.getSubject();g.add(this.source.subscribe((0,Ne.x)(d,void 0,()=>{this._teardown(),d.complete()},y=>{this._teardown(),d.error(y)},()=>this._teardown()))),g.closed&&(this._connection=null,g=he.w0.EMPTY)}return g}refCount(){return Z()(this)}}var de=T(8645),Y=T(6814),Q=T(7398),se=T(4664);function Pe(h){return h<=0?()=>ue.E:(0,Be.e)((g,d)=>{let y=0;g.subscribe((0,Ne.x)(d,w=>{++y<=h&&(d.next(w),h<=y&&d.complete())}))})}function Oe(h,g){return(0,Be.e)((d,y)=>{let w=0;d.subscribe((0,Ne.x)(y,O=>h.call(g,O,w++)&&y.next(O)))})}var je=T(1631);function qe(h){return(0,Be.e)((g,d)=>{let y=!1;g.subscribe((0,Ne.x)(d,w=>{y=!0,d.next(w)},()=>{y||d.next(h),d.complete()}))})}function Kt(h=nt){return(0,Be.e)((g,d)=>{let y=!1;g.subscribe((0,Ne.x)(d,w=>{y=!0,d.next(w)},()=>y?d.complete():d.error(h())))})}function nt(){return new Ce}function ht(h,g){const d=arguments.length>=2;return y=>y.pipe(h?Oe((w,O)=>h(w,O,y)):B.y,Pe(1),d?qe(g):Kt(()=>new Ce))}function Ct(h,g){return(0,te.m)(g)?(0,je.z)(h,g,1):(0,je.z)(h,1)}function pt(h,g,d){const y=(0,te.m)(h)||g||d?{next:h,error:g,complete:d}:h;return y?(0,Be.e)((w,O)=>{var k;null===(k=y.subscribe)||void 0===k||k.call(y);let le=!0;w.subscribe((0,Ne.x)(O,Me=>{var Ze;null===(Ze=y.next)||void 0===Ze||Ze.call(y,Me),O.next(Me)},()=>{var Me;le=!1,null===(Me=y.complete)||void 0===Me||Me.call(y),O.complete()},Me=>{var Ze;le=!1,null===(Ze=y.error)||void 0===Ze||Ze.call(y,Me),O.error(Me)},()=>{var Me,Ze;le&&(null===(Me=y.unsubscribe)||void 0===Me||Me.call(y)),null===(Ze=y.finalize)||void 0===Ze||Ze.call(y)}))}):B.y}function Lt(h){return(0,Be.e)((g,d)=>{let O,y=null,w=!1;y=g.subscribe((0,Ne.x)(d,void 0,void 0,k=>{O=(0,$.Xf)(h(k,Lt(h)(g))),y?(y.unsubscribe(),y=null,O.subscribe(d)):w=!0})),w&&(y.unsubscribe(),y=null,O.subscribe(d))})}function en(h){return h<=0?()=>ue.E:(0,Be.e)((g,d)=>{let y=[];g.subscribe((0,Ne.x)(d,w=>{y.push(w),h<y.length&&y.shift()},()=>{for(const w of y)d.next(w);d.complete()},void 0,()=>{y=null}))})}function ir(h){return(0,Be.e)((g,d)=>{try{g.subscribe(d)}finally{d.add(h)}})}var un=T(6593);const Le="primary",Jt=Symbol("RouteTitle");class On{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d[0]:d}return null}getAll(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function An(h){return new On(h)}function Ot(h,g,d){const y=d.path.split("/");if(y.length>h.length||"full"===d.pathMatch&&(g.hasChildren()||y.length<h.length))return null;const w={};for(let O=0;O<y.length;O++){const k=y[O],le=h[O];if(k.startsWith(":"))w[k.substring(1)]=le;else if(k!==le.path)return null}return{consumed:h.slice(0,y.length),posParams:w}}function Ye(h,g){const d=h?Object.keys(h):void 0,y=g?Object.keys(g):void 0;if(!d||!y||d.length!=y.length)return!1;let w;for(let O=0;O<d.length;O++)if(w=d[O],!rt(h[w],g[w]))return!1;return!0}function rt(h,g){if(Array.isArray(h)&&Array.isArray(g)){if(h.length!==g.length)return!1;const d=[...h].sort(),y=[...g].sort();return d.every((w,O)=>y[O]===w)}return h===g}function Tr(h){return h.length>0?h[h.length-1]:null}function an(h){return function K(h){return!!h&&(h instanceof N.y||(0,te.m)(h.lift)&&(0,te.m)(h.subscribe))}(h)?h:(0,l.QGY)(h)?(0,W.D)(Promise.resolve(h)):(0,oe.of)(h)}const kn={exact:function Qt(h,g,d){if(!dr(h.segments,g.segments)||!sr(h.segments,g.segments,d)||h.numberOfChildren!==g.numberOfChildren)return!1;for(const y in g.children)if(!h.children[y]||!Qt(h.children[y],g.children[y],d))return!1;return!0},subset:He},Nn={exact:function Gr(h,g){return Ye(h,g)},subset:function no(h,g){return Object.keys(g).length<=Object.keys(h).length&&Object.keys(g).every(d=>rt(h[d],g[d]))},ignored:()=>!0};function rn(h,g,d){return kn[d.paths](h.root,g.root,d.matrixParams)&&Nn[d.queryParams](h.queryParams,g.queryParams)&&!("exact"===d.fragment&&h.fragment!==g.fragment)}function He(h,g,d){return Co(h,g,g.segments,d)}function Co(h,g,d,y){if(h.segments.length>d.length){const w=h.segments.slice(0,d.length);return!(!dr(w,d)||g.hasChildren()||!sr(w,d,y))}if(h.segments.length===d.length){if(!dr(h.segments,d)||!sr(h.segments,d,y))return!1;for(const w in g.children)if(!h.children[w]||!He(h.children[w],g.children[w],y))return!1;return!0}{const w=d.slice(0,h.segments.length),O=d.slice(h.segments.length);return!!(dr(h.segments,w)&&sr(h.segments,w,y)&&h.children[Le])&&Co(h.children[Le],g,O,y)}}function sr(h,g,d){return g.every((y,w)=>Nn[d](h[w].parameters,y.parameters))}class kt{constructor(g=new bt([],{}),d={},y=null){this.root=g,this.queryParams=d,this.fragment=y}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return Jn.serialize(this)}}class bt{constructor(g,d){this.segments=g,this.children=d,this.parent=null,Object.values(d).forEach(y=>y.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jt(this)}}class Gn{constructor(g,d){this.path=g,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=An(this.parameters)),this._parameterMap}toString(){return Ke(this)}}function dr(h,g){return h.length===g.length&&h.every((d,y)=>d.path===g[y].path)}let Vn=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return new Tn},providedIn:"root"}),h})();class Tn{parse(g){const d=new Mn(g);return new kt(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(g){const d=`/${Bn(g.root,!0)}`,y=function ot(h){const g=Object.keys(h).map(d=>{const y=h[d];return Array.isArray(y)?y.map(w=>`${ae(d)}=${ae(w)}`).join("&"):`${ae(d)}=${ae(y)}`}).filter(d=>!!d);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${d}${y}${"string"==typeof g.fragment?`#${function H(h){return encodeURI(h)}(g.fragment)}`:""}`}}const Jn=new Tn;function jt(h){return h.segments.map(g=>Ke(g)).join("/")}function Bn(h,g){if(!h.hasChildren())return jt(h);if(g){const d=h.children[Le]?Bn(h.children[Le],!1):"",y=[];return Object.entries(h.children).forEach(([w,O])=>{w!==Le&&y.push(`${w}:${Bn(O,!1)}`)}),y.length>0?`${d}(${y.join("//")})`:d}{const d=function Mt(h,g){let d=[];return Object.entries(h.children).forEach(([y,w])=>{y===Le&&(d=d.concat(g(w,y)))}),Object.entries(h.children).forEach(([y,w])=>{y!==Le&&(d=d.concat(g(w,y)))}),d}(h,(y,w)=>w===Le?[Bn(h.children[Le],!1)]:[`${w}:${Bn(y,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[Le]?`${jt(h)}/${d[0]}`:`${jt(h)}/(${d.join("//")})`}}function we(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ae(h){return we(h).replace(/%3B/gi,";")}function ce(h){return we(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pe(h){return decodeURIComponent(h)}function $e(h){return pe(h.replace(/\+/g,"%20"))}function Ke(h){return`${ce(h.path)}${function ct(h){return Object.keys(h).map(g=>`;${ce(g)}=${ce(h[g])}`).join("")}(h.parameters)}`}const gt=/^[^\/()?;#]+/;function _n(h){const g=h.match(gt);return g?g[0]:""}const zn=/^[^\/()?;=#]+/,vt=/^[^=?&#]+/,dn=/^[^&#]+/;class Mn{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let y={};return this.peekStartsWith("(")&&(y=this.parseParens(!1)),(g.length>0||Object.keys(d).length>0)&&(y[Le]=new bt(g,d)),y}parseSegment(){const g=_n(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(g),new Gn(pe(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const d=function $t(h){const g=h.match(zn);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let y="";if(this.consumeOptional("=")){const w=_n(this.remaining);w&&(y=w,this.capture(y))}g[pe(d)]=pe(y)}parseQueryParam(g){const d=function Cn(h){const g=h.match(vt);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let y="";if(this.consumeOptional("=")){const k=function mt(h){const g=h.match(dn);return g?g[0]:""}(this.remaining);k&&(y=k,this.capture(y))}const w=$e(d),O=$e(y);if(g.hasOwnProperty(w)){let k=g[w];Array.isArray(k)||(k=[k],g[w]=k),k.push(O)}else g[w]=O}parseParens(g){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const y=_n(this.remaining),w=this.remaining[y.length];if("/"!==w&&")"!==w&&";"!==w)throw new l.vHH(4010,!1);let O;y.indexOf(":")>-1?(O=y.slice(0,y.indexOf(":")),this.capture(O),this.capture(":")):g&&(O=Le);const k=this.parseChildren();d[O]=1===Object.keys(k).length?k[Le]:new bt([],k),this.consumeOptional("//")}return d}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new l.vHH(4011,!1)}}function Wn(h){return h.segments.length>0?new bt([],{[Le]:h}):h}function Fn(h){const g={};for(const y of Object.keys(h.children)){const O=Fn(h.children[y]);if(y===Le&&0===O.segments.length&&O.hasChildren())for(const[k,le]of Object.entries(O.children))g[k]=le;else(O.segments.length>0||O.hasChildren())&&(g[y]=O)}return function Dt(h){if(1===h.numberOfChildren&&h.children[Le]){const g=h.children[Le];return new bt(h.segments.concat(g.segments),g.children)}return h}(new bt(h.segments,g))}function jn(h){return h instanceof kt}function Mr(h){let g;const w=Wn(function d(O){const k={};for(const Me of O.children){const Ze=d(Me);k[Me.outlet]=Ze}const le=new bt(O.url,k);return O===h&&(g=le),le}(h.root));return g??w}function ro(h,g,d,y){let w=h;for(;w.parent;)w=w.parent;if(0===g.length)return Ir(w,w,w,d,y);const O=function Oo(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new fr(!0,0,h);let g=0,d=!1;const y=h.reduce((w,O,k)=>{if("object"==typeof O&&null!=O){if(O.outlets){const le={};return Object.entries(O.outlets).forEach(([Me,Ze])=>{le[Me]="string"==typeof Ze?Ze.split("/"):Ze}),[...w,{outlets:le}]}if(O.segmentPath)return[...w,O.segmentPath]}return"string"!=typeof O?[...w,O]:0===k?(O.split("/").forEach((le,Me)=>{0==Me&&"."===le||(0==Me&&""===le?d=!0:".."===le?g++:""!=le&&w.push(le))}),w):[...w,O]},[]);return new fr(d,g,y)}(g);if(O.toRoot())return Ir(w,w,new bt([],{}),d,y);const k=function hr(h,g,d){if(h.isAbsolute)return new Wr(g,!0,0);if(!d)return new Wr(g,!1,NaN);if(null===d.parent)return new Wr(d,!0,0);const y=Dn(h.commands[0])?0:1;return function Nr(h,g,d){let y=h,w=g,O=d;for(;O>w;){if(O-=w,y=y.parent,!y)throw new l.vHH(4005,!1);w=y.segments.length}return new Wr(y,!1,w-O)}(d,d.segments.length-1+y,h.numberOfDoubleDots)}(O,w,h),le=k.processChildren?pr(k.segmentGroup,k.index,O.commands):Fr(k.segmentGroup,k.index,O.commands);return Ir(w,k.segmentGroup,le,d,y)}function Dn(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function Rn(h){return"object"==typeof h&&null!=h&&h.outlets}function Ir(h,g,d,y,w){let k,O={};y&&Object.entries(y).forEach(([Me,Ze])=>{O[Me]=Array.isArray(Ze)?Ze.map(Qe=>`${Qe}`):`${Ze}`}),k=h===g?d:oo(h,g,d);const le=Wn(Fn(k));return new kt(le,O,w)}function oo(h,g,d){const y={};return Object.entries(h.children).forEach(([w,O])=>{y[w]=O===g?d:oo(O,g,d)}),new bt(h.segments,y)}class fr{constructor(g,d,y){if(this.isAbsolute=g,this.numberOfDoubleDots=d,this.commands=y,g&&y.length>0&&Dn(y[0]))throw new l.vHH(4003,!1);const w=y.find(Rn);if(w&&w!==Tr(y))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wr{constructor(g,d,y){this.segmentGroup=g,this.processChildren=d,this.index=y}}function Fr(h,g,d){if(h||(h=new bt([],{})),0===h.segments.length&&h.hasChildren())return pr(h,g,d);const y=function No(h,g,d){let y=0,w=g;const O={match:!1,pathIndex:0,commandIndex:0};for(;w<h.segments.length;){if(y>=d.length)return O;const k=h.segments[w],le=d[y];if(Rn(le))break;const Me=`${le}`,Ze=y<d.length-1?d[y+1]:null;if(w>0&&void 0===Me)break;if(Me&&Ze&&"object"==typeof Ze&&void 0===Ze.outlets){if(!so(Me,Ze,k))return O;y+=2}else{if(!so(Me,{},k))return O;y++}w++}return{match:!0,pathIndex:w,commandIndex:y}}(h,g,d),w=d.slice(y.commandIndex);if(y.match&&y.pathIndex<h.segments.length){const O=new bt(h.segments.slice(0,y.pathIndex),{});return O.children[Le]=new bt(h.segments.slice(y.pathIndex),h.children),pr(O,0,w)}return y.match&&0===w.length?new bt(h.segments,{}):y.match&&!h.hasChildren()?Zr(h,g,d):y.match?pr(h,0,w):Zr(h,g,d)}function pr(h,g,d){if(0===d.length)return new bt(h.segments,{});{const y=function ko(h){return Rn(h[0])?h[0].outlets:{[Le]:h}}(d),w={};if(!y[Le]&&h.children[Le]&&1===h.numberOfChildren&&0===h.children[Le].segments.length){const O=pr(h.children[Le],g,d);return new bt(h.segments,O.children)}return Object.entries(y).forEach(([O,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(w[O]=Fr(h.children[O],g,k))}),Object.entries(h.children).forEach(([O,k])=>{void 0===y[O]&&(w[O]=k)}),new bt(h.segments,w)}}function Zr(h,g,d){const y=h.segments.slice(0,g);let w=0;for(;w<d.length;){const O=d[w];if(Rn(O)){const Me=fn(O.outlets);return new bt(y,Me)}if(0===w&&Dn(d[0])){y.push(new Gn(h.segments[g].path,io(d[0]))),w++;continue}const k=Rn(O)?O.outlets[Le]:`${O}`,le=w<d.length-1?d[w+1]:null;k&&le&&Dn(le)?(y.push(new Gn(k,io(le))),w+=2):(y.push(new Gn(k,{})),w++)}return new bt(y,{})}function fn(h){const g={};return Object.entries(h).forEach(([d,y])=>{"string"==typeof y&&(y=[y]),null!==y&&(g[d]=Zr(new bt([],{}),0,y))}),g}function io(h){const g={};return Object.entries(h).forEach(([d,y])=>g[d]=`${y}`),g}function so(h,g,d){return h==d.path&&Ye(g,d.parameters)}const Lr="imperative";class Pn{constructor(g,d){this.id=g,this.url=d}}class Fo extends Pn{constructor(g,d,y="imperative",w=null){super(g,d),this.type=0,this.navigationTrigger=y,this.restoredState=w}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ar extends Pn{constructor(g,d,y){super(g,d),this.urlAfterRedirects=y,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vr extends Pn{constructor(g,d,y,w){super(g,d),this.reason=y,this.code=w,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Do extends Pn{constructor(g,d,y,w){super(g,d),this.reason=y,this.code=w,this.type=16}}class bn extends Pn{constructor(g,d,y,w){super(g,d),this.error=y,this.target=w,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ao extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zo extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends Pn{constructor(g,d,y,w,O){super(g,d),this.urlAfterRedirects=y,this.state=w,this.shouldActivate=O,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class co extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo{constructor(g){this.route=g,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lo{constructor(g){this.route=g,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uo{constructor(g){this.snapshot=g,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Br{constructor(g){this.snapshot=g,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(g){this.snapshot=g,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(g){this.snapshot=g,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(g,d,y){this.routerEvent=g,this.position=d,this.anchor=y,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nt,this.attachRef=null}}let Nt=(()=>{class h{constructor(){this.contexts=new Map}onChildOutletCreated(d,y){const w=this.getOrCreateContext(d);w.outlet=y,this.contexts.set(d,w)}onChildOutletDestroyed(d){const y=this.getContext(d);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const d=this.contexts;return this.contexts=new Map,d}onOutletReAttached(d){this.contexts=d}getOrCreateContext(d){let y=this.getContext(d);return y||(y=new gr,this.contexts.set(d,y)),y}getContext(d){return this.contexts.get(d)||null}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class bo{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const d=this.pathFromRoot(g);return d.length>1?d[d.length-2]:null}children(g){const d=jr(g,this._root);return d?d.children.map(y=>y.value):[]}firstChild(g){const d=jr(g,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(g){const d=mr(g,this._root);return d.length<2?[]:d[d.length-2].children.map(w=>w.value).filter(w=>w!==g)}pathFromRoot(g){return mr(g,this._root).map(d=>d.value)}}function jr(h,g){if(h===g.value)return g;for(const d of g.children){const y=jr(h,d);if(y)return y}return null}function mr(h,g){if(h===g.value)return[g];for(const d of g.children){const y=mr(h,d);if(y.length)return y.unshift(g),y}return[]}class ar{constructor(g,d){this.value=g,this.children=d}toString(){return`TreeNode(${this.value})`}}function yr(h){const g={};return h&&h.children.forEach(d=>g[d.value.outlet]=d),g}class De extends bo{constructor(g,d){super(g),this.snapshot=d,Ut(this,g)}toString(){return this.snapshot.toString()}}function Ue(h,g){const d=function lt(h,g){const k=new ln([],{},{},"",{},Le,g,null,{});return new Zn("",new ar(k,[]))}(0,g),y=new I.X([new Gn("",{})]),w=new I.X({}),O=new I.X({}),k=new I.X({}),le=new I.X(""),Me=new it(y,w,k,le,O,Le,g,d.root);return Me.snapshot=d.root,new De(new ar(Me,[]),d)}class it{constructor(g,d,y,w,O,k,le,Me){this.urlSubject=g,this.paramsSubject=d,this.queryParamsSubject=y,this.fragmentSubject=w,this.dataSubject=O,this.outlet=k,this.component=le,this._futureSnapshot=Me,this.title=this.dataSubject?.pipe((0,Q.U)(Ze=>Ze[Jt]))??(0,oe.of)(void 0),this.url=g,this.params=d,this.queryParams=y,this.fragment=w,this.data=O}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Q.U)(g=>An(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Q.U)(g=>An(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function It(h,g="emptyOnly"){const d=h.pathFromRoot;let y=0;if("always"!==g)for(y=d.length-1;y>=1;){const w=d[y],O=d[y-1];if(w.routeConfig&&""===w.routeConfig.path)y--;else{if(O.component)break;y--}}return function Qn(h){return h.reduce((g,d)=>({params:{...g.params,...d.params},data:{...g.data,...d.data},resolve:{...d.data,...g.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(y))}class ln{get title(){return this.data?.[Jt]}constructor(g,d,y,w,O,k,le,Me,Ze){this.url=g,this.params=d,this.queryParams=y,this.fragment=w,this.data=O,this.outlet=k,this.component=le,this.routeConfig=Me,this._resolve=Ze}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=An(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(y=>y.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zn extends bo{constructor(g,d){super(d),this.url=g,Ut(this,d)}toString(){return cr(this._root)}}function Ut(h,g){g.value._routerState=h,g.children.forEach(d=>Ut(h,d))}function cr(h){const g=h.children.length>0?` { ${h.children.map(cr).join(", ")} } `:"";return`${h.value}${g}`}function Xn(h){if(h.snapshot){const g=h.snapshot,d=h._futureSnapshot;h.snapshot=d,Ye(g.queryParams,d.queryParams)||h.queryParamsSubject.next(d.queryParams),g.fragment!==d.fragment&&h.fragmentSubject.next(d.fragment),Ye(g.params,d.params)||h.paramsSubject.next(d.params),function sn(h,g){if(h.length!==g.length)return!1;for(let d=0;d<h.length;++d)if(!Ye(h[d],g[d]))return!1;return!0}(g.url,d.url)||h.urlSubject.next(d.url),Ye(g.data,d.data)||h.dataSubject.next(d.data)}else h.snapshot=h._futureSnapshot,h.dataSubject.next(h._futureSnapshot.data)}function at(h,g){const d=Ye(h.params,g.params)&&function Xt(h,g){return dr(h,g)&&h.every((d,y)=>Ye(d.parameters,g[y].parameters))}(h.url,g.url);return d&&!(!h.parent!=!g.parent)&&(!h.parent||at(h.parent,g.parent))}let $n=(()=>{class h{constructor(){this.activated=null,this._activatedRoute=null,this.name=Le,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Nt),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(_r,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(d){if(d.name){const{firstChange:y,previousValue:w}=d.name;if(y)return;this.isTrackedInParentContexts(w)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(w)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(d){return this.parentContexts.getContext(d)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const d=this.parentContexts.getContext(this.name);d?.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,y){this.activated=d,this._activatedRoute=y,this.location.insert(d.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,y){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=d;const w=this.location,k=d.snapshot.component,le=this.parentContexts.getOrCreateContext(this.name).children,Me=new vr(d,le,w.injector);this.activated=w.createComponent(k,{index:w.length,injector:Me,environmentInjector:y??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275dir=l.lG2({type:h,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),h})();class vr{constructor(g,d,y){this.route=g,this.childContexts=d,this.parent=y}get(g,d){return g===it?this.route:g===Nt?this.childContexts:this.parent.get(g,d)}}const _r=new l.OlP("");let on=(()=>{class h{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(d){this.unsubscribeFromRouteData(d),this.subscribeToRouteData(d)}unsubscribeFromRouteData(d){this.outletDataSubscriptions.get(d)?.unsubscribe(),this.outletDataSubscriptions.delete(d)}subscribeToRouteData(d){const{activatedRoute:y}=d,w=Fe([y.queryParams,y.params,y.data]).pipe((0,se.w)(([O,k,le],Me)=>(le={...O,...k,...le},0===Me?(0,oe.of)(le):Promise.resolve(le)))).subscribe(O=>{if(!d.isActivated||!d.activatedComponentRef||d.activatedRoute!==y||null===y.component)return void this.unsubscribeFromRouteData(d);const k=(0,l.qFp)(y.component);if(k)for(const{templateName:le}of k.inputs)d.activatedComponentRef.setInput(le,O[le]);else this.unsubscribeFromRouteData(d)});this.outletDataSubscriptions.set(d,w)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})();function lr(h,g,d){if(d&&h.shouldReuseRoute(g.value,d.value.snapshot)){const y=d.value;y._futureSnapshot=g.value;const w=function Ln(h,g,d){return g.children.map(y=>{for(const w of d.children)if(h.shouldReuseRoute(y.value,w.value.snapshot))return lr(h,y,w);return lr(h,y)})}(h,g,d);return new ar(y,w)}{if(h.shouldAttach(g.value)){const O=h.retrieve(g.value);if(null!==O){const k=O.route;return k.value._futureSnapshot=g.value,k.children=g.children.map(le=>lr(h,le)),k}}const y=function Rr(h){return new it(new I.X(h.url),new I.X(h.params),new I.X(h.queryParams),new I.X(h.fragment),new I.X(h.data),h.outlet,h.component,h)}(g.value),w=g.children.map(O=>lr(h,O));return new ar(y,w)}}const Yr="ngNavigationCancelingError";function er(h,g){const{redirectTo:d,navigationBehaviorOptions:y}=jn(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,w=En(!1,0,g);return w.url=d,w.navigationBehaviorOptions=y,w}function En(h,g,d){const y=new Error("NavigationCancelingError: "+(h||""));return y[Yr]=!0,y.cancellationCode=g,d&&(y.url=d),y}function po(h){return Tt(h)&&jn(h.url)}function Tt(h){return h&&h[Yr]}let tt=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275cmp=l.Xpm({type:h,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(d,y){1&d&&l._UZ(0,"router-outlet")},dependencies:[$n],encapsulation:2}),h})();function Ht(h){const g=h.children&&h.children.map(Ht),d=g?{...h,children:g}:{...h};return!d.component&&!d.loadComponent&&(g||d.loadChildren)&&d.outlet&&d.outlet!==Le&&(d.component=tt),d}function Yt(h){return h.outlet||Le}function Un(h){if(!h)return null;if(h.routeConfig?._injector)return h.routeConfig._injector;for(let g=h.parent;g;g=g.parent){const d=g.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class Rt{constructor(g,d,y,w,O){this.routeReuseStrategy=g,this.futureState=d,this.currState=y,this.forwardEvent=w,this.inputBindingEnabled=O}activate(g){const d=this.futureState._root,y=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,y,g),Xn(this.futureState.root),this.activateChildRoutes(d,y,g)}deactivateChildRoutes(g,d,y){const w=yr(d);g.children.forEach(O=>{const k=O.value.outlet;this.deactivateRoutes(O,w[k],y),delete w[k]}),Object.values(w).forEach(O=>{this.deactivateRouteAndItsChildren(O,y)})}deactivateRoutes(g,d,y){const w=g.value,O=d?d.value:null;if(w===O)if(w.component){const k=y.getContext(w.outlet);k&&this.deactivateChildRoutes(g,d,k.children)}else this.deactivateChildRoutes(g,d,y);else O&&this.deactivateRouteAndItsChildren(d,y)}deactivateRouteAndItsChildren(g,d){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,d):this.deactivateRouteAndOutlet(g,d)}detachAndStoreRouteSubtree(g,d){const y=d.getContext(g.value.outlet),w=y&&g.value.component?y.children:d,O=yr(g);for(const k of Object.keys(O))this.deactivateRouteAndItsChildren(O[k],w);if(y&&y.outlet){const k=y.outlet.detach(),le=y.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:k,route:g,contexts:le})}}deactivateRouteAndOutlet(g,d){const y=d.getContext(g.value.outlet),w=y&&g.value.component?y.children:d,O=yr(g);for(const k of Object.keys(O))this.deactivateRouteAndItsChildren(O[k],w);y&&(y.outlet&&(y.outlet.deactivate(),y.children.onOutletDeactivated()),y.attachRef=null,y.route=null)}activateChildRoutes(g,d,y){const w=yr(d);g.children.forEach(O=>{this.activateRoutes(O,w[O.value.outlet],y),this.forwardEvent(new wt(O.value.snapshot))}),g.children.length&&this.forwardEvent(new Br(g.value.snapshot))}activateRoutes(g,d,y){const w=g.value,O=d?d.value:null;if(Xn(w),w===O)if(w.component){const k=y.getOrCreateContext(w.outlet);this.activateChildRoutes(g,d,k.children)}else this.activateChildRoutes(g,d,y);else if(w.component){const k=y.getOrCreateContext(w.outlet);if(this.routeReuseStrategy.shouldAttach(w.snapshot)){const le=this.routeReuseStrategy.retrieve(w.snapshot);this.routeReuseStrategy.store(w.snapshot,null),k.children.onOutletReAttached(le.contexts),k.attachRef=le.componentRef,k.route=le.route.value,k.outlet&&k.outlet.attach(le.componentRef,le.route.value),Xn(le.route.value),this.activateChildRoutes(g,null,k.children)}else{const le=Un(w.snapshot);k.attachRef=null,k.route=w,k.injector=le,k.outlet&&k.outlet.activateWith(w,k.injector),this.activateChildRoutes(g,null,k.children)}}else this.activateChildRoutes(g,null,y)}}class Qr{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class go{constructor(g,d){this.component=g,this.route=d}}function Ii(h,g,d){const y=h._root;return wo(y,g?g._root:null,d,[y.value])}function Xr(h,g){const d=Symbol(),y=g.get(h,d);return y===d?"function"!=typeof h||(0,l.Z0I)(h)?g.get(h):h:y}function wo(h,g,d,y,w={canDeactivateChecks:[],canActivateChecks:[]}){const O=yr(g);return h.children.forEach(k=>{(function pi(h,g,d,y,w={canDeactivateChecks:[],canActivateChecks:[]}){const O=h.value,k=g?g.value:null,le=d?d.getContext(h.value.outlet):null;if(k&&O.routeConfig===k.routeConfig){const Me=function ri(h,g,d){if("function"==typeof d)return d(h,g);switch(d){case"pathParamsChange":return!dr(h.url,g.url);case"pathParamsOrQueryParamsChange":return!dr(h.url,g.url)||!Ye(h.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!at(h,g)||!Ye(h.queryParams,g.queryParams);default:return!at(h,g)}}(k,O,O.routeConfig.runGuardsAndResolvers);Me?w.canActivateChecks.push(new Qr(y)):(O.data=k.data,O._resolvedData=k._resolvedData),wo(h,g,O.component?le?le.children:null:d,y,w),Me&&le&&le.outlet&&le.outlet.isActivated&&w.canDeactivateChecks.push(new go(le.outlet.component,k))}else k&&To(g,le,w),w.canActivateChecks.push(new Qr(y)),wo(h,null,O.component?le?le.children:null:d,y,w)})(k,O[k.value.outlet],d,y.concat([k.value]),w),delete O[k.value.outlet]}),Object.entries(O).forEach(([k,le])=>To(le,d.getContext(k),w)),w}function To(h,g,d){const y=yr(h),w=h.value;Object.entries(y).forEach(([O,k])=>{To(k,w.component?g?g.children.getContext(O):null:g,d)}),d.canDeactivateChecks.push(new go(w.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,w))}function Gt(h){return"function"==typeof h}function b(h){return h instanceof Ce||"EmptyError"===h?.name}const x=Symbol("INITIAL_VALUE");function R(){return(0,se.w)(h=>Fe(h.map(g=>g.pipe(Pe(1),function Ve(...h){const g=(0,ie.yG)(h);return(0,Be.e)((d,y)=>{(g?ye(h,d,g):ye(h,d)).subscribe(y)})}(x)))).pipe((0,Q.U)(g=>{for(const d of g)if(!0!==d){if(d===x)return x;if(!1===d||d instanceof kt)return d}return!0}),Oe(g=>g!==x),Pe(1)))}function va(h){return(0,fe.z)(pt(g=>{if(jn(g))throw er(0,g)}),(0,Q.U)(g=>!0===g))}class tr{constructor(g){this.segmentGroup=g||null}}class oi{constructor(g){this.urlTree=g}}function pn(h){return J(new tr(h))}function Ri(h){return J(new oi(h))}class xi{constructor(g,d){this.urlSerializer=g,this.urlTree=d}noMatchError(g){return new l.vHH(4002,!1)}lineralizeSegments(g,d){let y=[],w=d.root;for(;;){if(y=y.concat(w.segments),0===w.numberOfChildren)return(0,oe.of)(y);if(w.numberOfChildren>1||!w.children[Le])return J(new l.vHH(4e3,!1));w=w.children[Le]}}applyRedirectCommands(g,d,y){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),g,y)}applyRedirectCreateUrlTree(g,d,y,w){const O=this.createSegmentGroup(g,d.root,y,w);return new kt(O,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(g,d){const y={};return Object.entries(g).forEach(([w,O])=>{if("string"==typeof O&&O.startsWith(":")){const le=O.substring(1);y[w]=d[le]}else y[w]=O}),y}createSegmentGroup(g,d,y,w){const O=this.createSegments(g,d.segments,y,w);let k={};return Object.entries(d.children).forEach(([le,Me])=>{k[le]=this.createSegmentGroup(g,Me,y,w)}),new bt(O,k)}createSegments(g,d,y,w){return d.map(O=>O.path.startsWith(":")?this.findPosParam(g,O,w):this.findOrReturn(O,y))}findPosParam(g,d,y){const w=y[d.path.substring(1)];if(!w)throw new l.vHH(4001,!1);return w}findOrReturn(g,d){let y=0;for(const w of d){if(w.path===g.path)return d.splice(y),w;y++}return g}}const Jo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(h,g,d,y,w){const O=Oi(h,g,d);return O.matched?(y=function Yo(h,g){return h.providers&&!h._injector&&(h._injector=(0,l.MMx)(h.providers,g,`Route: ${h.path}`)),h._injector??g}(g,y),function Cs(h,g,d,y){const w=g.canMatch;if(!w||0===w.length)return(0,oe.of)(!0);const O=w.map(k=>{const le=Xr(k,h);return an(function c(h){return h&&Gt(h.canMatch)}(le)?le.canMatch(g,d):h.runInContext(()=>le(g,d)))});return(0,oe.of)(O).pipe(R(),va())}(y,g,d).pipe((0,Q.U)(k=>!0===k?O:{...Jo}))):(0,oe.of)(O)}function Oi(h,g,d){if(""===g.path)return"full"===g.pathMatch&&(h.hasChildren()||d.length>0)?{...Jo}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const w=(g.matcher||Ot)(d,h,g);if(!w)return{...Jo};const O={};Object.entries(w.posParams??{}).forEach(([le,Me])=>{O[le]=Me.path});const k=w.consumed.length>0?{...O,...w.consumed[w.consumed.length-1].parameters}:O;return{matched:!0,consumedSegments:w.consumed,remainingSegments:d.slice(w.consumed.length),parameters:k,positionalParamSegments:w.posParams??{}}}function ki(h,g,d,y){return d.length>0&&function mi(h,g,d){return d.some(y=>Ni(h,g,y)&&Yt(y)!==Le)}(h,d,y)?{segmentGroup:new bt(g,Ds(y,new bt(d,h.children))),slicedSegments:[]}:0===d.length&&function Ca(h,g,d){return d.some(y=>Ni(h,g,y))}(h,d,y)?{segmentGroup:new bt(h.segments,gi(h,0,d,y,h.children)),slicedSegments:d}:{segmentGroup:new bt(h.segments,h.children),slicedSegments:d}}function gi(h,g,d,y,w){const O={};for(const k of y)if(Ni(h,d,k)&&!w[Yt(k)]){const le=new bt([],{});O[Yt(k)]=le}return{...w,...O}}function Ds(h,g){const d={};d[Le]=g;for(const y of h)if(""===y.path&&Yt(y)!==Le){const w=new bt([],{});d[Yt(y)]=w}return d}function Ni(h,g,d){return(!(h.hasChildren()||g.length>0)||"full"!==d.pathMatch)&&""===d.path}class ba{constructor(g,d,y,w,O,k,le){this.injector=g,this.configLoader=d,this.rootComponentType=y,this.config=w,this.urlTree=O,this.paramsInheritanceStrategy=k,this.urlSerializer=le,this.allowRedirects=!0,this.applyRedirects=new xi(this.urlSerializer,this.urlTree)}noMatchError(g){return new l.vHH(4002,!1)}recognize(){const g=ki(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,g,Le).pipe(Lt(d=>{if(d instanceof oi)return this.allowRedirects=!1,this.urlTree=d.urlTree,this.match(d.urlTree);throw d instanceof tr?this.noMatchError(d):d}),(0,Q.U)(d=>{const y=new ln([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Le,this.rootComponentType,null,{}),w=new ar(y,d),O=new Zn("",w),k=function zr(h,g,d=null,y=null){return ro(Mr(h),g,d,y)}(y,[],this.urlTree.queryParams,this.urlTree.fragment);return k.queryParams=this.urlTree.queryParams,O.url=this.urlSerializer.serialize(k),this.inheritParamsAndData(O._root),{state:O,tree:k}}))}match(g){return this.processSegmentGroup(this.injector,this.config,g.root,Le).pipe(Lt(y=>{throw y instanceof tr?this.noMatchError(y):y}))}inheritParamsAndData(g){const d=g.value,y=It(d,this.paramsInheritanceStrategy);d.params=Object.freeze(y.params),d.data=Object.freeze(y.data),g.children.forEach(w=>this.inheritParamsAndData(w))}processSegmentGroup(g,d,y,w){return 0===y.segments.length&&y.hasChildren()?this.processChildren(g,d,y):this.processSegment(g,d,y,y.segments,w,!0)}processChildren(g,d,y){const w=[];for(const O of Object.keys(y.children))"primary"===O?w.unshift(O):w.push(O);return(0,W.D)(w).pipe(Ct(O=>{const k=y.children[O],le=function dt(h,g){const d=h.filter(y=>Yt(y)===g);return d.push(...h.filter(y=>Yt(y)!==g)),d}(d,O);return this.processSegmentGroup(g,le,k,O)}),function vn(h,g){return(0,Be.e)(function yn(h,g,d,y,w){return(O,k)=>{let le=d,Me=g,Ze=0;O.subscribe((0,Ne.x)(k,Qe=>{const Ft=Ze++;Me=le?h(Me,Qe,Ft):(le=!0,Qe),y&&k.next(Me)},w&&(()=>{le&&k.next(Me),k.complete()})))}}(h,g,arguments.length>=2,!0))}((O,k)=>(O.push(...k),O)),qe(null),function wn(h,g){const d=arguments.length>=2;return y=>y.pipe(h?Oe((w,O)=>h(w,O,y)):B.y,en(1),d?qe(g):Kt(()=>new Ce))}(),(0,je.z)(O=>{if(null===O)return pn(y);const k=Li(O);return function Sa(h){h.sort((g,d)=>g.value.outlet===Le?-1:d.value.outlet===Le?1:g.value.outlet.localeCompare(d.value.outlet))}(k),(0,oe.of)(k)}))}processSegment(g,d,y,w,O,k){return(0,W.D)(d).pipe(Ct(le=>this.processSegmentAgainstRoute(le._injector??g,d,le,y,w,O,k).pipe(Lt(Me=>{if(Me instanceof tr)return(0,oe.of)(null);throw Me}))),ht(le=>!!le),Lt(le=>{if(b(le))return function Da(h,g,d){return 0===g.length&&!h.children[d]}(y,w,O)?(0,oe.of)([]):pn(y);throw le}))}processSegmentAgainstRoute(g,d,y,w,O,k,le){return function Hc(h,g,d,y){return!!(Yt(h)===y||y!==Le&&Ni(g,d,h))&&("**"===h.path||Oi(g,h,d).matched)}(y,w,O,k)?void 0===y.redirectTo?this.matchSegmentAgainstRoute(g,w,y,O,k,le):le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,w,d,y,O,k):pn(w):pn(w)}expandSegmentAgainstRouteUsingRedirect(g,d,y,w,O,k){return"**"===w.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,y,w,k):this.expandRegularSegmentAgainstRouteUsingRedirect(g,d,y,w,O,k)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,d,y,w){const O=this.applyRedirects.applyRedirectCommands([],y.redirectTo,{});return y.redirectTo.startsWith("/")?Ri(O):this.applyRedirects.lineralizeSegments(y,O).pipe((0,je.z)(k=>{const le=new bt(k,{});return this.processSegment(g,d,le,k,w,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,d,y,w,O,k){const{matched:le,consumedSegments:Me,remainingSegments:Ze,positionalParamSegments:Qe}=Oi(d,w,O);if(!le)return pn(d);const Ft=this.applyRedirects.applyRedirectCommands(Me,w.redirectTo,Qe);return w.redirectTo.startsWith("/")?Ri(Ft):this.applyRedirects.lineralizeSegments(w,Ft).pipe((0,je.z)(or=>this.processSegment(g,y,d,or.concat(Ze),k,!1)))}matchSegmentAgainstRoute(g,d,y,w,O,k){let le;if("**"===y.path){const Me=w.length>0?Tr(w).parameters:{},Ze=new ln(w,Me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(y),Yt(y),y.component??y._loadedComponent??null,y,M(y));le=(0,oe.of)({snapshot:Ze,consumedSegments:[],remainingSegments:[]}),d.children={}}else le=_a(d,y,w,g).pipe((0,Q.U)(({matched:Me,consumedSegments:Ze,remainingSegments:Qe,parameters:Ft})=>Me?{snapshot:new ln(Ze,Ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(y),Yt(y),y.component??y._loadedComponent??null,y,M(y)),consumedSegments:Ze,remainingSegments:Qe}:null));return le.pipe((0,se.w)(Me=>null===Me?pn(d):this.getChildConfig(g=y._injector??g,y,w).pipe((0,se.w)(({routes:Ze})=>{const Qe=y._loadedInjector??g,{snapshot:Ft,consumedSegments:or,remainingSegments:_i}=Me,{segmentGroup:ai,slicedSegments:ci}=ki(d,or,_i,Ze);if(0===ci.length&&ai.hasChildren())return this.processChildren(Qe,Ze,ai).pipe((0,Q.U)(Ao=>null===Ao?null:[new ar(Ft,Ao)]));if(0===Ze.length&&0===ci.length)return(0,oe.of)([new ar(Ft,[])]);const Os=Yt(y)===O;return this.processSegment(Qe,Ze,ai,ci,Os?Le:O,!0).pipe((0,Q.U)(Ao=>[new ar(Ft,Ao)]))}))))}getChildConfig(g,d,y){return d.children?(0,oe.of)({routes:d.children,injector:g}):d.loadChildren?void 0!==d._loadedRoutes?(0,oe.of)({routes:d._loadedRoutes,injector:d._loadedInjector}):function Ai(h,g,d,y){const w=g.canLoad;if(void 0===w||0===w.length)return(0,oe.of)(!0);const O=w.map(k=>{const le=Xr(k,h);return an(function S(h){return h&&Gt(h.canLoad)}(le)?le.canLoad(g,d):h.runInContext(()=>le(g,d)))});return(0,oe.of)(O).pipe(R(),va())}(g,d,y).pipe((0,je.z)(w=>w?this.configLoader.loadChildren(g,d).pipe(pt(O=>{d._loadedRoutes=O.routes,d._loadedInjector=O.injector})):function Pi(h){return J(En(!1,3))}())):(0,oe.of)({routes:[],injector:g})}}function Fi(h){const g=h.value.routeConfig;return g&&""===g.path}function Li(h){const g=[],d=new Set;for(const y of h){if(!Fi(y)){g.push(y);continue}const w=g.find(O=>y.value.routeConfig===O.value.routeConfig);void 0!==w?(w.children.push(...y.children),d.add(w)):g.push(y)}for(const y of d){const w=Li(y.children);g.push(new ar(y.value,w))}return g.filter(y=>!d.has(y))}function _(h){return h.data||{}}function M(h){return h.resolve||{}}function qt(h){return"string"==typeof h.title||null===h.title}function st(h){return(0,se.w)(g=>{const d=h(g);return d?(0,W.D)(d).pipe((0,Q.U)(()=>g)):(0,oe.of)(g)})}const At=new l.OlP("ROUTES");let yt=(()=>{class h{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(d){if(this.componentLoaders.get(d))return this.componentLoaders.get(d);if(d._loadedComponent)return(0,oe.of)(d._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(d);const y=an(d.loadComponent()).pipe((0,Q.U)(tn),pt(O=>{this.onLoadEndListener&&this.onLoadEndListener(d),d._loadedComponent=O}),ir(()=>{this.componentLoaders.delete(d)})),w=new Ie(y,()=>new de.x).pipe(Z());return this.componentLoaders.set(d,w),w}loadChildren(d,y){if(this.childrenLoaders.get(y))return this.childrenLoaders.get(y);if(y._loadedRoutes)return(0,oe.of)({routes:y._loadedRoutes,injector:y._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(y);const O=this.loadModuleFactoryOrRoutes(y.loadChildren).pipe((0,Q.U)(le=>{this.onLoadEndListener&&this.onLoadEndListener(y);let Me,Ze;return Array.isArray(le)?Ze=le:(Me=le.create(d).injector,Ze=Me.get(At,[],l.XFs.Self|l.XFs.Optional).flat()),{routes:Ze.map(Ht),injector:Me}}),ir(()=>{this.childrenLoaders.delete(y)})),k=new Ie(O,()=>new de.x).pipe(Z());return this.childrenLoaders.set(y,k),k}loadModuleFactoryOrRoutes(d){return an(d()).pipe((0,Q.U)(tn),(0,je.z)(y=>y instanceof l.YKP||Array.isArray(y)?(0,oe.of)(y):(0,W.D)(this.compiler.compileModuleAsync(y))))}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function tn(h){return function Pt(h){return h&&"object"==typeof h&&"default"in h}(h)?h.default:h}let gn=(()=>{class h{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new de.x,this.configLoader=(0,l.f3M)(yt),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Vn),this.rootContexts=(0,l.f3M)(Nt),this.inputBindingEnabled=null!==(0,l.f3M)(_r,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,oe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=w=>this.events.next(new Lo(w)),this.configLoader.onLoadStartListener=w=>this.events.next(new lo(w))}complete(){this.transitions?.complete()}handleNavigationRequest(d){const y=++this.navigationId;this.transitions?.next({...this.transitions.value,...d,id:y})}setupNavigations(d){return this.transitions=new I.X({id:0,currentUrlTree:d.currentUrlTree,currentRawUrl:d.currentUrlTree,extractedUrl:d.urlHandlingStrategy.extract(d.currentUrlTree),urlAfterRedirects:d.urlHandlingStrategy.extract(d.currentUrlTree),rawUrl:d.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lr,restoredState:null,currentSnapshot:d.routerState.snapshot,targetSnapshot:null,currentRouterState:d.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oe(y=>0!==y.id),(0,Q.U)(y=>({...y,extractedUrl:d.urlHandlingStrategy.extract(y.rawUrl)})),(0,se.w)(y=>{let w=!1,O=!1;return(0,oe.of)(y).pipe(pt(k=>{this.currentNavigation={id:k.id,initialUrl:k.rawUrl,extractedUrl:k.extractedUrl,trigger:k.source,extras:k.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,se.w)(k=>{const le=d.browserUrlTree.toString(),Me=!d.navigated||k.extractedUrl.toString()!==le||le!==d.currentUrlTree.toString();if(!Me&&"reload"!==(k.extras.onSameUrlNavigation??d.onSameUrlNavigation)){const Qe="";return this.events.next(new Do(k.id,d.serializeUrl(y.rawUrl),Qe,0)),d.rawUrlTree=k.rawUrl,k.resolve(null),ue.E}if(d.urlHandlingStrategy.shouldProcessUrl(k.rawUrl))return nr(k.source)&&(d.browserUrlTree=k.extractedUrl),(0,oe.of)(k).pipe((0,se.w)(Qe=>{const Ft=this.transitions?.getValue();return this.events.next(new Fo(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),Qe.source,Qe.restoredState)),Ft!==this.transitions?.getValue()?ue.E:Promise.resolve(Qe)}),function C(h,g,d,y,w,O){return(0,je.z)(k=>function bs(h,g,d,y,w,O,k="emptyOnly"){return new ba(h,g,d,y,w,k,O).recognize()}(h,g,d,y,k.extractedUrl,w,O).pipe((0,Q.U)(({state:le,tree:Me})=>({...k,targetSnapshot:le,urlAfterRedirects:Me}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,d.config,this.urlSerializer,d.paramsInheritanceStrategy),pt(Qe=>{if(y.targetSnapshot=Qe.targetSnapshot,y.urlAfterRedirects=Qe.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Qe.urlAfterRedirects},"eager"===d.urlUpdateStrategy){if(!Qe.extras.skipLocationChange){const or=d.urlHandlingStrategy.merge(Qe.urlAfterRedirects,Qe.rawUrl);d.setBrowserUrl(or,Qe)}d.browserUrlTree=Qe.urlAfterRedirects}const Ft=new ao(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Ft)}));if(Me&&d.urlHandlingStrategy.shouldProcessUrl(d.rawUrlTree)){const{id:Qe,extractedUrl:Ft,source:or,restoredState:_i,extras:ai}=k,ci=new Fo(Qe,this.urlSerializer.serialize(Ft),or,_i);this.events.next(ci);const Os=Ue(0,this.rootComponentType).snapshot;return y={...k,targetSnapshot:Os,urlAfterRedirects:Ft,extras:{...ai,skipLocationChange:!1,replaceUrl:!1}},(0,oe.of)(y)}{const Qe="";return this.events.next(new Do(k.id,d.serializeUrl(y.extractedUrl),Qe,1)),d.rawUrlTree=k.rawUrl,k.resolve(null),ue.E}}),pt(k=>{const le=new Zo(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(le)}),(0,Q.U)(k=>y={...k,guards:Ii(k.targetSnapshot,k.currentSnapshot,this.rootContexts)}),function U(h,g){return(0,je.z)(d=>{const{targetSnapshot:y,currentSnapshot:w,guards:{canActivateChecks:O,canDeactivateChecks:k}}=d;return 0===k.length&&0===O.length?(0,oe.of)({...d,guardsResult:!0}):function j(h,g,d,y){return(0,W.D)(h).pipe((0,je.z)(w=>function Wt(h,g,d,y,w){const O=g&&g.routeConfig?g.routeConfig.canDeactivate:null;if(!O||0===O.length)return(0,oe.of)(!0);const k=O.map(le=>{const Me=Un(g)??w,Ze=Xr(le,Me);return an(function i(h){return h&&Gt(h.canDeactivate)}(Ze)?Ze.canDeactivate(h,g,d,y):Me.runInContext(()=>Ze(h,g,d,y))).pipe(ht())});return(0,oe.of)(k).pipe(R())}(w.component,w.route,d,g,y)),ht(w=>!0!==w,!0))}(k,y,w,h).pipe((0,je.z)(le=>le&&function $r(h){return"boolean"==typeof h}(le)?function ne(h,g,d,y){return(0,W.D)(g).pipe(Ct(w=>ye(function We(h,g){return null!==h&&g&&g(new uo(h)),(0,oe.of)(!0)}(w.route.parent,y),function Ee(h,g){return null!==h&&g&&g(new fo(h)),(0,oe.of)(!0)}(w.route,y),function zt(h,g,d){const y=g[g.length-1],O=g.slice(0,g.length-1).reverse().map(k=>function hi(h){const g=h.routeConfig?h.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:h,guards:g}:null}(k)).filter(k=>null!==k).map(k=>me(()=>{const le=k.guards.map(Me=>{const Ze=Un(k.node)??d,Qe=Xr(Me,Ze);return an(function s(h){return h&&Gt(h.canActivateChild)}(Qe)?Qe.canActivateChild(y,h):Ze.runInContext(()=>Qe(y,h))).pipe(ht())});return(0,oe.of)(le).pipe(R())}));return(0,oe.of)(O).pipe(R())}(h,w.path,d),function Et(h,g,d){const y=g.routeConfig?g.routeConfig.canActivate:null;if(!y||0===y.length)return(0,oe.of)(!0);const w=y.map(O=>me(()=>{const k=Un(g)??d,le=Xr(O,k);return an(function D(h){return h&&Gt(h.canActivate)}(le)?le.canActivate(g,h):k.runInContext(()=>le(g,h))).pipe(ht())}));return(0,oe.of)(w).pipe(R())}(h,w.route,d))),ht(w=>!0!==w,!0))}(y,O,h,g):(0,oe.of)(le)),(0,Q.U)(le=>({...d,guardsResult:le})))})}(this.environmentInjector,k=>this.events.next(k)),pt(k=>{if(y.guardsResult=k.guardsResult,jn(k.guardsResult))throw er(0,k.guardsResult);const le=new ti(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot,!!k.guardsResult);this.events.next(le)}),Oe(k=>!!k.guardsResult||(d.restoreHistory(k),this.cancelNavigationTransition(k,"",3),!1)),st(k=>{if(k.guards.canActivateChecks.length)return(0,oe.of)(k).pipe(pt(le=>{const Me=new co(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot);this.events.next(Me)}),(0,se.w)(le=>{let Me=!1;return(0,oe.of)(le).pipe(function P(h,g){return(0,je.z)(d=>{const{targetSnapshot:y,guards:{canActivateChecks:w}}=d;if(!w.length)return(0,oe.of)(d);let O=0;return(0,W.D)(w).pipe(Ct(k=>function G(h,g,d,y){const w=h.routeConfig,O=h._resolve;return void 0!==w?.title&&!qt(w)&&(O[Jt]=w.title),function Se(h,g,d,y){const w=function Te(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}(h);if(0===w.length)return(0,oe.of)({});const O={};return(0,W.D)(w).pipe((0,je.z)(k=>function Je(h,g,d,y){const w=Un(g)??y,O=Xr(h,w);return an(O.resolve?O.resolve(g,d):w.runInContext(()=>O(g,d)))}(h[k],g,d,y).pipe(ht(),pt(le=>{O[k]=le}))),en(1),function Zt(h){return(0,Q.U)(()=>h)}(O),Lt(k=>b(k)?ue.E:J(k)))}(O,h,g,y).pipe((0,Q.U)(k=>(h._resolvedData=k,h.data=It(h,d).resolve,w&&qt(w)&&(h.data[Jt]=w.title),null)))}(k.route,y,h,g)),pt(()=>O++),en(1),(0,je.z)(k=>O===w.length?(0,oe.of)(d):ue.E))})}(d.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>Me=!0,complete:()=>{Me||(d.restoreHistory(le),this.cancelNavigationTransition(le,"",2))}}))}),pt(le=>{const Me=new ni(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot);this.events.next(Me)}))}),st(k=>{const le=Me=>{const Ze=[];Me.routeConfig?.loadComponent&&!Me.routeConfig._loadedComponent&&Ze.push(this.configLoader.loadComponent(Me.routeConfig).pipe(pt(Qe=>{Me.component=Qe}),(0,Q.U)(()=>{})));for(const Qe of Me.children)Ze.push(...le(Qe));return Ze};return Fe(le(k.targetSnapshot.root)).pipe(qe(),Pe(1))}),st(()=>this.afterPreactivation()),(0,Q.U)(k=>{const le=function ho(h,g,d){const y=lr(h,g._root,d?d._root:void 0);return new De(y,g)}(d.routeReuseStrategy,k.targetSnapshot,k.currentRouterState);return y={...k,targetRouterState:le}}),pt(k=>{d.currentUrlTree=k.urlAfterRedirects,d.rawUrlTree=d.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl),d.routerState=k.targetRouterState,"deferred"===d.urlUpdateStrategy&&(k.extras.skipLocationChange||d.setBrowserUrl(d.rawUrlTree,k),d.browserUrlTree=k.urlAfterRedirects)}),((h,g,d,y)=>(0,Q.U)(w=>(new Rt(g,w.targetRouterState,w.currentRouterState,d,y).activate(h),w)))(this.rootContexts,d.routeReuseStrategy,k=>this.events.next(k),this.inputBindingEnabled),Pe(1),pt({next:k=>{w=!0,this.lastSuccessfulNavigation=this.currentNavigation,d.navigated=!0,this.events.next(new Ar(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(d.currentUrlTree))),d.titleStrategy?.updateTitle(k.targetRouterState.snapshot),k.resolve(!0)},complete:()=>{w=!0}}),ir(()=>{w||O||this.cancelNavigationTransition(y,"",1),this.currentNavigation?.id===y.id&&(this.currentNavigation=null)}),Lt(k=>{if(O=!0,Tt(k)){po(k)||(d.navigated=!0,d.restoreHistory(y,!0));const le=new Vr(y.id,this.urlSerializer.serialize(y.extractedUrl),k.message,k.cancellationCode);if(this.events.next(le),po(k)){const Me=d.urlHandlingStrategy.merge(k.url,d.rawUrlTree),Ze={skipLocationChange:y.extras.skipLocationChange,replaceUrl:"eager"===d.urlUpdateStrategy||nr(y.source)};d.scheduleNavigation(Me,Lr,null,Ze,{resolve:y.resolve,reject:y.reject,promise:y.promise})}else y.resolve(!1)}else{d.restoreHistory(y,!0);const le=new bn(y.id,this.urlSerializer.serialize(y.extractedUrl),k,y.targetSnapshot??void 0);this.events.next(le);try{y.resolve(d.errorHandler(k))}catch(Me){y.reject(Me)}}return ue.E}))}))}cancelNavigationTransition(d,y,w){const O=new Vr(d.id,this.urlSerializer.serialize(d.extractedUrl),y,w);this.events.next(O),d.resolve(!1)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function nr(h){return h!==Lr}let mn=(()=>{class h{buildTitle(d){let y,w=d.root;for(;void 0!==w;)y=this.getResolvedTitleForRoute(w)??y,w=w.children.find(O=>O.outlet===Le);return y}getResolvedTitleForRoute(d){return d.data[Jt]}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(Vo)},providedIn:"root"}),h})(),Vo=(()=>{class h extends mn{constructor(d){super(),this.title=d}updateTitle(d){const y=this.buildTitle(d);void 0!==y&&this.title.setTitle(y)}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(un.Dx))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Pr=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(rr)},providedIn:"root"}),h})();class Mo{shouldDetach(g){return!1}store(g,d){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,d){return g.routeConfig===d.routeConfig}}let rr=(()=>{class h extends Mo{}return h.\u0275fac=function(){let g;return function(y){return(g||(g=l.n5z(h)))(y||h)}}(),h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const Ur=new l.OlP("",{providedIn:"root",factory:()=>({})});let Gc=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(Ea)},providedIn:"root"}),h})(),Ea=(()=>{class h{shouldProcessUrl(d){return!0}extract(d){return d}merge(d,y){return d}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var Cr=(()=>((Cr=Cr||{})[Cr.COMPLETE=0]="COMPLETE",Cr[Cr.FAILED=1]="FAILED",Cr[Cr.REDIRECTING=2]="REDIRECTING",Cr))();function Ss(h,g){h.events.pipe(Oe(d=>d instanceof Ar||d instanceof Vr||d instanceof bn||d instanceof Do),(0,Q.U)(d=>d instanceof Ar||d instanceof Do?Cr.COMPLETE:d instanceof Vr&&(0===d.code||1===d.code)?Cr.REDIRECTING:Cr.FAILED),Oe(d=>d!==Cr.REDIRECTING),Pe(1)).subscribe(()=>{g()})}function zc(h){throw h}function ft(h,g,d){return g.parse("/")}const wa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},md={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class h{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Ur,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||zc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ft,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Gc),this.routeReuseStrategy=(0,l.f3M)(Pr),this.titleStrategy=(0,l.f3M)(mn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(At,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(gn),this.urlSerializer=(0,l.f3M)(Vn),this.location=(0,l.f3M)(Y.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(_r,{optional:!0}),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ue(0,null),this.navigationTransitions.setupNavigations(this).subscribe(d=>{this.lastSuccessfulId=d.id,this.currentPageId=this.browserPageId??0},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)})}resetRootComponentType(d){this.routerState.root.component=d,this.navigationTransitions.rootComponentType=d}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const d=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lr,d)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const y="popstate"===d.type?"popstate":"hashchange";"popstate"===y&&setTimeout(()=>{this.navigateToSyncWithBrowser(d.url,y,d.state)},0)}))}navigateToSyncWithBrowser(d,y,w){const O={replaceUrl:!0},k=w?.navigationId?w:null;if(w){const Me={...w};delete Me.navigationId,delete Me.\u0275routerPageId,0!==Object.keys(Me).length&&(O.state=Me)}const le=this.parseUrl(d);this.scheduleNavigation(le,y,k,O)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(d){this.config=d.map(Ht),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(d,y={}){const{relativeTo:w,queryParams:O,fragment:k,queryParamsHandling:le,preserveFragment:Me}=y,Ze=Me?this.currentUrlTree.fragment:k;let Ft,Qe=null;switch(le){case"merge":Qe={...this.currentUrlTree.queryParams,...O};break;case"preserve":Qe=this.currentUrlTree.queryParams;break;default:Qe=O||null}null!==Qe&&(Qe=this.removeEmptyProps(Qe));try{Ft=Mr(w?w.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof d[0]||!d[0].startsWith("/"))&&(d=[]),Ft=this.currentUrlTree.root}return ro(Ft,d,Qe,Ze??null)}navigateByUrl(d,y={skipLocationChange:!1}){const w=jn(d)?d:this.parseUrl(d),O=this.urlHandlingStrategy.merge(w,this.rawUrlTree);return this.scheduleNavigation(O,Lr,null,y)}navigate(d,y={skipLocationChange:!1}){return function Wc(h){for(let g=0;g<h.length;g++)if(null==h[g])throw new l.vHH(4008,!1)}(d),this.navigateByUrl(this.createUrlTree(d,y),y)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let y;try{y=this.urlSerializer.parse(d)}catch(w){y=this.malformedUriErrorHandler(w,this.urlSerializer,d)}return y}isActive(d,y){let w;if(w=!0===y?{...wa}:!1===y?{...md}:y,jn(d))return rn(this.currentUrlTree,d,w);const O=this.parseUrl(d);return rn(this.currentUrlTree,O,w)}removeEmptyProps(d){return Object.keys(d).reduce((y,w)=>{const O=d[w];return null!=O&&(y[w]=O),y},{})}scheduleNavigation(d,y,w,O,k){if(this.disposed)return Promise.resolve(!1);let le,Me,Ze;k?(le=k.resolve,Me=k.reject,Ze=k.promise):Ze=new Promise((Ft,or)=>{le=Ft,Me=or});const Qe=this.pendingTasks.add();return Ss(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Qe))}),this.navigationTransitions.handleNavigationRequest({source:y,restoredState:w,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:d,extras:O,resolve:le,reject:Me,promise:Ze,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ze.catch(Ft=>Promise.reject(Ft))}setBrowserUrl(d,y){const w=this.urlSerializer.serialize(d);if(this.location.isCurrentPathEqualTo(w)||y.extras.replaceUrl){const k={...y.extras.state,...this.generateNgRouterState(y.id,this.browserPageId)};this.location.replaceState(w,"",k)}else{const O={...y.extras.state,...this.generateNgRouterState(y.id,(this.browserPageId??0)+1)};this.location.go(w,"",O)}}restoreHistory(d,y=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-(this.browserPageId??this.currentPageId);0!==O?this.location.historyGo(O):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===O&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(y&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(d,y){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:y}:{navigationId:d}}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Vi=(()=>{class h{constructor(d,y,w,O,k,le){this.router=d,this.route=y,this.tabIndexAttribute=w,this.renderer=O,this.el=k,this.locationStrategy=le,this.href=null,this.commands=null,this.onChanges=new de.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Me=k.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Me||"area"===Me,this.isAnchorElement?this.subscription=d.events.subscribe(Ze=>{Ze instanceof Ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(d){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",d)}ngOnChanges(d){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(d,y,w,O,k){return!!(null===this.urlTree||this.isAnchorElement&&(0!==d||y||w||O||k||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const d=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",d)}applyAttributeValue(d,y){const w=this.renderer,O=this.el.nativeElement;null!==y?w.setAttribute(O,d,y):w.removeAttribute(O,d)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return h.\u0275fac=function(d){return new(d||h)(l.Y36(xr),l.Y36(it),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Y.S$))},h.\u0275dir=l.lG2({type:h,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(d,y){1&d&&l.NdJ("click",function(O){return y.onClick(O.button,O.ctrlKey,O.shiftKey,O.altKey,O.metaKey)}),2&d&&l.uIk("target",y.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]}),h})(),Es=(()=>{class h{get isActive(){return this._isActive}constructor(d,y,w,O,k){this.router=d,this.element=y,this.renderer=w,this.cdr=O,this.link=k,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=d.events.subscribe(le=>{le instanceof Ar&&this.update()})}ngAfterContentInit(){(0,oe.of)(this.links.changes,(0,oe.of)(null)).pipe((0,_e.J)()).subscribe(d=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const d=[...this.links.toArray(),this.link].filter(y=>!!y).map(y=>y.onChanges);this.linkInputChangesSubscription=(0,W.D)(d).pipe((0,_e.J)()).subscribe(y=>{this._isActive!==this.isLinkActive(this.router)(y)&&this.update()})}set routerLinkActive(d){const y=Array.isArray(d)?d:d.split(" ");this.classes=y.filter(w=>!!w)}ngOnChanges(d){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const d=this.hasActiveLinks();this._isActive!==d&&(this._isActive=d,this.cdr.markForCheck(),this.classes.forEach(y=>{d?this.renderer.addClass(this.element.nativeElement,y):this.renderer.removeClass(this.element.nativeElement,y)}),d&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(d))})}isLinkActive(d){const y=function ii(h){return!!h.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return w=>!!w.urlTree&&d.isActive(w.urlTree,y)}hasActiveLinks(){const d=this.isLinkActive(this.router);return this.link&&d(this.link)||this.links.some(d)}}return h.\u0275fac=function(d){return new(d||h)(l.Y36(xr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Vi,8))},h.\u0275dir=l.lG2({type:h,selectors:[["","routerLinkActive",""]],contentQueries:function(d,y,w){if(1&d&&l.Suo(w,Vi,5),2&d){let O;l.iGM(O=l.CRH())&&(y.links=O)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),h})();class Ta{}let Zc=(()=>{class h{constructor(d,y,w,O,k){this.router=d,this.injector=w,this.preloadingStrategy=O,this.loader=k}setUpPreloading(){this.subscription=this.router.events.pipe(Oe(d=>d instanceof Ar),Ct(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,y){const w=[];for(const O of y){O.providers&&!O._injector&&(O._injector=(0,l.MMx)(O.providers,d,`Route: ${O.path}`));const k=O._injector??d,le=O._loadedInjector??k;(O.loadChildren&&!O._loadedRoutes&&void 0===O.canLoad||O.loadComponent&&!O._loadedComponent)&&w.push(this.preloadConfig(k,O)),(O.children||O._loadedRoutes)&&w.push(this.processRoutes(le,O.children??O._loadedRoutes))}return(0,W.D)(w).pipe((0,_e.J)())}preloadConfig(d,y){return this.preloadingStrategy.preload(y,()=>{let w;w=y.loadChildren&&void 0===y.canLoad?this.loader.loadChildren(d,y):(0,oe.of)(null);const O=w.pipe((0,je.z)(k=>null===k?(0,oe.of)(void 0):(y._loadedRoutes=k.routes,y._loadedInjector=k.injector,this.processRoutes(k.injector??d,k.routes))));if(y.loadComponent&&!y._loadedComponent){const k=this.loader.loadComponent(y);return(0,W.D)([O,k]).pipe((0,_e.J)())}return O})}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(xr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ta),l.LFG(yt))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const ws=new l.OlP("");let xe=(()=>{class h{constructor(d,y,w,O,k={}){this.urlSerializer=d,this.transitions=y,this.viewportScroller=w,this.zone=O,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof Ar?(this.lastId=d.id,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.urlAfterRedirects).fragment)):d instanceof Do&&0===d.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Sn&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,y){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sn(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,y))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return h.\u0275fac=function(d){l.$Z()},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})();function mo(h,g){return{\u0275kind:h,\u0275providers:g}}function ji(){const h=(0,l.f3M)(l.zs3);return g=>{const d=h.get(l.z2F);if(g!==d.components[0])return;const y=h.get(xr),w=h.get($i);1===h.get(Ms)&&y.initialNavigation(),h.get(yo,null,l.XFs.Optional)?.setUpPreloading(),h.get(ws,null,l.XFs.Optional)?.init(),y.resetRootComponentType(d.componentTypes[0]),w.closed||(w.next(),w.complete(),w.unsubscribe())}}const $i=new l.OlP("",{factory:()=>new de.x}),Ms=new l.OlP("",{providedIn:"root",factory:()=>1}),yo=new l.OlP("");function Ia(h){return mo(0,[{provide:yo,useExisting:Zc},{provide:Ta,useExisting:h}])}const Ra=new l.OlP("ROUTER_FORROOT_GUARD"),Is=[Y.Ye,{provide:Vn,useClass:Tn},xr,Nt,{provide:it,useFactory:function Ts(h){return h.routerState.root},deps:[xr]},yt,[]];function As(){return new l.PXZ("Router",xr)}let Pa=(()=>{class h{constructor(d){}static forRoot(d,y){return{ngModule:h,providers:[Is,[],{provide:At,multi:!0,useValue:d},{provide:Ra,useFactory:Ps,deps:[[xr,new l.FiY,new l.tp0]]},{provide:Ur,useValue:y||{}},y?.useHash?{provide:Y.S$,useClass:Y.Do}:{provide:Y.S$,useClass:Y.b0},{provide:ws,useFactory:()=>{const h=(0,l.f3M)(Y.EM),g=(0,l.f3M)(l.R0b),d=(0,l.f3M)(Ur),y=(0,l.f3M)(gn),w=(0,l.f3M)(Vn);return d.scrollOffset&&h.setOffset(d.scrollOffset),new xe(w,y,h,g,d)}},y?.preloadingStrategy?Ia(y.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:As},y?.initialNavigation?Oa(y):[],y?.bindToComponentInputs?mo(8,[on,{provide:_r,useExisting:on}]).\u0275providers:[],[{provide:xs,useFactory:ji},{provide:l.tb,multi:!0,useExisting:xs}]]}}static forChild(d){return{ngModule:h,providers:[{provide:At,multi:!0,useValue:d}]}}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(Ra,8))},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({}),h})();function Ps(h){return"guarded"}function Oa(h){return["disabled"===h.initialNavigation?mo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const g=(0,l.f3M)(xr);return()=>{g.setUpLocationChangeListener()}}},{provide:Ms,useValue:2}]).\u0275providers:[],"enabledBlocking"===h.initialNavigation?mo(2,[{provide:Ms,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:g=>{const d=g.get(Y.V_,Promise.resolve());return()=>d.then(()=>new Promise(y=>{const w=g.get(xr),O=g.get($i);Ss(w,()=>{y(!0)}),g.get(gn).afterPreactivation=()=>(y(!0),O.closed?(0,oe.of)(void 0):O),w.initialNavigation()}))}}]).\u0275providers:[]]}const xs=new l.OlP("")},9659:(et,q,T)=>{"use strict";T.d(q,{Z:()=>_e});var l=T(5861);const N=new WeakMap,te=new WeakMap,K=new WeakMap,W=Symbol("anyProducer"),oe=Promise.resolve(),I=Symbol("listenerAdded"),V=Symbol("listenerRemoved");let B=!1,X=!1;function ie(ye){if("string"!=typeof ye&&"symbol"!=typeof ye&&"number"!=typeof ye)throw new TypeError("`eventName` must be a string, symbol, or number")}function be(ye){if("function"!=typeof ye)throw new TypeError("listener must be a function")}function Ne(ye,$){const me=te.get(ye);if(me.has($))return me.get($)}function ve(ye,$){const me="string"==typeof $||"symbol"==typeof $||"number"==typeof $?$:W,fe=K.get(ye);if(fe.has(me))return fe.get(me)}function ze(ye,$){$=Array.isArray($)?$:[$];let me=!1,fe=()=>{},J=[];const ue={enqueue(he){J.push(he),fe()},finish(){me=!0,fe()}};for(const he of $){let Be=ve(ye,he);Be||(Be=new Set,K.get(ye).set(he,Be)),Be.add(ue)}return{next(){var he=this;return(0,l.Z)(function*(){return J?0===J.length?me?(J=void 0,he.next()):(yield new Promise(Be=>{fe=Be}),he.next()):{done:!1,value:yield J.shift()}:{done:!0}})()},return(he){var Be=arguments;return(0,l.Z)(function*(){J=void 0;for(const Z of $){const Ie=ve(ye,Z);Ie&&(Ie.delete(ue),0===Ie.size&&K.get(ye).delete(Z))}return fe(),Be.length>0?{done:!0,value:yield he}:{done:!0}})()},[Symbol.asyncIterator](){return this}}}function F(ye){if(void 0===ye)return re;if(!Array.isArray(ye))throw new TypeError("`methodNames` must be an array of strings");for(const $ of ye)if(!re.includes($))throw"string"!=typeof $?new TypeError("`methodNames` element must be a string"):new Error(`${$} is not Emittery method`);return ye}const z=ye=>ye===I||ye===V;function Ce(ye,$,me){if(z($))try{B=!0,ye.emit($,me)}finally{B=!1}}class _e{static mixin($,me){return me=F(me),fe=>{if("function"!=typeof fe)throw new TypeError("`target` must be function");for(const he of me)if(void 0!==fe.prototype[he])throw new Error(`The property \`${he}\` already exists on \`target\``);Object.defineProperty(fe.prototype,$,{enumerable:!1,get:function J(){return Object.defineProperty(this,$,{enumerable:!1,value:new _e}),this[$]}});const ue=he=>function(...Be){return this[$][he](...Be)};for(const he of me)Object.defineProperty(fe.prototype,he,{enumerable:!1,value:ue(he)});return fe}}static get isDebugEnabled(){if("object"!=typeof globalThis.process?.env)return X;const{env:$}=globalThis.process??{env:{}};return"emittery"===$.DEBUG||"*"===$.DEBUG||X}static set isDebugEnabled($){X=$}constructor($={}){N.set(this,new Set),te.set(this,new Map),K.set(this,new Map),K.get(this).set(W,new Set),this.debug=$.debug??{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(me,fe,J,ue)=>{try{ue=JSON.stringify(ue)}catch{ue=`Object with the following keys failed to stringify: ${Object.keys(ue).join(",")}`}("symbol"==typeof J||"number"==typeof J)&&(J=J.toString());const he=new Date,Be=`${he.getHours()}:${he.getMinutes()}:${he.getSeconds()}.${he.getMilliseconds()}`;console.log(`[${Be}][emittery:${me}][${fe}] Event Name: ${J}\n\tdata: ${ue}`)})}logIfDebugEnabled($,me,fe){(_e.isDebugEnabled||this.debug.enabled)&&this.debug.logger($,this.debug.name,me,fe)}on($,me){be(me),$=Array.isArray($)?$:[$];for(const fe of $){ie(fe);let J=Ne(this,fe);J||(J=new Set,te.get(this).set(fe,J)),J.add(me),this.logIfDebugEnabled("subscribe",fe,void 0),z(fe)||Ce(this,I,{eventName:fe,listener:me})}return this.off.bind(this,$,me)}off($,me){be(me),$=Array.isArray($)?$:[$];for(const fe of $){ie(fe);const J=Ne(this,fe);J&&(J.delete(me),0===J.size&&te.get(this).delete(fe)),this.logIfDebugEnabled("unsubscribe",fe,void 0),z(fe)||Ce(this,V,{eventName:fe,listener:me})}}once($){let me;const fe=new Promise(J=>{me=this.on($,ue=>{me(),J(ue)})});return fe.off=me,fe}events($){$=Array.isArray($)?$:[$];for(const me of $)ie(me);return ze(this,$)}emit($,me){var fe=this;return(0,l.Z)(function*(){if(ie($),z($)&&!B)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");fe.logIfDebugEnabled("emit",$,me),function Fe(ye,$,me){const fe=K.get(ye);if(fe.has($))for(const J of fe.get($))J.enqueue(me);if(fe.has(W)){const J=Promise.all([$,me]);for(const ue of fe.get(W))ue.enqueue(J)}}(fe,$,me);const J=Ne(fe,$)??new Set,ue=N.get(fe),he=[...J],Be=z($)?[]:[...ue];yield oe,yield Promise.all([...he.map(function(){var Z=(0,l.Z)(function*(Ie){if(J.has(Ie))return Ie(me)});return function(Ie){return Z.apply(this,arguments)}}()),...Be.map(function(){var Z=(0,l.Z)(function*(Ie){if(ue.has(Ie))return Ie($,me)});return function(Ie){return Z.apply(this,arguments)}}())])})()}emitSerial($,me){var fe=this;return(0,l.Z)(function*(){if(ie($),z($)&&!B)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");fe.logIfDebugEnabled("emitSerial",$,me);const J=Ne(fe,$)??new Set,ue=N.get(fe),he=[...J],Be=[...ue];yield oe;for(const Z of he)J.has(Z)&&(yield Z(me));for(const Z of Be)ue.has(Z)&&(yield Z($,me))})()}onAny($){return be($),this.logIfDebugEnabled("subscribeAny",void 0,void 0),N.get(this).add($),Ce(this,I,{listener:$}),this.offAny.bind(this,$)}anyEvent(){return ze(this)}offAny($){be($),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),Ce(this,V,{listener:$}),N.get(this).delete($)}clearListeners($){$=Array.isArray($)?$:[$];for(const me of $)if(this.logIfDebugEnabled("clear",me,void 0),"string"==typeof me||"symbol"==typeof me||"number"==typeof me){const fe=Ne(this,me);fe&&fe.clear();const J=ve(this,me);if(J){for(const ue of J)ue.finish();J.clear()}}else{N.get(this).clear();for(const[fe,J]of te.get(this).entries())J.clear(),te.get(this).delete(fe);for(const[fe,J]of K.get(this).entries()){for(const ue of J)ue.finish();J.clear(),K.get(this).delete(fe)}}}listenerCount($){$=Array.isArray($)?$:[$];let me=0;for(const fe of $)if("string"!=typeof fe){typeof fe<"u"&&ie(fe),me+=N.get(this).size;for(const J of te.get(this).values())me+=J.size;for(const J of K.get(this).values())me+=J.size}else me+=N.get(this).size+(Ne(this,fe)?.size??0)+(ve(this,fe)?.size??0)+(ve(this)?.size??0);return me}bindMethods($,me){if("object"!=typeof $||null===$)throw new TypeError("`target` must be an object");me=F(me);for(const fe of me){if(void 0!==$[fe])throw new Error(`The property \`${fe}\` already exists on \`target\``);Object.defineProperty($,fe,{enumerable:!1,value:this[fe].bind(this)})}}}const re=Object.getOwnPropertyNames(_e.prototype).filter(ye=>"constructor"!==ye);Object.defineProperty(_e,"listenerAdded",{value:I,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(_e,"listenerRemoved",{value:V,writable:!1,enumerable:!0,configurable:!1})},5861:(et,q,T)=>{"use strict";function l(te,K,W,oe,I,V,B){try{var X=te[V](B),ie=X.value}catch(be){return void W(be)}X.done?K(ie):Promise.resolve(ie).then(oe,I)}function N(te){return function(){var K=this,W=arguments;return new Promise(function(oe,I){var V=te.apply(K,W);function B(ie){l(V,oe,I,B,X,"next",ie)}function X(ie){l(V,oe,I,B,X,"throw",ie)}B(void 0)})}}T.d(q,{Z:()=>N})},7582:(et,q,T)=>{"use strict";function be(Y,Q,se,Pe){return new(se||(se=Promise))(function(Oe,je){function qe(ht){try{nt(Pe.next(ht))}catch(Ct){je(Ct)}}function Kt(ht){try{nt(Pe.throw(ht))}catch(Ct){je(Ct)}}function nt(ht){ht.done?Oe(ht.value):function Ve(Oe){return Oe instanceof se?Oe:new se(function(je){je(Oe)})}(ht.value).then(qe,Kt)}nt((Pe=Pe.apply(Y,Q||[])).next())})}function re(Y){return this instanceof re?(this.v=Y,this):new re(Y)}function ye(Y,Q,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Pe=se.apply(Y,Q||[]),Oe=[];return Ve={},je("next"),je("throw"),je("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function je(pt){Pe[pt]&&(Ve[pt]=function(Lt){return new Promise(function(yn,vn){Oe.push([pt,Lt,yn,vn])>1||qe(pt,Lt)})})}function qe(pt,Lt){try{!function Kt(pt){pt.value instanceof re?Promise.resolve(pt.value.v).then(nt,ht):Ct(Oe[0][2],pt)}(Pe[pt](Lt))}catch(yn){Ct(Oe[0][3],yn)}}function nt(pt){qe("next",pt)}function ht(pt){qe("throw",pt)}function Ct(pt,Lt){pt(Lt),Oe.shift(),Oe.length&&qe(Oe[0][0],Oe[0][1])}}function me(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,Q=Y[Symbol.asyncIterator];return Q?Q.call(Y):(Y=function ze(Y){var Q="function"==typeof Symbol&&Symbol.iterator,se=Q&&Y[Q],Pe=0;if(se)return se.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&Pe>=Y.length&&(Y=void 0),{value:Y&&Y[Pe++],done:!Y}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),se={},Pe("next"),Pe("throw"),Pe("return"),se[Symbol.asyncIterator]=function(){return this},se);function Pe(Oe){se[Oe]=Y[Oe]&&function(je){return new Promise(function(qe,Kt){!function Ve(Oe,je,qe,Kt){Promise.resolve(Kt).then(function(nt){Oe({value:nt,done:qe})},je)}(qe,Kt,(je=Y[Oe](je)).done,je.value)})}}}T.d(q,{FC:()=>ye,KL:()=>me,mG:()=>be,qq:()=>re})}},et=>{et(et.s=8956)}]);