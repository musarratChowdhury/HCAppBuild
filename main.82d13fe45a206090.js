(self.webpackChunkHCApp=self.webpackChunkHCApp||[]).push([[179],{4670:(tt,J,M)=>{"use strict";M.d(J,{PV:()=>A,jQ:()=>c,ok:()=>Q,x4:()=>j});class c{constructor(){this.roomId="",this.name="",this.matchType="",this.roomCreatedAt="",this.roomCreatedBy="",this.maxBalls=0,this.totalWickets=0,this.teamA=new F,this.teamB=new F,this.inMatchData=new q,this.isTossStage=!1,this.firstInnings=new K,this.secondInnings=new K,this.currentInnings=new K,this.playerList=[],this.gameOver=!1}}class F{constructor(){this.name="",this.customDisplayName="",this.isBatting=!1,this.isBowling=!1,this.captain=new Q,this.onStrike=new Q,this.bowling=new Q,this.player1=new Q,this.player2=new Q,this.thisOver=[],this.thisOverDisplay=[],this.players=[]}}class Q{constructor(){this.roomId="",this.roomIdString="",this.playerId="",this.currentConnectionId="",this.teamName="",this.name="",this.roomName="",this.number=0,this.runs=0,this.wicketsLeft=0,this.isOnStrike=!1,this.ballsPlayed=0,this.isBatting=!1,this.hasWonToss=!1,this.runRate=0,this.strikeRate=0,this.captainsChoice="",this.isTossing=!1,this.isCaptain=!1,this.isHeads=!1,this.isReady=!1,this.isLocked=!1,this.lockedWith=0,this.hasSelectedNumber=!1}}class K{constructor(){this.name="1st",this.isOn=!1,this.batting=new Q,this.bowling=new Q,this.battingTeam=new F,this.bowlingTeam=new F,this.ballsPlayed=0,this.wickets=0,this.runs=0}}class q{constructor(){this.isSameNumber=!1,this.playerWithHeads=new Q,this.playerWithTails=new Q,this.playerWithTossWin=new Q,this.playerWithTossLoss=new Q,this.playerWithTossWinId="",this.playerWithTossLossId=""}}var A=(()=>((A=A||{})[A.IsDraw=0]="IsDraw",A[A.WonByRun=1]="WonByRun",A[A.WonByWicket=2]="WonByWicket",A))();class j{constructor(){this.winnerTeam=new F,this.matchWinType=A.IsDraw,this.wonByRun=0,this.wonByWicket=0,this.teamA=new F,this.teamB=new F}}},3741:(tt,J,M)=>{"use strict";M.d(J,{b9:()=>ue,YW:()=>H});var c=M(6593),F=M(6814),Q=M(95),K=M(6538),q=M(4274),pe=M(4670),A=M(4946),j=M(1982);function L(Z,te){if(1&Z&&(A.TgZ(0,"div",42),A._uU(1," Need To Win : "),A.TgZ(2,"span",43),A._uU(3),A.qZA()()),2&Z){const $=A.oxw();A.xp6(3),A.hij(" ",$.Target,"")}}function X(Z,te){if(1&Z){const $=A.EpF();A.TgZ(0,"div",44),A.NdJ("click",function(){A.CHM($);const We=A.oxw();return A.KtG(We.handleReadyClick())}),A._uU(1," READY? "),A.qZA()}}function se(Z,te){if(1&Z){const $=A.EpF();A.TgZ(0,"div",45)(1,"div",46)(2,"div",47),A.NdJ("click",function(We){A.CHM($);const Ae=A.oxw();return A.KtG(Ae.handleBatBallSelection(We))}),A._uU(3," BAT "),A.qZA(),A.TgZ(4,"div",48),A.NdJ("click",function(We){A.CHM($);const Ae=A.oxw();return A.KtG(Ae.handleBatBallSelection(We))}),A._uU(5," BALL "),A.qZA()()()}}function De(Z,te){1&Z&&(A.TgZ(0,"div",49)(1,"div",50),A._uU(2,"OUT!"),A.qZA()())}function Fe(Z,te){if(1&Z&&(A.TgZ(0,"li")(1,"div",51),A._uU(2),A.qZA()()),2&Z){const $=te.$implicit;A.xp6(2),A.Oqu($)}}const Le=[{path:"",redirectTo:"setup",pathMatch:"full"},{path:"",children:[{path:"setup",loadChildren:()=>M.e(802).then(M.bind(M,802)).then(Z=>Z.SetupModule)},{path:"game",component:(()=>{class Z{constructor($,Se,We){this.socketService=$,this.ngZone=Se,this.router=We,this.toggleReady=!1,this.toggleConfirm=!1,this.toggleSelection=!1,this.batBallSelection=!1,this.moveOppoHand=!1,this.moveCurrentHand=!1,this.localStorageIMatchRoomData=null,this.CurrentPlayer=new pe.ok,this.OppoPlayer=new pe.ok,this.MessageBoxText="",this.Overs="",this.Wickets=0,this.TotalWickets=0,this.Target=0,this.Runs=0,this.ThisOverBattingDisplay=[],this.InningsText="1st",this.SelectedNumber=0,this.CaptainsChoice="",this.ShowOutNotification=!1,this.HandImageSrc=["dotball","one","two","three","four","five","six"],this.OppoHandImageSrc=["dotball","oner","twor","threer","fourr","fiver","sixr"],this.HandImage=this.HandImageSrc[0],this.OppoHandImage=this.OppoHandImageSrc[0],this.playerNames={player1:"Player 1",player2:"Player 2",player3:"Player 3",player4:"Player 4"},this.playerRuns={player1:0,player2:0,player3:0,player4:0},this.playerWicketsLeft={player1:0,player2:0,player3:0,player4:0},this.OnStrike={player1:!1,player2:!1,player3:!1,player4:!1},this.Bowling={player1:!1,player2:!1,player3:!1,player4:!1},this.OnStrikeImage_player1="nonStriker",this.OnStrikeImage_player2="nonStriker",this.OnStrikeImage_player3="nonStriker",this.OnStrikeImage_player4="nonStriker"}ngOnInit(){if(this.socketService.CurrentPlayer){this.CurrentPlayer=this.socketService.CurrentPlayer;let $=this.socketService.MatchData;this.ngZone.run(()=>{null!=$&&(this.Wickets=$.totalWickets)})}this.socketService.MatchData.teamA&&this.ngZone.run(()=>{this.setPlayerNames()}),this.socketService.Emitter.on(q.f.PLAYERJOINED,$=>{this.ngZone.run(()=>{this.MessageBoxText=`Oppo Joined : ${this.socketService.OppoPlayers.length}`,this.setPlayerNames()})}),this.socketService.Emitter.on(q.p.InitiateTossStage,$=>{this.ngZone.run(()=>{this.MessageBoxText=`Toss : ${$.inMatchData.playerWithHeads?.name} is head`,this.socketService.CurrentPlayer.isCaptain?this.toggleReady=!0:this.MessageBoxText="Captain is Tossing",this.Overs=this.overText($.currentInnings.ballsPlayed,$.maxBalls),this.Wickets=$.currentInnings.wickets,this.Runs=$.currentInnings.runs,this.InningsText=$.currentInnings.name})}),this.socketService.Emitter.on(q.f.PlayerReadyReceived,$=>{this.ngZone.run(()=>{this.socketService.isTeamMate($.playerId)&&(this.MessageBoxText=`${$.name} is Ready!`,this.moveCurrentHand=!0),this.socketService.isOpponent($.playerId)&&(this.MessageBoxText=`${$.name} is Ready!`,this.moveOppoHand=!0)})}),this.socketService.Emitter.on(q.p.ShowTheLockedNumber,$=>{this.ngZone.run(()=>{this.MessageBoxText=`Confirmed : ${$}`,this.OppoPlayer.isReady=!0})}),this.socketService.Emitter.on(q.p.ShowOppoisLocked,()=>{this.ngZone.run(()=>{this.MessageBoxText="Oppo is locked",this.OppoPlayer.isReady=!0})}),this.socketService.Emitter.on(q.f.TossDecision,$=>{$.tosswinner&&this.socketService.CurrentPlayer.isCaptain&&this.ngZone.run(()=>{this.batBallSelection=!0}),this.ngZone.run(()=>{this.HandImage=this.HandImageSrc[$.myNumber],this.OppoHandImage=this.OppoHandImageSrc[$.oppoNumber],this.MessageBoxText=`${$.msg}`})}),this.socketService.Emitter.on(q.f.StartMatch,$=>{this.ngZone.run(()=>{this.Overs=this.overText($.currentInnings.ballsPlayed,$.maxBalls),this.Wickets=$.currentInnings.wickets,this.Runs=$.currentInnings.runs,this.InningsText=$.firstInnings.isOn?"1st":"2nd",this.TotalWickets=$.totalWickets}),this.UpdateScreen($)}),this.socketService.Emitter.on(q.f.UpdateScore,$=>{this.ngZone.run(()=>{this.Overs=this.overText($.currentInnings.ballsPlayed,$.maxBalls),this.Wickets=$.currentInnings.wickets,this.Runs=$.currentInnings.runs,this.InningsText=$.firstInnings.isOn?"1st":"2nd"}),this.ngZone.run(()=>{$.secondInnings.isOn&&(this.Target=$.firstInnings.runs-$.secondInnings.runs+1),this.ThisOverBattingDisplay=$.currentInnings.battingTeam.thisOverDisplay,this.isOut(this.ThisOverBattingDisplay)&&(this.ShowOutNotification=!0),this.socketService.CurrentPlayer.playerId==$.currentInnings.batting.playerId||this.socketService.isTeamMate($.currentInnings.batting.playerId)?(this.HandImage=this.HandImageSrc[this.getlastnumber($.currentInnings.battingTeam.thisOver)],this.OppoHandImage=this.OppoHandImageSrc[this.getlastnumber($.currentInnings.bowlingTeam.thisOver)]):(this.HandImage=this.HandImageSrc[this.getlastnumber($.currentInnings.bowlingTeam.thisOver)],this.OppoHandImage=this.OppoHandImageSrc[this.getlastnumber($.currentInnings.battingTeam.thisOver)])}),$.gameOver||setTimeout(()=>{this.UpdateScreen($)},1500)}),this.socketService.Emitter.on(q.p.ShowMatchWinLose,$=>{this.ngZone.run($.winnerTeam.player1.playerId==this.socketService.CurrentPlayer.playerId||$.winnerTeam.player2.playerId==this.socketService.CurrentPlayer.playerId?()=>{this.MessageBoxText="Your team has won"}:()=>{this.MessageBoxText="Your team has lost"}),setTimeout(()=>{this.router.navigate(["/result"]).then()},1500)})}handleReadyClick(){this.CurrentPlayer?(this.socketService.CurrentPlayer.isReady=!0,this.ngZone.run(()=>{this.toggleReady=!1,this.toggleSelection=!0,this.moveCurrentHand=!0}),this.socketService.Emitter.emit(q.f.PlayerReady)):console.log("current player was not found!")}handleConfirmClick(){this.socketService.Emitter.emit(q.f.PlayerConfirmed,this.SelectedNumber),this.ngZone.run(()=>{this.toggleConfirm=!1,this.toggleSelection=!1})}handleNumberClick($){const Se=$.target?.dataset.number;this.SelectedNumber=Se,this.ngZone.run(()=>{this.toggleConfirm=!0}),console.log(Se)}handleBatBallSelection($){const Se=$.target?.dataset.selection;this.CaptainsChoice=Se,this.socketService.Emitter.emit(q.f.CaptainsChoice,this.CaptainsChoice),this.ngZone.run(()=>{this.MessageBoxText=`Selected to ${Se} first`,this.batBallSelection=!1})}getlastnumber($){return 0!=$.length?$[$.length-1]:0}isOut($){return 0!=$.length&&$[$.length-1].includes("W")}UpdateScreen($){this.ngZone.run(()=>{this.OppoHandImage=this.OppoHandImageSrc[0],this.moveOppoHand=!1,this.moveCurrentHand=!1,this.HandImage=this.HandImageSrc[0],this.ShowOutNotification=!1,this.updateOnStrikeInfos(),this.updateBowlingInfos()});let Se=$.currentInnings.batting.playerId,We=$.currentInnings.batting.name,Ae=$.currentInnings.bowling.playerId,Oe=$.currentInnings.bowling.name,me=this.socketService.CurrentPlayer.playerId;Se==me||Ae==me?this.ngZone.run(()=>{this.toggleReady=!0,this.MessageBoxText=Se==me?"You are on Strike!":"You are bowling"}):(this.socketService.isTeamMate(Se)&&this.ngZone.run(()=>{this.MessageBoxText=`${We} is Batting!`}),this.socketService.isTeamMate(Ae)&&this.ngZone.run(()=>{this.MessageBoxText=`${Oe} is Bowling!`}))}overText($,Se){return`${Math.floor($/6)}.${$%6} (${Se/6})`}setPlayerNames(){this.playerNames.player1=this.socketService.MatchData.teamA.player1?.name,this.playerNames.player2=this.socketService.MatchData.teamA.player2?.name,this.playerNames.player3=this.socketService.MatchData.teamB.player1?.name,this.playerNames.player4=this.socketService.MatchData.teamB.player2?.name}updateOnStrikeInfos(){this.OnStrike.player1=this.socketService.MatchData.teamA.isBatting&&this.socketService.MatchData.teamA.player1?.isOnStrike,this.OnStrike.player2=this.socketService.MatchData.teamA.isBatting&&this.socketService.MatchData.teamA.player2?.isOnStrike,this.OnStrike.player3=this.socketService.MatchData.teamB.isBatting&&this.socketService.MatchData.teamB.player1?.isOnStrike,this.OnStrike.player4=this.socketService.MatchData.teamB.isBatting&&this.socketService.MatchData.teamB.player2?.isOnStrike,this.OnStrikeImage_player1=this.OnStrike.player1?"bat":"nonStriker",this.OnStrikeImage_player2=this.OnStrike.player2?"bat":"nonStriker",this.OnStrikeImage_player3=this.OnStrike.player3?"bat":"nonStriker",this.OnStrikeImage_player4=this.OnStrike.player4?"bat":"nonStriker",this.playerRuns.player1=this.socketService.MatchData.teamA.player1.runs,this.playerRuns.player2=this.socketService.MatchData.teamA.player2.runs,this.playerRuns.player3=this.socketService.MatchData.teamB.player1.runs,this.playerRuns.player4=this.socketService.MatchData.teamB.player2.runs,this.playerWicketsLeft.player1=this.socketService.MatchData.teamA.player1.wicketsLeft,this.playerWicketsLeft.player2=this.socketService.MatchData.teamA.player2.wicketsLeft,this.playerWicketsLeft.player3=this.socketService.MatchData.teamB.player1.wicketsLeft,this.playerWicketsLeft.player4=this.socketService.MatchData.teamB.player2.wicketsLeft}updateBowlingInfos(){this.Bowling.player1=this.socketService.MatchData.teamA.isBowling&&this.socketService.MatchData.teamA.player1?.isOnStrike,this.Bowling.player2=this.socketService.MatchData.teamA.isBowling&&this.socketService.MatchData.teamA.player2?.isOnStrike,this.Bowling.player3=this.socketService.MatchData.teamB.isBowling&&this.socketService.MatchData.teamB.player1?.isOnStrike,this.Bowling.player4=this.socketService.MatchData.teamB.isBowling&&this.socketService.MatchData.teamB.player2?.isOnStrike,this.socketService.MatchData.teamA.isBowling&&(this.OnStrikeImage_player1=this.Bowling.player1?"ball":"nonStriker",this.OnStrikeImage_player2=this.Bowling.player2?"ball":"nonStriker"),this.socketService.MatchData.teamB.isBowling&&(this.OnStrikeImage_player3=this.Bowling.player3?"ball":"nonStriker",this.OnStrikeImage_player4=this.Bowling.player4?"ball":"nonStriker")}}return Z.\u0275fac=function($){return new($||Z)(A.Y36(j.$),A.Y36(A.R0b),A.Y36(K.F0))},Z.\u0275cmp=A.Xpm({type:Z,selectors:[["app-game"]],decls:83,vars:60,consts:[[1,"main-game-section",2,"background-image","url('../../assets/images/backgrounds/stadium.jpg')"],[1,"score-board"],[1,"over"],[1,"over-text"],[1,"runs"],[1,"runs-text"],[1,"wickets"],[1,"wickets-text"],[1,"innings"],[1,"innings-text"],["class","target",4,"ngIf"],[1,"notification-board"],[1,"message-box"],[1,"cricket-field"],[1,"left-side-window"],[1,"team-name"],[1,"players"],[1,"player"],[1,"player-name"],[1,"is-onstrike"],[1,"player-runs"],[1,"player-wicketsLeft"],[1,"back-field"],[1,"hand-1"],["data-hand","oppo","alt","hand","srcset","",3,"src"],[1,"hand-2"],["data-hand","self","alt","hand","srcset","",3,"src"],["class","beautiful-button","id","ready-button",3,"click",4,"ngIf"],["id","confirm-button",1,"beautiful-button",3,"click"],[1,"right-side-window"],["class","captains-decision",4,"ngIf"],["class","outnotification",4,"ngIf"],[1,"this-over-container"],[4,"ngFor","ngForOf"],[1,"bottom-container"],[1,"hand-buttons-container"],["data-number","1",1,"hand","one",2,"background-image","url('../../assets/images/hands/one.png')",3,"click"],["data-number","2",1,"hand","two",2,"background-image","url('../../assets/images/hands/two.png')",3,"click"],["data-number","3",1,"hand","three",2,"background-image","url('../../assets/images/hands/three.png')",3,"click"],["data-number","4",1,"hand","four",2,"background-image","url('../../assets/images/hands/four.png')",3,"click"],["data-number","5",1,"hand","five",2,"background-image","url('../../assets/images/hands/five.png')",3,"click"],["data-number","6",1,"hand","six",2,"background-image","url('../../assets/images/hands/six.png')",3,"click"],[1,"target"],[1,"target-text"],["id","ready-button",1,"beautiful-button",3,"click"],[1,"captains-decision"],[1,"bat-ball-decision"],["data-selection","bat",1,"bat-option",3,"click"],["data-selection","ball",1,"ball-option",3,"click"],[1,"outnotification"],[1,"out-text"],[1,"balls-played"]],template:function($,Se){1&$&&(A.TgZ(0,"section",0)(1,"div",1)(2,"div",2),A._uU(3," Over : "),A.TgZ(4,"span",3),A._uU(5),A.qZA()(),A.TgZ(6,"div",4),A._uU(7," Runs : "),A.TgZ(8,"span",5),A._uU(9),A.qZA()(),A.TgZ(10,"div",6),A._uU(11," Wickets : "),A.TgZ(12,"span",7),A._uU(13),A.qZA()(),A.TgZ(14,"div",8),A._uU(15," Innings : "),A.TgZ(16,"span",9),A._uU(17),A.qZA()(),A.YNc(18,L,4,1,"div",10),A.qZA(),A.TgZ(19,"div",11)(20,"div",12),A._uU(21),A.qZA()(),A.TgZ(22,"div",13)(23,"div",14)(24,"div",15),A._uU(25,"Team A"),A.qZA(),A.TgZ(26,"div",16)(27,"div",17)(28,"div",18),A._uU(29),A.qZA(),A._UZ(30,"div",19),A.TgZ(31,"div",20),A._uU(32),A.qZA(),A.TgZ(33,"div",21),A._uU(34),A.qZA()(),A.TgZ(35,"div",17)(36,"div",18),A._uU(37),A.qZA(),A._UZ(38,"div",19),A.TgZ(39,"div",20),A._uU(40),A.qZA(),A.TgZ(41,"div",21),A._uU(42),A.qZA()()()(),A.TgZ(43,"div",22)(44,"div",23),A._UZ(45,"img",24),A.qZA(),A.TgZ(46,"div",25),A._UZ(47,"img",26),A.qZA(),A.YNc(48,X,2,0,"div",27),A.TgZ(49,"div",28),A.NdJ("click",function(){return Se.handleConfirmClick()}),A._uU(50),A.qZA()(),A.TgZ(51,"div",29)(52,"div",15),A._uU(53,"Team B"),A.qZA(),A.TgZ(54,"div",16)(55,"div",17)(56,"div",18),A._uU(57),A.qZA(),A._UZ(58,"div",19),A.TgZ(59,"div",20),A._uU(60),A.qZA(),A.TgZ(61,"div",21),A._uU(62),A.qZA()(),A.TgZ(63,"div",17)(64,"div",18),A._uU(65),A.qZA(),A._UZ(66,"div",19),A.TgZ(67,"div",20),A._uU(68),A.qZA(),A.TgZ(69,"div",21),A._uU(70),A.qZA()()()(),A.YNc(71,se,6,0,"div",30),A.YNc(72,De,3,0,"div",31),A.qZA(),A.TgZ(73,"div",32),A.YNc(74,Fe,3,1,"li",33),A.qZA(),A.TgZ(75,"div",34)(76,"div",35)(77,"div",36),A.NdJ("click",function(Ae){return Se.handleNumberClick(Ae)}),A.qZA(),A.TgZ(78,"div",37),A.NdJ("click",function(Ae){return Se.handleNumberClick(Ae)}),A.qZA(),A.TgZ(79,"div",38),A.NdJ("click",function(Ae){return Se.handleNumberClick(Ae)}),A.qZA(),A.TgZ(80,"div",39),A.NdJ("click",function(Ae){return Se.handleNumberClick(Ae)}),A.qZA(),A.TgZ(81,"div",40),A.NdJ("click",function(Ae){return Se.handleNumberClick(Ae)}),A.qZA(),A.TgZ(82,"div",41),A.NdJ("click",function(Ae){return Se.handleNumberClick(Ae)}),A.qZA()()()()),2&$&&(A.xp6(5),A.Oqu(Se.Overs),A.xp6(4),A.Oqu(Se.Runs),A.xp6(4),A.AsE("",Se.Wickets," (",Se.TotalWickets,")"),A.xp6(4),A.Oqu(Se.InningsText),A.xp6(1),A.Q6J("ngIf",Se.Target>0),A.xp6(3),A.Oqu(Se.MessageBoxText),A.xp6(8),A.Oqu(Se.playerNames.player1),A.xp6(1),A.Jzz("background-image: url('../../assets/images/icons/",Se.OnStrikeImage_player1,".png')"),A.xp6(2),A.hij("Runs : ",Se.playerRuns.player1,""),A.xp6(2),A.hij(" Wickets Left : ",Se.playerWicketsLeft.player1," "),A.xp6(3),A.Oqu(Se.playerNames.player2),A.xp6(1),A.Jzz("background-image: url('../../assets/images/icons/",Se.OnStrikeImage_player2,".png')"),A.xp6(2),A.hij("Runs : ",Se.playerRuns.player2,""),A.xp6(2),A.hij(" Wickets Left : ",Se.playerWicketsLeft.player2," "),A.xp6(2),A.ekj("animated-opp-hand",Se.moveOppoHand)("animated-opp-hand-rev",!Se.moveOppoHand),A.xp6(1),A.MGl("src","../../assets/images/hands/",Se.OppoHandImage,".png",A.LSH),A.xp6(1),A.ekj("animated-self-hand",Se.moveCurrentHand)("animated-self-hand-rev",!Se.moveCurrentHand),A.xp6(1),A.MGl("src","../../assets/images/hands/",Se.HandImage,".png",A.LSH),A.xp6(1),A.Q6J("ngIf",!0===Se.toggleReady),A.xp6(1),A.ekj("invisible",!Se.toggleConfirm),A.xp6(1),A.hij(" CONFIRM (",Se.SelectedNumber,")? "),A.xp6(7),A.Oqu(Se.playerNames.player3),A.xp6(1),A.Jzz("background-image: url('../../assets/images/icons/",Se.OnStrikeImage_player3,".png')"),A.xp6(2),A.hij("Runs : ",Se.playerRuns.player3,""),A.xp6(2),A.hij(" Wickets Left : ",Se.playerWicketsLeft.player3," "),A.xp6(3),A.Oqu(Se.playerNames.player4),A.xp6(1),A.Jzz("background-image: url('../../assets/images/icons/",Se.OnStrikeImage_player4,".png')"),A.xp6(2),A.hij("Runs : ",Se.playerRuns.player4,""),A.xp6(2),A.hij(" Wickets Left : ",Se.playerWicketsLeft.player4," "),A.xp6(1),A.Q6J("ngIf",!0===Se.batBallSelection),A.xp6(1),A.Q6J("ngIf",!0===Se.ShowOutNotification),A.xp6(2),A.Q6J("ngForOf",Se.ThisOverBattingDisplay),A.xp6(3),A.ekj("disabled",!Se.toggleSelection),A.xp6(1),A.ekj("disabled",!Se.toggleSelection),A.xp6(1),A.ekj("disabled",!Se.toggleSelection),A.xp6(1),A.ekj("disabled",!Se.toggleSelection),A.xp6(1),A.ekj("disabled",!Se.toggleSelection),A.xp6(1),A.ekj("disabled",!Se.toggleSelection))},dependencies:[F.sg,F.O5],styles:[".main-game-section[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:bottom;margin:0 auto;height:95vh;min-width:370px;max-height:700px;display:grid;grid-template-rows:1.5fr .5fr 5fr .5fr 2fr;border-radius:1rem;-webkit-user-select:none;user-select:none}.score-board[_ngcontent-%COMP%]{background-color:#0e0e5e;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;border-radius:1rem 0rem}.score-board[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:1.6rem;color:#fff;font-family:LCDN}.notification-board[_ngcontent-%COMP%]{background-color:#f70000;border-radius:1rem 0rem;display:flex;justify-content:center;align-items:center}.message-box[_ngcontent-%COMP%]{font-size:1.3rem;font-family:LedBoardR;color:#fff}.cricket-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.back-field[_ngcontent-%COMP%]{width:162px;height:85%;background-color:#fff;border-radius:2rem;position:relative}.hand-1[_ngcontent-%COMP%], .hand-2[_ngcontent-%COMP%]{position:absolute;display:inline-block;transform-origin:top left}.hand-1[_ngcontent-%COMP%]{top:15%;left:50%;transform:translate(-50%,-50%)}.hand-2[_ngcontent-%COMP%]{top:85%;left:50%;transform:translate(-50%,-50%)}.hand-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(180deg)}.hand-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .hand-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.animated-self-hand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveSelfHand .5s ease-in-out forwards}.animated-opp-hand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveOppHand .5s ease-in-out forwards}.animated-self-hand-rev[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveSelfHandR .5s ease-in-out forwards}.animated-opp-hand-rev[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveOppHandR .5s ease-in-out forwards}.hidden[_ngcontent-%COMP%]{display:none}.disabled[_ngcontent-%COMP%]{opacity:60%;pointer-events:none;touch-action:none}.invisible[_ngcontent-%COMP%]{opacity:0%;pointer-events:none;touch-action:none}@keyframes _ngcontent-%COMP%_moveSelfHand{0%{top:85%}to{top:60%}}@keyframes _ngcontent-%COMP%_moveOppHand{0%{top:15%}to{top:39%}}@keyframes _ngcontent-%COMP%_moveSelfHandR{0%{top:60%}to{top:85%}}@keyframes _ngcontent-%COMP%_moveOppHandR{0%{top:39%}to{top:15%}}#ready-button[_ngcontent-%COMP%], #confirm-button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#confirm-button[_ngcontent-%COMP%]{background-color:#c40000}#confirm-button[_ngcontent-%COMP%]:hover{background-color:#a10404}.this-over-container[_ngcontent-%COMP%]{background-color:#dcdcdc;display:flex;justify-content:center;align-items:center}.this-over-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.balls-played[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;border:1px solid;border-radius:50%;font-family:var(--this-over-font)}.hand-buttons-container[_ngcontent-%COMP%]{margin:1rem auto;row-gap:1.5rem;column-gap:1.5rem;width:50%;display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr}.hand[_ngcontent-%COMP%]{border-radius:2rem;width:50px;height:50px;padding:0rem;cursor:pointer;box-shadow:2px 5px #000;background-size:120%;background-position:center;background-repeat:no-repeat}.hand[_ngcontent-%COMP%]:active{box-shadow:1px 2px #000;transform:translateY(2px)}.beautiful-button[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;font-size:16px;font-weight:700;text-align:center;text-decoration:none;color:#fff;background-color:#4caf50;border:none;border-radius:8px;transition:background-color .3s ease;cursor:pointer}.beautiful-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.beautiful-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #fff,0 0 0 4px #4caf50}.beautiful-button[_ngcontent-%COMP%]:active{background-color:#3e8e41}.captains-decision[_ngcontent-%COMP%]{position:absolute}.outnotification[_ngcontent-%COMP%]{position:absolute;top:42%;width:-moz-fit-content;width:fit-content;padding:.3rem;border-radius:1rem;background-color:#666262}.out-text[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.1rem;font-style:bold;color:red;font-family:SunnySpells}.bat-ball-decision[_ngcontent-%COMP%]{background-color:#ffebcd;width:200px;display:flex;justify-content:space-around;align-items:center}.bat-option[_ngcontent-%COMP%], .ball-option[_ngcontent-%COMP%]{padding:.5rem;background-color:#45a049;cursor:pointer}.left-side-window[_ngcontent-%COMP%], .right-side-window[_ngcontent-%COMP%]{padding:.5rem;background-color:#ffffffb3;color:#000;border-radius:.3rem}.player-name[_ngcontent-%COMP%]{padding:.5rem .2rem;text-align:center}.team-name[_ngcontent-%COMP%]{font-family:Roboto;text-align:center}.player-runs[_ngcontent-%COMP%], .player-wicketsLeft[_ngcontent-%COMP%]{font-family:Roboto;font-size:.7rem;padding-bottom:.3rem}.is-onstrike[_ngcontent-%COMP%]{width:20px;height:20px;margin-bottom:.3rem;background-color:#fff;background-size:cover;border:.5px solid black;border-radius:50%}.player-connected[_ngcontent-%COMP%]{background-color:#3e8e41}"]}),Z})()},{path:"result",loadChildren:()=>M.e(151).then(M.bind(M,8151)).then(Z=>Z.ResultModule)}]},{path:"**",redirectTo:"game"}];let ze=(()=>{class Z{}return Z.\u0275fac=function($){return new($||Z)},Z.\u0275mod=A.oAB({type:Z}),Z.\u0275inj=A.cJS({imports:[F.ez,c.b2,Q.u5,K.Bz.forRoot(Le,{useHash:!0}),K.Bz]}),Z})();var B=M(8956),Y=M(6690);function _e(Z,te){1&Z&&(A.TgZ(0,"h2"),A._uU(1,"App is working"),A.qZA())}function ve(Z,te){1&Z&&(A.TgZ(0,"nav")(1,"ul")(2,"li")(3,"a",1),A._uU(4,"Game"),A.qZA()(),A.TgZ(5,"li")(6,"a",2),A._uU(7,"Setup"),A.qZA()(),A.TgZ(8,"li")(9,"a",3),A._uU(10,"Result"),A.qZA()()()())}let re=(()=>{class Z{constructor($,Se,We){this.socketService=$,this.localStorageService=Se,this.router=We,this.title="HCApp",this.developmentMode=B.Lc!=B.EH.Production,$.Emitter.on(q.f.InitialFormSubmit,Ae=>{B.GG.invoke(q.f.InitialFormSubmit,Ae)}),B.GG.on(q.f.FirstPlayerJoined,Ae=>{$.CurrentPlayer=Ae.playerList.find(Oe=>Oe.currentConnectionId==B.GG.connectionId),$.MatchData=Ae,$.Emitter.emit(q.f.LOADGAMESCREEN,Ae),this.localStorageService.setData("matchData",Ae)}),B.GG.on(q.f.PLAYERJOINED,Ae=>{""==$.CurrentPlayer.playerId&&($.CurrentPlayer=Ae.playerList.find(Oe=>Oe.currentConnectionId==B.GG.connectionId)),Ae.playerList.forEach(Oe=>{$.CurrentPlayer.teamName==Oe.teamName?$.isTeamMate(Oe.playerId)||$.Teammates.push(Oe):$.isOpponent(Oe.playerId)||$.OppoPlayers.push(Oe)}),$.MatchData=Ae,$.Emitter.emit(q.f.LOADGAMESCREEN,Ae),$.Emitter.emit(q.f.PLAYERJOINED,Ae),this.localStorageService.setData("matchData",Ae)}),B.GG.on(q.f.AllPlayersJoined,Ae=>{$.MatchData=Ae,this.localStorageService.setData("matchData",Ae),setTimeout(()=>{$.Emitter.emit(q.p.InitiateTossStage,$.MatchData)},1e3)}),$.Emitter.on(q.f.PlayerReady,()=>{""!=$.CurrentPlayer.roomId?B.GG.invoke(q.f.PlayerReady,$.CurrentPlayer?.roomId,$.CurrentPlayer):console.error("room id not found on current player")}),B.GG.on(q.f.PlayerReadyReceived,Ae=>{Ae.currentConnectionId!=this.socketService.CurrentPlayer.currentConnectionId&&$.Emitter.emit(q.f.PlayerReadyReceived,Ae)}),$.Emitter.on(q.f.PlayerConfirmed,Ae=>{$.CurrentPlayer.isLocked=!0,$.CurrentPlayer.lockedWith=parseInt(Ae),""!=$.CurrentPlayer.roomId?B.GG.invoke(q.f.PlayerConfirmed,$.CurrentPlayer.roomId,$.CurrentPlayer):console.log("room id not found")}),B.GG.on(q.f.PlayerConfirmedReceived,Ae=>{this.socketService.isTeamMate(Ae.currentInnings.batting.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",Ae.currentInnings.batting.lockedWith):this.socketService.isTeamMate(Ae.currentInnings.bowling.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",Ae.currentInnings.bowling.lockedWith):this.socketService.Emitter.emit("ShowOppoisLocked")}),B.GG.on(q.f.TossDecision,Ae=>{let Oe=this.socketService.CurrentPlayer.playerId,me=Ae.inMatchData.playerWithTossWin.playerId,ne=Ae.inMatchData.playerWithTossLoss.playerId;Oe==me||this.socketService.isTeamMate(me)?this.socketService.Emitter.emit(q.f.TossDecision,{tosswinner:!0,msg:"You have won the toss",myNumber:Ae.inMatchData.playerWithTossWin.lockedWith,oppoNumber:Ae.inMatchData.playerWithTossLoss.lockedWith}):(Oe==ne||this.socketService.isTeamMate(ne))&&this.socketService.Emitter.emit(q.f.TossDecision,{tosswinner:!1,msg:"You have lost the toss",myNumber:Ae.inMatchData.playerWithTossLoss.lockedWith,oppoNumber:Ae.inMatchData.playerWithTossWin.lockedWith})}),$.Emitter.on(q.f.CaptainsChoice,Ae=>{$.CurrentPlayer.captainsChoice=Ae,B.GG.invoke(q.f.CaptainsChoice,$.CurrentPlayer.roomId,$.CurrentPlayer)}),B.GG.on(q.f.StartMatch,Ae=>{console.info("after receiving start match event from server : ",Ae),Ae.currentInnings.batting.playerId==$.CurrentPlayer.playerId&&($.CurrentPlayer.isOnStrike=!0),Ae.currentInnings.bowling.playerId==$.CurrentPlayer.playerId&&($.CurrentPlayer.isOnStrike=!0),$.Emitter.emit(q.f.StartMatch,Ae),$.MatchData=Ae,this.localStorageService.setData("matchData",Ae)}),B.GG.on(q.f.UpdateScore,Ae=>{console.info("update score event : ",Ae),Ae.currentInnings.batting.playerId==$.CurrentPlayer.playerId&&($.CurrentPlayer.isOnStrike=!0),Ae.currentInnings.bowling.playerId==$.CurrentPlayer.playerId&&($.CurrentPlayer.isOnStrike=!0),$.Emitter.emit(q.f.UpdateScore,Ae),$.MatchData=Ae,this.localStorageService.setData("matchData",Ae)}),B.GG.on(q.f.GameOver,Ae=>{console.info("game over event : ",Ae),this.socketService.MatchResult=Ae,this.socketService.Emitter.emit(q.p.ShowMatchWinLose,Ae)}),this.socketService.Emitter.on(q.f.DeleteRoom,Ae=>{B.GG.invoke(q.f.DeleteRoom,Ae)}),B.GG.on(q.f.RoomDeleted,Ae=>{console.log("previous room deleted")})}}return Z.\u0275fac=function($){return new($||Z)(A.Y36(j.$),A.Y36(Y.J),A.Y36(K.F0))},Z.\u0275cmp=A.Xpm({type:Z,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],["routerLink","/game","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/setup","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/result","routerLinkActive","active","ariaCurrentWhenActive","page"]],template:function($,Se){1&$&&(A.YNc(0,_e,2,0,"h2",0),A.YNc(1,ve,11,0,"nav",0),A._UZ(2,"router-outlet")),2&$&&(A.Q6J("ngIf",Se.developmentMode),A.xp6(1),A.Q6J("ngIf",Se.developmentMode))},dependencies:[F.O5,K.lC,K.rH,K.Od],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,900;1,300;1,400;1,500;1,700;1,900&display=swap";@font-face{font-family:SunnySpells;src:url(SunnySpells.d4013c07149a7a90.ttf)}@font-face{font-family:FredokaOne;src:url(FredokaOne-Regular.818774f549fcbdf1.ttf)}@font-face{font-family:LedBoard;src:url(LedBoard.b6a4846da22262bc.TTF)}@font-face{font-family:LedBoardR;src:url(LEDBDREV.b992883ab656f374.TTF)}@font-face{font-family:LCD2N;src:url(LCD2N___.3422a3060eb00dc0.TTF)}@font-face{font-family:LCDN;src:url(LCD-N___.2924199b10f46e6a.TTF)}[_ngcontent-%COMP%]:root{--notification-font: SunnySpells;--scoreboard-font: LCDN;--this-over-font: LedBoardR}']}),Z})();var ge=M(9659);const H=new A.OlP("EmitteryInstance"),he={provide:H,useClass:ge.Z};let ue=(()=>{class Z{}return Z.\u0275fac=function($){return new($||Z)},Z.\u0275mod=A.oAB({type:Z,bootstrap:[re]}),Z.\u0275inj=A.cJS({providers:[{provide:F.S$,useClass:F.Do},he],imports:[c.b2,ze]}),Z})()},6690:(tt,J,M)=>{"use strict";M.d(J,{J:()=>F});var c=M(4946);let F=(()=>{class Q{constructor(){}loadData(q){return localStorage.getItem(q)?JSON.parse(localStorage.getItem(q)):null}setData(q,pe){localStorage.setItem(q,JSON.stringify(pe))}deleteData(q){localStorage.removeItem(q)}}return Q.\u0275fac=function(q){return new(q||Q)},Q.\u0275prov=c.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},4274:(tt,J,M)=>{"use strict";M.d(J,{f:()=>c,p:()=>F});var c=(()=>((c=c||{}).GamePageLoaded="gamepageLoaded",c.InitialFormSubmit="initialFormSubmit",c.FirstPlayerJoined="FirstPlayerJoined",c.PLAYERJOINED="PLAYERJOINED",c.AllPlayersJoined="AllPlayersJoined",c.PlayerReady="PlayerReady",c.PlayerReadyReceived="PlayerReadyReceived",c.PlayerConfirmed="PlayerConfirmed",c.PlayerConfirmedReceived="PlayerConfirmedReceived",c.LOADGAMESCREEN="LOADGAMESCREEN",c.TossDecision="TossDecision",c.CaptainsChoice="CaptainsChoice",c.StartMatch="StartMatch",c.UpdateScore="UpdateScore",c.GameOver="GameOver",c.DeleteRoom="DeleteMatchRoom",c.RoomDeleted="RoomDeleted",c))(),F=(()=>((F=F||{}).InitiateTossStage="InitiateTossStage",F.ShowTheLockedNumber="ShowTheLockedNumber",F.ShowOppoisLocked="ShowOppoisLocked",F.ShowMatchWinLose="ShowMatchWinLose",F))()},1982:(tt,J,M)=>{"use strict";M.d(J,{$:()=>pe});var c=M(9659),F=M(3741),Q=M(4670),K=M(4946),q=M(6690);let pe=(()=>{class A{constructor(L,X){this.emittery=L,this.localStorageService=X,this.CurrentPlayer=new Q.ok,this.OppoPlayers=[],this.Teammates=[],this.MatchData=new Q.jQ,this.MatchResult=new Q.x4,L=new c.Z,c.Z.isDebugEnabled=!1}TurnOffDebugger(){c.Z.isDebugEnabled=!1}get Emitter(){return this.emittery}isTeamMate(L){return this.Teammates.some(X=>X.playerId==L)}isOpponent(L){return this.OppoPlayers.some(X=>X.playerId==L)}}return A.\u0275fac=function(L){return new(L||A)(K.LFG(F.YW),K.LFG(q.J))},A.\u0275prov=K.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},8956:(tt,J,M)=>{"use strict";M.d(J,{Lc:()=>To,EH:()=>ri,GG:()=>oi});var c={};M.r(c),M.d(c,{fixNegotiationNeeded:()=>me,shimAddTrackRemoveTrack:()=>Ae,shimAddTrackRemoveTrackWithNative:()=>We,shimGetDisplayMedia:()=>he,shimGetSendersWithDtmf:()=>te,shimGetStats:()=>$,shimGetUserMedia:()=>H,shimMediaStream:()=>ue,shimOnTrack:()=>Z,shimPeerConnection:()=>Oe,shimSenderReceiverGetStats:()=>Se});var F={};M.r(F),M.d(F,{shimGetDisplayMedia:()=>ke,shimGetUserMedia:()=>Be,shimPeerConnection:()=>je,shimReplaceTrack:()=>Ke});var Q={};M.r(Q),M.d(Q,{shimAddTransceiver:()=>tn,shimCreateAnswer:()=>sr,shimCreateOffer:()=>Zt,shimGetDisplayMedia:()=>rt,shimGetParameters:()=>Tn,shimGetUserMedia:()=>Kt,shimOnTrack:()=>pt,shimPeerConnection:()=>Dt,shimRTCDataChannel:()=>_n,shimReceiverGetStats:()=>Vt,shimRemoveStream:()=>vn,shimSenderGetStats:()=>gt});var K={};M.r(K),M.d(K,{shimAudioContext:()=>ot,shimCallbacksAPI:()=>Jt,shimConstraints:()=>Rn,shimCreateOfferLegacy:()=>qe,shimGetUserMedia:()=>kn,shimLocalStreamsAPI:()=>dn,shimRTCIceServerUrls:()=>kt,shimRemoteStreamsAPI:()=>Ve,shimTrackEventTransceiver:()=>an});var q={};M.r(q),M.d(q,{removeExtmapAllowMixed:()=>Qt,shimAddIceCandidateNullOrEmpty:()=>no,shimConnectionState:()=>Gr,shimMaxMessageSize:()=>Fn,shimRTCIceCandidate:()=>Nn,shimSendThrowTypeError:()=>on});var pe=M(5861),A=M(6593),j=M(2264);let L=!0,X=!0;function se(a,s,l){const h=a.match(s);return h&&h.length>=l&&parseInt(h[l],10)}function De(a,s,l){if(!a.RTCPeerConnection)return;const h=a.RTCPeerConnection.prototype,y=h.addEventListener;h.addEventListener=function(O,x){if(O!==s)return y.apply(this,arguments);const G=U=>{const oe=l(U);oe&&(x.handleEvent?x.handleEvent(oe):x(oe))};return this._eventMap=this._eventMap||{},this._eventMap[s]||(this._eventMap[s]=new Map),this._eventMap[s].set(x,G),y.apply(this,[O,G])};const S=h.removeEventListener;h.removeEventListener=function(O,x){if(O!==s||!this._eventMap||!this._eventMap[s])return S.apply(this,arguments);if(!this._eventMap[s].has(x))return S.apply(this,arguments);const G=this._eventMap[s].get(x);return this._eventMap[s].delete(x),0===this._eventMap[s].size&&delete this._eventMap[s],0===Object.keys(this._eventMap).length&&delete this._eventMap,S.apply(this,[O,G])},Object.defineProperty(h,"on"+s,{get(){return this["_on"+s]},set(O){this["_on"+s]&&(this.removeEventListener(s,this["_on"+s]),delete this["_on"+s]),O&&this.addEventListener(s,this["_on"+s]=O)},enumerable:!0,configurable:!0})}function Fe(a){return"boolean"!=typeof a?new Error("Argument type: "+typeof a+". Please use a boolean."):(L=a,a?"adapter.js logging disabled":"adapter.js logging enabled")}function ye(a){return"boolean"!=typeof a?new Error("Argument type: "+typeof a+". Please use a boolean."):(X=!a,"adapter.js deprecation warnings "+(a?"disabled":"enabled"))}function Le(){if("object"==typeof window){if(L)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function ze(a,s){X&&console.warn(a+" is deprecated, please use "+s+" instead.")}function Y(a){return"[object Object]"===Object.prototype.toString.call(a)}function _e(a){return Y(a)?Object.keys(a).reduce(function(s,l){const h=Y(a[l]),y=h?_e(a[l]):a[l],S=h&&!Object.keys(y).length;return void 0===y||S?s:Object.assign(s,{[l]:y})},{}):a}function ve(a,s,l){!s||l.has(s.id)||(l.set(s.id,s),Object.keys(s).forEach(h=>{h.endsWith("Id")?ve(a,a.get(s[h]),l):h.endsWith("Ids")&&s[h].forEach(y=>{ve(a,a.get(y),l)})}))}function re(a,s,l){const h=l?"outbound-rtp":"inbound-rtp",y=new Map;if(null===s)return y;const S=[];return a.forEach(O=>{"track"===O.type&&O.trackIdentifier===s.id&&S.push(O)}),S.forEach(O=>{a.forEach(x=>{x.type===h&&x.trackId===O.id&&ve(a,x,y)})}),y}const ge=Le;function H(a,s){const l=a&&a.navigator;if(!l.mediaDevices)return;const h=function(x){if("object"!=typeof x||x.mandatory||x.optional)return x;const G={};return Object.keys(x).forEach(U=>{if("require"===U||"advanced"===U||"mediaSource"===U)return;const oe="object"==typeof x[U]?x[U]:{ideal:x[U]};void 0!==oe.exact&&"number"==typeof oe.exact&&(oe.min=oe.max=oe.exact);const Ee=function(Ze,Et){return Ze?Ze+Et.charAt(0).toUpperCase()+Et.slice(1):"deviceId"===Et?"sourceId":Et};if(void 0!==oe.ideal){G.optional=G.optional||[];let Ze={};"number"==typeof oe.ideal?(Ze[Ee("min",U)]=oe.ideal,G.optional.push(Ze),Ze={},Ze[Ee("max",U)]=oe.ideal,G.optional.push(Ze)):(Ze[Ee("",U)]=oe.ideal,G.optional.push(Ze))}void 0!==oe.exact&&"number"!=typeof oe.exact?(G.mandatory=G.mandatory||{},G.mandatory[Ee("",U)]=oe.exact):["min","max"].forEach(Ze=>{void 0!==oe[Ze]&&(G.mandatory=G.mandatory||{},G.mandatory[Ee(Ze,U)]=oe[Ze])})}),x.advanced&&(G.optional=(G.optional||[]).concat(x.advanced)),G},y=function(x,G){if(s.version>=61)return G(x);if((x=JSON.parse(JSON.stringify(x)))&&"object"==typeof x.audio){const U=function(oe,Ee,Ze){Ee in oe&&!(Ze in oe)&&(oe[Ze]=oe[Ee],delete oe[Ee])};U((x=JSON.parse(JSON.stringify(x))).audio,"autoGainControl","googAutoGainControl"),U(x.audio,"noiseSuppression","googNoiseSuppression"),x.audio=h(x.audio)}if(x&&"object"==typeof x.video){let U=x.video.facingMode;U=U&&("object"==typeof U?U:{ideal:U});const oe=s.version<66;if(U&&("user"===U.exact||"environment"===U.exact||"user"===U.ideal||"environment"===U.ideal)&&(!l.mediaDevices.getSupportedConstraints||!l.mediaDevices.getSupportedConstraints().facingMode||oe)){let Ee;if(delete x.video.facingMode,"environment"===U.exact||"environment"===U.ideal?Ee=["back","rear"]:("user"===U.exact||"user"===U.ideal)&&(Ee=["front"]),Ee)return l.mediaDevices.enumerateDevices().then(Ze=>{let Et=(Ze=Ze.filter(Wt=>"videoinput"===Wt.kind)).find(Wt=>Ee.some(en=>Wt.label.toLowerCase().includes(en)));return!Et&&Ze.length&&Ee.includes("back")&&(Et=Ze[Ze.length-1]),Et&&(x.video.deviceId=U.exact?{exact:Et.deviceId}:{ideal:Et.deviceId}),x.video=h(x.video),ge("chrome: "+JSON.stringify(x)),G(x)})}x.video=h(x.video)}return ge("chrome: "+JSON.stringify(x)),G(x)},S=function(x){return s.version>=64?x:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[x.name]||x.name,message:x.message,constraint:x.constraint||x.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(l.getUserMedia=function(x,G,U){y(x,oe=>{l.webkitGetUserMedia(oe,G,Ee=>{U&&U(S(Ee))})})}.bind(l),l.mediaDevices.getUserMedia){const x=l.mediaDevices.getUserMedia.bind(l.mediaDevices);l.mediaDevices.getUserMedia=function(G){return y(G,U=>x(U).then(oe=>{if(U.audio&&!oe.getAudioTracks().length||U.video&&!oe.getVideoTracks().length)throw oe.getTracks().forEach(Ee=>{Ee.stop()}),new DOMException("","NotFoundError");return oe},oe=>Promise.reject(S(oe))))}}}function he(a,s){if((!a.navigator.mediaDevices||!("getDisplayMedia"in a.navigator.mediaDevices))&&a.navigator.mediaDevices){if("function"!=typeof s)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");a.navigator.mediaDevices.getDisplayMedia=function(h){return s(h).then(y=>{const S=h.video&&h.video.width,O=h.video&&h.video.height;return h.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:y,maxFrameRate:h.video&&h.video.frameRate||3}},S&&(h.video.mandatory.maxWidth=S),O&&(h.video.mandatory.maxHeight=O),a.navigator.mediaDevices.getUserMedia(h)})}}}function ue(a){a.MediaStream=a.MediaStream||a.webkitMediaStream}function Z(a){if("object"==typeof a&&a.RTCPeerConnection&&!("ontrack"in a.RTCPeerConnection.prototype)){Object.defineProperty(a.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(l){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=l)},enumerable:!0,configurable:!0});const s=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=h=>{h.stream.addEventListener("addtrack",y=>{let S;S=a.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(x=>x.track&&x.track.id===y.track.id):{track:y.track};const O=new Event("track");O.track=y.track,O.receiver=S,O.transceiver={receiver:S},O.streams=[h.stream],this.dispatchEvent(O)}),h.stream.getTracks().forEach(y=>{let S;S=a.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(x=>x.track&&x.track.id===y.id):{track:y};const O=new Event("track");O.track=y,O.receiver=S,O.transceiver={receiver:S},O.streams=[h.stream],this.dispatchEvent(O)})},this.addEventListener("addstream",this._ontrackpoly)),s.apply(this,arguments)}}else De(a,"track",s=>(s.transceiver||Object.defineProperty(s,"transceiver",{value:{receiver:s.receiver}}),s))}function te(a){if("object"==typeof a&&a.RTCPeerConnection&&!("getSenders"in a.RTCPeerConnection.prototype)&&"createDTMFSender"in a.RTCPeerConnection.prototype){const s=function(y,S){return{track:S,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===S.kind?y.createDTMFSender(S):null),this._dtmf},_pc:y}};if(!a.RTCPeerConnection.prototype.getSenders){a.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const y=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(x,G){let U=y.apply(this,arguments);return U||(U=s(this,x),this._senders.push(U)),U};const S=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(x){S.apply(this,arguments);const G=this._senders.indexOf(x);-1!==G&&this._senders.splice(G,1)}}const l=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(S){this._senders=this._senders||[],l.apply(this,[S]),S.getTracks().forEach(O=>{this._senders.push(s(this,O))})};const h=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(S){this._senders=this._senders||[],h.apply(this,[S]),S.getTracks().forEach(O=>{const x=this._senders.find(G=>G.track===O);x&&this._senders.splice(this._senders.indexOf(x),1)})}}else if("object"==typeof a&&a.RTCPeerConnection&&"getSenders"in a.RTCPeerConnection.prototype&&"createDTMFSender"in a.RTCPeerConnection.prototype&&a.RTCRtpSender&&!("dtmf"in a.RTCRtpSender.prototype)){const s=a.RTCPeerConnection.prototype.getSenders;a.RTCPeerConnection.prototype.getSenders=function(){const h=s.apply(this,[]);return h.forEach(y=>y._pc=this),h},Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function $(a){if(!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){const[h,y,S]=arguments;if(arguments.length>0&&"function"==typeof h)return s.apply(this,arguments);if(0===s.length&&(0===arguments.length||"function"!=typeof h))return s.apply(this,[]);const O=function(G){const U={};return G.result().forEach(Ee=>{const Ze={id:Ee.id,timestamp:Ee.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Ee.type]||Ee.type};Ee.names().forEach(Et=>{Ze[Et]=Ee.stat(Et)}),U[Ze.id]=Ze}),U},x=function(G){return new Map(Object.keys(G).map(U=>[U,G[U]]))};return arguments.length>=2?s.apply(this,[function(U){y(x(O(U)))},h]):new Promise((G,U)=>{s.apply(this,[function(oe){G(x(O(oe)))},U])}).then(y,S)}}function Se(a){if(!("object"==typeof a&&a.RTCPeerConnection&&a.RTCRtpSender&&a.RTCRtpReceiver))return;if(!("getStats"in a.RTCRtpSender.prototype)){const l=a.RTCPeerConnection.prototype.getSenders;l&&(a.RTCPeerConnection.prototype.getSenders=function(){const S=l.apply(this,[]);return S.forEach(O=>O._pc=this),S});const h=a.RTCPeerConnection.prototype.addTrack;h&&(a.RTCPeerConnection.prototype.addTrack=function(){const S=h.apply(this,arguments);return S._pc=this,S}),a.RTCRtpSender.prototype.getStats=function(){const S=this;return this._pc.getStats().then(O=>re(O,S.track,!0))}}if(!("getStats"in a.RTCRtpReceiver.prototype)){const l=a.RTCPeerConnection.prototype.getReceivers;l&&(a.RTCPeerConnection.prototype.getReceivers=function(){const y=l.apply(this,[]);return y.forEach(S=>S._pc=this),y}),De(a,"track",h=>(h.receiver._pc=h.srcElement,h)),a.RTCRtpReceiver.prototype.getStats=function(){const y=this;return this._pc.getStats().then(S=>re(S,y.track,!1))}}if(!("getStats"in a.RTCRtpSender.prototype)||!("getStats"in a.RTCRtpReceiver.prototype))return;const s=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof a.MediaStreamTrack){const h=arguments[0];let y,S,O;return this.getSenders().forEach(x=>{x.track===h&&(y?O=!0:y=x)}),this.getReceivers().forEach(x=>(x.track===h&&(S?O=!0:S=x),x.track===h)),O||y&&S?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):y?y.getStats():S?S.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return s.apply(this,arguments)}}function We(a){a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(O=>this._shimmedLocalStreams[O][0])};const s=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(O,x){if(!x)return s.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const G=s.apply(this,arguments);return this._shimmedLocalStreams[x.id]?-1===this._shimmedLocalStreams[x.id].indexOf(G)&&this._shimmedLocalStreams[x.id].push(G):this._shimmedLocalStreams[x.id]=[x,G],G};const l=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(O){this._shimmedLocalStreams=this._shimmedLocalStreams||{},O.getTracks().forEach(U=>{if(this.getSenders().find(Ee=>Ee.track===U))throw new DOMException("Track already exists.","InvalidAccessError")});const x=this.getSenders();l.apply(this,arguments);const G=this.getSenders().filter(U=>-1===x.indexOf(U));this._shimmedLocalStreams[O.id]=[O].concat(G)};const h=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[O.id],h.apply(this,arguments)};const y=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},O&&Object.keys(this._shimmedLocalStreams).forEach(x=>{const G=this._shimmedLocalStreams[x].indexOf(O);-1!==G&&this._shimmedLocalStreams[x].splice(G,1),1===this._shimmedLocalStreams[x].length&&delete this._shimmedLocalStreams[x]}),y.apply(this,arguments)}}function Ae(a,s){if(!a.RTCPeerConnection)return;if(a.RTCPeerConnection.prototype.addTrack&&s.version>=65)return We(a);const l=a.RTCPeerConnection.prototype.getLocalStreams;a.RTCPeerConnection.prototype.getLocalStreams=function(){const oe=l.apply(this);return this._reverseStreams=this._reverseStreams||{},oe.map(Ee=>this._reverseStreams[Ee.id])};const h=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(oe){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},oe.getTracks().forEach(Ee=>{if(this.getSenders().find(Et=>Et.track===Ee))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[oe.id]){const Ee=new a.MediaStream(oe.getTracks());this._streams[oe.id]=Ee,this._reverseStreams[Ee.id]=oe,oe=Ee}h.apply(this,[oe])};const y=a.RTCPeerConnection.prototype.removeStream;function S(U,oe){let Ee=oe.sdp;return Object.keys(U._reverseStreams||[]).forEach(Ze=>{const Et=U._reverseStreams[Ze];Ee=Ee.replace(new RegExp(U._streams[Et.id].id,"g"),Et.id)}),new RTCSessionDescription({type:oe.type,sdp:Ee})}a.RTCPeerConnection.prototype.removeStream=function(oe){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.apply(this,[this._streams[oe.id]||oe]),delete this._reverseStreams[this._streams[oe.id]?this._streams[oe.id].id:oe.id],delete this._streams[oe.id]},a.RTCPeerConnection.prototype.addTrack=function(oe,Ee){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const Ze=[].slice.call(arguments,1);if(1!==Ze.length||!Ze[0].getTracks().find(en=>en===oe))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(en=>en.track===oe))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const Wt=this._streams[Ee.id];if(Wt)Wt.addTrack(oe),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const en=new a.MediaStream([oe]);this._streams[Ee.id]=en,this._reverseStreams[en.id]=Ee,this.addStream(en)}return this.getSenders().find(en=>en.track===oe)},["createOffer","createAnswer"].forEach(function(U){const oe=a.RTCPeerConnection.prototype[U],Ee={[U](){const Ze=arguments;return arguments.length&&"function"==typeof arguments[0]?oe.apply(this,[Wt=>{const en=S(this,Wt);Ze[0].apply(null,[en])},Wt=>{Ze[1]&&Ze[1].apply(null,Wt)},arguments[2]]):oe.apply(this,arguments).then(Wt=>S(this,Wt))}};a.RTCPeerConnection.prototype[U]=Ee[U]});const x=a.RTCPeerConnection.prototype.setLocalDescription;a.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function O(U,oe){let Ee=oe.sdp;return Object.keys(U._reverseStreams||[]).forEach(Ze=>{const Et=U._reverseStreams[Ze],Wt=U._streams[Et.id];Ee=Ee.replace(new RegExp(Et.id,"g"),Wt.id)}),new RTCSessionDescription({type:oe.type,sdp:Ee})}(this,arguments[0]),x.apply(this,arguments)):x.apply(this,arguments)};const G=Object.getOwnPropertyDescriptor(a.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(a.RTCPeerConnection.prototype,"localDescription",{get(){const U=G.get.apply(this);return""===U.type?U:S(this,U)}}),a.RTCPeerConnection.prototype.removeTrack=function(oe){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!oe._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(oe._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let Ze;this._streams=this._streams||{},Object.keys(this._streams).forEach(Et=>{this._streams[Et].getTracks().find(en=>oe.track===en)&&(Ze=this._streams[Et])}),Ze&&(1===Ze.getTracks().length?this.removeStream(this._reverseStreams[Ze.id]):Ze.removeTrack(oe.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Oe(a,s){!a.RTCPeerConnection&&a.webkitRTCPeerConnection&&(a.RTCPeerConnection=a.webkitRTCPeerConnection),a.RTCPeerConnection&&s.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(l){const h=a.RTCPeerConnection.prototype[l],y={[l](){return arguments[0]=new("addIceCandidate"===l?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),h.apply(this,arguments)}};a.RTCPeerConnection.prototype[l]=y[l]})}function me(a,s){De(a,"negotiationneeded",l=>{const h=l.target;if(!(s.version<72||h.getConfiguration&&"plan-b"===h.getConfiguration().sdpSemantics)||"stable"===h.signalingState)return l})}var le=M(4191),Pe=M.n(le);function Be(a){const s=a&&a.navigator,h=s.mediaDevices.getUserMedia.bind(s.mediaDevices);s.mediaDevices.getUserMedia=function(y){return h(y).catch(S=>Promise.reject(function(y){return{name:{PermissionDeniedError:"NotAllowedError"}[y.name]||y.name,message:y.message,constraint:y.constraint,toString(){return this.name}}}(S)))}}function ke(a){"getDisplayMedia"in a.navigator&&a.navigator.mediaDevices&&(a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||(a.navigator.mediaDevices.getDisplayMedia=a.navigator.getDisplayMedia.bind(a.navigator)))}function je(a,s){if(a.RTCIceGatherer&&(a.RTCIceCandidate||(a.RTCIceCandidate=function(y){return y}),a.RTCSessionDescription||(a.RTCSessionDescription=function(y){return y}),s.version<15025)){const h=Object.getOwnPropertyDescriptor(a.MediaStreamTrack.prototype,"enabled");Object.defineProperty(a.MediaStreamTrack.prototype,"enabled",{set(y){h.set.call(this,y);const S=new Event("enabled");S.enabled=y,this.dispatchEvent(S)}})}a.RTCRtpSender&&!("dtmf"in a.RTCRtpSender.prototype)&&Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new a.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),a.RTCDtmfSender&&!a.RTCDTMFSender&&(a.RTCDTMFSender=a.RTCDtmfSender);const l=Pe()(a,s.version);a.RTCPeerConnection=function(y){return y&&y.iceServers&&(y.iceServers=function ne(a,s){let l=!1;return(a=JSON.parse(JSON.stringify(a))).filter(h=>{if(h&&(h.urls||h.url)){let y=h.urls||h.url;h.url&&!h.urls&&ze("RTCIceServer.url","RTCIceServer.urls");const S="string"==typeof y;return S&&(y=[y]),y=y.filter(O=>{if(0===O.indexOf("stun:"))return!1;const x=O.startsWith("turn")&&!O.startsWith("turn:[")&&O.includes("transport=udp");return x&&!l?(l=!0,!0):x&&!l}),delete h.url,h.urls=S?y[0]:y,!!y.length}})}(y.iceServers),Le("ICE servers after filtering:",y.iceServers)),new l(y)},a.RTCPeerConnection.prototype=l.prototype}function Ke(a){a.RTCRtpSender&&!("replaceTrack"in a.RTCRtpSender.prototype)&&(a.RTCRtpSender.prototype.replaceTrack=a.RTCRtpSender.prototype.setTrack)}function Kt(a,s){const l=a&&a.navigator,h=a&&a.MediaStreamTrack;if(l.getUserMedia=function(y,S,O){ze("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),l.mediaDevices.getUserMedia(y).then(S,O)},!(s.version>55&&"autoGainControl"in l.mediaDevices.getSupportedConstraints())){const y=function(O,x,G){x in O&&!(G in O)&&(O[G]=O[x],delete O[x])},S=l.mediaDevices.getUserMedia.bind(l.mediaDevices);if(l.mediaDevices.getUserMedia=function(O){return"object"==typeof O&&"object"==typeof O.audio&&(O=JSON.parse(JSON.stringify(O)),y(O.audio,"autoGainControl","mozAutoGainControl"),y(O.audio,"noiseSuppression","mozNoiseSuppression")),S(O)},h&&h.prototype.getSettings){const O=h.prototype.getSettings;h.prototype.getSettings=function(){const x=O.apply(this,arguments);return y(x,"mozAutoGainControl","autoGainControl"),y(x,"mozNoiseSuppression","noiseSuppression"),x}}if(h&&h.prototype.applyConstraints){const O=h.prototype.applyConstraints;h.prototype.applyConstraints=function(x){return"audio"===this.kind&&"object"==typeof x&&(x=JSON.parse(JSON.stringify(x)),y(x,"autoGainControl","mozAutoGainControl"),y(x,"noiseSuppression","mozNoiseSuppression")),O.apply(this,[x])}}}}function rt(a,s){a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||a.navigator.mediaDevices&&(a.navigator.mediaDevices.getDisplayMedia=function(h){if(!h||!h.video){const y=new DOMException("getDisplayMedia without video constraints is undefined");return y.name="NotFoundError",y.code=8,Promise.reject(y)}return!0===h.video?h.video={mediaSource:s}:h.video.mediaSource=s,a.navigator.mediaDevices.getUserMedia(h)})}function pt(a){"object"==typeof a&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Dt(a,s){if("object"!=typeof a||!a.RTCPeerConnection&&!a.mozRTCPeerConnection)return;!a.RTCPeerConnection&&a.mozRTCPeerConnection&&(a.RTCPeerConnection=a.mozRTCPeerConnection),s.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(y){const S=a.RTCPeerConnection.prototype[y],O={[y](){return arguments[0]=new("addIceCandidate"===y?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),S.apply(this,arguments)}};a.RTCPeerConnection.prototype[y]=O[y]});const l={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},h=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){const[S,O,x]=arguments;return h.apply(this,[S||null]).then(G=>{if(s.version<53&&!O)try{G.forEach(U=>{U.type=l[U.type]||U.type})}catch(U){if("TypeError"!==U.name)throw U;G.forEach((oe,Ee)=>{G.set(Ee,Object.assign({},oe,{type:l[oe.type]||oe.type}))})}return G}).then(O,x)}}function gt(a){if("object"!=typeof a||!a.RTCPeerConnection||!a.RTCRtpSender||a.RTCRtpSender&&"getStats"in a.RTCRtpSender.prototype)return;const s=a.RTCPeerConnection.prototype.getSenders;s&&(a.RTCPeerConnection.prototype.getSenders=function(){const y=s.apply(this,[]);return y.forEach(S=>S._pc=this),y});const l=a.RTCPeerConnection.prototype.addTrack;l&&(a.RTCPeerConnection.prototype.addTrack=function(){const y=l.apply(this,arguments);return y._pc=this,y}),a.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Vt(a){if("object"!=typeof a||!a.RTCPeerConnection||!a.RTCRtpSender||a.RTCRtpSender&&"getStats"in a.RTCRtpReceiver.prototype)return;const s=a.RTCPeerConnection.prototype.getReceivers;s&&(a.RTCPeerConnection.prototype.getReceivers=function(){const h=s.apply(this,[]);return h.forEach(y=>y._pc=this),h}),De(a,"track",l=>(l.receiver._pc=l.srcElement,l)),a.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function vn(a){!a.RTCPeerConnection||"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(l){ze("removeStream","removeTrack"),this.getSenders().forEach(h=>{h.track&&l.getTracks().includes(h.track)&&this.removeTrack(h)})})}function _n(a){a.DataChannel&&!a.RTCDataChannel&&(a.RTCDataChannel=a.DataChannel)}function tn(a){if("object"!=typeof a||!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype.addTransceiver;s&&(a.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const h=arguments[1],y=h&&"sendEncodings"in h;y&&h.sendEncodings.forEach(O=>{if("rid"in O&&!/^[a-z0-9]{0,16}$/i.test(O.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in O&&!(parseFloat(O.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in O&&!(parseFloat(O.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const S=s.apply(this,arguments);if(y){const{sender:O}=S,x=O.getParameters();(!("encodings"in x)||1===x.encodings.length&&0===Object.keys(x.encodings[0]).length)&&(x.encodings=h.sendEncodings,O.sendEncodings=h.sendEncodings,this.setParametersPromises.push(O.setParameters(x).then(()=>{delete O.sendEncodings}).catch(()=>{delete O.sendEncodings})))}return S})}function Tn(a){if("object"!=typeof a||!a.RTCRtpSender)return;const s=a.RTCRtpSender.prototype.getParameters;s&&(a.RTCRtpSender.prototype.getParameters=function(){const h=s.apply(this,arguments);return"encodings"in h||(h.encodings=[].concat(this.sendEncodings||[{}])),h})}function Zt(a){if("object"!=typeof a||!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>s.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):s.apply(this,arguments)}}function sr(a){if("object"!=typeof a||!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype.createAnswer;a.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>s.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):s.apply(this,arguments)}}function dn(a){if("object"==typeof a&&a.RTCPeerConnection){if("getLocalStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in a.RTCPeerConnection.prototype)){const s=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addStream=function(h){this._localStreams||(this._localStreams=[]),this._localStreams.includes(h)||this._localStreams.push(h),h.getAudioTracks().forEach(y=>s.call(this,y,h)),h.getVideoTracks().forEach(y=>s.call(this,y,h))},a.RTCPeerConnection.prototype.addTrack=function(h,...y){return y&&y.forEach(S=>{this._localStreams?this._localStreams.includes(S)||this._localStreams.push(S):this._localStreams=[S]}),s.apply(this,arguments)}}"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(l){this._localStreams||(this._localStreams=[]);const h=this._localStreams.indexOf(l);if(-1===h)return;this._localStreams.splice(h,1);const y=l.getTracks();this.getSenders().forEach(S=>{y.includes(S.track)&&this.removeTrack(S)})})}}function Ve(a){if("object"==typeof a&&a.RTCPeerConnection&&("getRemoteStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in a.RTCPeerConnection.prototype))){Object.defineProperty(a.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(l){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=l),this.addEventListener("track",this._onaddstreampoly=h=>{h.streams.forEach(y=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(y))return;this._remoteStreams.push(y);const S=new Event("addstream");S.stream=y,this.dispatchEvent(S)})})}});const s=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){const h=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(y){y.streams.forEach(S=>{if(h._remoteStreams||(h._remoteStreams=[]),h._remoteStreams.indexOf(S)>=0)return;h._remoteStreams.push(S);const O=new Event("addstream");O.stream=S,h.dispatchEvent(O)})}),s.apply(h,arguments)}}}function Jt(a){if("object"!=typeof a||!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype,l=s.createOffer,h=s.createAnswer,y=s.setLocalDescription,S=s.setRemoteDescription,O=s.addIceCandidate;s.createOffer=function(U,oe){const Ze=l.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return oe?(Ze.then(U,oe),Promise.resolve()):Ze},s.createAnswer=function(U,oe){const Ze=h.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return oe?(Ze.then(U,oe),Promise.resolve()):Ze};let x=function(G,U,oe){const Ee=y.apply(this,[G]);return oe?(Ee.then(U,oe),Promise.resolve()):Ee};s.setLocalDescription=x,x=function(G,U,oe){const Ee=S.apply(this,[G]);return oe?(Ee.then(U,oe),Promise.resolve()):Ee},s.setRemoteDescription=x,x=function(G,U,oe){const Ee=O.apply(this,[G]);return oe?(Ee.then(U,oe),Promise.resolve()):Ee},s.addIceCandidate=x}function kn(a){const s=a&&a.navigator;if(s.mediaDevices&&s.mediaDevices.getUserMedia){const l=s.mediaDevices,h=l.getUserMedia.bind(l);s.mediaDevices.getUserMedia=y=>h(Rn(y))}!s.getUserMedia&&s.mediaDevices&&s.mediaDevices.getUserMedia&&(s.getUserMedia=function(h,y,S){s.mediaDevices.getUserMedia(h).then(y,S)}.bind(s))}function Rn(a){return a&&void 0!==a.video?Object.assign({},a,{video:_e(a.video)}):a}function kt(a){if(!a.RTCPeerConnection)return;const s=a.RTCPeerConnection;a.RTCPeerConnection=function(h,y){if(h&&h.iceServers){const S=[];for(let O=0;O<h.iceServers.length;O++){let x=h.iceServers[O];!x.hasOwnProperty("urls")&&x.hasOwnProperty("url")?(ze("RTCIceServer.url","RTCIceServer.urls"),x=JSON.parse(JSON.stringify(x)),x.urls=x.url,delete x.url,S.push(x)):S.push(h.iceServers[O])}h.iceServers=S}return new s(h,y)},a.RTCPeerConnection.prototype=s.prototype,"generateCertificate"in s&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:()=>s.generateCertificate})}function an(a){"object"==typeof a&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function qe(a){const s=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(h){if(h){typeof h.offerToReceiveAudio<"u"&&(h.offerToReceiveAudio=!!h.offerToReceiveAudio);const y=this.getTransceivers().find(O=>"audio"===O.receiver.track.kind);!1===h.offerToReceiveAudio&&y?"sendrecv"===y.direction?y.setDirection?y.setDirection("sendonly"):y.direction="sendonly":"recvonly"===y.direction&&(y.setDirection?y.setDirection("inactive"):y.direction="inactive"):!0===h.offerToReceiveAudio&&!y&&this.addTransceiver("audio"),typeof h.offerToReceiveVideo<"u"&&(h.offerToReceiveVideo=!!h.offerToReceiveVideo);const S=this.getTransceivers().find(O=>"video"===O.receiver.track.kind);!1===h.offerToReceiveVideo&&S?"sendrecv"===S.direction?S.setDirection?S.setDirection("sendonly"):S.direction="sendonly":"recvonly"===S.direction&&(S.setDirection?S.setDirection("inactive"):S.direction="inactive"):!0===h.offerToReceiveVideo&&!S&&this.addTransceiver("video")}return s.apply(this,arguments)}}function ot(a){"object"!=typeof a||a.AudioContext||(a.AudioContext=a.webkitAudioContext)}var Mr=M(2917),cn=M.n(Mr);function Nn(a){if(!a.RTCIceCandidate||a.RTCIceCandidate&&"foundation"in a.RTCIceCandidate.prototype)return;const s=a.RTCIceCandidate;a.RTCIceCandidate=function(h){if("object"==typeof h&&h.candidate&&0===h.candidate.indexOf("a=")&&((h=JSON.parse(JSON.stringify(h))).candidate=h.candidate.substr(2)),h.candidate&&h.candidate.length){const y=new s(h),S=cn().parseCandidate(h.candidate),O=Object.assign(y,S);return O.toJSON=function(){return{candidate:O.candidate,sdpMid:O.sdpMid,sdpMLineIndex:O.sdpMLineIndex,usernameFragment:O.usernameFragment}},O}return new s(h)},a.RTCIceCandidate.prototype=s.prototype,De(a,"icecandidate",l=>(l.candidate&&Object.defineProperty(l,"candidate",{value:new a.RTCIceCandidate(l.candidate),writable:"false"}),l))}function Fn(a,s){if(!a.RTCPeerConnection)return;"sctp"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const O=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===s.browser&&s.version>=76){const{sdpSemantics:G}=this.getConfiguration();"plan-b"===G&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(function(x){if(!x||!x.sdp)return!1;const G=cn().splitSections(x.sdp);return G.shift(),G.some(U=>{const oe=cn().parseMLine(U);return oe&&"application"===oe.kind&&-1!==oe.protocol.indexOf("SCTP")})}(arguments[0])){const G=function(x){const G=x.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===G||G.length<2)return-1;const U=parseInt(G[1],10);return U!=U?-1:U}(arguments[0]),U=function(x){let G=65536;return"firefox"===s.browser&&(G=s.version<57?-1===x?16384:2147483637:s.version<60?57===s.version?65535:65536:2147483637),G}(G),oe=function(x,G){let U=65536;"firefox"===s.browser&&57===s.version&&(U=65535);const oe=cn().matchPrefix(x.sdp,"a=max-message-size:");return oe.length>0?U=parseInt(oe[0].substr(19),10):"firefox"===s.browser&&-1!==G&&(U=2147483637),U}(arguments[0],G);let Ee;Ee=0===U&&0===oe?Number.POSITIVE_INFINITY:0===U||0===oe?Math.max(U,oe):Math.min(U,oe);const Ze={};Object.defineProperty(Ze,"maxMessageSize",{get:()=>Ee}),this._sctp=Ze}return O.apply(this,arguments)}}function on(a){if(!a.RTCPeerConnection||!("createDataChannel"in a.RTCPeerConnection.prototype))return;function s(h,y){const S=h.send;h.send=function(){const x=arguments[0];if("open"===h.readyState&&y.sctp&&(x.length||x.size||x.byteLength)>y.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+y.sctp.maxMessageSize+" bytes)");return S.apply(h,arguments)}}const l=a.RTCPeerConnection.prototype.createDataChannel;a.RTCPeerConnection.prototype.createDataChannel=function(){const y=l.apply(this,arguments);return s(y,this),y},De(a,"datachannel",h=>(s(h.channel,h.target),h))}function Gr(a){if(!a.RTCPeerConnection||"connectionState"in a.RTCPeerConnection.prototype)return;const s=a.RTCPeerConnection.prototype;Object.defineProperty(s,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(s,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(l){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),l&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=l)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(l=>{const h=s[l];s[l]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=y=>{const S=y.target;if(S._lastConnectionState!==S.connectionState){S._lastConnectionState=S.connectionState;const O=new Event("connectionstatechange",y);S.dispatchEvent(O)}return y},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),h.apply(this,arguments)}})}function Qt(a,s){if(!a.RTCPeerConnection||"chrome"===s.browser&&s.version>=71||"safari"===s.browser&&s.version>=605)return;const l=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(y){if(y&&y.sdp&&-1!==y.sdp.indexOf("\na=extmap-allow-mixed")){const S=y.sdp.split("\n").filter(O=>"a=extmap-allow-mixed"!==O.trim()).join("\n");a.RTCSessionDescription&&y instanceof a.RTCSessionDescription?arguments[0]=new a.RTCSessionDescription({type:y.type,sdp:S}):y.sdp=S}return l.apply(this,arguments)}}function no(a,s){if(!a.RTCPeerConnection||!a.RTCPeerConnection.prototype)return;const l=a.RTCPeerConnection.prototype.addIceCandidate;!l||0===l.length||(a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===s.browser&&s.version<78||"firefox"===s.browser&&s.version<68||"safari"===s.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():l.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const ar=function He({window:a}={},s={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const l=Le,h=function B(a){const s={browser:null,version:null};if(typeof a>"u"||!a.navigator)return s.browser="Not a browser.",s;const{navigator:l}=a;if(l.mozGetUserMedia)s.browser="firefox",s.version=se(l.userAgent,/Firefox\/(\d+)\./,1);else if(l.webkitGetUserMedia||!1===a.isSecureContext&&a.webkitRTCPeerConnection&&!a.RTCIceGatherer)s.browser="chrome",s.version=se(l.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(l.mediaDevices&&l.userAgent.match(/Edge\/(\d+).(\d+)$/))s.browser="edge",s.version=se(l.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!a.RTCPeerConnection||!l.userAgent.match(/AppleWebKit\/(\d+)\./))return s.browser="Not a supported browser.",s;s.browser="safari",s.version=se(l.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=a.RTCRtpTransceiver&&"currentDirection"in a.RTCRtpTransceiver.prototype}return s}(a),y={browserDetails:h,commonShim:q,extractVersion:se,disableLog:Fe,disableWarnings:ye};switch(h.browser){case"chrome":if(!c||!Oe||!s.shimChrome)return l("Chrome shim is not included in this adapter release."),y;if(null===h.version)return l("Chrome shim can not determine version, not shimming."),y;l("adapter.js shimming chrome."),y.browserShim=c,no(a,h),H(a,h),ue(a),Oe(a,h),Z(a),Ae(a,h),te(a),$(a),Se(a),me(a,h),Nn(a),Gr(a),Fn(a,h),on(a),Qt(a,h);break;case"firefox":if(!Q||!Dt||!s.shimFirefox)return l("Firefox shim is not included in this adapter release."),y;l("adapter.js shimming firefox."),y.browserShim=Q,no(a,h),Kt(a,h),Dt(a,h),pt(a),vn(a),gt(a),Vt(a),_n(a),tn(a),Tn(a),Zt(a),sr(a),Nn(a),Gr(a),Fn(a,h),on(a);break;case"edge":if(!F||!je||!s.shimEdge)return l("MS edge shim is not included in this adapter release."),y;l("adapter.js shimming edge."),y.browserShim=F,Be(a),ke(a),je(a,h),Ke(a),Fn(a,h),on(a);break;case"safari":if(!K||!s.shimSafari)return l("Safari shim is not included in this adapter release."),y;l("adapter.js shimming safari."),y.browserShim=K,no(a,h),kt(a),qe(a),Jt(a),dn(a),Ve(a),an(a),kn(a),ot(a),Nn(a),Fn(a,h),on(a),Qt(a,h);break;default:l("Unsupported browser!")}return y}({window:typeof window>"u"?void 0:window});function Nt(a,s,l,h){Object.defineProperty(a,s,{get:l,set:h,enumerable:!0,configurable:!0})}var St=ar.default||ar,zn=new(function(){function a(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return a.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},a.prototype.isBrowserSupported=function(){var s=this.getBrowser(),l=this.getVersion();return!!this.supportedBrowsers.includes(s)&&("chrome"===s?l>=this.minChromeVersion:"firefox"===s?l>=this.minFirefoxVersion:"safari"===s&&!this.isIOS&&l>=this.minSafariVersion)},a.prototype.getBrowser=function(){return St.browserDetails.browser},a.prototype.getVersion=function(){return St.browserDetails.version||0},a.prototype.isUnifiedPlanSupported=function(){var s=this.getBrowser(),l=St.browserDetails.version||0;if("chrome"===s&&l<this.minChromeVersion)return!1;if("firefox"===s&&l>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var h,y=!1;try{(h=new RTCPeerConnection).addTransceiver("audio"),y=!0}catch{}finally{h&&h.close()}return y},a.prototype.toString=function(){return"Supports:\n    browser:".concat(this.getBrowser(),"\n    version:").concat(this.getVersion(),"\n    isIOS:").concat(this.isIOS,"\n    isWebRTCSupported:").concat(this.isWebRTCSupported(),"\n    isBrowserSupported:").concat(this.isBrowserSupported(),"\n    isUnifiedPlanSupported:").concat(this.isUnifiedPlanSupported())},a}()),Xt={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},fr=function(){function a(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Xt,this.browser=zn.getBrowser(),this.browserVersion=zn.getVersion(),this.supports=function(){var l,s={browser:zn.isBrowserSupported(),webRTC:zn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!s.webRTC)return s;try{l=new RTCPeerConnection(Xt),s.audioVideo=!0;var h=void 0;try{h=l.createDataChannel("_PEERJSTEST",{ordered:!0}),s.data=!0,s.reliable=!!h.ordered;try{h.binaryType="blob",s.binaryBlob=!zn.isIOS}catch{}}catch{}finally{h&&h.close()}}catch{}finally{l&&l.close()}return s}(),this.pack=j.pack,this.unpack=j.unpack,this._dataCount=1}return a.prototype.noop=function(){},a.prototype.validateId=function(s){return!s||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(s)},a.prototype.chunk=function(s){for(var l=[],h=s.size,y=Math.ceil(h/It.chunkedMTU),S=0,O=0;O<h;){var x=Math.min(h,O+It.chunkedMTU),G=s.slice(O,x);l.push({__peerData:this._dataCount,n:S,data:G,total:y}),O=x,S++}return this._dataCount++,l},a.prototype.blobToArrayBuffer=function(s,l){var h=new FileReader;return h.onload=function(y){y.target&&l(y.target.result)},h.readAsArrayBuffer(s),h},a.prototype.binaryStringToArrayBuffer=function(s){for(var l=new Uint8Array(s.length),h=0;h<s.length;h++)l[h]=255&s.charCodeAt(h);return l.buffer},a.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},a.prototype.isSecure=function(){return"https:"===location.protocol},a}(),It=new fr;Nt({},"Peer",()=>co,a=>co=a);var Mn,Qn=Object.prototype.hasOwnProperty,Ut="~";function jn(){}function we(a,s,l){this.fn=a,this.context=s,this.once=l||!1}function ie(a,s,l,h,y){if("function"!=typeof l)throw new TypeError("The listener must be a function");var S=new we(l,h||a,y),O=Ut?Ut+s:s;return a._events[O]?a._events[O].fn?a._events[O]=[a._events[O],S]:a._events[O].push(S):(a._events[O]=S,a._eventsCount++),a}function z(a,s){0==--a._eventsCount?a._events=new jn:delete a._events[s]}function ae(){this._events=new jn,this._eventsCount=0}Object.create&&(jn.prototype=Object.create(null),(new jn).__proto__||(Ut=!1)),ae.prototype.eventNames=function(){var l,h,s=[];if(0===this._eventsCount)return s;for(h in l=this._events)Qn.call(l,h)&&s.push(Ut?h.slice(1):h);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(l)):s},ae.prototype.listeners=function(s){var h=this._events[Ut?Ut+s:s];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,S=h.length,O=new Array(S);y<S;y++)O[y]=h[y].fn;return O},ae.prototype.listenerCount=function(s){var h=this._events[Ut?Ut+s:s];return h?h.fn?1:h.length:0},ae.prototype.emit=function(s,l,h,y,S,O){var x=Ut?Ut+s:s;if(!this._events[x])return!1;var oe,Ee,G=this._events[x],U=arguments.length;if(G.fn){switch(G.once&&this.removeListener(s,G.fn,void 0,!0),U){case 1:return G.fn.call(G.context),!0;case 2:return G.fn.call(G.context,l),!0;case 3:return G.fn.call(G.context,l,h),!0;case 4:return G.fn.call(G.context,l,h,y),!0;case 5:return G.fn.call(G.context,l,h,y,S),!0;case 6:return G.fn.call(G.context,l,h,y,S,O),!0}for(Ee=1,oe=new Array(U-1);Ee<U;Ee++)oe[Ee-1]=arguments[Ee];G.fn.apply(G.context,oe)}else{var Et,Ze=G.length;for(Ee=0;Ee<Ze;Ee++)switch(G[Ee].once&&this.removeListener(s,G[Ee].fn,void 0,!0),U){case 1:G[Ee].fn.call(G[Ee].context);break;case 2:G[Ee].fn.call(G[Ee].context,l);break;case 3:G[Ee].fn.call(G[Ee].context,l,h);break;case 4:G[Ee].fn.call(G[Ee].context,l,h,y);break;default:if(!oe)for(Et=1,oe=new Array(U-1);Et<U;Et++)oe[Et-1]=arguments[Et];G[Ee].fn.apply(G[Ee].context,oe)}}return!0},ae.prototype.on=function(s,l,h){return ie(this,s,l,h,!1)},ae.prototype.once=function(s,l,h){return ie(this,s,l,h,!0)},ae.prototype.removeListener=function(s,l,h,y){var S=Ut?Ut+s:s;if(!this._events[S])return this;if(!l)return z(this,S),this;var O=this._events[S];if(O.fn)O.fn===l&&(!y||O.once)&&(!h||O.context===h)&&z(this,S);else{for(var x=0,G=[],U=O.length;x<U;x++)(O[x].fn!==l||y&&!O[x].once||h&&O[x].context!==h)&&G.push(O[x]);G.length?this._events[S]=1===G.length?G[0]:G:z(this,S)}return this},ae.prototype.removeAllListeners=function(s){var l;return s?this._events[l=Ut?Ut+s:s]&&z(this,l):(this._events=new jn,this._eventsCount=0),this},ae.prototype.off=ae.prototype.removeListener,ae.prototype.addListener=ae.prototype.on,ae.prefixed=Ut,ae.EventEmitter=ae,Mn=ae;var de={};Nt(de,"LogLevel",()=>it,a=>it=a),Nt(de,"default",()=>Cn,a=>Cn=a);var $e=function(a,s){var l="function"==typeof Symbol&&a[Symbol.iterator];if(!l)return a;var y,O,h=l.call(a),S=[];try{for(;(void 0===s||s-- >0)&&!(y=h.next()).done;)S.push(y.value)}catch(x){O={error:x}}finally{try{y&&!y.done&&(l=h.return)&&l.call(h)}finally{if(O)throw O.error}}return S},Je=function(a,s,l){if(l||2===arguments.length)for(var S,h=0,y=s.length;h<y;h++)(S||!(h in s))&&(S||(S=Array.prototype.slice.call(s,0,h)),S[h]=s[h]);return a.concat(S||Array.prototype.slice.call(s))},it=(()=>((it=it||{})[it.Disabled=0]="Disabled",it[it.Errors=1]="Errors",it[it.Warnings=2]="Warnings",it[it.All=3]="All",it))(),mt=function(){function a(){this._logLevel=it.Disabled}return Object.defineProperty(a.prototype,"logLevel",{get:function(){return this._logLevel},set:function(s){this._logLevel=s},enumerable:!1,configurable:!0}),a.prototype.log=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._logLevel>=it.All&&this._print.apply(this,Je([it.All],$e(s),!1))},a.prototype.warn=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._logLevel>=it.Warnings&&this._print.apply(this,Je([it.Warnings],$e(s),!1))},a.prototype.error=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._logLevel>=it.Errors&&this._print.apply(this,Je([it.Errors],$e(s),!1))},a.prototype.setLogFunction=function(s){this._print=s},a.prototype._print=function(s){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];var y=Je(["PeerJS: "],$e(l),!1);for(var S in y)y[S]instanceof Error&&(y[S]="("+y[S].name+") "+y[S].message);s>=it.All?console.log.apply(console,Je([],$e(y),!1)):s>=it.Warnings?console.warn.apply(console,Je(["WARNING"],$e(y),!1)):s>=it.Errors&&console.error.apply(console,Je(["ERROR"],$e(y),!1))},a}(),Cn=new mt,Wn={};Nt(Wn,"Socket",()=>zr,a=>zr=a);var In,Ht=(()=>((Ht=Ht||{}).Data="data",Ht.Media="media",Ht))(),_t=(()=>((_t=_t||{}).BrowserIncompatible="browser-incompatible",_t.Disconnected="disconnected",_t.InvalidID="invalid-id",_t.InvalidKey="invalid-key",_t.Network="network",_t.PeerUnavailable="peer-unavailable",_t.SslUnavailable="ssl-unavailable",_t.ServerError="server-error",_t.SocketError="socket-error",_t.SocketClosed="socket-closed",_t.UnavailableID="unavailable-id",_t.WebRTC="webrtc",_t))(),Dn=(()=>((Dn=Dn||{}).Binary="binary",Dn.BinaryUTF8="binary-utf8",Dn.JSON="json",Dn))(),fn=(()=>((fn=fn||{}).Message="message",fn.Disconnected="disconnected",fn.Error="error",fn.Close="close",fn))(),yt=(()=>((yt=yt||{}).Heartbeat="HEARTBEAT",yt.Candidate="CANDIDATE",yt.Offer="OFFER",yt.Answer="ANSWER",yt.Open="OPEN",yt.Error="ERROR",yt.IdTaken="ID-TAKEN",yt.InvalidKey="INVALID-KEY",yt.Leave="LEAVE",yt.Expire="EXPIRE",yt))();In=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var a,Zn=(a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(h[S]=y[S])})(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}),zr=function(a){function s(l,h,y,S,O,x){void 0===x&&(x=5e3);var G=a.call(this)||this;return G.pingInterval=x,G._disconnected=!0,G._messagesQueue=[],G._baseUrl=(l?"wss://":"ws://")+h+":"+y+S+"peerjs?key="+O,G}return Zn(s,a),s.prototype.start=function(l,h){var y=this;this._id=l;var S="".concat(this._baseUrl,"&id=").concat(l,"&token=").concat(h);this._socket||!this._disconnected||(this._socket=new WebSocket(S+"&version="+In.version),this._disconnected=!1,this._socket.onmessage=function(O){var x;try{x=JSON.parse(O.data),de.default.log("Server message received:",x)}catch{return void de.default.log("Invalid server message",O.data)}y.emit(fn.Message,x)},this._socket.onclose=function(O){y._disconnected||(de.default.log("Socket closed.",O),y._cleanup(),y._disconnected=!0,y.emit(fn.Disconnected))},this._socket.onopen=function(){y._disconnected||(y._sendQueuedMessages(),de.default.log("Socket open"),y._scheduleHeartbeat())})},s.prototype._scheduleHeartbeat=function(){var l=this;this._wsPingTimer=setTimeout(function(){l._sendHeartbeat()},this.pingInterval)},s.prototype._sendHeartbeat=function(){if(this._wsOpen()){var l=JSON.stringify({type:yt.Heartbeat});this._socket.send(l),this._scheduleHeartbeat()}else de.default.log("Cannot send heartbeat, because socket closed")},s.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},s.prototype._sendQueuedMessages=function(){var l,h,y=function(a,s,l){if(l||2===arguments.length)for(var S,h=0,y=s.length;h<y;h++)(S||!(h in s))&&(S||(S=Array.prototype.slice.call(s,0,h)),S[h]=s[h]);return a.concat(S||Array.prototype.slice.call(s))}([],function(a,s){var l="function"==typeof Symbol&&a[Symbol.iterator];if(!l)return a;var y,O,h=l.call(a),S=[];try{for(;(void 0===s||s-- >0)&&!(y=h.next()).done;)S.push(y.value)}catch(x){O={error:x}}finally{try{y&&!y.done&&(l=h.return)&&l.call(h)}finally{if(O)throw O.error}}return S}(this._messagesQueue),!1);this._messagesQueue=[];try{for(var S=function(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],h=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(y),O=S.next();!O.done;O=S.next())this.send(O.value)}catch(G){l={error:G}}finally{try{O&&!O.done&&(h=S.return)&&h.call(S)}finally{if(l)throw l.error}}},s.prototype.send=function(l){if(!this._disconnected){if(!this._id)return void this._messagesQueue.push(l);if(!l.type)return void this.emit(fn.Error,"Invalid message");if(this._wsOpen()){var h=JSON.stringify(l);this._socket.send(h)}}},s.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},s.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},s}(Mn.EventEmitter),Ir={};Nt(Ir,"MediaConnection",()=>Lr,a=>Lr=a);var ro={};Nt(ro,"Negotiator",()=>oo,a=>oo=a);var bn=function(){return bn=Object.assign||function(a){for(var s,l=1,h=arguments.length;l<h;l++)for(var y in s=arguments[l])Object.prototype.hasOwnProperty.call(s,y)&&(a[y]=s[y]);return a},bn.apply(this,arguments)},Pn=function(a,s,l,h){return new(l||(l=Promise))(function(S,O){function x(oe){try{U(h.next(oe))}catch(Ee){O(Ee)}}function G(oe){try{U(h.throw(oe))}catch(Ee){O(Ee)}}function U(oe){oe.done?S(oe.value):function y(S){return S instanceof l?S:new l(function(O){O(S)})}(oe.value).then(x,G)}U((h=h.apply(a,s||[])).next())})},Ar=function(a,s){var h,y,S,O,l={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return O={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O;function x(U){return function(oe){return function G(U){if(h)throw new TypeError("Generator is already executing.");for(;l;)try{if(h=1,y&&(S=2&U[0]?y.return:U[0]?y.throw||((S=y.return)&&S.call(y),0):y.next)&&!(S=S.call(y,U[1])).done)return S;switch(y=0,S&&(U=[2&U[0],S.value]),U[0]){case 0:case 1:S=U;break;case 4:return l.label++,{value:U[1],done:!1};case 5:l.label++,y=U[1],U=[0];continue;case 7:U=l.ops.pop(),l.trys.pop();continue;default:if(!(S=(S=l.trys).length>0&&S[S.length-1])&&(6===U[0]||2===U[0])){l=0;continue}if(3===U[0]&&(!S||U[1]>S[0]&&U[1]<S[3])){l.label=U[1];break}if(6===U[0]&&l.label<S[1]){l.label=S[1],S=U;break}if(S&&l.label<S[2]){l.label=S[2],l.ops.push(U);break}S[2]&&l.ops.pop(),l.trys.pop();continue}U=s.call(a,l)}catch(oe){U=[6,oe],y=0}finally{h=S=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([U,oe])}}},oo=function(){function a(s){this.connection=s}return a.prototype.startConnection=function(s){var l=this._startPeerConnection();if(this.connection.peerConnection=l,this.connection.type===Ht.Media&&s._stream&&this._addTracksToConnection(s._stream,l),s.originator){if(this.connection.type===Ht.Data){var h=this.connection,S=l.createDataChannel(h.label,{ordered:!!s.reliable});h.initialize(S)}this._makeOffer()}else this.handleSDP("OFFER",s.sdp)},a.prototype._startPeerConnection=function(){de.default.log("Creating RTCPeerConnection.");var s=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(s),s},a.prototype._setupListeners=function(s){var l=this,h=this.connection.peer,y=this.connection.connectionId,S=this.connection.type,O=this.connection.provider;de.default.log("Listening for ICE candidates."),s.onicecandidate=function(x){!x.candidate||!x.candidate.candidate||(de.default.log("Received ICE candidates for ".concat(h,":"),x.candidate),O.socket.send({type:yt.Candidate,payload:{candidate:x.candidate,type:S,connectionId:y},dst:h}))},s.oniceconnectionstatechange=function(){switch(s.iceConnectionState){case"failed":de.default.log("iceConnectionState is failed, closing connections to "+h),l.connection.emit("error",new Error("Negotiation of connection to "+h+" failed.")),l.connection.close();break;case"closed":de.default.log("iceConnectionState is closed, closing connections to "+h),l.connection.emit("error",new Error("Connection to "+h+" closed.")),l.connection.close();break;case"disconnected":de.default.log("iceConnectionState changed to disconnected on the connection with "+h);break;case"completed":s.onicecandidate=It.noop}l.connection.emit("iceStateChanged",s.iceConnectionState)},de.default.log("Listening for data channel"),s.ondatachannel=function(x){de.default.log("Received data channel");var G=x.channel;O.getConnection(h,y).initialize(G)},de.default.log("Listening for remote stream"),s.ontrack=function(x){de.default.log("Received remote stream");var G=x.streams[0],U=O.getConnection(h,y);U.type===Ht.Media&&l._addStreamToMediaConnection(G,U)}},a.prototype.cleanup=function(){de.default.log("Cleaning up PeerConnection to "+this.connection.peer);var s=this.connection.peerConnection;if(s){this.connection.peerConnection=null,s.onicecandidate=s.oniceconnectionstatechange=s.ondatachannel=s.ontrack=function(){};var h=!1;if(this.connection.type===Ht.Data){var S=this.connection.dataChannel;S&&(h=!!S.readyState&&"closed"!==S.readyState)}("closed"!==s.signalingState||h)&&s.close()}},a.prototype._makeOffer=function(){return Pn(this,void 0,Promise,function(){var s,l,h,y,S,O,x;return Ar(this,function(G){switch(G.label){case 0:s=this.connection.peerConnection,l=this.connection.provider,G.label=1;case 1:return G.trys.push([1,7,,8]),[4,s.createOffer(this.connection.options.constraints)];case 2:h=G.sent(),de.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp),G.label=3;case 3:return G.trys.push([3,5,,6]),[4,s.setLocalDescription(h)];case 4:return G.sent(),de.default.log("Set localDescription:",h,"for:".concat(this.connection.peer)),y={sdp:h,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:It.browser},this.connection.type===Ht.Data&&(S=this.connection,y=bn(bn({},y),{label:S.label,reliable:S.reliable,serialization:S.serialization})),l.socket.send({type:yt.Offer,payload:y,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(O=G.sent())&&(l.emitError(_t.WebRTC,O),de.default.log("Failed to setLocalDescription, ",O)),[3,6];case 6:return[3,8];case 7:return x=G.sent(),l.emitError(_t.WebRTC,x),de.default.log("Failed to createOffer, ",x),[3,8];case 8:return[2]}})})},a.prototype._makeAnswer=function(){return Pn(this,void 0,Promise,function(){var s,l,h,y,S;return Ar(this,function(O){switch(O.label){case 0:s=this.connection.peerConnection,l=this.connection.provider,O.label=1;case 1:return O.trys.push([1,7,,8]),[4,s.createAnswer()];case 2:h=O.sent(),de.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp),O.label=3;case 3:return O.trys.push([3,5,,6]),[4,s.setLocalDescription(h)];case 4:return O.sent(),de.default.log("Set localDescription:",h,"for:".concat(this.connection.peer)),l.socket.send({type:yt.Answer,payload:{sdp:h,type:this.connection.type,connectionId:this.connection.connectionId,browser:It.browser},dst:this.connection.peer}),[3,6];case 5:return y=O.sent(),l.emitError(_t.WebRTC,y),de.default.log("Failed to setLocalDescription, ",y),[3,6];case 6:return[3,8];case 7:return S=O.sent(),l.emitError(_t.WebRTC,S),de.default.log("Failed to create answer, ",S),[3,8];case 8:return[2]}})})},a.prototype.handleSDP=function(s,l){return Pn(this,void 0,Promise,function(){var h,y,S,O;return Ar(this,function(x){switch(x.label){case 0:l=new RTCSessionDescription(l),h=this.connection.peerConnection,y=this.connection.provider,de.default.log("Setting remote description",l),S=this,x.label=1;case 1:return x.trys.push([1,5,,6]),[4,h.setRemoteDescription(l)];case 2:return x.sent(),de.default.log("Set remoteDescription:".concat(s," for:").concat(this.connection.peer)),"OFFER"!==s?[3,4]:[4,S._makeAnswer()];case 3:x.sent(),x.label=4;case 4:return[3,6];case 5:return O=x.sent(),y.emitError(_t.WebRTC,O),de.default.log("Failed to setRemoteDescription, ",O),[3,6];case 6:return[2]}})})},a.prototype.handleCandidate=function(s){return Pn(this,void 0,Promise,function(){var l,h,y,S,O,x;return Ar(this,function(G){switch(G.label){case 0:de.default.log("handleCandidate:",s),l=s.candidate,h=s.sdpMLineIndex,y=s.sdpMid,S=this.connection.peerConnection,O=this.connection.provider,G.label=1;case 1:return G.trys.push([1,3,,4]),[4,S.addIceCandidate(new RTCIceCandidate({sdpMid:y,sdpMLineIndex:h,candidate:l}))];case 2:return G.sent(),de.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return x=G.sent(),O.emitError(_t.WebRTC,x),de.default.log("Failed to handleCandidate, ",x),[3,4];case 4:return[2]}})})},a.prototype._addTracksToConnection=function(s,l){if(de.default.log("add tracks from stream ".concat(s.id," to peer connection")),!l.addTrack)return de.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");s.getTracks().forEach(function(h){l.addTrack(h,s)})},a.prototype._addStreamToMediaConnection=function(s,l){de.default.log("add stream ".concat(s.id," to media connection ").concat(l.connectionId)),l.addStream(s)},a}(),hr={};Nt(hr,"BaseConnection",()=>Wr,a=>Wr=a);var xo=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(h[S]=y[S])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),Wr=function(a){function s(l,h,y){var S=a.call(this)||this;return S.peer=l,S.provider=h,S.options=y,S._open=!1,S.metadata=y.metadata,S}return xo(s,a),Object.defineProperty(s.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),s}(Mn.EventEmitter),pr=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(h[S]=y[S])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),Fr=function(){return Fr=Object.assign||function(a){for(var s,l=1,h=arguments.length;l<h;l++)for(var y in s=arguments[l])Object.prototype.hasOwnProperty.call(s,y)&&(a[y]=s[y]);return a},Fr.apply(this,arguments)},Lr=function(a){function s(l,h,y){var S=a.call(this,l,h,y)||this;return S._localStream=S.options._stream,S.connectionId=S.options.connectionId||s.ID_PREFIX+It.randomToken(),S._negotiator=new ro.Negotiator(S),S._localStream&&S._negotiator.startConnection({_stream:S._localStream,originator:!0}),S}return pr(s,a),Object.defineProperty(s.prototype,"type",{get:function(){return Ht.Media},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),s.prototype.addStream=function(l){de.default.log("Receiving stream",l),this._remoteStream=l,a.prototype.emit.call(this,"stream",l)},s.prototype.handleMessage=function(l){var h=l.type,y=l.payload;switch(l.type){case yt.Answer:this._negotiator.handleSDP(h,y.sdp),this._open=!0;break;case yt.Candidate:this._negotiator.handleCandidate(y.candidate);break;default:de.default.warn("Unrecognized message type:".concat(h," from peer:").concat(this.peer))}},s.prototype.answer=function(l,h){var y,S;if(void 0===h&&(h={}),this._localStream)de.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=l,h&&h.sdpTransform&&(this.options.sdpTransform=h.sdpTransform),this._negotiator.startConnection(Fr(Fr({},this.options._payload),{_stream:l}));var O=this.provider._getMessages(this.connectionId);try{for(var x=function(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],h=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(O),G=x.next();!G.done;G=x.next())this.handleMessage(G.value)}catch(oe){y={error:oe}}finally{try{G&&!G.done&&(S=x.return)&&S.call(x)}finally{if(y)throw y.error}}this._open=!0}},s.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,a.prototype.emit.call(this,"close"))},s.ID_PREFIX="mc_",s}(hr.BaseConnection),gr={};Nt(gr,"DataConnection",()=>Vr,a=>Vr=a);var No={};Nt(No,"EncodingQueue",()=>hn,a=>hn=a);var Zr=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(h[S]=y[S])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),hn=function(a){function s(){var l=a.call(this)||this;return l.fileReader=new FileReader,l._queue=[],l._processing=!1,l.fileReader.onload=function(h){l._processing=!1,h.target&&l.emit("done",h.target.result),l.doNextTask()},l.fileReader.onerror=function(h){de.default.error("EncodingQueue error:",h),l._processing=!1,l.destroy(),l.emit("error",h)},l}return Zr(s,a),Object.defineProperty(s.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),s.prototype.enque=function(l){this.queue.push(l),!this.processing&&this.doNextTask()},s.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},s.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},s}(Mn.EventEmitter),io=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(h[S]=y[S])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),Vr=function(a){function s(l,h,y){var S=a.call(this,l,h,y)||this;return S.stringify=JSON.stringify,S.parse=JSON.parse,S._buffer=[],S._bufferSize=0,S._buffering=!1,S._chunkedData={},S._encodingQueue=new No.EncodingQueue,S.connectionId=S.options.connectionId||s.ID_PREFIX+It.randomToken(),S.label=S.options.label||S.connectionId,S.serialization=S.options.serialization||Dn.Binary,S.reliable=!!S.options.reliable,S._encodingQueue.on("done",function(O){S._bufferedSend(O)}),S._encodingQueue.on("error",function(){de.default.error("DC#".concat(S.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),S.close()}),S._negotiator=new ro.Negotiator(S),S._negotiator.startConnection(S.options._payload||{originator:!0}),S}return io(s,a),Object.defineProperty(s.prototype,"type",{get:function(){return Ht.Data},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),s.prototype.initialize=function(l){this._dc=l,this._configureDataChannel()},s.prototype._configureDataChannel=function(){var l=this;(!It.supports.binaryBlob||It.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){de.default.log("DC#".concat(l.connectionId," dc connection success")),l._open=!0,l.emit("open")},this.dataChannel.onmessage=function(h){de.default.log("DC#".concat(l.connectionId," dc onmessage:"),h.data),l._handleDataMessage(h)},this.dataChannel.onclose=function(){de.default.log("DC#".concat(l.connectionId," dc closed for:"),l.peer),l.close()}},s.prototype._handleDataMessage=function(l){var h=this,y=l.data,S=y.constructor,x=y;if(this.serialization===Dn.Binary||this.serialization===Dn.BinaryUTF8){if(S===Blob)return void It.blobToArrayBuffer(y,function(U){var oe=It.unpack(U);h.emit("data",oe)});if(S===ArrayBuffer)x=It.unpack(y);else if(S===String){var G=It.binaryStringToArrayBuffer(y);x=It.unpack(G)}}else this.serialization===Dn.JSON&&(x=this.parse(y));x.__peerData?this._handleChunk(x):a.prototype.emit.call(this,"data",x)},s.prototype._handleChunk=function(l){var h=l.__peerData,y=this._chunkedData[h]||{data:[],count:0,total:l.total};if(y.data[l.n]=l.data,y.count++,this._chunkedData[h]=y,y.total===y.count){delete this._chunkedData[h];var S=new Blob(y.data);this._handleDataMessage({data:S})}},s.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,a.prototype.emit.call(this,"close"))},s.prototype.send=function(l,h){if(this.open)if(this.serialization===Dn.JSON)this._bufferedSend(this.stringify(l));else if(this.serialization===Dn.Binary||this.serialization===Dn.BinaryUTF8){var y=It.pack(l);if(!h&&y.size>It.chunkedMTU)return void this._sendChunks(y);It.supports.binaryBlob?this._bufferedSend(y):this._encodingQueue.enque(y)}else this._bufferedSend(l);else a.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."))},s.prototype._bufferedSend=function(l){(this._buffering||!this._trySend(l))&&(this._buffer.push(l),this._bufferSize=this._buffer.length)},s.prototype._trySend=function(l){var h=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>s.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){h._buffering=!1,h._tryBuffer()},50),!1;try{this.dataChannel.send(l)}catch(y){return de.default.error("DC#:".concat(this.connectionId," Error when sending:"),y),this._buffering=!0,this.close(),!1}return!0},s.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},s.prototype._sendChunks=function(l){var h,y,S=It.chunk(l);de.default.log("DC#".concat(this.connectionId," Try to send ").concat(S.length," chunks..."));try{for(var O=function(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],h=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(S),x=O.next();!x.done;x=O.next())this.send(x.value,!0)}catch(U){h={error:U}}finally{try{x&&!x.done&&(y=O.return)&&y.call(O)}finally{if(h)throw h.error}}},s.prototype.handleMessage=function(l){var h=l.payload;switch(l.type){case yt.Answer:this._negotiator.handleSDP(l.type,h.sdp);break;case yt.Candidate:this._negotiator.handleCandidate(h.candidate);break;default:de.default.warn("Unrecognized message type:",l.type,"from peer:",this.peer)}},s.ID_PREFIX="dc_",s.MAX_BUFFERED_AMOUNT=8388608,s}(hr.BaseConnection),On={};Nt(On,"API",()=>Br,a=>Br=a);var Fo=function(a,s,l,h){return new(l||(l=Promise))(function(S,O){function x(oe){try{U(h.next(oe))}catch(Ee){O(Ee)}}function G(oe){try{U(h.throw(oe))}catch(Ee){O(Ee)}}function U(oe){oe.done?S(oe.value):function y(S){return S instanceof l?S:new l(function(O){O(S)})}(oe.value).then(x,G)}U((h=h.apply(a,s||[])).next())})},Rr=function(a,s){var h,y,S,O,l={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return O={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O;function x(U){return function(oe){return function G(U){if(h)throw new TypeError("Generator is already executing.");for(;l;)try{if(h=1,y&&(S=2&U[0]?y.return:U[0]?y.throw||((S=y.return)&&S.call(y),0):y.next)&&!(S=S.call(y,U[1])).done)return S;switch(y=0,S&&(U=[2&U[0],S.value]),U[0]){case 0:case 1:S=U;break;case 4:return l.label++,{value:U[1],done:!1};case 5:l.label++,y=U[1],U=[0];continue;case 7:U=l.ops.pop(),l.trys.pop();continue;default:if(!(S=(S=l.trys).length>0&&S[S.length-1])&&(6===U[0]||2===U[0])){l=0;continue}if(3===U[0]&&(!S||U[1]>S[0]&&U[1]<S[3])){l.label=U[1];break}if(6===U[0]&&l.label<S[1]){l.label=S[1],S=U;break}if(S&&l.label<S[2]){l.label=S[2],l.ops.push(U);break}S[2]&&l.ops.pop(),l.trys.pop();continue}U=s.call(a,l)}catch(oe){U=[6,oe],y=0}finally{h=S=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([U,oe])}}},Br=function(){function a(s){this._options=s}return a.prototype._buildRequest=function(s){var h=this._options,y=h.host,S=h.port,O=h.path,x=h.key,G=new URL("".concat(this._options.secure?"https":"http","://").concat(y,":").concat(S).concat(O).concat(x,"/").concat(s));return G.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),G.searchParams.set("version",In.version),fetch(G.href,{referrerPolicy:this._options.referrerPolicy})},a.prototype.retrieveId=function(){return Fo(this,void 0,Promise,function(){var s,l,h;return Rr(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(200!==(s=y.sent()).status)throw new Error("Error. Status:".concat(s.status));return[2,s.text()];case 2:throw l=y.sent(),de.default.error("Error retrieving ID",l),h="","/"===this._options.path&&this._options.host!==It.CLOUD_HOST&&(h=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+h);case 3:return[2]}})})},a.prototype.listAllPeers=function(){return Fo(this,void 0,Promise,function(){var s,l,h;return Rr(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(200!==(s=y.sent()).status)throw 401===s.status?("",l=this._options.host===It.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+l)):new Error("Error. Status:".concat(s.status));return[2,s.json()];case 2:throw h=y.sent(),de.default.error("Error retrieving list peers",h),new Error("Could not get list peers from the server."+h);case 3:return[2]}})})},a}(),bo=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(h[S]=y[S])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),Sn=function(){return Sn=Object.assign||function(a){for(var s,l=1,h=arguments.length;l<h;l++)for(var y in s=arguments[l])Object.prototype.hasOwnProperty.call(s,y)&&(a[y]=s[y]);return a},Sn.apply(this,arguments)},ao=function(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],h=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},Zo=function(a,s){var l="function"==typeof Symbol&&a[Symbol.iterator];if(!l)return a;var y,O,h=l.call(a),S=[];try{for(;(void 0===s||s-- >0)&&!(y=h.next()).done;)S.push(y.value)}catch(x){O={error:x}}finally{try{y&&!y.done&&(l=h.return)&&l.call(h)}finally{if(O)throw O.error}}return S},co=function(a){function s(l,h){var S,y=a.call(this)||this;return y._id=null,y._lastServerId=null,y._destroyed=!1,y._disconnected=!1,y._open=!1,y._connections=new Map,y._lostMessages=new Map,l&&l.constructor==Object?h=l:l&&(S=l.toString()),h=Sn({debug:0,host:It.CLOUD_HOST,port:It.CLOUD_PORT,path:"/",key:s.DEFAULT_KEY,token:It.randomToken(),config:It.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},h),y._options=h,"/"===y._options.host&&(y._options.host=window.location.hostname),y._options.path&&("/"!==y._options.path[0]&&(y._options.path="/"+y._options.path),"/"!==y._options.path[y._options.path.length-1]&&(y._options.path+="/")),void 0===y._options.secure&&y._options.host!==It.CLOUD_HOST?y._options.secure=It.isSecure():y._options.host==It.CLOUD_HOST&&(y._options.secure=!0),y._options.logFunction&&de.default.setLogFunction(y._options.logFunction),de.default.logLevel=y._options.debug||0,y._api=new On.API(h),y._socket=y._createServerConnection(),It.supports.audioVideo||It.supports.data?S&&!It.validateId(S)?(y._delayedAbort(_t.InvalidID,'ID "'.concat(S,'" is invalid')),y):(S?y._initialize(S):y._api.retrieveId().then(function(O){return y._initialize(O)}).catch(function(O){return y._abort(_t.ServerError,O)}),y):(y._delayedAbort(_t.BrowserIncompatible,"The current browser does not support WebRTC"),y)}return bo(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connections",{get:function(){var l,h,y=Object.create(null);try{for(var S=ao(this._connections),O=S.next();!O.done;O=S.next()){var x=Zo(O.value,2);y[x[0]]=x[1]}}catch(oe){l={error:oe}}finally{try{O&&!O.done&&(h=S.return)&&h.call(S)}finally{if(l)throw l.error}}return y},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),s.prototype._createServerConnection=function(){var l=this,h=new Wn.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return h.on(fn.Message,function(y){l._handleMessage(y)}),h.on(fn.Error,function(y){l._abort(_t.SocketError,y)}),h.on(fn.Disconnected,function(){l.disconnected||(l.emitError(_t.Network,"Lost connection to server."),l.disconnect())}),h.on(fn.Close,function(){l.disconnected||l._abort(_t.SocketClosed,"Underlying socket is already closed.")}),h},s.prototype._initialize=function(l){this._id=l,this.socket.start(l,this._options.token)},s.prototype._handleMessage=function(l){var h,y,S=l.type,O=l.payload,x=l.src;switch(S){case yt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case yt.Error:this._abort(_t.ServerError,O.msg);break;case yt.IdTaken:this._abort(_t.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case yt.InvalidKey:this._abort(_t.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case yt.Leave:de.default.log("Received leave message from ".concat(x)),this._cleanupPeer(x),this._connections.delete(x);break;case yt.Expire:this.emitError(_t.PeerUnavailable,"Could not connect to peer ".concat(x));break;case yt.Offer:if((en=this.getConnection(x,Wt=O.connectionId))&&(en.close(),de.default.warn("Offer received for existing Connection ID:".concat(Wt))),O.type===Ht.Media){var G=new Ir.MediaConnection(x,this,{connectionId:Wt,_payload:O,metadata:O.metadata});this._addConnection(x,en=G),this.emit("call",G)}else{if(O.type!==Ht.Data)return void de.default.warn("Received malformed connection type:".concat(O.type));var U=new gr.DataConnection(x,this,{connectionId:Wt,_payload:O,metadata:O.metadata,label:O.label,serialization:O.serialization,reliable:O.reliable});this._addConnection(x,en=U),this.emit("connection",U)}var oe=this._getMessages(Wt);try{for(var Ee=ao(oe),Ze=Ee.next();!Ze.done;Ze=Ee.next())en.handleMessage(Ze.value)}catch(Ri){h={error:Ri}}finally{try{Ze&&!Ze.done&&(y=Ee.return)&&y.call(Ee)}finally{if(h)throw h.error}}break;default:if(!O)return void de.default.warn("You received a malformed message from ".concat(x," of type ").concat(S));var Wt,en;(en=this.getConnection(x,Wt=O.connectionId))&&en.peerConnection?en.handleMessage(l):Wt?this._storeMessage(Wt,l):de.default.warn("You received an unrecognized message:",l)}},s.prototype._storeMessage=function(l,h){this._lostMessages.has(l)||this._lostMessages.set(l,[]),this._lostMessages.get(l).push(h)},s.prototype._getMessages=function(l){var h=this._lostMessages.get(l);return h?(this._lostMessages.delete(l),h):[]},s.prototype.connect=function(l,h){if(void 0===h&&(h={}),this.disconnected)return de.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(_t.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var y=new gr.DataConnection(l,this,h);return this._addConnection(l,y),y},s.prototype.call=function(l,h,y){if(void 0===y&&(y={}),this.disconnected)return de.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(_t.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(h){var S=new Ir.MediaConnection(l,this,Sn(Sn({},y),{_stream:h}));return this._addConnection(l,S),S}de.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},s.prototype._addConnection=function(l,h){de.default.log("add connection ".concat(h.type,":").concat(h.connectionId," to peerId:").concat(l)),this._connections.has(l)||this._connections.set(l,[]),this._connections.get(l).push(h)},s.prototype._removeConnection=function(l){var h=this._connections.get(l.peer);if(h){var y=h.indexOf(l);-1!==y&&h.splice(y,1)}this._lostMessages.delete(l.connectionId)},s.prototype.getConnection=function(l,h){var y,S,O=this._connections.get(l);if(!O)return null;try{for(var x=ao(O),G=x.next();!G.done;G=x.next()){var U=G.value;if(U.connectionId===h)return U}}catch(oe){y={error:oe}}finally{try{G&&!G.done&&(S=x.return)&&S.call(x)}finally{if(y)throw y.error}}return null},s.prototype._delayedAbort=function(l,h){var y=this;setTimeout(function(){y._abort(l,h)},0)},s.prototype._abort=function(l,h){de.default.error("Aborting!"),this.emitError(l,h),this._lastServerId?this.disconnect():this.destroy()},s.prototype.emitError=function(l,h){var y;de.default.error("Error:",h),(y="string"==typeof h?new Error(h):h).type=l,this.emit("error",y)},s.prototype.destroy=function(){this.destroyed||(de.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},s.prototype._cleanup=function(){var l,h;try{for(var y=ao(this._connections.keys()),S=y.next();!S.done;S=y.next()){var O=S.value;this._cleanupPeer(O),this._connections.delete(O)}}catch(x){l={error:x}}finally{try{S&&!S.done&&(h=y.return)&&h.call(y)}finally{if(l)throw l.error}}this.socket.removeAllListeners()},s.prototype._cleanupPeer=function(l){var h,y,S=this._connections.get(l);if(S)try{for(var O=ao(S),x=O.next();!x.done;x=O.next())x.value.close()}catch(U){h={error:U}}finally{try{x&&!x.done&&(y=O.return)&&y.call(O)}finally{if(h)throw h.error}}},s.prototype.disconnect=function(){if(!this.disconnected){var l=this.id;de.default.log("Disconnect peer with ID:".concat(l)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=l,this._id=null,this.emit("disconnected",l)}},s.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)de.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"));de.default.error("In a hurry? We're still trying to make the initial connection!")}},s.prototype.listAllPeers=function(l){var h=this;void 0===l&&(l=function(y){}),this._api.listAllPeers().then(function(y){return l(y)}).catch(function(y){return h._abort(_t.ServerError,y)})},s.DEFAULT_KEY="peerjs",s}(Mn.EventEmitter),lo=M(3741);const Lo=[0,2e3,1e4,3e4,null];class uo{constructor(s){this._retryDelays=void 0!==s?[...s,null]:Lo}nextRetryDelayInMilliseconds(s){return this._retryDelays[s.previousRetryCount]}}let jr=(()=>{class a{}return a.Authorization="Authorization",a.Cookie="Cookie",a})();class fo{constructor(s,l,h){this.statusCode=s,this.statusText=l,this.content=h}}class Tt{get(s,l){return this.send({...l,method:"GET",url:s})}post(s,l){return this.send({...l,method:"POST",url:s})}delete(s,l){return this.send({...l,method:"DELETE",url:s})}getCookieString(s){return""}}class En extends Tt{constructor(s,l){super(),this._innerClient=s,this._accessTokenFactory=l}send(s){var l=this;return(0,pe.Z)(function*(){let h=!0;l._accessTokenFactory&&(!l._accessToken||s.url&&s.url.indexOf("/negotiate?")>0)&&(h=!1,l._accessToken=yield l._accessTokenFactory()),l._setAuthorizationHeader(s);const y=yield l._innerClient.send(s);return h&&401===y.statusCode&&l._accessTokenFactory?(l._accessToken=yield l._accessTokenFactory(),l._setAuthorizationHeader(s),yield l._innerClient.send(s)):y})()}_setAuthorizationHeader(s){s.headers||(s.headers={}),this._accessToken?s.headers[jr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&s.headers[jr.Authorization]&&delete s.headers[jr.Authorization]}getCookieString(s){return this._innerClient.getCookieString(s)}}class ln extends Error{constructor(s,l){const h=new.target.prototype;super(`${s}: Status code '${l}'`),this.statusCode=l,this.__proto__=h}}class mr extends Error{constructor(s="A timeout occurred."){const l=new.target.prototype;super(s),this.__proto__=l}}class Ft extends Error{constructor(s="An abort occurred."){const l=new.target.prototype;super(s),this.__proto__=l}}class So extends Error{constructor(s,l){const h=new.target.prototype;super(s),this.transport=l,this.errorType="UnsupportedTransportError",this.__proto__=h}}class $r extends Error{constructor(s,l){const h=new.target.prototype;super(s),this.transport=l,this.errorType="DisabledTransportError",this.__proto__=h}}class yr extends Error{constructor(s,l){const h=new.target.prototype;super(s),this.transport=l,this.errorType="FailedToStartTransportError",this.__proto__=h}}class cr extends Error{constructor(s){const l=new.target.prototype;super(s),this.errorType="FailedToNegotiateWithServerError",this.__proto__=l}}class vr extends Error{constructor(s,l){const h=new.target.prototype;super(s),this.innerErrors=l,this.__proto__=h}}var Ce=(()=>((Ce=Ce||{})[Ce.Trace=0]="Trace",Ce[Ce.Debug=1]="Debug",Ce[Ce.Information=2]="Information",Ce[Ce.Warning=3]="Warning",Ce[Ce.Error=4]="Error",Ce[Ce.Critical=5]="Critical",Ce[Ce.None=6]="None",Ce))();class Ue{constructor(){}log(s,l){}}Ue.instance=new Ue;const ut="7.0.7";class st{static isRequired(s,l){if(null==s)throw new Error(`The '${l}' argument is required.`)}static isNotEmpty(s,l){if(!s||s.match(/^\s*$/))throw new Error(`The '${l}' argument should not be empty.`)}static isIn(s,l,h){if(!(s in l))throw new Error(`Unknown ${h} value: ${s}.`)}}class At{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Xn(a,s){let l="";return Yn(a)?(l=`Binary data of length ${a.byteLength}`,s&&(l+=`. Content: '${function un(a){const s=new Uint8Array(a);let l="";return s.forEach(h=>{l+=`0x${h<16?"0":""}${h.toString(16)} `}),l.substr(0,l.length-1)}(a)}'`)):"string"==typeof a&&(l=`String data of length ${a.length}`,s&&(l+=`. Content: '${a}'`)),l}function Yn(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&"ArrayBuffer"===a.constructor.name)}function Gt(a,s,l,h,y,S){return lr.apply(this,arguments)}function lr(){return lr=(0,pe.Z)(function*(a,s,l,h,y,S){const O={},[x,G]=_r();O[x]=G,a.log(Ce.Trace,`(${s} transport) sending data. ${Xn(y,S.logMessageContent)}.`);const U=Yn(y)?"arraybuffer":"text",oe=yield l.post(h,{content:y,headers:{...O,...S.headers},responseType:U,timeout:S.timeout,withCredentials:S.withCredentials});a.log(Ce.Trace,`(${s} transport) request complete. Response status: ${oe.statusCode}.`)}),lr.apply(this,arguments)}class ct{constructor(s,l){this._subject=s,this._observer=l}dispose(){const s=this._subject.observers.indexOf(this._observer);s>-1&&this._subject.observers.splice(s,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(l=>{})}}class Un{constructor(s){this._minLevel=s,this.out=console}log(s,l){if(s>=this._minLevel){const h=`[${(new Date).toISOString()}] ${Ce[s]}: ${l}`;switch(s){case Ce.Critical:case Ce.Error:this.out.error(h);break;case Ce.Warning:this.out.warn(h);break;case Ce.Information:this.out.info(h);break;default:this.out.log(h)}}}}function _r(){let a="X-SignalR-User-Agent";return At.isNode&&(a="User-Agent"),[a,Cr(ut,sn(),At.isNode?"NodeJS":"Browser",ho())]}function Cr(a,s,l,h){let y="Microsoft SignalR/";const S=a.split(".");return y+=`${S[0]}.${S[1]}`,y+=` (${a}; `,y+=s&&""!==s?`${s}; `:"Unknown OS; ",y+=`${l}`,y+=h?`; ${h}`:"; Unknown Runtime Version",y+=")",y}function sn(){if(!At.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function ho(){if(At.isNode)return process.versions.node}function Vn(a){return a.stack?a.stack:a.message?a.message:`${a}`}class Yr extends Tt{constructor(s){if(super(),this._logger=s,typeof fetch>"u"){const l=require;this._jar=new(l("tough-cookie").CookieJar),this._fetchType=l("node-fetch"),this._fetchType=l("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Pr(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const l=require;this._abortControllerType=l("abort-controller")}else this._abortControllerType=AbortController}send(s){var l=this;return(0,pe.Z)(function*(){if(s.abortSignal&&s.abortSignal.aborted)throw new Ft;if(!s.method)throw new Error("No method defined.");if(!s.url)throw new Error("No url defined.");const h=new l._abortControllerType;let y;s.abortSignal&&(s.abortSignal.onabort=()=>{h.abort(),y=new Ft});let O,S=null;s.timeout&&(S=setTimeout(()=>{h.abort(),l._logger.log(Ce.Warning,"Timeout from HTTP request."),y=new mr},s.timeout)),""===s.content&&(s.content=void 0),s.content&&(s.headers=s.headers||{},s.headers["Content-Type"]=Yn(s.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{O=yield l._fetchType(s.url,{body:s.content,cache:"no-cache",credentials:!0===s.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...s.headers},method:s.method,mode:"cors",redirect:"follow",signal:h.signal})}catch(U){throw y||(l._logger.log(Ce.Warning,`Error from HTTP request. ${U}.`),U)}finally{S&&clearTimeout(S),s.abortSignal&&(s.abortSignal.onabort=null)}if(!O.ok){const U=yield tr(O,"text");throw new ln(U||O.statusText,O.status)}const G=yield tr(O,s.responseType);return new fo(O.status,O.statusText,G)})()}getCookieString(s){let l="";return At.isNode&&this._jar&&this._jar.getCookies(s,(h,y)=>l=y.join("; ")),l}}function tr(a,s){let l;switch(s){case"arraybuffer":l=a.arrayBuffer();break;case"text":default:l=a.text();break;case"blob":case"document":case"json":throw new Error(`${s} is not supported.`)}return l}class wn extends Tt{constructor(s){super(),this._logger=s}send(s){return s.abortSignal&&s.abortSignal.aborted?Promise.reject(new Ft):s.method?s.url?new Promise((l,h)=>{const y=new XMLHttpRequest;y.open(s.method,s.url,!0),y.withCredentials=void 0===s.withCredentials||s.withCredentials,y.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===s.content&&(s.content=void 0),s.content&&(Yn(s.content)?y.setRequestHeader("Content-Type","application/octet-stream"):y.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const S=s.headers;S&&Object.keys(S).forEach(O=>{y.setRequestHeader(O,S[O])}),s.responseType&&(y.responseType=s.responseType),s.abortSignal&&(s.abortSignal.onabort=()=>{y.abort(),h(new Ft)}),s.timeout&&(y.timeout=s.timeout),y.onload=()=>{s.abortSignal&&(s.abortSignal.onabort=null),y.status>=200&&y.status<300?l(new fo(y.status,y.statusText,y.response||y.responseText)):h(new ln(y.response||y.responseText||y.statusText,y.status))},y.onerror=()=>{this._logger.log(Ce.Warning,`Error from HTTP request. ${y.status}: ${y.statusText}.`),h(new ln(y.statusText,y.status))},y.ontimeout=()=>{this._logger.log(Ce.Warning,"Timeout from HTTP request."),h(new mr)},y.send(s.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class po extends Tt{constructor(s){if(super(),typeof fetch<"u"||At.isNode)this._httpClient=new Yr(s);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new wn(s)}}send(s){return s.abortSignal&&s.abortSignal.aborted?Promise.reject(new Ft):s.method?s.url?this._httpClient.send(s):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(s){return this._httpClient.getCookieString(s)}}var Mt=(()=>((Mt=Mt||{})[Mt.None=0]="None",Mt[Mt.WebSockets=1]="WebSockets",Mt[Mt.ServerSentEvents=2]="ServerSentEvents",Mt[Mt.LongPolling=4]="LongPolling",Mt))(),nt=(()=>((nt=nt||{})[nt.Text=1]="Text",nt[nt.Binary=2]="Binary",nt))();class Yo{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class Eo{constructor(s,l,h){this._httpClient=s,this._logger=l,this._pollAbort=new Yo,this._options=h,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(s,l){var h=this;return(0,pe.Z)(function*(){if(st.isRequired(s,"url"),st.isRequired(l,"transferFormat"),st.isIn(l,nt,"transferFormat"),h._url=s,h._logger.log(Ce.Trace,"(LongPolling transport) Connecting."),l===nt.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[y,S]=_r(),O={[y]:S,...h._options.headers},x={abortSignal:h._pollAbort.signal,headers:O,timeout:1e5,withCredentials:h._options.withCredentials};l===nt.Binary&&(x.responseType="arraybuffer");const G=`${s}&_=${Date.now()}`;h._logger.log(Ce.Trace,`(LongPolling transport) polling: ${G}.`);const U=yield h._httpClient.get(G,x);200!==U.statusCode?(h._logger.log(Ce.Error,`(LongPolling transport) Unexpected response code: ${U.statusCode}.`),h._closeError=new ln(U.statusText||"",U.statusCode),h._running=!1):h._running=!0,h._receiving=h._poll(h._url,x)})()}_poll(s,l){var h=this;return(0,pe.Z)(function*(){try{for(;h._running;)try{const y=`${s}&_=${Date.now()}`;h._logger.log(Ce.Trace,`(LongPolling transport) polling: ${y}.`);const S=yield h._httpClient.get(y,l);204===S.statusCode?(h._logger.log(Ce.Information,"(LongPolling transport) Poll terminated by server."),h._running=!1):200!==S.statusCode?(h._logger.log(Ce.Error,`(LongPolling transport) Unexpected response code: ${S.statusCode}.`),h._closeError=new ln(S.statusText||"",S.statusCode),h._running=!1):S.content?(h._logger.log(Ce.Trace,`(LongPolling transport) data received. ${Xn(S.content,h._options.logMessageContent)}.`),h.onreceive&&h.onreceive(S.content)):h._logger.log(Ce.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(y){h._running?y instanceof mr?h._logger.log(Ce.Trace,"(LongPolling transport) Poll timed out, reissuing."):(h._closeError=y,h._running=!1):h._logger.log(Ce.Trace,`(LongPolling transport) Poll errored after shutdown: ${y.message}`)}}finally{h._logger.log(Ce.Trace,"(LongPolling transport) Polling complete."),h.pollAborted||h._raiseOnClose()}})()}send(s){var l=this;return(0,pe.Z)(function*(){return l._running?Gt(l._logger,"LongPolling",l._httpClient,l._url,s,l._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var s=this;return(0,pe.Z)(function*(){s._logger.log(Ce.Trace,"(LongPolling transport) Stopping polling."),s._running=!1,s._pollAbort.abort();try{yield s._receiving,s._logger.log(Ce.Trace,`(LongPolling transport) sending DELETE request to ${s._url}.`);const l={},[h,y]=_r();l[h]=y;const S={headers:{...l,...s._options.headers},timeout:s._options.timeout,withCredentials:s._options.withCredentials};yield s._httpClient.delete(s._url,S),s._logger.log(Ce.Trace,"(LongPolling transport) DELETE request sent.")}finally{s._logger.log(Ce.Trace,"(LongPolling transport) Stop finished."),s._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let s="(LongPolling transport) Firing onclose event.";this._closeError&&(s+=" Error: "+this._closeError),this._logger.log(Ce.Trace,s),this.onclose(this._closeError)}}}class qo{constructor(s,l,h,y){this._httpClient=s,this._accessToken=l,this._logger=h,this._options=y,this.onreceive=null,this.onclose=null}connect(s,l){var h=this;return(0,pe.Z)(function*(){return st.isRequired(s,"url"),st.isRequired(l,"transferFormat"),st.isIn(l,nt,"transferFormat"),h._logger.log(Ce.Trace,"(SSE transport) Connecting."),h._url=s,h._accessToken&&(s+=(s.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(h._accessToken)}`),new Promise((y,S)=>{let x,O=!1;if(l===nt.Text){if(At.isBrowser||At.isWebWorker)x=new h._options.EventSource(s,{withCredentials:h._options.withCredentials});else{const G=h._httpClient.getCookieString(s),U={};U.Cookie=G;const[oe,Ee]=_r();U[oe]=Ee,x=new h._options.EventSource(s,{withCredentials:h._options.withCredentials,headers:{...U,...h._options.headers}})}try{x.onmessage=G=>{if(h.onreceive)try{h._logger.log(Ce.Trace,`(SSE transport) data received. ${Xn(G.data,h._options.logMessageContent)}.`),h.onreceive(G.data)}catch(U){return void h._close(U)}},x.onerror=G=>{O?h._close():S(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},x.onopen=()=>{h._logger.log(Ce.Information,`SSE connected to ${h._url}`),h._eventSource=x,O=!0,y()}}catch(G){return void S(G)}}else S(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(s){var l=this;return(0,pe.Z)(function*(){return l._eventSource?Gt(l._logger,"SSE",l._httpClient,l._url,s,l._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(s){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(s))}}class An{constructor(s,l,h,y,S,O){this._logger=h,this._accessTokenFactory=l,this._logMessageContent=y,this._webSocketConstructor=S,this._httpClient=s,this.onreceive=null,this.onclose=null,this._headers=O}connect(s,l){var h=this;return(0,pe.Z)(function*(){let y;return st.isRequired(s,"url"),st.isRequired(l,"transferFormat"),st.isIn(l,nt,"transferFormat"),h._logger.log(Ce.Trace,"(WebSockets transport) Connecting."),h._accessTokenFactory&&(y=yield h._accessTokenFactory()),new Promise((S,O)=>{let x;s=s.replace(/^http/,"ws");const G=h._httpClient.getCookieString(s);let U=!1;if(At.isNode||At.isReactNative){const oe={},[Ee,Ze]=_r();oe[Ee]=Ze,y&&(oe[jr.Authorization]=`Bearer ${y}`),G&&(oe[jr.Cookie]=G),x=new h._webSocketConstructor(s,void 0,{headers:{...oe,...h._headers}})}else y&&(s+=(s.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(y)}`);x||(x=new h._webSocketConstructor(s)),l===nt.Binary&&(x.binaryType="arraybuffer"),x.onopen=oe=>{h._logger.log(Ce.Information,`WebSocket connected to ${s}.`),h._webSocket=x,U=!0,S()},x.onerror=oe=>{let Ee=null;Ee=typeof ErrorEvent<"u"&&oe instanceof ErrorEvent?oe.error:"There was an error with the transport",h._logger.log(Ce.Information,`(WebSockets transport) ${Ee}.`)},x.onmessage=oe=>{if(h._logger.log(Ce.Trace,`(WebSockets transport) data received. ${Xn(oe.data,h._logMessageContent)}.`),h.onreceive)try{h.onreceive(oe.data)}catch(Ee){return void h._close(Ee)}},x.onclose=oe=>{if(U)h._close(oe);else{let Ee=null;Ee=typeof ErrorEvent<"u"&&oe instanceof ErrorEvent?oe.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",O(new Error(Ee))}}})})()}send(s){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Ce.Trace,`(WebSockets transport) sending data. ${Xn(s,this._logMessageContent)}.`),this._webSocket.send(s),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(s){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Ce.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(s)||!1!==s.wasClean&&1e3===s.code?s instanceof Error?this.onclose(s):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${s.code} (${s.reason||"no reason given"}).`)))}_isCloseEvent(s){return s&&"boolean"==typeof s.wasClean&&"number"==typeof s.code}}class Kr{constructor(s,l={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,st.isRequired(s,"url"),this._logger=function er(a){return void 0===a?new Un(Ce.Information):null===a?Ue.instance:void 0!==a.log?a:new Un(a)}(l.logger),this.baseUrl=this._resolveUrl(s),(l=l||{}).logMessageContent=void 0!==l.logMessageContent&&l.logMessageContent,"boolean"!=typeof l.withCredentials&&void 0!==l.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");l.withCredentials=void 0===l.withCredentials||l.withCredentials,l.timeout=void 0===l.timeout?1e5:l.timeout;let h=null,y=null;if(At.isNode){const S=require;h=S("ws"),y=S("eventsource")}!At.isNode&&typeof WebSocket<"u"&&!l.WebSocket?l.WebSocket=WebSocket:At.isNode&&!l.WebSocket&&h&&(l.WebSocket=h),!At.isNode&&typeof EventSource<"u"&&!l.EventSource?l.EventSource=EventSource:At.isNode&&!l.EventSource&&typeof y<"u"&&(l.EventSource=y),this._httpClient=new En(l.httpClient||new po(this._logger),l.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=l,this.onreceive=null,this.onclose=null}start(s){var l=this;return(0,pe.Z)(function*(){if(st.isIn(s=s||nt.Binary,nt,"transferFormat"),l._logger.log(Ce.Debug,`Starting connection with transfer format '${nt[s]}'.`),"Disconnected"!==l._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(l._connectionState="Connecting",l._startInternalPromise=l._startInternal(s),yield l._startInternalPromise,"Disconnecting"===l._connectionState){const h="Failed to start the HttpConnection before stop() was called.";return l._logger.log(Ce.Error,h),yield l._stopPromise,Promise.reject(new Ft(h))}if("Connected"!==l._connectionState){const h="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return l._logger.log(Ce.Error,h),Promise.reject(new Ft(h))}l._connectionStarted=!0})()}send(s){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new pn(this.transport)),this._sendQueue.send(s))}stop(s){var l=this;return(0,pe.Z)(function*(){return"Disconnected"===l._connectionState?(l._logger.log(Ce.Debug,`Call to HttpConnection.stop(${s}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===l._connectionState?(l._logger.log(Ce.Debug,`Call to HttpConnection.stop(${s}) ignored because the connection is already in the disconnecting state.`),l._stopPromise):(l._connectionState="Disconnecting",l._stopPromise=new Promise(h=>{l._stopPromiseResolver=h}),yield l._stopInternal(s),void(yield l._stopPromise))})()}_stopInternal(s){var l=this;return(0,pe.Z)(function*(){l._stopError=s;try{yield l._startInternalPromise}catch{}if(l.transport){try{yield l.transport.stop()}catch(h){l._logger.log(Ce.Error,`HttpConnection.transport.stop() threw error '${h}'.`),l._stopConnection()}l.transport=void 0}else l._logger.log(Ce.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(s){var l=this;return(0,pe.Z)(function*(){let h=l.baseUrl;l._accessTokenFactory=l._options.accessTokenFactory,l._httpClient._accessTokenFactory=l._accessTokenFactory;try{if(l._options.skipNegotiation){if(l._options.transport!==Mt.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");l.transport=l._constructTransport(Mt.WebSockets),yield l._startTransport(h,s)}else{let y=null,S=0;do{if(y=yield l._getNegotiationResponse(h),"Disconnecting"===l._connectionState||"Disconnected"===l._connectionState)throw new Ft("The connection was stopped during negotiation.");if(y.error)throw new Error(y.error);if(y.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(y.url&&(h=y.url),y.accessToken){const O=y.accessToken;l._accessTokenFactory=()=>O,l._httpClient._accessToken=O,l._httpClient._accessTokenFactory=void 0}S++}while(y.url&&S<100);if(100===S&&y.url)throw new Error("Negotiate redirection limit exceeded.");yield l._createTransport(h,l._options.transport,y,s)}l.transport instanceof Eo&&(l.features.inherentKeepAlive=!0),"Connecting"===l._connectionState&&(l._logger.log(Ce.Debug,"The HttpConnection connected successfully."),l._connectionState="Connected")}catch(y){return l._logger.log(Ce.Error,"Failed to start the connection: "+y),l._connectionState="Disconnected",l.transport=void 0,l._stopPromiseResolver(),Promise.reject(y)}})()}_getNegotiationResponse(s){var l=this;return(0,pe.Z)(function*(){const h={},[y,S]=_r();h[y]=S;const O=l._resolveNegotiateUrl(s);l._logger.log(Ce.Debug,`Sending negotiation request: ${O}.`);try{const x=yield l._httpClient.post(O,{content:"",headers:{...h,...l._options.headers},timeout:l._options.timeout,withCredentials:l._options.withCredentials});if(200!==x.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${x.statusCode}'`));const G=JSON.parse(x.content);return(!G.negotiateVersion||G.negotiateVersion<1)&&(G.connectionToken=G.connectionId),G}catch(x){let G="Failed to complete negotiation with the server: "+x;return x instanceof ln&&404===x.statusCode&&(G+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),l._logger.log(Ce.Error,G),Promise.reject(new cr(G))}})()}_createConnectUrl(s,l){return l?s+(-1===s.indexOf("?")?"?":"&")+`id=${l}`:s}_createTransport(s,l,h,y){var S=this;return(0,pe.Z)(function*(){let O=S._createConnectUrl(s,h.connectionToken);if(S._isITransport(l))return S._logger.log(Ce.Debug,"Connection was provided an instance of ITransport, using that directly."),S.transport=l,yield S._startTransport(O,y),void(S.connectionId=h.connectionId);const x=[],G=h.availableTransports||[];let U=h;for(const oe of G){const Ee=S._resolveTransportOrError(oe,l,y);if(Ee instanceof Error)x.push(`${oe.transport} failed:`),x.push(Ee);else if(S._isITransport(Ee)){if(S.transport=Ee,!U){try{U=yield S._getNegotiationResponse(s)}catch(Ze){return Promise.reject(Ze)}O=S._createConnectUrl(s,U.connectionToken)}try{return yield S._startTransport(O,y),void(S.connectionId=U.connectionId)}catch(Ze){if(S._logger.log(Ce.Error,`Failed to start the transport '${oe.transport}': ${Ze}`),U=void 0,x.push(new yr(`${oe.transport} failed: ${Ze}`,Mt[oe.transport])),"Connecting"!==S._connectionState){const Et="Failed to select transport before stop() was called.";return S._logger.log(Ce.Debug,Et),Promise.reject(new Ft(Et))}}}}return Promise.reject(x.length>0?new vr(`Unable to connect to the server with any of the available transports. ${x.join(" ")}`,x):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(s){switch(s){case Mt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new An(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Mt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new qo(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Mt.LongPolling:return new Eo(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${s}.`)}}_startTransport(s,l){return this.transport.onreceive=this.onreceive,this.transport.onclose=h=>this._stopConnection(h),this.transport.connect(s,l)}_resolveTransportOrError(s,l,h){const y=Mt[s.transport];if(null==y)return this._logger.log(Ce.Debug,`Skipping transport '${s.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${s.transport}' because it is not supported by this client.`);if(!function Jr(a,s){return!a||0!=(s&a)}(l,y))return this._logger.log(Ce.Debug,`Skipping transport '${Mt[y]}' because it was disabled by the client.`),new $r(`'${Mt[y]}' is disabled by the client.`,y);if(!(s.transferFormats.map(O=>nt[O]).indexOf(h)>=0))return this._logger.log(Ce.Debug,`Skipping transport '${Mt[y]}' because it does not support the requested transfer format '${nt[h]}'.`),new Error(`'${Mt[y]}' does not support ${nt[h]}.`);if(y===Mt.WebSockets&&!this._options.WebSocket||y===Mt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Ce.Debug,`Skipping transport '${Mt[y]}' because it is not supported in your environment.'`),new So(`'${Mt[y]}' is not supported in your environment.`,y);this._logger.log(Ce.Debug,`Selecting transport '${Mt[y]}'.`);try{return this._constructTransport(y)}catch(O){return O}}_isITransport(s){return s&&"object"==typeof s&&"connect"in s}_stopConnection(s){if(this._logger.log(Ce.Debug,`HttpConnection.stopConnection(${s}) called while in state ${this._connectionState}.`),this.transport=void 0,s=this._stopError||s,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(Ce.Warning,`Call to HttpConnection.stopConnection(${s}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${s}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),s?this._logger.log(Ce.Error,`Connection disconnected with error '${s}'.`):this._logger.log(Ce.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(l=>{this._logger.log(Ce.Error,`TransportSendQueue.stop() threw error '${l}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(s)}catch(l){this._logger.log(Ce.Error,`HttpConnection.onclose(${s}) threw error '${l}'.`)}}}else this._logger.log(Ce.Debug,`Call to HttpConnection.stopConnection(${s}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(s){if(0===s.lastIndexOf("https://",0)||0===s.lastIndexOf("http://",0))return s;if(!At.isBrowser)throw new Error(`Cannot resolve '${s}'.`);const l=window.document.createElement("a");return l.href=s,this._logger.log(Ce.Information,`Normalizing '${s}' to '${l.href}'.`),l.href}_resolveNegotiateUrl(s){const l=s.indexOf("?");let h=s.substring(0,-1===l?s.length:l);return"/"!==h[h.length-1]&&(h+="/"),h+="negotiate",h+=-1===l?"":s.substring(l),-1===h.indexOf("negotiateVersion")&&(h+=-1===l?"?":"&",h+="negotiateVersion="+this._negotiateVersion),h}}class pn{constructor(s){this._transport=s,this._buffer=[],this._executing=!0,this._sendBufferedData=new wo,this._transportResult=new wo,this._sendLoopPromise=this._sendLoop()}send(s){return this._bufferData(s),this._transportResult||(this._transportResult=new wo),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(s){if(this._buffer.length&&typeof this._buffer[0]!=typeof s)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof s}`);this._buffer.push(s),this._sendBufferedData.resolve()}_sendLoop(){var s=this;return(0,pe.Z)(function*(){for(;;){if(yield s._sendBufferedData.promise,!s._executing){s._transportResult&&s._transportResult.reject("Connection stopped.");break}s._sendBufferedData=new wo;const l=s._transportResult;s._transportResult=void 0;const h="string"==typeof s._buffer[0]?s._buffer.join(""):pn._concatBuffers(s._buffer);s._buffer.length=0;try{yield s._transport.send(h),l.resolve()}catch(y){l.reject(y)}}})()}static _concatBuffers(s){const l=s.map(S=>S.byteLength).reduce((S,O)=>S+O),h=new Uint8Array(l);let y=0;for(const S of s)h.set(new Uint8Array(S),y),y+=S.byteLength;return h.buffer}}class wo{constructor(){this.promise=new Promise((s,l)=>[this._resolver,this._rejecter]=[s,l])}resolve(){this._resolver()}reject(s){this._rejecter(s)}}class zt{static write(s){return`${s}${zt.RecordSeparator}`}static parse(s){if(s[s.length-1]!==zt.RecordSeparator)throw new Error("Message is incomplete.");const l=s.split(zt.RecordSeparator);return l.pop(),l}}zt.RecordSeparatorCode=30,zt.RecordSeparator=String.fromCharCode(zt.RecordSeparatorCode);class Yt{writeHandshakeRequest(s){return zt.write(JSON.stringify(s))}parseHandshakeResponse(s){let l,h;if(Yn(s)){const x=new Uint8Array(s),G=x.indexOf(zt.RecordSeparatorCode);if(-1===G)throw new Error("Message is incomplete.");const U=G+1;l=String.fromCharCode.apply(null,Array.prototype.slice.call(x.slice(0,U))),h=x.byteLength>U?x.slice(U).buffer:null}else{const x=s,G=x.indexOf(zt.RecordSeparator);if(-1===G)throw new Error("Message is incomplete.");const U=G+1;l=x.substring(0,U),h=x.length>U?x.substring(U):null}const y=zt.parse(l),S=JSON.parse(y[0]);if(S.type)throw new Error("Expected a handshake response from the server.");return[h,S]}}var ft=(()=>((ft=ft||{})[ft.Invocation=1]="Invocation",ft[ft.StreamItem=2]="StreamItem",ft[ft.Completion=3]="Completion",ft[ft.StreamInvocation=4]="StreamInvocation",ft[ft.CancelInvocation=5]="CancelInvocation",ft[ft.Ping=6]="Ping",ft[ft.Close=7]="Close",ft))();class Hn{constructor(){this.observers=[]}next(s){for(const l of this.observers)l.next(s)}error(s){for(const l of this.observers)l.error&&l.error(s)}complete(){for(const s of this.observers)s.complete&&s.complete()}subscribe(s){return this.observers.push(s),new ct(this,s)}}var Pt=(()=>((Pt=Pt||{}).Disconnected="Disconnected",Pt.Connecting="Connecting",Pt.Connected="Connected",Pt.Disconnecting="Disconnecting",Pt.Reconnecting="Reconnecting",Pt))();class Qr{constructor(s,l,h,y){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Ce.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},st.isRequired(s,"connection"),st.isRequired(l,"logger"),st.isRequired(h,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=l,this._protocol=h,this.connection=s,this._reconnectPolicy=y,this._handshakeProtocol=new Yt,this.connection.onreceive=S=>this._processIncomingData(S),this.connection.onclose=S=>this._connectionClosed(S),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Pt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:ft.Ping})}static create(s,l,h,y){return new Qr(s,l,h,y)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(s){if(this._connectionState!==Pt.Disconnected&&this._connectionState!==Pt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!s)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=s}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var s=this;return(0,pe.Z)(function*(){if(s._connectionState!==Pt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));s._connectionState=Pt.Connecting,s._logger.log(Ce.Debug,"Starting HubConnection.");try{yield s._startInternal(),At.isBrowser&&window.document.addEventListener("freeze",s._freezeEventListener),s._connectionState=Pt.Connected,s._connectionStarted=!0,s._logger.log(Ce.Debug,"HubConnection connected successfully.")}catch(l){return s._connectionState=Pt.Disconnected,s._logger.log(Ce.Debug,`HubConnection failed to start successfully because of error '${l}'.`),Promise.reject(l)}})()}_startInternal(){var s=this;return(0,pe.Z)(function*(){s._stopDuringStartError=void 0,s._receivedHandshakeResponse=!1;const l=new Promise((h,y)=>{s._handshakeResolver=h,s._handshakeRejecter=y});yield s.connection.start(s._protocol.transferFormat);try{const h={protocol:s._protocol.name,version:s._protocol.version};if(s._logger.log(Ce.Debug,"Sending handshake request."),yield s._sendMessage(s._handshakeProtocol.writeHandshakeRequest(h)),s._logger.log(Ce.Information,`Using HubProtocol '${s._protocol.name}'.`),s._cleanupTimeout(),s._resetTimeoutPeriod(),s._resetKeepAliveInterval(),yield l,s._stopDuringStartError)throw s._stopDuringStartError;s.connection.features.inherentKeepAlive||(yield s._sendMessage(s._cachedPingMessage))}catch(h){throw s._logger.log(Ce.Debug,`Hub handshake failed with error '${h}' during start(). Stopping HubConnection.`),s._cleanupTimeout(),s._cleanupPingTimer(),yield s.connection.stop(h),h}})()}stop(){var s=this;return(0,pe.Z)(function*(){const l=s._startPromise;s._stopPromise=s._stopInternal(),yield s._stopPromise;try{yield l}catch{}})()}_stopInternal(s){return this._connectionState===Pt.Disconnected?(this._logger.log(Ce.Debug,`Call to HubConnection.stop(${s}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Pt.Disconnecting?(this._logger.log(Ce.Debug,`Call to HttpConnection.stop(${s}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Pt.Disconnecting,this._logger.log(Ce.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Ce.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=s||new Ft("The connection was stopped before the hub handshake could complete."),this.connection.stop(s)))}stream(s,...l){const[h,y]=this._replaceStreamingParams(l),S=this._createStreamInvocation(s,l,y);let O;const x=new Hn;return x.cancelCallback=()=>{const G=this._createCancelInvocation(S.invocationId);return delete this._callbacks[S.invocationId],O.then(()=>this._sendWithProtocol(G))},this._callbacks[S.invocationId]=(G,U)=>{U?x.error(U):G&&(G.type===ft.Completion?G.error?x.error(new Error(G.error)):x.complete():x.next(G.item))},O=this._sendWithProtocol(S).catch(G=>{x.error(G),delete this._callbacks[S.invocationId]}),this._launchStreams(h,O),x}_sendMessage(s){return this._resetKeepAliveInterval(),this.connection.send(s)}_sendWithProtocol(s){return this._sendMessage(this._protocol.writeMessage(s))}send(s,...l){const[h,y]=this._replaceStreamingParams(l),S=this._sendWithProtocol(this._createInvocation(s,l,!0,y));return this._launchStreams(h,S),S}invoke(s,...l){const[h,y]=this._replaceStreamingParams(l),S=this._createInvocation(s,l,!1,y);return new Promise((x,G)=>{this._callbacks[S.invocationId]=(oe,Ee)=>{Ee?G(Ee):oe&&(oe.type===ft.Completion?oe.error?G(new Error(oe.error)):x(oe.result):G(new Error(`Unexpected message type: ${oe.type}`)))};const U=this._sendWithProtocol(S).catch(oe=>{G(oe),delete this._callbacks[S.invocationId]});this._launchStreams(h,U)})}on(s,l){!s||!l||(s=s.toLowerCase(),this._methods[s]||(this._methods[s]=[]),-1===this._methods[s].indexOf(l)&&this._methods[s].push(l))}off(s,l){if(!s)return;s=s.toLowerCase();const h=this._methods[s];if(h)if(l){const y=h.indexOf(l);-1!==y&&(h.splice(y,1),0===h.length&&delete this._methods[s])}else delete this._methods[s]}onclose(s){s&&this._closedCallbacks.push(s)}onreconnecting(s){s&&this._reconnectingCallbacks.push(s)}onreconnected(s){s&&this._reconnectedCallbacks.push(s)}_processIncomingData(s){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(s=this._processHandshakeResponse(s),this._receivedHandshakeResponse=!0),s){const l=this._protocol.parseMessages(s,this._logger);for(const h of l)switch(h.type){case ft.Invocation:this._invokeClientMethod(h);break;case ft.StreamItem:case ft.Completion:{const y=this._callbacks[h.invocationId];if(y){h.type===ft.Completion&&delete this._callbacks[h.invocationId];try{y(h)}catch(S){this._logger.log(Ce.Error,`Stream callback threw error: ${Vn(S)}`)}}break}case ft.Ping:break;case ft.Close:{this._logger.log(Ce.Information,"Close message received from server.");const y=h.error?new Error("Server returned an error on close: "+h.error):void 0;!0===h.allowReconnect?this.connection.stop(y):this._stopPromise=this._stopInternal(y);break}default:this._logger.log(Ce.Warning,`Invalid message type: ${h.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(s){let l,h;try{[h,l]=this._handshakeProtocol.parseHandshakeResponse(s)}catch(y){const S="Error parsing handshake response: "+y;this._logger.log(Ce.Error,S);const O=new Error(S);throw this._handshakeRejecter(O),O}if(l.error){const y="Server returned handshake error: "+l.error;this._logger.log(Ce.Error,y);const S=new Error(y);throw this._handshakeRejecter(S),S}return this._logger.log(Ce.Debug,"Server handshake complete."),this._handshakeResolver(),h}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var s=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let l=this._nextKeepAlive-(new Date).getTime();l<0&&(l=0),this._pingServerHandle=setTimeout((0,pe.Z)(function*(){if(s._connectionState===Pt.Connected)try{yield s._sendMessage(s._cachedPingMessage)}catch{s._cleanupPingTimer()}}),l)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(s){var l=this;return(0,pe.Z)(function*(){const h=s.target.toLowerCase(),y=l._methods[h];if(!y)return l._logger.log(Ce.Warning,`No client method with the name '${h}' found.`),void(s.invocationId&&(l._logger.log(Ce.Warning,`No result given for '${h}' method and invocation ID '${s.invocationId}'.`),yield l._sendWithProtocol(l._createCompletionMessage(s.invocationId,"Client didn't provide a result.",null))));const S=y.slice(),O=!!s.invocationId;let x,G,U;for(const oe of S)try{const Ee=x;x=yield oe.apply(l,s.arguments),O&&x&&Ee&&(l._logger.log(Ce.Error,`Multiple results provided for '${h}'. Sending error to server.`),U=l._createCompletionMessage(s.invocationId,"Client provided multiple results.",null)),G=void 0}catch(Ee){G=Ee,l._logger.log(Ce.Error,`A callback for the method '${h}' threw error '${Ee}'.`)}U?yield l._sendWithProtocol(U):O?(G?U=l._createCompletionMessage(s.invocationId,`${G}`,null):void 0!==x?U=l._createCompletionMessage(s.invocationId,null,x):(l._logger.log(Ce.Warning,`No result given for '${h}' method and invocation ID '${s.invocationId}'.`),U=l._createCompletionMessage(s.invocationId,"Client didn't provide a result.",null)),yield l._sendWithProtocol(U)):x&&l._logger.log(Ce.Error,`Result given for '${h}' method but server is not expecting a result.`)})()}_connectionClosed(s){this._logger.log(Ce.Debug,`HubConnection.connectionClosed(${s}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||s||new Ft("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(s||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Pt.Disconnecting?this._completeClose(s):this._connectionState===Pt.Connected&&this._reconnectPolicy?this._reconnect(s):this._connectionState===Pt.Connected&&this._completeClose(s)}_completeClose(s){if(this._connectionStarted){this._connectionState=Pt.Disconnected,this._connectionStarted=!1,At.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(l=>l.apply(this,[s]))}catch(l){this._logger.log(Ce.Error,`An onclose callback called with error '${s}' threw error '${l}'.`)}}}_reconnect(s){var l=this;return(0,pe.Z)(function*(){const h=Date.now();let y=0,S=void 0!==s?s:new Error("Attempting to reconnect due to a unknown error."),O=l._getNextRetryDelay(y++,0,S);if(null===O)return l._logger.log(Ce.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void l._completeClose(s);if(l._connectionState=Pt.Reconnecting,l._logger.log(Ce.Information,s?`Connection reconnecting because of error '${s}'.`:"Connection reconnecting."),0!==l._reconnectingCallbacks.length){try{l._reconnectingCallbacks.forEach(x=>x.apply(l,[s]))}catch(x){l._logger.log(Ce.Error,`An onreconnecting callback called with error '${s}' threw error '${x}'.`)}if(l._connectionState!==Pt.Reconnecting)return void l._logger.log(Ce.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==O;){if(l._logger.log(Ce.Information,`Reconnect attempt number ${y} will start in ${O} ms.`),yield new Promise(x=>{l._reconnectDelayHandle=setTimeout(x,O)}),l._reconnectDelayHandle=void 0,l._connectionState!==Pt.Reconnecting)return void l._logger.log(Ce.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield l._startInternal(),l._connectionState=Pt.Connected,l._logger.log(Ce.Information,"HubConnection reconnected successfully."),0!==l._reconnectedCallbacks.length)try{l._reconnectedCallbacks.forEach(x=>x.apply(l,[l.connection.connectionId]))}catch(x){l._logger.log(Ce.Error,`An onreconnected callback called with connectionId '${l.connection.connectionId}; threw error '${x}'.`)}return}catch(x){if(l._logger.log(Ce.Information,`Reconnect attempt failed because of error '${x}'.`),l._connectionState!==Pt.Reconnecting)return l._logger.log(Ce.Debug,`Connection moved to the '${l._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(l._connectionState===Pt.Disconnecting&&l._completeClose());S=x instanceof Error?x:new Error(x.toString()),O=l._getNextRetryDelay(y++,Date.now()-h,S)}}l._logger.log(Ce.Information,`Reconnect retries have been exhausted after ${Date.now()-h} ms and ${y} failed attempts. Connection disconnecting.`),l._completeClose()})()}_getNextRetryDelay(s,l,h){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:l,previousRetryCount:s,retryReason:h})}catch(y){return this._logger.log(Ce.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${s}, ${l}) threw error '${y}'.`),null}}_cancelCallbacksWithError(s){const l=this._callbacks;this._callbacks={},Object.keys(l).forEach(h=>{const y=l[h];try{y(null,s)}catch(S){this._logger.log(Ce.Error,`Stream 'error' callback called with '${s}' threw error: ${Vn(S)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(s,l,h,y){if(h)return 0!==y.length?{arguments:l,streamIds:y,target:s,type:ft.Invocation}:{arguments:l,target:s,type:ft.Invocation};{const S=this._invocationId;return this._invocationId++,0!==y.length?{arguments:l,invocationId:S.toString(),streamIds:y,target:s,type:ft.Invocation}:{arguments:l,invocationId:S.toString(),target:s,type:ft.Invocation}}}_launchStreams(s,l){if(0!==s.length){l||(l=Promise.resolve());for(const h in s)s[h].subscribe({complete:()=>{l=l.then(()=>this._sendWithProtocol(this._createCompletionMessage(h)))},error:y=>{let S;S=y instanceof Error?y.message:y&&y.toString?y.toString():"Unknown error",l=l.then(()=>this._sendWithProtocol(this._createCompletionMessage(h,S)))},next:y=>{l=l.then(()=>this._sendWithProtocol(this._createStreamItemMessage(h,y)))}})}}_replaceStreamingParams(s){const l=[],h=[];for(let y=0;y<s.length;y++){const S=s[y];if(this._isObservable(S)){const O=this._invocationId;this._invocationId++,l[O]=S,h.push(O.toString()),s.splice(y,1)}}return[l,h]}_isObservable(s){return s&&s.subscribe&&"function"==typeof s.subscribe}_createStreamInvocation(s,l,h){const y=this._invocationId;return this._invocationId++,0!==h.length?{arguments:l,invocationId:y.toString(),streamIds:h,target:s,type:ft.StreamInvocation}:{arguments:l,invocationId:y.toString(),target:s,type:ft.StreamInvocation}}_createCancelInvocation(s){return{invocationId:s,type:ft.CancelInvocation}}_createStreamItemMessage(s,l){return{invocationId:s,item:l,type:ft.StreamItem}}_createCompletionMessage(s,l,h){return l?{error:l,invocationId:s,type:ft.Completion}:{invocationId:s,result:h,type:ft.Completion}}}class Ai{constructor(){this.name="json",this.version=1,this.transferFormat=nt.Text}parseMessages(s,l){if("string"!=typeof s)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!s)return[];null===l&&(l=Ue.instance);const h=zt.parse(s),y=[];for(const S of h){const O=JSON.parse(S);if("number"!=typeof O.type)throw new Error("Invalid payload.");switch(O.type){case ft.Invocation:this._isInvocationMessage(O);break;case ft.StreamItem:this._isStreamItemMessage(O);break;case ft.Completion:this._isCompletionMessage(O);break;case ft.Ping:case ft.Close:break;default:l.log(Ce.Information,"Unknown message type '"+O.type+"' ignored.");continue}y.push(O)}return y}writeMessage(s){return zt.write(JSON.stringify(s))}_isInvocationMessage(s){this._assertNotEmptyString(s.target,"Invalid payload for Invocation message."),void 0!==s.invocationId&&this._assertNotEmptyString(s.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(s){if(this._assertNotEmptyString(s.invocationId,"Invalid payload for StreamItem message."),void 0===s.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(s){if(s.result&&s.error)throw new Error("Invalid payload for Completion message.");!s.result&&s.error&&this._assertNotEmptyString(s.error,"Invalid payload for Completion message."),this._assertNotEmptyString(s.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(s,l){if("string"!=typeof s||""===s)throw new Error(l)}}const pi={trace:Ce.Trace,debug:Ce.Debug,info:Ce.Information,information:Ce.Information,warn:Ce.Warning,warning:Ce.Warning,error:Ce.Error,critical:Ce.Critical,none:Ce.None};class mo{configureLogging(s){if(st.isRequired(s,"logging"),function gi(a){return void 0!==a.log}(s))this.logger=s;else if("string"==typeof s){const l=function Xr(a){const s=pi[a.toLowerCase()];if(typeof s<"u")return s;throw new Error(`Unknown log level: ${a}`)}(s);this.logger=new Un(l)}else this.logger=new Un(s);return this}withUrl(s,l){return st.isRequired(s,"url"),st.isNotEmpty(s,"url"),this.url=s,this.httpConnectionOptions="object"==typeof l?{...this.httpConnectionOptions,...l}:{...this.httpConnectionOptions,transport:l},this}withHubProtocol(s){return st.isRequired(s,"protocol"),this.protocol=s,this}withAutomaticReconnect(s){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=s?Array.isArray(s)?new uo(s):s:new uo,this}build(){const s=this.httpConnectionOptions||{};if(void 0===s.logger&&(s.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const l=new Kr(this.url,s);return Qr.create(l,this.logger||Ue.instance,this.protocol||new Ai,this.reconnectPolicy)}}const ri={Development:"Development",Production:"Production"},To=ri.Production;let Bt="";Bt=To==ri.Production?"https://handcricketreborn.azurewebsites.net":"https://localhost:5000";const oi=(new mo).withUrl(`${Bt}/gamehub`).build(),E=(new mo).withUrl(`${Bt}/chathub`).build();let b=null;(new co).on("open",a=>{!function(){var l=(0,pe.Z)(function*(){b=a,yield oi.start(),yield E.start(),yield E.invoke("JoinRoom","FIRST_LOBBY",b)});return function(){return l.apply(this,arguments)}}()()}),A.q6().bootstrapModule(lo.b9).catch(a=>console.error(a))},2264:(tt,J,M)=>{var c=M(2162).MY,F=M(2162).cx;function K(j){this.index=0,this.dataBuffer=j,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function q(){this.bufferBuilder=new c}function pe(j){var L=j.charCodeAt(0);return L<=2047?"00":L<=65535?"000":L<=2097151?"0000":L<=67108863?"00000":"000000"}tt.exports={unpack:function(j){return new K(j).unpack()},pack:function(j){var L=new q;return L.pack(j),L.getBuffer()}},K.prototype.unpack=function(){var L,j=this.unpack_uint8();if(j<128)return j;if((224^j)<32)return(224^j)-32;if((L=160^j)<=15)return this.unpack_raw(L);if((L=176^j)<=15)return this.unpack_string(L);if((L=144^j)<=15)return this.unpack_array(L);if((L=128^j)<=15)return this.unpack_map(L);switch(j){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return L=this.unpack_uint16(),this.unpack_string(L);case 217:return L=this.unpack_uint32(),this.unpack_string(L);case 218:return L=this.unpack_uint16(),this.unpack_raw(L);case 219:return L=this.unpack_uint32(),this.unpack_raw(L);case 220:return L=this.unpack_uint16(),this.unpack_array(L);case 221:return L=this.unpack_uint32(),this.unpack_array(L);case 222:return L=this.unpack_uint16(),this.unpack_map(L);case 223:return L=this.unpack_uint32(),this.unpack_map(L)}},K.prototype.unpack_uint8=function(){var j=255&this.dataView[this.index];return this.index++,j},K.prototype.unpack_uint16=function(){var j=this.read(2),L=256*(255&j[0])+(255&j[1]);return this.index+=2,L},K.prototype.unpack_uint32=function(){var j=this.read(4),L=256*(256*(256*j[0]+j[1])+j[2])+j[3];return this.index+=4,L},K.prototype.unpack_uint64=function(){var j=this.read(8),L=256*(256*(256*(256*(256*(256*(256*j[0]+j[1])+j[2])+j[3])+j[4])+j[5])+j[6])+j[7];return this.index+=8,L},K.prototype.unpack_int8=function(){var j=this.unpack_uint8();return j<128?j:j-256},K.prototype.unpack_int16=function(){var j=this.unpack_uint16();return j<32768?j:j-65536},K.prototype.unpack_int32=function(){var j=this.unpack_uint32();return j<Math.pow(2,31)?j:j-Math.pow(2,32)},K.prototype.unpack_int64=function(){var j=this.unpack_uint64();return j<Math.pow(2,63)?j:j-Math.pow(2,64)},K.prototype.unpack_raw=function(j){if(this.length<this.index+j)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+j+" "+this.length);var L=this.dataBuffer.slice(this.index,this.index+j);return this.index+=j,L},K.prototype.unpack_string=function(j){for(var De,Fe,L=this.read(j),X=0,se="";X<j;)(De=L[X])<128?(se+=String.fromCharCode(De),X++):(192^De)<32?(Fe=(192^De)<<6|63&L[X+1],se+=String.fromCharCode(Fe),X+=2):(Fe=(15&De)<<12|(63&L[X+1])<<6|63&L[X+2],se+=String.fromCharCode(Fe),X+=3);return this.index+=j,se},K.prototype.unpack_array=function(j){for(var L=new Array(j),X=0;X<j;X++)L[X]=this.unpack();return L},K.prototype.unpack_map=function(j){for(var L={},X=0;X<j;X++){var se=this.unpack(),De=this.unpack();L[se]=De}return L},K.prototype.unpack_float=function(){var j=this.unpack_uint32();return(0==j>>31?1:-1)*(8388607&j|8388608)*Math.pow(2,(j>>23&255)-127-23)},K.prototype.unpack_double=function(){var j=this.unpack_uint32(),L=this.unpack_uint32(),se=(j>>20&2047)-1023;return(0==j>>31?1:-1)*((1048575&j|1048576)*Math.pow(2,se-20)+L*Math.pow(2,se-52))},K.prototype.read=function(j){var L=this.index;if(L+j<=this.length)return this.dataView.subarray(L,L+j);throw new Error("BinaryPackFailure: read index out of range")},q.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},q.prototype.pack=function(j){var L=typeof j;if("string"===L)this.pack_string(j);else if("number"===L)Math.floor(j)===j?this.pack_integer(j):this.pack_double(j);else if("boolean"===L)!0===j?this.bufferBuilder.append(195):!1===j&&this.bufferBuilder.append(194);else if("undefined"===L)this.bufferBuilder.append(192);else{if("object"!==L)throw new Error('Type "'+L+'" not yet supported');if(null===j)this.bufferBuilder.append(192);else{var X=j.constructor;if(X==Array)this.pack_array(j);else if(X==Blob||X==File||j instanceof Blob||j instanceof File)this.pack_bin(j);else if(X==ArrayBuffer)this.pack_bin(F.useArrayBufferView?new Uint8Array(j):j);else if("BYTES_PER_ELEMENT"in j)this.pack_bin(F.useArrayBufferView?new Uint8Array(j.buffer):j.buffer);else if(X==Object||X.toString().startsWith("class"))this.pack_object(j);else if(X==Date)this.pack_string(j.toString());else{if("function"!=typeof j.toBinaryPack)throw new Error('Type "'+X.toString()+'" not yet supported');this.bufferBuilder.append(j.toBinaryPack())}}}this.bufferBuilder.flush()},q.prototype.pack_bin=function(j){var L=j.length||j.byteLength||j.size;if(L<=15)this.pack_uint8(160+L);else if(L<=65535)this.bufferBuilder.append(218),this.pack_uint16(L);else{if(!(L<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(L)}this.bufferBuilder.append(j)},q.prototype.pack_string=function(j){var L=function A(j){return j.length>600?new Blob([j]).size:j.replace(/[^\u0000-\u007F]/g,pe).length}(j);if(L<=15)this.pack_uint8(176+L);else if(L<=65535)this.bufferBuilder.append(216),this.pack_uint16(L);else{if(!(L<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(L)}this.bufferBuilder.append(j)},q.prototype.pack_array=function(j){var L=j.length;if(L<=15)this.pack_uint8(144+L);else if(L<=65535)this.bufferBuilder.append(220),this.pack_uint16(L);else{if(!(L<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(L)}for(var X=0;X<L;X++)this.pack(j[X])},q.prototype.pack_integer=function(j){if(j>=-32&&j<=127)this.bufferBuilder.append(255&j);else if(j>=0&&j<=255)this.bufferBuilder.append(204),this.pack_uint8(j);else if(j>=-128&&j<=127)this.bufferBuilder.append(208),this.pack_int8(j);else if(j>=0&&j<=65535)this.bufferBuilder.append(205),this.pack_uint16(j);else if(j>=-32768&&j<=32767)this.bufferBuilder.append(209),this.pack_int16(j);else if(j>=0&&j<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(j);else if(j>=-2147483648&&j<=2147483647)this.bufferBuilder.append(210),this.pack_int32(j);else if(j>=-0x8000000000000000&&j<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(j);else{if(!(j>=0&&j<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(j)}},q.prototype.pack_double=function(j){var L=0;j<0&&(L=1,j=-j);var X=Math.floor(Math.log(j)/Math.LN2),se=j/Math.pow(2,X)-1,De=Math.floor(se*Math.pow(2,52)),Fe=Math.pow(2,32),ye=L<<31|X+1023<<20|De/Fe&1048575,Le=De%Fe;this.bufferBuilder.append(203),this.pack_int32(ye),this.pack_int32(Le)},q.prototype.pack_object=function(j){var X=Object.keys(j).length;if(X<=15)this.pack_uint8(128+X);else if(X<=65535)this.bufferBuilder.append(222),this.pack_uint16(X);else{if(!(X<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(X)}for(var se in j)j.hasOwnProperty(se)&&(this.pack(se),this.pack(j[se]))},q.prototype.pack_uint8=function(j){this.bufferBuilder.append(j)},q.prototype.pack_uint16=function(j){this.bufferBuilder.append(j>>8),this.bufferBuilder.append(255&j)},q.prototype.pack_uint32=function(j){var L=4294967295&j;this.bufferBuilder.append((4278190080&L)>>>24),this.bufferBuilder.append((16711680&L)>>>16),this.bufferBuilder.append((65280&L)>>>8),this.bufferBuilder.append(255&L)},q.prototype.pack_uint64=function(j){var L=j/Math.pow(2,32),X=j%Math.pow(2,32);this.bufferBuilder.append((4278190080&L)>>>24),this.bufferBuilder.append((16711680&L)>>>16),this.bufferBuilder.append((65280&L)>>>8),this.bufferBuilder.append(255&L),this.bufferBuilder.append((4278190080&X)>>>24),this.bufferBuilder.append((16711680&X)>>>16),this.bufferBuilder.append((65280&X)>>>8),this.bufferBuilder.append(255&X)},q.prototype.pack_int8=function(j){this.bufferBuilder.append(255&j)},q.prototype.pack_int16=function(j){this.bufferBuilder.append((65280&j)>>8),this.bufferBuilder.append(255&j)},q.prototype.pack_int32=function(j){this.bufferBuilder.append(j>>>24&255),this.bufferBuilder.append((16711680&j)>>>16),this.bufferBuilder.append((65280&j)>>>8),this.bufferBuilder.append(255&j)},q.prototype.pack_int64=function(j){var L=Math.floor(j/Math.pow(2,32)),X=j%Math.pow(2,32);this.bufferBuilder.append((4278190080&L)>>>24),this.bufferBuilder.append((16711680&L)>>>16),this.bufferBuilder.append((65280&L)>>>8),this.bufferBuilder.append(255&L),this.bufferBuilder.append((4278190080&X)>>>24),this.bufferBuilder.append((16711680&X)>>>16),this.bufferBuilder.append((65280&X)>>>8),this.bufferBuilder.append(255&X)}},2162:tt=>{var J={};J.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),J.useArrayBufferView=!J.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch{return!0}}(),tt.exports.cx=J;var M=tt.exports.xE;function c(){this._pieces=[],this._parts=[]}typeof window<"u"&&(M=tt.exports.xE=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),c.prototype.append=function(F){"number"==typeof F?this._pieces.push(F):(this.flush(),this._parts.push(F))},c.prototype.flush=function(){if(this._pieces.length>0){var F=new Uint8Array(this._pieces);J.useArrayBufferView||(F=F.buffer),this._parts.push(F),this._pieces=[]}},c.prototype.getBuffer=function(){if(this.flush(),J.useBlobBuilder){for(var F=new M,Q=0,K=this._parts.length;Q<K;Q++)F.append(this._parts[Q]);return F.getBlob()}return new Blob(this._parts)},tt.exports.MY=c},4191:(tt,J,M)=>{"use strict";var c=M(2917);function Q(L,X,se,De,Fe){var ye=c.writeRtpDescription(L.kind,X);if(ye+=c.writeIceParameters(L.iceGatherer.getLocalParameters()),ye+=c.writeDtlsParameters(L.dtlsTransport.getLocalParameters(),"offer"===se?"actpass":Fe||"active"),ye+="a=mid:"+L.mid+"\r\n",ye+=L.rtpSender&&L.rtpReceiver?"a=sendrecv\r\n":L.rtpSender?"a=sendonly\r\n":L.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",L.rtpSender){var Le=L.rtpSender._initialTrackId||L.rtpSender.track.id;L.rtpSender._initialTrackId=Le;var ze="msid:"+(De?De.id:"-")+" "+Le+"\r\n";ye+="a="+ze,ye+="a=ssrc:"+L.sendEncodingParameters[0].ssrc+" "+ze,L.sendEncodingParameters[0].rtx&&(ye+="a=ssrc:"+L.sendEncodingParameters[0].rtx.ssrc+" "+ze,ye+="a=ssrc-group:FID "+L.sendEncodingParameters[0].ssrc+" "+L.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return ye+="a=ssrc:"+L.sendEncodingParameters[0].ssrc+" cname:"+c.localCName+"\r\n",L.rtpSender&&L.sendEncodingParameters[0].rtx&&(ye+="a=ssrc:"+L.sendEncodingParameters[0].rtx.ssrc+" cname:"+c.localCName+"\r\n"),ye}function q(L,X){var se={codecs:[],headerExtensions:[],fecMechanisms:[]},De=function(ye,Le){ye=parseInt(ye,10);for(var ze=0;ze<Le.length;ze++)if(Le[ze].payloadType===ye||Le[ze].preferredPayloadType===ye)return Le[ze]},Fe=function(ye,Le,ze,B){var Y=De(ye.parameters.apt,ze),_e=De(Le.parameters.apt,B);return Y&&_e&&Y.name.toLowerCase()===_e.name.toLowerCase()};return L.codecs.forEach(function(ye){for(var Le=0;Le<X.codecs.length;Le++){var ze=X.codecs[Le];if(ye.name.toLowerCase()===ze.name.toLowerCase()&&ye.clockRate===ze.clockRate){if("rtx"===ye.name.toLowerCase()&&ye.parameters&&ze.parameters.apt&&!Fe(ye,ze,L.codecs,X.codecs))continue;(ze=JSON.parse(JSON.stringify(ze))).numChannels=Math.min(ye.numChannels,ze.numChannels),se.codecs.push(ze),ze.rtcpFeedback=ze.rtcpFeedback.filter(function(B){for(var Y=0;Y<ye.rtcpFeedback.length;Y++)if(ye.rtcpFeedback[Y].type===B.type&&ye.rtcpFeedback[Y].parameter===B.parameter)return!0;return!1});break}}}),L.headerExtensions.forEach(function(ye){for(var Le=0;Le<X.headerExtensions.length;Le++){var ze=X.headerExtensions[Le];if(ye.uri===ze.uri){se.headerExtensions.push(ze);break}}}),se}function pe(L,X,se){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[X][L].indexOf(se)}function A(L,X){var se=L.getRemoteCandidates().find(function(De){return X.foundation===De.foundation&&X.ip===De.ip&&X.port===De.port&&X.priority===De.priority&&X.protocol===De.protocol&&X.type===De.type});return se||L.addRemoteCandidate(X),!se}function j(L,X){var se=new Error(X);return se.name=L,se.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[L],se}tt.exports=function(L,X){function se(B,Y){Y.addTrack(B),Y.dispatchEvent(new L.MediaStreamTrackEvent("addtrack",{track:B}))}function Fe(B,Y,_e,ve){var re=new Event("track");re.track=Y,re.receiver=_e,re.transceiver={receiver:_e},re.streams=ve,L.setTimeout(function(){B._dispatchEvent("track",re)})}var ye=function(B){var Y=this,_e=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(re){Y[re]=_e[re].bind(_e)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",B=JSON.parse(JSON.stringify(B||{})),this.usingBundle="max-bundle"===B.bundlePolicy,"negotiate"===B.rtcpMuxPolicy)throw j("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(B.rtcpMuxPolicy||(B.rtcpMuxPolicy="require"),B.iceTransportPolicy){case"all":case"relay":break;default:B.iceTransportPolicy="all"}switch(B.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:B.bundlePolicy="balanced"}if(B.iceServers=function K(L,X){var se=!1;return(L=JSON.parse(JSON.stringify(L))).filter(function(De){if(De&&(De.urls||De.url)){var Fe=De.urls||De.url;De.url&&!De.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var ye="string"==typeof Fe;return ye&&(Fe=[Fe]),Fe=Fe.filter(function(Le){return 0!==Le.indexOf("turn:")||-1===Le.indexOf("transport=udp")||-1!==Le.indexOf("turn:[")||se?0===Le.indexOf("stun:")&&X>=14393&&-1===Le.indexOf("?transport=udp"):(se=!0,!0)}),delete De.url,De.urls=ye?Fe[0]:Fe,!!Fe.length}})}(B.iceServers||[],X),this._iceGatherers=[],B.iceCandidatePoolSize)for(var ve=B.iceCandidatePoolSize;ve>0;ve--)this._iceGatherers.push(new L.RTCIceGatherer({iceServers:B.iceServers,gatherPolicy:B.iceTransportPolicy}));else B.iceCandidatePoolSize=0;this._config=B,this.transceivers=[],this._sdpSessionId=c.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(ye.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(ye.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),ye.prototype.onicecandidate=null,ye.prototype.onaddstream=null,ye.prototype.ontrack=null,ye.prototype.onremovestream=null,ye.prototype.onsignalingstatechange=null,ye.prototype.oniceconnectionstatechange=null,ye.prototype.onconnectionstatechange=null,ye.prototype.onicegatheringstatechange=null,ye.prototype.onnegotiationneeded=null,ye.prototype.ondatachannel=null,ye.prototype._dispatchEvent=function(B,Y){this._isClosed||(this.dispatchEvent(Y),"function"==typeof this["on"+B]&&this["on"+B](Y))},ye.prototype._emitGatheringStateChange=function(){var B=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",B)},ye.prototype.getConfiguration=function(){return this._config},ye.prototype.getLocalStreams=function(){return this.localStreams},ye.prototype.getRemoteStreams=function(){return this.remoteStreams},ye.prototype._createTransceiver=function(B,Y){var ve={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:B,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)ve.iceTransport=this.transceivers[0].iceTransport,ve.dtlsTransport=this.transceivers[0].dtlsTransport;else{var re=this._createIceAndDtlsTransports();ve.iceTransport=re.iceTransport,ve.dtlsTransport=re.dtlsTransport}return Y||this.transceivers.push(ve),ve},ye.prototype.addTrack=function(B,Y){if(this._isClosed)throw j("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(ge){return ge.track===B}))throw j("InvalidAccessError","Track already exists.");for(var ve,re=0;re<this.transceivers.length;re++)!this.transceivers[re].track&&this.transceivers[re].kind===B.kind&&(ve=this.transceivers[re]);return ve||(ve=this._createTransceiver(B.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(Y)&&this.localStreams.push(Y),ve.track=B,ve.stream=Y,ve.rtpSender=new L.RTCRtpSender(B,ve.dtlsTransport),ve.rtpSender},ye.prototype.addStream=function(B){var Y=this;if(X>=15025)B.getTracks().forEach(function(ve){Y.addTrack(ve,B)});else{var _e=B.clone();B.getTracks().forEach(function(ve,re){var ge=_e.getTracks()[re];ve.addEventListener("enabled",function(H){ge.enabled=H.enabled})}),_e.getTracks().forEach(function(ve){Y.addTrack(ve,_e)})}},ye.prototype.removeTrack=function(B){if(this._isClosed)throw j("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(B instanceof L.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var Y=this.transceivers.find(function(re){return re.rtpSender===B});if(!Y)throw j("InvalidAccessError","Sender was not created by this connection.");var _e=Y.stream;Y.rtpSender.stop(),Y.rtpSender=null,Y.track=null,Y.stream=null,-1===this.transceivers.map(function(re){return re.stream}).indexOf(_e)&&this.localStreams.indexOf(_e)>-1&&this.localStreams.splice(this.localStreams.indexOf(_e),1),this._maybeFireNegotiationNeeded()},ye.prototype.removeStream=function(B){var Y=this;B.getTracks().forEach(function(_e){var ve=Y.getSenders().find(function(re){return re.track===_e});ve&&Y.removeTrack(ve)})},ye.prototype.getSenders=function(){return this.transceivers.filter(function(B){return!!B.rtpSender}).map(function(B){return B.rtpSender})},ye.prototype.getReceivers=function(){return this.transceivers.filter(function(B){return!!B.rtpReceiver}).map(function(B){return B.rtpReceiver})},ye.prototype._createIceGatherer=function(B,Y){var _e=this;if(Y&&B>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var ve=new L.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(ve,"state",{value:"new",writable:!0}),this.transceivers[B].bufferedCandidateEvents=[],this.transceivers[B].bufferCandidates=function(re){var ge=!re.candidate||0===Object.keys(re.candidate).length;ve.state=ge?"completed":"gathering",null!==_e.transceivers[B].bufferedCandidateEvents&&_e.transceivers[B].bufferedCandidateEvents.push(re)},ve.addEventListener("localcandidate",this.transceivers[B].bufferCandidates),ve},ye.prototype._gather=function(B,Y){var _e=this,ve=this.transceivers[Y].iceGatherer;if(!ve.onlocalcandidate){var re=this.transceivers[Y].bufferedCandidateEvents;this.transceivers[Y].bufferedCandidateEvents=null,ve.removeEventListener("localcandidate",this.transceivers[Y].bufferCandidates),ve.onlocalcandidate=function(ge){if(!(_e.usingBundle&&Y>0)){var H=new Event("icecandidate");H.candidate={sdpMid:B,sdpMLineIndex:Y};var he=ge.candidate,ue=!he||0===Object.keys(he).length;if(ue)("new"===ve.state||"gathering"===ve.state)&&(ve.state="completed");else{"new"===ve.state&&(ve.state="gathering"),he.component=1,he.ufrag=ve.getLocalParameters().usernameFragment;var Z=c.writeCandidate(he);H.candidate=Object.assign(H.candidate,c.parseCandidate(Z)),H.candidate.candidate=Z,H.candidate.toJSON=function(){return{candidate:H.candidate.candidate,sdpMid:H.candidate.sdpMid,sdpMLineIndex:H.candidate.sdpMLineIndex,usernameFragment:H.candidate.usernameFragment}}}var te=c.getMediaSections(_e._localDescription.sdp);te[H.candidate.sdpMLineIndex]+=ue?"a=end-of-candidates\r\n":"a="+H.candidate.candidate+"\r\n",_e._localDescription.sdp=c.getDescription(_e._localDescription.sdp)+te.join("");var $=_e.transceivers.every(function(Se){return Se.iceGatherer&&"completed"===Se.iceGatherer.state});"gathering"!==_e.iceGatheringState&&(_e.iceGatheringState="gathering",_e._emitGatheringStateChange()),ue||_e._dispatchEvent("icecandidate",H),$&&(_e._dispatchEvent("icecandidate",new Event("icecandidate")),_e.iceGatheringState="complete",_e._emitGatheringStateChange())}},L.setTimeout(function(){re.forEach(function(ge){ve.onlocalcandidate(ge)})},0)}},ye.prototype._createIceAndDtlsTransports=function(){var B=this,Y=new L.RTCIceTransport(null);Y.onicestatechange=function(){B._updateIceConnectionState(),B._updateConnectionState()};var _e=new L.RTCDtlsTransport(Y);return _e.ondtlsstatechange=function(){B._updateConnectionState()},_e.onerror=function(){Object.defineProperty(_e,"state",{value:"failed",writable:!0}),B._updateConnectionState()},{iceTransport:Y,dtlsTransport:_e}},ye.prototype._disposeIceAndDtlsTransports=function(B){var Y=this.transceivers[B].iceGatherer;Y&&(delete Y.onlocalcandidate,delete this.transceivers[B].iceGatherer);var _e=this.transceivers[B].iceTransport;_e&&(delete _e.onicestatechange,delete this.transceivers[B].iceTransport);var ve=this.transceivers[B].dtlsTransport;ve&&(delete ve.ondtlsstatechange,delete ve.onerror,delete this.transceivers[B].dtlsTransport)},ye.prototype._transceive=function(B,Y,_e){var ve=q(B.localCapabilities,B.remoteCapabilities);Y&&B.rtpSender&&(ve.encodings=B.sendEncodingParameters,ve.rtcp={cname:c.localCName,compound:B.rtcpParameters.compound},B.recvEncodingParameters.length&&(ve.rtcp.ssrc=B.recvEncodingParameters[0].ssrc),B.rtpSender.send(ve)),_e&&B.rtpReceiver&&ve.codecs.length>0&&("video"===B.kind&&B.recvEncodingParameters&&X<15019&&B.recvEncodingParameters.forEach(function(re){delete re.rtx}),ve.encodings=B.recvEncodingParameters.length?B.recvEncodingParameters:[{}],ve.rtcp={compound:B.rtcpParameters.compound},B.rtcpParameters.cname&&(ve.rtcp.cname=B.rtcpParameters.cname),B.sendEncodingParameters.length&&(ve.rtcp.ssrc=B.sendEncodingParameters[0].ssrc),B.rtpReceiver.receive(ve))},ye.prototype.setLocalDescription=function(B){var _e,ve,Y=this;if(-1===["offer","answer"].indexOf(B.type))return Promise.reject(j("TypeError",'Unsupported type "'+B.type+'"'));if(!pe("setLocalDescription",B.type,Y.signalingState)||Y._isClosed)return Promise.reject(j("InvalidStateError","Can not set local "+B.type+" in state "+Y.signalingState));if("offer"===B.type)_e=c.splitSections(B.sdp),ve=_e.shift(),_e.forEach(function(ge,H){var he=c.parseRtpParameters(ge);Y.transceivers[H].localCapabilities=he}),Y.transceivers.forEach(function(ge,H){Y._gather(ge.mid,H)});else if("answer"===B.type){_e=c.splitSections(Y._remoteDescription.sdp),ve=_e.shift();var re=c.matchPrefix(ve,"a=ice-lite").length>0;_e.forEach(function(ge,H){var he=Y.transceivers[H],ue=he.iceGatherer,Z=he.iceTransport,te=he.dtlsTransport,$=he.localCapabilities,Se=he.remoteCapabilities;if(!(c.isRejected(ge)&&0===c.matchPrefix(ge,"a=bundle-only").length||he.rejected)){var Ae=c.getIceParameters(ge,ve),Oe=c.getDtlsParameters(ge,ve);re&&(Oe.role="server"),(!Y.usingBundle||0===H)&&(Y._gather(he.mid,H),"new"===Z.state&&Z.start(ue,Ae,re?"controlling":"controlled"),"new"===te.state&&te.start(Oe));var me=q($,Se);Y._transceive(he,me.codecs.length>0,!1)}})}return Y._localDescription={type:B.type,sdp:B.sdp},Y._updateSignalingState("offer"===B.type?"have-local-offer":"stable"),Promise.resolve()},ye.prototype.setRemoteDescription=function(B){var Y=this;if(-1===["offer","answer"].indexOf(B.type))return Promise.reject(j("TypeError",'Unsupported type "'+B.type+'"'));if(!pe("setRemoteDescription",B.type,Y.signalingState)||Y._isClosed)return Promise.reject(j("InvalidStateError","Can not set remote "+B.type+" in state "+Y.signalingState));var _e={};Y.remoteStreams.forEach(function(Z){_e[Z.id]=Z});var ve=[],re=c.splitSections(B.sdp),ge=re.shift(),H=c.matchPrefix(ge,"a=ice-lite").length>0,he=c.matchPrefix(ge,"a=group:BUNDLE ").length>0;Y.usingBundle=he;var ue=c.matchPrefix(ge,"a=ice-options:")[0];return Y.canTrickleIceCandidates=!!ue&&ue.substr(14).split(" ").indexOf("trickle")>=0,re.forEach(function(Z,te){var $=c.splitLines(Z),Se=c.getKind(Z),We=c.isRejected(Z)&&0===c.matchPrefix(Z,"a=bundle-only").length,Ae=$[0].substr(2).split(" ")[2],Oe=c.getDirection(Z,ge),me=c.parseMsid(Z),ne=c.getMid(Z)||c.generateIdentifier();if(We||"application"===Se&&("DTLS/SCTP"===Ae||"UDP/DTLS/SCTP"===Ae))Y.transceivers[te]={mid:ne,kind:Se,protocol:Ae,rejected:!0};else{!We&&Y.transceivers[te]&&Y.transceivers[te].rejected&&(Y.transceivers[te]=Y._createTransceiver(Se,!0));var le,Pe,Be,ke,je,Ke,Kt,rt,pt,gt,Vt,Dt=c.parseRtpParameters(Z);We||(gt=c.getIceParameters(Z,ge),(Vt=c.getDtlsParameters(Z,ge)).role="client"),Kt=c.parseRtpEncodingParameters(Z);var vn=c.parseRtcpParameters(Z),_n=c.matchPrefix(Z,"a=end-of-candidates",ge).length>0,tn=c.matchPrefix(Z,"a=candidate:").map(function(Ve){return c.parseCandidate(Ve)}).filter(function(Ve){return 1===Ve.component});if(("offer"===B.type||"answer"===B.type)&&!We&&he&&te>0&&Y.transceivers[te]&&(Y._disposeIceAndDtlsTransports(te),Y.transceivers[te].iceGatherer=Y.transceivers[0].iceGatherer,Y.transceivers[te].iceTransport=Y.transceivers[0].iceTransport,Y.transceivers[te].dtlsTransport=Y.transceivers[0].dtlsTransport,Y.transceivers[te].rtpSender&&Y.transceivers[te].rtpSender.setTransport(Y.transceivers[0].dtlsTransport),Y.transceivers[te].rtpReceiver&&Y.transceivers[te].rtpReceiver.setTransport(Y.transceivers[0].dtlsTransport)),"offer"!==B.type||We)"answer"!==B.type||We||(Pe=(le=Y.transceivers[te]).iceGatherer,Be=le.iceTransport,ke=le.dtlsTransport,je=le.rtpReceiver,Ke=le.sendEncodingParameters,rt=le.localCapabilities,Y.transceivers[te].recvEncodingParameters=Kt,Y.transceivers[te].remoteCapabilities=Dt,Y.transceivers[te].rtcpParameters=vn,tn.length&&"new"===Be.state&&(!H&&!_n||he&&0!==te?tn.forEach(function(Ve){A(le.iceTransport,Ve)}):Be.setRemoteCandidates(tn)),(!he||0===te)&&("new"===Be.state&&Be.start(Pe,gt,"controlling"),"new"===ke.state&&ke.start(Vt)),!q(le.localCapabilities,le.remoteCapabilities).codecs.filter(function(Ve){return"rtx"===Ve.name.toLowerCase()}).length&&le.sendEncodingParameters[0].rtx&&delete le.sendEncodingParameters[0].rtx,Y._transceive(le,"sendrecv"===Oe||"recvonly"===Oe,"sendrecv"===Oe||"sendonly"===Oe),!je||"sendrecv"!==Oe&&"sendonly"!==Oe?delete le.rtpReceiver:(pt=je.track,me?(_e[me.stream]||(_e[me.stream]=new L.MediaStream),se(pt,_e[me.stream]),ve.push([pt,je,_e[me.stream]])):(_e.default||(_e.default=new L.MediaStream),se(pt,_e.default),ve.push([pt,je,_e.default]))));else{(le=Y.transceivers[te]||Y._createTransceiver(Se)).mid=ne,le.iceGatherer||(le.iceGatherer=Y._createIceGatherer(te,he)),tn.length&&"new"===le.iceTransport.state&&(!_n||he&&0!==te?tn.forEach(function(Ve){A(le.iceTransport,Ve)}):le.iceTransport.setRemoteCandidates(tn)),rt=L.RTCRtpReceiver.getCapabilities(Se),X<15019&&(rt.codecs=rt.codecs.filter(function(Ve){return"rtx"!==Ve.name})),Ke=le.sendEncodingParameters||[{ssrc:1001*(2*te+2)}];var Zt,Tn=!1;"sendrecv"===Oe||"sendonly"===Oe?(Tn=!le.rtpReceiver,je=le.rtpReceiver||new L.RTCRtpReceiver(le.dtlsTransport,Se),Tn&&(pt=je.track,me&&"-"===me.stream||(me?(_e[me.stream]||(_e[me.stream]=new L.MediaStream,Object.defineProperty(_e[me.stream],"id",{get:function(){return me.stream}})),Object.defineProperty(pt,"id",{get:function(){return me.track}}),Zt=_e[me.stream]):(_e.default||(_e.default=new L.MediaStream),Zt=_e.default)),Zt&&(se(pt,Zt),le.associatedRemoteMediaStreams.push(Zt)),ve.push([pt,je,Zt]))):le.rtpReceiver&&le.rtpReceiver.track&&(le.associatedRemoteMediaStreams.forEach(function(Ve){var Jt=Ve.getTracks().find(function(kn){return kn.id===le.rtpReceiver.track.id});Jt&&function De(B,Y){Y.removeTrack(B),Y.dispatchEvent(new L.MediaStreamTrackEvent("removetrack",{track:B}))}(Jt,Ve)}),le.associatedRemoteMediaStreams=[]),le.localCapabilities=rt,le.remoteCapabilities=Dt,le.rtpReceiver=je,le.rtcpParameters=vn,le.sendEncodingParameters=Ke,le.recvEncodingParameters=Kt,Y._transceive(Y.transceivers[te],!1,Tn)}}}),void 0===Y._dtlsRole&&(Y._dtlsRole="offer"===B.type?"active":"passive"),Y._remoteDescription={type:B.type,sdp:B.sdp},Y._updateSignalingState("offer"===B.type?"have-remote-offer":"stable"),Object.keys(_e).forEach(function(Z){var te=_e[Z];if(te.getTracks().length){if(-1===Y.remoteStreams.indexOf(te)){Y.remoteStreams.push(te);var $=new Event("addstream");$.stream=te,L.setTimeout(function(){Y._dispatchEvent("addstream",$)})}ve.forEach(function(Se){te.id===Se[2].id&&Fe(Y,Se[0],Se[1],[te])})}}),ve.forEach(function(Z){Z[2]||Fe(Y,Z[0],Z[1],[])}),L.setTimeout(function(){Y&&Y.transceivers&&Y.transceivers.forEach(function(Z){Z.iceTransport&&"new"===Z.iceTransport.state&&Z.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Z.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},ye.prototype.close=function(){this.transceivers.forEach(function(B){B.iceTransport&&B.iceTransport.stop(),B.dtlsTransport&&B.dtlsTransport.stop(),B.rtpSender&&B.rtpSender.stop(),B.rtpReceiver&&B.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},ye.prototype._updateSignalingState=function(B){this.signalingState=B;var Y=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",Y)},ye.prototype._maybeFireNegotiationNeeded=function(){var B=this;"stable"!==this.signalingState||!0===this.needNegotiation||(this.needNegotiation=!0,L.setTimeout(function(){if(B.needNegotiation){B.needNegotiation=!1;var Y=new Event("negotiationneeded");B._dispatchEvent("negotiationneeded",Y)}},0))},ye.prototype._updateIceConnectionState=function(){var B,Y={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ve){ve.iceTransport&&!ve.rejected&&Y[ve.iceTransport.state]++}),B="new",Y.failed>0?B="failed":Y.checking>0?B="checking":Y.disconnected>0?B="disconnected":Y.new>0?B="new":Y.connected>0?B="connected":Y.completed>0&&(B="completed"),B!==this.iceConnectionState){this.iceConnectionState=B;var _e=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",_e)}},ye.prototype._updateConnectionState=function(){var B,Y={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ve){ve.iceTransport&&ve.dtlsTransport&&!ve.rejected&&(Y[ve.iceTransport.state]++,Y[ve.dtlsTransport.state]++)}),Y.connected+=Y.completed,B="new",Y.failed>0?B="failed":Y.connecting>0?B="connecting":Y.disconnected>0?B="disconnected":Y.new>0?B="new":Y.connected>0&&(B="connected"),B!==this.connectionState){this.connectionState=B;var _e=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",_e)}},ye.prototype.createOffer=function(){var B=this;if(B._isClosed)return Promise.reject(j("InvalidStateError","Can not call createOffer after close"));var Y=B.transceivers.filter(function(H){return"audio"===H.kind}).length,_e=B.transceivers.filter(function(H){return"video"===H.kind}).length,ve=arguments[0];if(ve){if(ve.mandatory||ve.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==ve.offerToReceiveAudio&&(Y=!0===ve.offerToReceiveAudio?1:!1===ve.offerToReceiveAudio?0:ve.offerToReceiveAudio),void 0!==ve.offerToReceiveVideo&&(_e=!0===ve.offerToReceiveVideo?1:!1===ve.offerToReceiveVideo?0:ve.offerToReceiveVideo)}for(B.transceivers.forEach(function(H){"audio"===H.kind?--Y<0&&(H.wantReceive=!1):"video"===H.kind&&--_e<0&&(H.wantReceive=!1)});Y>0||_e>0;)Y>0&&(B._createTransceiver("audio"),Y--),_e>0&&(B._createTransceiver("video"),_e--);var re=c.writeSessionBoilerplate(B._sdpSessionId,B._sdpSessionVersion++);B.transceivers.forEach(function(H,he){var ue=H.track,Z=H.kind,te=H.mid||c.generateIdentifier();H.mid=te,H.iceGatherer||(H.iceGatherer=B._createIceGatherer(he,B.usingBundle));var $=L.RTCRtpSender.getCapabilities(Z);X<15019&&($.codecs=$.codecs.filter(function(We){return"rtx"!==We.name})),$.codecs.forEach(function(We){"H264"===We.name&&void 0===We.parameters["level-asymmetry-allowed"]&&(We.parameters["level-asymmetry-allowed"]="1"),H.remoteCapabilities&&H.remoteCapabilities.codecs&&H.remoteCapabilities.codecs.forEach(function(Ae){We.name.toLowerCase()===Ae.name.toLowerCase()&&We.clockRate===Ae.clockRate&&(We.preferredPayloadType=Ae.payloadType)})}),$.headerExtensions.forEach(function(We){(H.remoteCapabilities&&H.remoteCapabilities.headerExtensions||[]).forEach(function(Oe){We.uri===Oe.uri&&(We.id=Oe.id)})});var Se=H.sendEncodingParameters||[{ssrc:1001*(2*he+1)}];ue&&X>=15019&&"video"===Z&&!Se[0].rtx&&(Se[0].rtx={ssrc:Se[0].ssrc+1}),H.wantReceive&&(H.rtpReceiver=new L.RTCRtpReceiver(H.dtlsTransport,Z)),H.localCapabilities=$,H.sendEncodingParameters=Se}),"max-compat"!==B._config.bundlePolicy&&(re+="a=group:BUNDLE "+B.transceivers.map(function(H){return H.mid}).join(" ")+"\r\n"),re+="a=ice-options:trickle\r\n",B.transceivers.forEach(function(H,he){re+=Q(H,H.localCapabilities,"offer",H.stream,B._dtlsRole),re+="a=rtcp-rsize\r\n",H.iceGatherer&&"new"!==B.iceGatheringState&&(0===he||!B.usingBundle)&&(H.iceGatherer.getLocalCandidates().forEach(function(ue){ue.component=1,re+="a="+c.writeCandidate(ue)+"\r\n"}),"completed"===H.iceGatherer.state&&(re+="a=end-of-candidates\r\n"))});var ge=new L.RTCSessionDescription({type:"offer",sdp:re});return Promise.resolve(ge)},ye.prototype.createAnswer=function(){var B=this;if(B._isClosed)return Promise.reject(j("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==B.signalingState&&"have-local-pranswer"!==B.signalingState)return Promise.reject(j("InvalidStateError","Can not call createAnswer in signalingState "+B.signalingState));var Y=c.writeSessionBoilerplate(B._sdpSessionId,B._sdpSessionVersion++);B.usingBundle&&(Y+="a=group:BUNDLE "+B.transceivers.map(function(re){return re.mid}).join(" ")+"\r\n"),Y+="a=ice-options:trickle\r\n";var _e=c.getMediaSections(B._remoteDescription.sdp).length;B.transceivers.forEach(function(re,ge){if(!(ge+1>_e)){if(re.rejected)return"application"===re.kind?Y+="DTLS/SCTP"===re.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+re.protocol+" webrtc-datachannel\r\n":"audio"===re.kind?Y+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===re.kind&&(Y+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(Y+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+re.mid+"\r\n");var H;re.stream&&("audio"===re.kind?H=re.stream.getAudioTracks()[0]:"video"===re.kind&&(H=re.stream.getVideoTracks()[0]),H&&X>=15019&&"video"===re.kind&&!re.sendEncodingParameters[0].rtx&&(re.sendEncodingParameters[0].rtx={ssrc:re.sendEncodingParameters[0].ssrc+1}));var he=q(re.localCapabilities,re.remoteCapabilities);!he.codecs.filter(function(Z){return"rtx"===Z.name.toLowerCase()}).length&&re.sendEncodingParameters[0].rtx&&delete re.sendEncodingParameters[0].rtx,Y+=Q(re,he,"answer",re.stream,B._dtlsRole),re.rtcpParameters&&re.rtcpParameters.reducedSize&&(Y+="a=rtcp-rsize\r\n")}});var ve=new L.RTCSessionDescription({type:"answer",sdp:Y});return Promise.resolve(ve)},ye.prototype.addIceCandidate=function(B){var _e,Y=this;return B&&void 0===B.sdpMLineIndex&&!B.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(ve,re){if(!Y._remoteDescription)return re(j("InvalidStateError","Can not add ICE candidate without a remote description"));if(B&&""!==B.candidate){var H=B.sdpMLineIndex;if(B.sdpMid)for(var he=0;he<Y.transceivers.length;he++)if(Y.transceivers[he].mid===B.sdpMid){H=he;break}var ue=Y.transceivers[H];if(!ue)return re(j("OperationError","Can not add ICE candidate"));if(ue.rejected)return ve();var Z=Object.keys(B.candidate).length>0?c.parseCandidate(B.candidate):{};if("tcp"===Z.protocol&&(0===Z.port||9===Z.port)||Z.component&&1!==Z.component)return ve();if((0===H||H>0&&ue.iceTransport!==Y.transceivers[0].iceTransport)&&!A(ue.iceTransport,Z))return re(j("OperationError","Can not add ICE candidate"));var te=B.candidate.trim();0===te.indexOf("a=")&&(te=te.substr(2)),(_e=c.getMediaSections(Y._remoteDescription.sdp))[H]+="a="+(Z.type?te:"end-of-candidates")+"\r\n",Y._remoteDescription.sdp=c.getDescription(Y._remoteDescription.sdp)+_e.join("")}else for(var ge=0;ge<Y.transceivers.length&&(Y.transceivers[ge].rejected||(Y.transceivers[ge].iceTransport.addRemoteCandidate({}),(_e=c.getMediaSections(Y._remoteDescription.sdp))[ge]+="a=end-of-candidates\r\n",Y._remoteDescription.sdp=c.getDescription(Y._remoteDescription.sdp)+_e.join(""),!Y.usingBundle));ge++);ve()})},ye.prototype.getStats=function(B){if(B&&B instanceof L.MediaStreamTrack){var Y=null;if(this.transceivers.forEach(function(ve){ve.rtpSender&&ve.rtpSender.track===B?Y=ve.rtpSender:ve.rtpReceiver&&ve.rtpReceiver.track===B&&(Y=ve.rtpReceiver)}),!Y)throw j("InvalidAccessError","Invalid selector.");return Y.getStats()}var _e=[];return this.transceivers.forEach(function(ve){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(re){ve[re]&&_e.push(ve[re].getStats())})}),Promise.all(_e).then(function(ve){var re=new Map;return ve.forEach(function(ge){ge.forEach(function(H){re.set(H.id,H)})}),re})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(B){var Y=L[B];if(Y&&Y.prototype&&Y.prototype.getStats){var _e=Y.prototype.getStats;Y.prototype.getStats=function(){return _e.apply(this).then(function(ve){var re=new Map;return Object.keys(ve).forEach(function(ge){ve[ge].type=function F(L){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[L.type]||L.type}(ve[ge]),re.set(ge,ve[ge])}),re})}}});var ze=["createOffer","createAnswer"];return ze.forEach(function(B){var Y=ye.prototype[B];ye.prototype[B]=function(){var _e=arguments;return"function"==typeof _e[0]||"function"==typeof _e[1]?Y.apply(this,[arguments[2]]).then(function(ve){"function"==typeof _e[0]&&_e[0].apply(null,[ve])},function(ve){"function"==typeof _e[1]&&_e[1].apply(null,[ve])}):Y.apply(this,arguments)}}),(ze=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(B){var Y=ye.prototype[B];ye.prototype[B]=function(){var _e=arguments;return"function"==typeof _e[1]||"function"==typeof _e[2]?Y.apply(this,arguments).then(function(){"function"==typeof _e[1]&&_e[1].apply(null)},function(ve){"function"==typeof _e[2]&&_e[2].apply(null,[ve])}):Y.apply(this,arguments)}}),["getStats"].forEach(function(B){var Y=ye.prototype[B];ye.prototype[B]=function(){var _e=arguments;return"function"==typeof _e[1]?Y.apply(this,arguments).then(function(){"function"==typeof _e[1]&&_e[1].apply(null)}):Y.apply(this,arguments)}}),ye}},5619:(tt,J,M)=>{"use strict";M.d(J,{X:()=>F});var c=M(8645);class F extends c.x{constructor(K){super(),this._value=K}get value(){return this.getValue()}_subscribe(K){const q=super._subscribe(K);return!q.closed&&K.next(this._value),q}getValue(){const{hasError:K,thrownError:q,_value:pe}=this;if(K)throw q;return this._throwIfClosed(),pe}next(K){super.next(this._value=K)}}},5592:(tt,J,M)=>{"use strict";M.d(J,{y:()=>j});var c=M(1887),F=M(7394),Q=M(4850),K=M(8407),q=M(2653),pe=M(4674),A=M(1441);let j=(()=>{class De{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const Le=new De;return Le.source=this,Le.operator=ye,Le}subscribe(ye,Le,ze){const B=function se(De){return De&&De instanceof c.Lv||function X(De){return De&&(0,pe.m)(De.next)&&(0,pe.m)(De.error)&&(0,pe.m)(De.complete)}(De)&&(0,F.Nn)(De)}(ye)?ye:new c.Hp(ye,Le,ze);return(0,A.x)(()=>{const{operator:Y,source:_e}=this;B.add(Y?Y.call(B,_e):_e?this._subscribe(B):this._trySubscribe(B))}),B}_trySubscribe(ye){try{return this._subscribe(ye)}catch(Le){ye.error(Le)}}forEach(ye,Le){return new(Le=L(Le))((ze,B)=>{const Y=new c.Hp({next:_e=>{try{ye(_e)}catch(ve){B(ve),Y.unsubscribe()}},error:B,complete:ze});this.subscribe(Y)})}_subscribe(ye){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(ye)}[Q.L](){return this}pipe(...ye){return(0,K.U)(ye)(this)}toPromise(ye){return new(ye=L(ye))((Le,ze)=>{let B;this.subscribe(Y=>B=Y,Y=>ze(Y),()=>Le(B))})}}return De.create=Fe=>new De(Fe),De})();function L(De){var Fe;return null!==(Fe=De??q.config.Promise)&&void 0!==Fe?Fe:Promise}},8645:(tt,J,M)=>{"use strict";M.d(J,{x:()=>A});var c=M(5592),F=M(7394);const K=(0,M(2306).d)(L=>function(){L(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=M(9039),pe=M(1441);let A=(()=>{class L extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const De=new j(this,this);return De.operator=se,De}_throwIfClosed(){if(this.closed)throw new K}next(se){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(se)}})}error(se){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:De}=this;for(;De.length;)De.shift().error(se)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:De,isStopped:Fe,observers:ye}=this;return De||Fe?F.Lc:(this.currentObservers=null,ye.push(se),new F.w0(()=>{this.currentObservers=null,(0,q.P)(ye,se)}))}_checkFinalizedStatuses(se){const{hasError:De,thrownError:Fe,isStopped:ye}=this;De?se.error(Fe):ye&&se.complete()}asObservable(){const se=new c.y;return se.source=this,se}}return L.create=(X,se)=>new j(X,se),L})();class j extends A{constructor(X,se){super(),this.destination=X,this.source=se}next(X){var se,De;null===(De=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===De||De.call(se,X)}error(X){var se,De;null===(De=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===De||De.call(se,X)}complete(){var X,se;null===(se=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===se||se.call(X)}_subscribe(X){var se,De;return null!==(De=null===(se=this.source)||void 0===se?void 0:se.subscribe(X))&&void 0!==De?De:F.Lc}}},1887:(tt,J,M)=>{"use strict";M.d(J,{Hp:()=>ze,Lv:()=>De});var c=M(4674),F=M(7394),Q=M(2653),K=M(3894);function q(){}const pe=L("C",void 0,void 0);function L(re,ge,H){return{kind:re,value:ge,error:H}}var X=M(7599),se=M(1441);class De extends F.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,F.Nn)(ge)&&ge.add(this)):this.destination=ve}static create(ge,H,he){return new ze(ge,H,he)}next(ge){this.isStopped?_e(function j(re){return L("N",re,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?_e(function A(re){return L("E",void 0,re)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?_e(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function ye(re,ge){return Fe.call(re,ge)}class Le{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:H}=this;if(H.next)try{H.next(ge)}catch(he){B(he)}}error(ge){const{partialObserver:H}=this;if(H.error)try{H.error(ge)}catch(he){B(he)}else B(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(H){B(H)}}}class ze extends De{constructor(ge,H,he){let ue;if(super(),(0,c.m)(ge)||!ge)ue={next:ge??void 0,error:H??void 0,complete:he??void 0};else{let Z;this&&Q.config.useDeprecatedNextContext?(Z=Object.create(ge),Z.unsubscribe=()=>this.unsubscribe(),ue={next:ge.next&&ye(ge.next,Z),error:ge.error&&ye(ge.error,Z),complete:ge.complete&&ye(ge.complete,Z)}):ue=ge}this.destination=new Le(ue)}}function B(re){Q.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(re):(0,K.h)(re)}function _e(re,ge){const{onStoppedNotification:H}=Q.config;H&&X.z.setTimeout(()=>H(re,ge))}const ve={closed:!0,next:q,error:function Y(re){throw re},complete:q}},7394:(tt,J,M)=>{"use strict";M.d(J,{Lc:()=>pe,w0:()=>q,Nn:()=>A});var c=M(4674);const Q=(0,M(2306).d)(L=>function(se){L(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((De,Fe)=>`${Fe+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var K=M(9039);class q{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const ye of se)ye.remove(this);else se.remove(this);const{initialTeardown:De}=this;if((0,c.m)(De))try{De()}catch(ye){X=ye instanceof Q?ye.errors:[ye]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const ye of Fe)try{j(ye)}catch(Le){X=X??[],Le instanceof Q?X=[...X,...Le.errors]:X.push(Le)}}if(X)throw new Q(X)}}add(X){var se;if(X&&X!==this)if(this.closed)j(X);else{if(X instanceof q){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(X)}}_hasParent(X){const{_parentage:se}=this;return se===X||Array.isArray(se)&&se.includes(X)}_addParent(X){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(X),se):se?[se,X]:X}_removeParent(X){const{_parentage:se}=this;se===X?this._parentage=null:Array.isArray(se)&&(0,K.P)(se,X)}remove(X){const{_finalizers:se}=this;se&&(0,K.P)(se,X),X instanceof q&&X._removeParent(this)}}q.EMPTY=(()=>{const L=new q;return L.closed=!0,L})();const pe=q.EMPTY;function A(L){return L instanceof q||L&&"closed"in L&&(0,c.m)(L.remove)&&(0,c.m)(L.add)&&(0,c.m)(L.unsubscribe)}function j(L){(0,c.m)(L)?L():L.unsubscribe()}},2653:(tt,J,M)=>{"use strict";M.d(J,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(tt,J,M)=>{"use strict";M.d(J,{E:()=>F});const F=new(M(5592).y)(q=>q.complete())},7715:(tt,J,M)=>{"use strict";M.d(J,{D:()=>he});var c=M(4829),F=M(7103),Q=M(9360),K=M(8251);function q(ue,Z=0){return(0,Q.e)((te,$)=>{te.subscribe((0,K.x)($,Se=>(0,F.f)($,ue,()=>$.next(Se),Z),()=>(0,F.f)($,ue,()=>$.complete(),Z),Se=>(0,F.f)($,ue,()=>$.error(Se),Z)))})}function pe(ue,Z=0){return(0,Q.e)((te,$)=>{$.add(ue.schedule(()=>te.subscribe($),Z))})}var L=M(5592),se=M(4971),De=M(4674);function ye(ue,Z){if(!ue)throw new Error("Iterable cannot be null");return new L.y(te=>{(0,F.f)(te,Z,()=>{const $=ue[Symbol.asyncIterator]();(0,F.f)(te,Z,()=>{$.next().then(Se=>{Se.done?te.complete():te.next(Se.value)})},0,!0)})})}var Le=M(8382),ze=M(4026),B=M(4266),Y=M(3664),_e=M(5726),ve=M(9853),re=M(541);function he(ue,Z){return Z?function H(ue,Z){if(null!=ue){if((0,Le.c)(ue))return function A(ue,Z){return(0,c.Xf)(ue).pipe(pe(Z),q(Z))}(ue,Z);if((0,B.z)(ue))return function X(ue,Z){return new L.y(te=>{let $=0;return Z.schedule(function(){$===ue.length?te.complete():(te.next(ue[$++]),te.closed||this.schedule())})})}(ue,Z);if((0,ze.t)(ue))return function j(ue,Z){return(0,c.Xf)(ue).pipe(pe(Z),q(Z))}(ue,Z);if((0,_e.D)(ue))return ye(ue,Z);if((0,Y.T)(ue))return function Fe(ue,Z){return new L.y(te=>{let $;return(0,F.f)(te,Z,()=>{$=ue[se.h](),(0,F.f)(te,Z,()=>{let Se,We;try{({value:Se,done:We}=$.next())}catch(Ae){return void te.error(Ae)}We?te.complete():te.next(Se)},0,!0)}),()=>(0,De.m)($?.return)&&$.return()})}(ue,Z);if((0,re.L)(ue))return function ge(ue,Z){return ye((0,re.Q)(ue),Z)}(ue,Z)}throw(0,ve.z)(ue)}(ue,Z):(0,c.Xf)(ue)}},4829:(tt,J,M)=>{"use strict";M.d(J,{Xf:()=>Fe});var c=M(7582),F=M(4266),Q=M(4026),K=M(5592),q=M(8382),pe=M(5726),A=M(9853),j=M(3664),L=M(541),X=M(4674),se=M(3894),De=M(4850);function Fe(re){if(re instanceof K.y)return re;if(null!=re){if((0,q.c)(re))return function ye(re){return new K.y(ge=>{const H=re[De.L]();if((0,X.m)(H.subscribe))return H.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,F.z)(re))return function Le(re){return new K.y(ge=>{for(let H=0;H<re.length&&!ge.closed;H++)ge.next(re[H]);ge.complete()})}(re);if((0,Q.t)(re))return function ze(re){return new K.y(ge=>{re.then(H=>{ge.closed||(ge.next(H),ge.complete())},H=>ge.error(H)).then(null,se.h)})}(re);if((0,pe.D)(re))return Y(re);if((0,j.T)(re))return function B(re){return new K.y(ge=>{for(const H of re)if(ge.next(H),ge.closed)return;ge.complete()})}(re);if((0,L.L)(re))return function _e(re){return Y((0,L.Q)(re))}(re)}throw(0,A.z)(re)}function Y(re){return new K.y(ge=>{(function ve(re,ge){var H,he,ue,Z;return(0,c.mG)(this,void 0,void 0,function*(){try{for(H=(0,c.KL)(re);!(he=yield H.next()).done;)if(ge.next(he.value),ge.closed)return}catch(te){ue={error:te}}finally{try{he&&!he.done&&(Z=H.return)&&(yield Z.call(H))}finally{if(ue)throw ue.error}}ge.complete()})})(re,ge).catch(H=>ge.error(H))})}},2096:(tt,J,M)=>{"use strict";M.d(J,{of:()=>Q});var c=M(4564),F=M(7715);function Q(...K){const q=(0,c.yG)(K);return(0,F.D)(K,q)}},8251:(tt,J,M)=>{"use strict";M.d(J,{x:()=>F});var c=M(1887);function F(K,q,pe,A,j){return new Q(K,q,pe,A,j)}class Q extends c.Lv{constructor(q,pe,A,j,L,X){super(q),this.onFinalize=L,this.shouldUnsubscribe=X,this._next=pe?function(se){try{pe(se)}catch(De){q.error(De)}}:super._next,this._error=j?function(se){try{j(se)}catch(De){q.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=A?function(){try{A()}catch(se){q.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},7398:(tt,J,M)=>{"use strict";M.d(J,{U:()=>Q});var c=M(9360),F=M(8251);function Q(K,q){return(0,c.e)((pe,A)=>{let j=0;pe.subscribe((0,F.x)(A,L=>{A.next(K.call(q,L,j++))}))})}},7537:(tt,J,M)=>{"use strict";M.d(J,{J:()=>Q});var c=M(1631),F=M(2737);function Q(K=1/0){return(0,c.z)(F.y,K)}},1631:(tt,J,M)=>{"use strict";M.d(J,{z:()=>j});var c=M(7398),F=M(4829),Q=M(9360),K=M(7103),q=M(8251),A=M(4674);function j(L,X,se=1/0){return(0,A.m)(X)?j((De,Fe)=>(0,c.U)((ye,Le)=>X(De,ye,Fe,Le))((0,F.Xf)(L(De,Fe))),se):("number"==typeof X&&(se=X),(0,Q.e)((De,Fe)=>function pe(L,X,se,De,Fe,ye,Le,ze){const B=[];let Y=0,_e=0,ve=!1;const re=()=>{ve&&!B.length&&!Y&&X.complete()},ge=he=>Y<De?H(he):B.push(he),H=he=>{ye&&X.next(he),Y++;let ue=!1;(0,F.Xf)(se(he,_e++)).subscribe((0,q.x)(X,Z=>{Fe?.(Z),ye?ge(Z):X.next(Z)},()=>{ue=!0},void 0,()=>{if(ue)try{for(Y--;B.length&&Y<De;){const Z=B.shift();Le?(0,K.f)(X,Le,()=>H(Z)):H(Z)}re()}catch(Z){X.error(Z)}}))};return L.subscribe((0,q.x)(X,ge,()=>{ve=!0,re()})),()=>{ze?.()}}(De,Fe,L,se)))}},4664:(tt,J,M)=>{"use strict";M.d(J,{w:()=>K});var c=M(4829),F=M(9360),Q=M(8251);function K(q,pe){return(0,F.e)((A,j)=>{let L=null,X=0,se=!1;const De=()=>se&&!L&&j.complete();A.subscribe((0,Q.x)(j,Fe=>{L?.unsubscribe();let ye=0;const Le=X++;(0,c.Xf)(q(Fe,Le)).subscribe(L=(0,Q.x)(j,ze=>j.next(pe?pe(Fe,ze,Le,ye++):ze),()=>{L=null,De()}))},()=>{se=!0,De()}))})}},7599:(tt,J,M)=>{"use strict";M.d(J,{z:()=>c});const c={setTimeout(F,Q,...K){const{delegate:q}=c;return q?.setTimeout?q.setTimeout(F,Q,...K):setTimeout(F,Q,...K)},clearTimeout(F){const{delegate:Q}=c;return(Q?.clearTimeout||clearTimeout)(F)},delegate:void 0}},4971:(tt,J,M)=>{"use strict";M.d(J,{h:()=>F});const F=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(tt,J,M)=>{"use strict";M.d(J,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(tt,J,M)=>{"use strict";M.d(J,{_6:()=>pe,jO:()=>K,yG:()=>q});var c=M(4674);function Q(A){return A[A.length-1]}function K(A){return(0,c.m)(Q(A))?A.pop():void 0}function q(A){return function F(A){return A&&(0,c.m)(A.schedule)}(Q(A))?A.pop():void 0}function pe(A,j){return"number"==typeof Q(A)?A.pop():j}},7453:(tt,J,M)=>{"use strict";M.d(J,{D:()=>q});const{isArray:c}=Array,{getPrototypeOf:F,prototype:Q,keys:K}=Object;function q(A){if(1===A.length){const j=A[0];if(c(j))return{args:j,keys:null};if(function pe(A){return A&&"object"==typeof A&&F(A)===Q}(j)){const L=K(j);return{args:L.map(X=>j[X]),keys:L}}}return{args:A,keys:null}}},9039:(tt,J,M)=>{"use strict";function c(F,Q){if(F){const K=F.indexOf(Q);0<=K&&F.splice(K,1)}}M.d(J,{P:()=>c})},2306:(tt,J,M)=>{"use strict";function c(F){const K=F(q=>{Error.call(q),q.stack=(new Error).stack});return K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K}M.d(J,{d:()=>c})},2714:(tt,J,M)=>{"use strict";function c(F,Q){return F.reduce((K,q,pe)=>(K[q]=Q[pe],K),{})}M.d(J,{n:()=>c})},1441:(tt,J,M)=>{"use strict";M.d(J,{O:()=>K,x:()=>Q});var c=M(2653);let F=null;function Q(q){if(c.config.useDeprecatedSynchronousErrorHandling){const pe=!F;if(pe&&(F={errorThrown:!1,error:null}),q(),pe){const{errorThrown:A,error:j}=F;if(F=null,A)throw j}}else q()}function K(q){c.config.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=q)}},7103:(tt,J,M)=>{"use strict";function c(F,Q,K,q=0,pe=!1){const A=Q.schedule(function(){K(),pe?F.add(this.schedule(null,q)):this.unsubscribe()},q);if(F.add(A),!pe)return A}M.d(J,{f:()=>c})},2737:(tt,J,M)=>{"use strict";function c(F){return F}M.d(J,{y:()=>c})},4266:(tt,J,M)=>{"use strict";M.d(J,{z:()=>c});const c=F=>F&&"number"==typeof F.length&&"function"!=typeof F},5726:(tt,J,M)=>{"use strict";M.d(J,{D:()=>F});var c=M(4674);function F(Q){return Symbol.asyncIterator&&(0,c.m)(Q?.[Symbol.asyncIterator])}},4674:(tt,J,M)=>{"use strict";function c(F){return"function"==typeof F}M.d(J,{m:()=>c})},8382:(tt,J,M)=>{"use strict";M.d(J,{c:()=>Q});var c=M(4850),F=M(4674);function Q(K){return(0,F.m)(K[c.L])}},3664:(tt,J,M)=>{"use strict";M.d(J,{T:()=>Q});var c=M(4971),F=M(4674);function Q(K){return(0,F.m)(K?.[c.h])}},4026:(tt,J,M)=>{"use strict";M.d(J,{t:()=>F});var c=M(4674);function F(Q){return(0,c.m)(Q?.then)}},541:(tt,J,M)=>{"use strict";M.d(J,{L:()=>K,Q:()=>Q});var c=M(7582),F=M(4674);function Q(q){return(0,c.FC)(this,arguments,function*(){const A=q.getReader();try{for(;;){const{value:j,done:L}=yield(0,c.qq)(A.read());if(L)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(j)}}finally{A.releaseLock()}})}function K(q){return(0,F.m)(q?.getReader)}},9360:(tt,J,M)=>{"use strict";M.d(J,{A:()=>F,e:()=>Q});var c=M(4674);function F(K){return(0,c.m)(K?.lift)}function Q(K){return q=>{if(F(q))return q.lift(function(pe){try{return K(pe,this)}catch(A){this.error(A)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(tt,J,M)=>{"use strict";M.d(J,{Z:()=>K});var c=M(7398);const{isArray:F}=Array;function K(q){return(0,c.U)(pe=>function Q(q,pe){return F(pe)?q(...pe):q(pe)}(q,pe))}},8407:(tt,J,M)=>{"use strict";M.d(J,{U:()=>Q,z:()=>F});var c=M(2737);function F(...K){return Q(K)}function Q(K){return 0===K.length?c.y:1===K.length?K[0]:function(pe){return K.reduce((A,j)=>j(A),pe)}}},3894:(tt,J,M)=>{"use strict";M.d(J,{h:()=>Q});var c=M(2653),F=M(7599);function Q(K){F.z.setTimeout(()=>{const{onUnhandledError:q}=c.config;if(!q)throw K;q(K)})}},9853:(tt,J,M)=>{"use strict";function c(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(J,{z:()=>c})},2917:tt=>{"use strict";var J={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};J.localCName=J.generateIdentifier(),J.splitLines=function(M){return M.trim().split("\n").map(function(c){return c.trim()})},J.splitSections=function(M){return M.split("\nm=").map(function(F,Q){return(Q>0?"m="+F:F).trim()+"\r\n"})},J.getDescription=function(M){var c=J.splitSections(M);return c&&c[0]},J.getMediaSections=function(M){var c=J.splitSections(M);return c.shift(),c},J.matchPrefix=function(M,c){return J.splitLines(M).filter(function(F){return 0===F.indexOf(c)})},J.parseCandidate=function(M){for(var c,F={foundation:(c=0===M.indexOf("a=candidate:")?M.substring(12).split(" "):M.substring(10).split(" "))[0],component:parseInt(c[1],10),protocol:c[2].toLowerCase(),priority:parseInt(c[3],10),ip:c[4],address:c[4],port:parseInt(c[5],10),type:c[7]},Q=8;Q<c.length;Q+=2)switch(c[Q]){case"raddr":F.relatedAddress=c[Q+1];break;case"rport":F.relatedPort=parseInt(c[Q+1],10);break;case"tcptype":F.tcpType=c[Q+1];break;case"ufrag":F.ufrag=c[Q+1],F.usernameFragment=c[Q+1];break;default:F[c[Q]]=c[Q+1]}return F},J.writeCandidate=function(M){var c=[];c.push(M.foundation),c.push(M.component),c.push(M.protocol.toUpperCase()),c.push(M.priority),c.push(M.address||M.ip),c.push(M.port);var F=M.type;return c.push("typ"),c.push(F),"host"!==F&&M.relatedAddress&&M.relatedPort&&(c.push("raddr"),c.push(M.relatedAddress),c.push("rport"),c.push(M.relatedPort)),M.tcpType&&"tcp"===M.protocol.toLowerCase()&&(c.push("tcptype"),c.push(M.tcpType)),(M.usernameFragment||M.ufrag)&&(c.push("ufrag"),c.push(M.usernameFragment||M.ufrag)),"candidate:"+c.join(" ")},J.parseIceOptions=function(M){return M.substr(14).split(" ")},J.parseRtpMap=function(M){var c=M.substr(9).split(" "),F={payloadType:parseInt(c.shift(),10)};return c=c[0].split("/"),F.name=c[0],F.clockRate=parseInt(c[1],10),F.channels=3===c.length?parseInt(c[2],10):1,F.numChannels=F.channels,F},J.writeRtpMap=function(M){var c=M.payloadType;void 0!==M.preferredPayloadType&&(c=M.preferredPayloadType);var F=M.channels||M.numChannels||1;return"a=rtpmap:"+c+" "+M.name+"/"+M.clockRate+(1!==F?"/"+F:"")+"\r\n"},J.parseExtmap=function(M){var c=M.substr(9).split(" ");return{id:parseInt(c[0],10),direction:c[0].indexOf("/")>0?c[0].split("/")[1]:"sendrecv",uri:c[1]}},J.writeExtmap=function(M){return"a=extmap:"+(M.id||M.preferredId)+(M.direction&&"sendrecv"!==M.direction?"/"+M.direction:"")+" "+M.uri+"\r\n"},J.parseFmtp=function(M){for(var F,c={},Q=M.substr(M.indexOf(" ")+1).split(";"),K=0;K<Q.length;K++)c[(F=Q[K].trim().split("="))[0].trim()]=F[1];return c},J.writeFmtp=function(M){var c="",F=M.payloadType;if(void 0!==M.preferredPayloadType&&(F=M.preferredPayloadType),M.parameters&&Object.keys(M.parameters).length){var Q=[];Object.keys(M.parameters).forEach(function(K){Q.push(M.parameters[K]?K+"="+M.parameters[K]:K)}),c+="a=fmtp:"+F+" "+Q.join(";")+"\r\n"}return c},J.parseRtcpFb=function(M){var c=M.substr(M.indexOf(" ")+1).split(" ");return{type:c.shift(),parameter:c.join(" ")}},J.writeRtcpFb=function(M){var c="",F=M.payloadType;return void 0!==M.preferredPayloadType&&(F=M.preferredPayloadType),M.rtcpFeedback&&M.rtcpFeedback.length&&M.rtcpFeedback.forEach(function(Q){c+="a=rtcp-fb:"+F+" "+Q.type+(Q.parameter&&Q.parameter.length?" "+Q.parameter:"")+"\r\n"}),c},J.parseSsrcMedia=function(M){var c=M.indexOf(" "),F={ssrc:parseInt(M.substr(7,c-7),10)},Q=M.indexOf(":",c);return Q>-1?(F.attribute=M.substr(c+1,Q-c-1),F.value=M.substr(Q+1)):F.attribute=M.substr(c+1),F},J.parseSsrcGroup=function(M){var c=M.substr(13).split(" ");return{semantics:c.shift(),ssrcs:c.map(function(F){return parseInt(F,10)})}},J.getMid=function(M){var c=J.matchPrefix(M,"a=mid:")[0];if(c)return c.substr(6)},J.parseFingerprint=function(M){var c=M.substr(14).split(" ");return{algorithm:c[0].toLowerCase(),value:c[1]}},J.getDtlsParameters=function(M,c){return{role:"auto",fingerprints:J.matchPrefix(M+c,"a=fingerprint:").map(J.parseFingerprint)}},J.writeDtlsParameters=function(M,c){var F="a=setup:"+c+"\r\n";return M.fingerprints.forEach(function(Q){F+="a=fingerprint:"+Q.algorithm+" "+Q.value+"\r\n"}),F},J.parseCryptoLine=function(M){var c=M.substr(9).split(" ");return{tag:parseInt(c[0],10),cryptoSuite:c[1],keyParams:c[2],sessionParams:c.slice(3)}},J.writeCryptoLine=function(M){return"a=crypto:"+M.tag+" "+M.cryptoSuite+" "+("object"==typeof M.keyParams?J.writeCryptoKeyParams(M.keyParams):M.keyParams)+(M.sessionParams?" "+M.sessionParams.join(" "):"")+"\r\n"},J.parseCryptoKeyParams=function(M){if(0!==M.indexOf("inline:"))return null;var c=M.substr(7).split("|");return{keyMethod:"inline",keySalt:c[0],lifeTime:c[1],mkiValue:c[2]?c[2].split(":")[0]:void 0,mkiLength:c[2]?c[2].split(":")[1]:void 0}},J.writeCryptoKeyParams=function(M){return M.keyMethod+":"+M.keySalt+(M.lifeTime?"|"+M.lifeTime:"")+(M.mkiValue&&M.mkiLength?"|"+M.mkiValue+":"+M.mkiLength:"")},J.getCryptoParameters=function(M,c){return J.matchPrefix(M+c,"a=crypto:").map(J.parseCryptoLine)},J.getIceParameters=function(M,c){var F=J.matchPrefix(M+c,"a=ice-ufrag:")[0],Q=J.matchPrefix(M+c,"a=ice-pwd:")[0];return F&&Q?{usernameFragment:F.substr(12),password:Q.substr(10)}:null},J.writeIceParameters=function(M){return"a=ice-ufrag:"+M.usernameFragment+"\r\na=ice-pwd:"+M.password+"\r\n"},J.parseRtpParameters=function(M){for(var c={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},Q=J.splitLines(M)[0].split(" "),K=3;K<Q.length;K++){var q=Q[K],pe=J.matchPrefix(M,"a=rtpmap:"+q+" ")[0];if(pe){var A=J.parseRtpMap(pe),j=J.matchPrefix(M,"a=fmtp:"+q+" ");switch(A.parameters=j.length?J.parseFmtp(j[0]):{},A.rtcpFeedback=J.matchPrefix(M,"a=rtcp-fb:"+q+" ").map(J.parseRtcpFb),c.codecs.push(A),A.name.toUpperCase()){case"RED":case"ULPFEC":c.fecMechanisms.push(A.name.toUpperCase())}}}return J.matchPrefix(M,"a=extmap:").forEach(function(L){c.headerExtensions.push(J.parseExtmap(L))}),c},J.writeRtpDescription=function(M,c){var F="";F+="m="+M+" ",F+=c.codecs.length>0?"9":"0",F+=" UDP/TLS/RTP/SAVPF ",F+=c.codecs.map(function(K){return void 0!==K.preferredPayloadType?K.preferredPayloadType:K.payloadType}).join(" ")+"\r\n",F+="c=IN IP4 0.0.0.0\r\n",F+="a=rtcp:9 IN IP4 0.0.0.0\r\n",c.codecs.forEach(function(K){F+=J.writeRtpMap(K),F+=J.writeFmtp(K),F+=J.writeRtcpFb(K)});var Q=0;return c.codecs.forEach(function(K){K.maxptime>Q&&(Q=K.maxptime)}),Q>0&&(F+="a=maxptime:"+Q+"\r\n"),F+="a=rtcp-mux\r\n",c.headerExtensions&&c.headerExtensions.forEach(function(K){F+=J.writeExtmap(K)}),F},J.parseRtpEncodingParameters=function(M){var A,c=[],F=J.parseRtpParameters(M),Q=-1!==F.fecMechanisms.indexOf("RED"),K=-1!==F.fecMechanisms.indexOf("ULPFEC"),q=J.matchPrefix(M,"a=ssrc:").map(function(X){return J.parseSsrcMedia(X)}).filter(function(X){return"cname"===X.attribute}),pe=q.length>0&&q[0].ssrc,j=J.matchPrefix(M,"a=ssrc-group:FID").map(function(X){return X.substr(17).split(" ").map(function(De){return parseInt(De,10)})});j.length>0&&j[0].length>1&&j[0][0]===pe&&(A=j[0][1]),F.codecs.forEach(function(X){if("RTX"===X.name.toUpperCase()&&X.parameters.apt){var se={ssrc:pe,codecPayloadType:parseInt(X.parameters.apt,10)};pe&&A&&(se.rtx={ssrc:A}),c.push(se),Q&&((se=JSON.parse(JSON.stringify(se))).fec={ssrc:pe,mechanism:K?"red+ulpfec":"red"},c.push(se))}}),0===c.length&&pe&&c.push({ssrc:pe});var L=J.matchPrefix(M,"b=");return L.length&&(L=0===L[0].indexOf("b=TIAS:")?parseInt(L[0].substr(7),10):0===L[0].indexOf("b=AS:")?1e3*parseInt(L[0].substr(5),10)*.95-16e3:void 0,c.forEach(function(X){X.maxBitrate=L})),c},J.parseRtcpParameters=function(M){var c={},F=J.matchPrefix(M,"a=ssrc:").map(function(q){return J.parseSsrcMedia(q)}).filter(function(q){return"cname"===q.attribute})[0];F&&(c.cname=F.value,c.ssrc=F.ssrc);var Q=J.matchPrefix(M,"a=rtcp-rsize");c.reducedSize=Q.length>0,c.compound=0===Q.length;var K=J.matchPrefix(M,"a=rtcp-mux");return c.mux=K.length>0,c},J.parseMsid=function(M){var c,F=J.matchPrefix(M,"a=msid:");if(1===F.length)return{stream:(c=F[0].substr(7).split(" "))[0],track:c[1]};var Q=J.matchPrefix(M,"a=ssrc:").map(function(K){return J.parseSsrcMedia(K)}).filter(function(K){return"msid"===K.attribute});return Q.length>0?{stream:(c=Q[0].value.split(" "))[0],track:c[1]}:void 0},J.parseSctpDescription=function(M){var Q,c=J.parseMLine(M),F=J.matchPrefix(M,"a=max-message-size:");F.length>0&&(Q=parseInt(F[0].substr(19),10)),isNaN(Q)&&(Q=65536);var K=J.matchPrefix(M,"a=sctp-port:");if(K.length>0)return{port:parseInt(K[0].substr(12),10),protocol:c.fmt,maxMessageSize:Q};if(J.matchPrefix(M,"a=sctpmap:").length>0){var pe=J.matchPrefix(M,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(pe[0],10),protocol:pe[1],maxMessageSize:Q}}},J.writeSctpDescription=function(M,c){var F=[];return F="DTLS/SCTP"!==M.protocol?["m="+M.kind+" 9 "+M.protocol+" "+c.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+c.port+"\r\n"]:["m="+M.kind+" 9 "+M.protocol+" "+c.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+c.port+" "+c.protocol+" 65535\r\n"],void 0!==c.maxMessageSize&&F.push("a=max-message-size:"+c.maxMessageSize+"\r\n"),F.join("")},J.generateSessionId=function(){return Math.random().toString().substr(2,21)},J.writeSessionBoilerplate=function(M,c,F){var K=void 0!==c?c:2;return"v=0\r\no="+(F||"thisisadapterortc")+" "+(M||J.generateSessionId())+" "+K+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},J.writeMediaSection=function(M,c,F,Q){var K=J.writeRtpDescription(M.kind,c);if(K+=J.writeIceParameters(M.iceGatherer.getLocalParameters()),K+=J.writeDtlsParameters(M.dtlsTransport.getLocalParameters(),"offer"===F?"actpass":"active"),K+="a=mid:"+M.mid+"\r\n",K+=M.direction?"a="+M.direction+"\r\n":M.rtpSender&&M.rtpReceiver?"a=sendrecv\r\n":M.rtpSender?"a=sendonly\r\n":M.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",M.rtpSender){var q="msid:"+Q.id+" "+M.rtpSender.track.id+"\r\n";K+="a="+q,K+="a=ssrc:"+M.sendEncodingParameters[0].ssrc+" "+q,M.sendEncodingParameters[0].rtx&&(K+="a=ssrc:"+M.sendEncodingParameters[0].rtx.ssrc+" "+q,K+="a=ssrc-group:FID "+M.sendEncodingParameters[0].ssrc+" "+M.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return K+="a=ssrc:"+M.sendEncodingParameters[0].ssrc+" cname:"+J.localCName+"\r\n",M.rtpSender&&M.sendEncodingParameters[0].rtx&&(K+="a=ssrc:"+M.sendEncodingParameters[0].rtx.ssrc+" cname:"+J.localCName+"\r\n"),K},J.getDirection=function(M,c){for(var F=J.splitLines(M),Q=0;Q<F.length;Q++)switch(F[Q]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return F[Q].substr(2)}return c?J.getDirection(c):"sendrecv"},J.getKind=function(M){return J.splitLines(M)[0].split(" ")[0].substr(2)},J.isRejected=function(M){return"0"===M.split(" ",2)[1]},J.parseMLine=function(M){var F=J.splitLines(M)[0].substr(2).split(" ");return{kind:F[0],port:parseInt(F[1],10),protocol:F[2],fmt:F.slice(3).join(" ")}},J.parseOLine=function(M){var F=J.matchPrefix(M,"o=")[0].substr(2).split(" ");return{username:F[0],sessionId:F[1],sessionVersion:parseInt(F[2],10),netType:F[3],addressType:F[4],address:F[5]}},J.isValidSDP=function(M){if("string"!=typeof M||0===M.length)return!1;for(var c=J.splitLines(M),F=0;F<c.length;F++)if(c[F].length<2||"="!==c[F].charAt(1))return!1;return!0},tt.exports=J},6814:(tt,J,M)=>{"use strict";M.d(J,{Do:()=>ze,EM:()=>ur,HT:()=>K,JF:()=>wn,K0:()=>pe,Mx:()=>bn,O5:()=>Lr,PM:()=>_r,S$:()=>Fe,V_:()=>j,Ye:()=>B,b0:()=>Le,bD:()=>Gt,ez:()=>Yn,q:()=>Q,sg:()=>pr,w_:()=>q});var c=M(4946);let F=null;function Q(){return F}function K(_){F||(F=_)}class q{}const pe=new c.OlP("DocumentToken");let A=(()=>{class _{historyGo(D){throw new Error("Not implemented")}}return _.\u0275fac=function(D){return new(D||_)},_.\u0275prov=c.Yz7({token:_,factory:function(){return(0,c.f3M)(L)},providedIn:"platform"}),_})();const j=new c.OlP("Location Initialized");let L=(()=>{class _ extends A{constructor(){super(),this._doc=(0,c.f3M)(pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(D){const P=Q().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",D,!1),()=>P.removeEventListener("popstate",D)}onHashChange(D){const P=Q().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",D,!1),()=>P.removeEventListener("hashchange",D)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(D){this._location.pathname=D}pushState(D,P,W){this._history.pushState(D,P,W)}replaceState(D,P,W){this._history.replaceState(D,P,W)}forward(){this._history.forward()}back(){this._history.back()}historyGo(D=0){this._history.go(D)}getState(){return this._history.state}}return _.\u0275fac=function(D){return new(D||_)},_.\u0275prov=c.Yz7({token:_,factory:function(){return new _},providedIn:"platform"}),_})();function X(_,I){if(0==_.length)return I;if(0==I.length)return _;let D=0;return _.endsWith("/")&&D++,I.startsWith("/")&&D++,2==D?_+I.substring(1):1==D?_+I:_+"/"+I}function se(_){const I=_.match(/#|\?|$/),D=I&&I.index||_.length;return _.slice(0,D-("/"===_[D-1]?1:0))+_.slice(D)}function De(_){return _&&"?"!==_[0]?"?"+_:_}let Fe=(()=>{class _{historyGo(D){throw new Error("Not implemented")}}return _.\u0275fac=function(D){return new(D||_)},_.\u0275prov=c.Yz7({token:_,factory:function(){return(0,c.f3M)(Le)},providedIn:"root"}),_})();const ye=new c.OlP("appBaseHref");let Le=(()=>{class _ extends Fe{constructor(D,P){super(),this._platformLocation=D,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(D){this._removeListenerFns.push(this._platformLocation.onPopState(D),this._platformLocation.onHashChange(D))}getBaseHref(){return this._baseHref}prepareExternalUrl(D){return X(this._baseHref,D)}path(D=!1){const P=this._platformLocation.pathname+De(this._platformLocation.search),W=this._platformLocation.hash;return W&&D?`${P}${W}`:P}pushState(D,P,W,be){const Te=this.prepareExternalUrl(W+De(be));this._platformLocation.pushState(D,P,Te)}replaceState(D,P,W,be){const Te=this.prepareExternalUrl(W+De(be));this._platformLocation.replaceState(D,P,Te)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(D=0){this._platformLocation.historyGo?.(D)}}return _.\u0275fac=function(D){return new(D||_)(c.LFG(A),c.LFG(ye,8))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),ze=(()=>{class _ extends Fe{constructor(D,P){super(),this._platformLocation=D,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(D){this._removeListenerFns.push(this._platformLocation.onPopState(D),this._platformLocation.onHashChange(D))}getBaseHref(){return this._baseHref}path(D=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(D){const P=X(this._baseHref,D);return P.length>0?"#"+P:P}pushState(D,P,W,be){let Te=this.prepareExternalUrl(W+De(be));0==Te.length&&(Te=this._platformLocation.pathname),this._platformLocation.pushState(D,P,Te)}replaceState(D,P,W,be){let Te=this.prepareExternalUrl(W+De(be));0==Te.length&&(Te=this._platformLocation.pathname),this._platformLocation.replaceState(D,P,Te)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(D=0){this._platformLocation.historyGo?.(D)}}return _.\u0275fac=function(D){return new(D||_)(c.LFG(A),c.LFG(ye,8))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac}),_})(),B=(()=>{class _{constructor(D){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=D;const P=this._locationStrategy.getBaseHref();this._basePath=function re(_){if(new RegExp("^(https?:)?//").test(_)){const[,D]=_.split(/\/\/[^\/]+/);return D}return _}(se(ve(P))),this._locationStrategy.onPopState(W=>{this._subject.emit({url:this.path(!0),pop:!0,state:W.state,type:W.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(D=!1){return this.normalize(this._locationStrategy.path(D))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(D,P=""){return this.path()==this.normalize(D+De(P))}normalize(D){return _.stripTrailingSlash(function _e(_,I){if(!_||!I.startsWith(_))return I;const D=I.substring(_.length);return""===D||["/",";","?","#"].includes(D[0])?D:I}(this._basePath,ve(D)))}prepareExternalUrl(D){return D&&"/"!==D[0]&&(D="/"+D),this._locationStrategy.prepareExternalUrl(D)}go(D,P="",W=null){this._locationStrategy.pushState(W,"",D,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(D+De(P)),W)}replaceState(D,P="",W=null){this._locationStrategy.replaceState(W,"",D,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(D+De(P)),W)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(D=0){this._locationStrategy.historyGo?.(D)}onUrlChange(D){return this._urlChangeListeners.push(D),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(D);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(D="",P){this._urlChangeListeners.forEach(W=>W(D,P))}subscribe(D,P,W){return this._subject.subscribe({next:D,error:P,complete:W})}}return _.normalizeQueryParams=De,_.joinWithSlash=X,_.stripTrailingSlash=se,_.\u0275fac=function(D){return new(D||_)(c.LFG(Fe))},_.\u0275prov=c.Yz7({token:_,factory:function(){return function Y(){return new B((0,c.LFG)(Fe))}()},providedIn:"root"}),_})();function ve(_){return _.replace(/\/index.html$/,"")}function bn(_,I){I=encodeURIComponent(I);for(const D of _.split(";")){const P=D.indexOf("="),[W,be]=-1==P?[D,""]:[D.slice(0,P),D.slice(P+1)];if(W.trim()===I)return decodeURIComponent(be)}return null}class Wr{constructor(I,D,P,W){this.$implicit=I,this.ngForOf=D,this.index=P,this.count=W}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pr=(()=>{class _{set ngForOf(D){this._ngForOf=D,this._ngForOfDirty=!0}set ngForTrackBy(D){this._trackByFn=D}get ngForTrackBy(){return this._trackByFn}constructor(D,P,W){this._viewContainer=D,this._template=P,this._differs=W,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(D){D&&(this._template=D)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const D=this._ngForOf;!this._differ&&D&&(this._differ=this._differs.find(D).create(this.ngForTrackBy))}if(this._differ){const D=this._differ.diff(this._ngForOf);D&&this._applyChanges(D)}}_applyChanges(D){const P=this._viewContainer;D.forEachOperation((W,be,Te)=>{if(null==W.previousIndex)P.createEmbeddedView(this._template,new Wr(W.item,this._ngForOf,-1,-1),null===Te?void 0:Te);else if(null==Te)P.remove(null===be?void 0:be);else if(null!==be){const Qe=P.get(be);P.move(Qe,Te),Fr(Qe,W)}});for(let W=0,be=P.length;W<be;W++){const Qe=P.get(W).context;Qe.index=W,Qe.count=be,Qe.ngForOf=this._ngForOf}D.forEachIdentityChange(W=>{Fr(P.get(W.currentIndex),W)})}static ngTemplateContextGuard(D,P){return!0}}return _.\u0275fac=function(D){return new(D||_)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},_.\u0275dir=c.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),_})();function Fr(_,I){_.context.$implicit=I.item}let Lr=(()=>{class _{constructor(D,P){this._viewContainer=D,this._context=new gr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(D){this._context.$implicit=this._context.ngIf=D,this._updateView()}set ngIfThen(D){No("ngIfThen",D),this._thenTemplateRef=D,this._thenViewRef=null,this._updateView()}set ngIfElse(D){No("ngIfElse",D),this._elseTemplateRef=D,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(D,P){return!0}}return _.\u0275fac=function(D){return new(D||_)(c.Y36(c.s_b),c.Y36(c.Rgc))},_.\u0275dir=c.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),_})();class gr{constructor(){this.$implicit=null,this.ngIf=null}}function No(_,I){if(I&&!I.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,c.AaK)(I)}'.`)}let Yn=(()=>{class _{}return _.\u0275fac=function(D){return new(D||_)},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({}),_})();const Gt="browser",lr="server";function _r(_){return _===lr}let ur=(()=>{class _{}return _.\u0275prov=(0,c.Yz7)({token:_,providedIn:"root",factory:()=>new Vn((0,c.LFG)(pe),window)}),_})();class Vn{constructor(I,D){this.document=I,this.window=D,this.offset=()=>[0,0]}setOffset(I){this.offset=Array.isArray(I)?()=>I:I}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(I){this.supportsScrolling()&&this.window.scrollTo(I[0],I[1])}scrollToAnchor(I){if(!this.supportsScrolling())return;const D=function Yr(_,I){const D=_.getElementById(I)||_.getElementsByName(I)[0];if(D)return D;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const P=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let W=P.currentNode;for(;W;){const be=W.shadowRoot;if(be){const Te=be.getElementById(I)||be.querySelector(`[name="${I}"]`);if(Te)return Te}W=P.nextNode()}}return null}(this.document,I);D&&(this.scrollToElement(D),D.focus())}setHistoryScrollRestoration(I){if(this.supportScrollRestoration()){const D=this.window.history;D&&D.scrollRestoration&&(D.scrollRestoration=I)}}scrollToElement(I){const D=I.getBoundingClientRect(),P=D.left+this.window.pageXOffset,W=D.top+this.window.pageYOffset,be=this.offset();this.window.scrollTo(P-be[0],W-be[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const I=Pr(this.window.history)||Pr(Object.getPrototypeOf(this.window.history));return!(!I||!I.writable&&!I.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Pr(_){return Object.getOwnPropertyDescriptor(_,"scrollRestoration")}class wn{}},4946:(tt,J,M)=>{"use strict";M.d(J,{tb:()=>sd,AFp:()=>zf,ip1:()=>Rm,hGG:()=>dE,z2F:()=>Cs,Ojb:()=>u_,sBO:()=>qS,Sil:()=>AS,EJc:()=>MS,Xts:()=>qs,SBq:()=>Xs,lqb:()=>Ei,qLn:()=>ts,vpe:()=>Wo,XFs:()=>He,OlP:()=>rn,zs3:()=>di,ZZ4:()=>fd,aQg:()=>hd,soG:()=>Fc,YKP:()=>Lg,h0i:()=>ys,PXZ:()=>$S,R0b:()=>Nr,FiY:()=>Ha,Lbi:()=>Bl,g9A:()=>Wf,Qsj:()=>E_,FYo:()=>eh,JOm:()=>$o,tp0:()=>Ga,Rgc:()=>ya,dDg:()=>LS,eoX:()=>Um,GfV:()=>th,s_b:()=>kc,ifc:()=>Zn,VuI:()=>CE,MMx:()=>Bg,Lck:()=>c0,eFA:()=>Wm,Gpc:()=>Z,f3M:()=>mt,$WT:()=>mr,_c5:()=>uE,qFp:()=>bE,rg0:()=>Da,c2e:()=>Pm,zSh:()=>kl,HDt:()=>Om,wAp:()=>dt,vHH:()=>Oe,lri:()=>jm,rWj:()=>$m,cg1:()=>Pu,kL8:()=>cg,dqk:()=>Xt,Z0I:()=>Mr,eJc:()=>Ku,QGY:()=>bu,F4k:()=>fp,RDi:()=>Pv,AaK:()=>H,qOj:()=>lu,Xq5:()=>Wh,TTD:()=>Li,_Bn:()=>Fg,jDz:()=>jg,xp6:()=>hh,uIk:()=>du,ekj:()=>Mu,Suo:()=>lm,Xpm:()=>Zo,lG2:()=>jr,Yz7:()=>kt,cJS:()=>qe,oAB:()=>lo,Yjl:()=>fo,Y36:()=>rs,_UZ:()=>_u,qZA:()=>Ec,TgZ:()=>Sc,EpF:()=>dp,n5z:()=>kd,LFG:()=>lt,$8M:()=>rl,$Z:()=>Ch,NdJ:()=>Su,CRH:()=>um,oxw:()=>yp,Q6J:()=>yu,MGl:()=>wc,iGM:()=>cm,KtG:()=>yo,CHM:()=>Ms,LSH:()=>Rl,P3R:()=>Nf,Jzz:()=>Kp,YNc:()=>ip,_uU:()=>$p,Oqu:()=>Au,hij:()=>Ic,AsE:()=>Ru});var c=M(8645),F=M(7394),Q=M(5619),K=M(5592),q=M(7537),pe=M(4829),A=M(6232),j=M(4564),L=M(7715),se=M(2096),De=M(1887),Fe=M(9360);function ye(e={}){const{connector:t=(()=>new c.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let u,p,v,w=0,R=!1,V=!1;const ee=()=>{p?.unsubscribe(),p=void 0},fe=()=>{ee(),u=v=void 0,R=V=!1},Ie=()=>{const Ne=u;fe(),Ne?.unsubscribe()};return(0,Fe.e)((Ne,Ge)=>{w++,!V&&!R&&ee();const et=v=v??t();Ge.add(()=>{w--,0===w&&!V&&!R&&(p=Le(Ie,o))}),et.subscribe(Ge),!u&&w>0&&(u=new De.Hp({next:Re=>et.next(Re),error:Re=>{V=!0,ee(),p=Le(fe,n,Re),et.error(Re)},complete:()=>{R=!0,ee(),p=Le(fe,r),et.complete()}}),(0,pe.Xf)(Ne).subscribe(u))})(i)}}function Le(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new De.Hp({next:()=>{r.unsubscribe(),e()}});return(0,pe.Xf)(t(...n)).subscribe(r)}var ze=M(4664),B=M(2737),Y=M(8251);function ve(e,t){return e===t}function re(e){for(let t in e)if(e[t]===re)return t;throw Error("Could not find renamed property on target object.")}function ge(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function H(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(H).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function he(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ue=re({__forward_ref__:re});function Z(e){return e.__forward_ref__=Z,e.toString=function(){return H(this())},e}function te(e){return $(e)?e():e}function $(e){return"function"==typeof e&&e.hasOwnProperty(ue)&&e.__forward_ref__===Z}function Se(e){return e&&!!e.\u0275providers}const Ae="https://g.co/ng/security#xss";class Oe extends Error{constructor(t,n){super(function me(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ne(e){return"string"==typeof e?e:null==e?"":String(e)}function je(e,t){throw new Oe(-201,!1)}function dn(e,t){null==e&&function Ve(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function kt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qe(e){return{providers:e.providers||[],imports:e.imports||[]}}function ot(e){return cn(e,on)||cn(e,Qt)}function Mr(e){return null!==ot(e)}function cn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Fn(e){return e&&(e.hasOwnProperty(Gr)||e.hasOwnProperty(no))?e[Gr]:null}const on=re({\u0275prov:re}),Gr=re({\u0275inj:re}),Qt=re({ngInjectableDef:re}),no=re({ngInjectorDef:re});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let Do;function Nt(e){const t=Do;return Do=e,t}function St(e,t,n){const r=ot(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&He.Optional?null:void 0!==t?t:void je(H(e))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Mn={},Qn="__NG_DI_FLAG__",Ut="ngTempTokenPath",we=/\n/gm,z="__source";let ae;function $e(e){const t=ae;return ae=e,t}function Je(e,t=He.Default){if(void 0===ae)throw new Oe(-203,!1);return null===ae?St(e,void 0,t):ae.get(e,t&He.Optional?null:void 0,t)}function lt(e,t=He.Default){return(function ar(){return Do}()||Je)(te(e),t)}function mt(e,t=He.Default){return lt(e,Cn(t))}function Cn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Wn(e){const t=[];for(let n=0;n<e.length;n++){const r=te(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Oe(900,!1);let o,i=He.Default;for(let u=0;u<r.length;u++){const p=r[u],v=_t(p);"number"==typeof v?-1===v?o=p.token:i|=v:o=p}t.push(lt(o,i))}else t.push(lt(r))}return t}function Ht(e,t){return e[Qn]=t,e.prototype[Qn]=t,e}function _t(e){return e[Qn]}function yt(e){return{toString:e}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),Zn=(()=>{return(e=Zn||(Zn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Zn;var e})();const Ln={},bt=[],$n=re({\u0275cmp:re}),zr=re({\u0275dir:re}),Ir=re({\u0275pipe:re}),ro=re({\u0275mod:re}),bn=re({\u0275fac:re}),Pn=re({__NG_ELEMENT_ID__:re}),Ar=re({__NG_ENV_ID__:re});function oo(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function hr(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],u=n[r++],p=n[r++];e.setAttribute(t,u,p,i)}else{const i=o,u=n[++r];Wr(i)?e.setProperty(t,i,u):e.setAttribute(t,i,u),r++}}return r}function xo(e){return 3===e||4===e||6===e}function Wr(e){return 64===e.charCodeAt(0)}function pr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Fr(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Fr(e,t,n,r,o){let i=0,u=e.length;if(-1===t)u=-1;else for(;i<e.length;){const p=e[i++];if("number"==typeof p){if(p===t){u=-1;break}if(p>t){u=i-1;break}}}for(;i<e.length;){const p=e[i];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==u&&(e.splice(u,0,t),i=u+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}const ko="ng-template";function Lr(e,t,n){let r=0,o=!0;for(;r<e.length;){let i=e[r++];if("string"==typeof i&&o){const u=e[r++];if(n&&"class"===i&&-1!==oo(u.toLowerCase(),t,0))return!0}else{if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function gr(e){return 4===e.type&&e.value!==ko}function No(e,t,n){return t===(4!==e.type||n?e.value:ko)}function Zr(e,t,n){let r=4;const o=e.attrs||[],i=function On(e){for(let t=0;t<e.length;t++)if(xo(e[t]))return t;return e.length}(o);let u=!1;for(let p=0;p<t.length;p++){const v=t[p];if("number"!=typeof v){if(!u)if(4&r){if(r=2|1&r,""!==v&&!No(e,v,n)||""===v&&1===t.length){if(hn(r))return!1;u=!0}}else{const w=8&r?v:t[++p];if(8&r&&null!==e.attrs){if(!Lr(e.attrs,w,n)){if(hn(r))return!1;u=!0}continue}const V=io(8&r?"class":v,o,gr(e),n);if(-1===V){if(hn(r))return!1;u=!0;continue}if(""!==w){let ee;ee=V>i?"":o[V+1].toLowerCase();const fe=8&r?ee:null;if(fe&&-1!==oo(fe,w,0)||2&r&&w!==ee){if(hn(r))return!1;u=!0}}}}else{if(!u&&!hn(r)&&!hn(v))return!1;if(u&&hn(v))continue;u=!1,r=v|1&r}}return hn(r)||u}function hn(e){return 0==(1&e)}function io(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const u=t[o];if(u===e)return o;if(3===u||6===u)i=!0;else{if(1===u||2===u){let p=t[++o];for(;"string"==typeof p;)p=t[++o];continue}if(4===u)break;if(0===u){o+=4;continue}}o+=i?1:2}return-1}return function Fo(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function so(e,t,n=!1){for(let r=0;r<t.length;r++)if(Zr(e,t[r],n))return!0;return!1}function Br(e,t){return e?":not("+t.trim()+")":t}function bo(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const p=e[++n];o+="["+u+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?o+="."+u:4&r&&(o+=" "+u);else""!==o&&!hn(u)&&(t+=Br(i,o),o=""),r=u,i=i||!hn(r);n++}return""!==o&&(t+=Br(i,o)),t}function Zo(e){return yt(()=>{const t=So(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zn.Emulated,styles:e.styles||bt,_:null,schemas:e.schemas||null,tView:null,id:""};$r(n);const r=e.dependencies;return n.directiveDefs=yr(r,!1),n.pipeDefs=yr(r,!0),n.id=function vr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function co(e){return Tt(e)||En(e)}function ni(e){return null!==e}function lo(e){return yt(()=>({type:e.type,bootstrap:e.bootstrap||bt,declarations:e.declarations||bt,imports:e.imports||bt,exports:e.exports||bt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function uo(e,t){if(null==e)return Ln;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}function jr(e){return yt(()=>{const t=So(e);return $r(t),t})}function fo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Tt(e){return e[$n]||null}function En(e){return e[zr]||null}function ln(e){return e[Ir]||null}function mr(e){const t=Tt(e)||En(e)||ln(e);return null!==t&&t.standalone}function Ft(e,t){const n=e[ro]||null;if(!n&&!0===t)throw new Error(`Type ${H(e)} does not have '\u0275mod' property.`);return n}function So(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ln,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||bt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:uo(e.inputs,t),outputs:uo(e.outputs)}}function $r(e){e.features?.forEach(t=>t(e))}function yr(e,t){if(!e)return null;const n=t?ln:co;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(ni)}const Ce=0,Ue=1,ut=2,st=3,At=4,Xn=5,un=6,Yn=7,Gt=8,lr=9,er=10,ct=11,Un=12,_r=13,Cr=14,sn=15,ho=16,ur=17,Vn=18,Pr=19,Yr=20,tr=21,wn=22,po=23,Mt=24,nt=25,Eo=1,qo=2,An=7,Kr=9,pn=11;function zt(e){return Array.isArray(e)&&"object"==typeof e[Eo]}function Yt(e){return Array.isArray(e)&&!0===e[Eo]}function ft(e){return 0!=(4&e.flags)}function Hn(e){return e.componentOffset>-1}function Ko(e){return 1==(1&e.flags)}function dr(e){return!!e.template}function Pt(e){return 0!=(512&e[ut])}function G(e,t){return e.hasOwnProperty(bn)?e[bn]:null}let Wt=Xt.WeakRef??class Et{constructor(t){this.ref=t}deref(){return this.ref}},Ds=0,nr=null,ii=!1;function gn(e){const t=nr;return nr=e,t}class Pi{constructor(){this.id=Ds++,this.ref=function en(e){return new Wt(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=ii;ii=!0;try{for(const[n,r]of this.consumers){const o=r.consumerNode.deref();void 0!==o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),o?.producers.delete(this.id))}}finally{ii=t}}producerAccessed(){if(ii)throw new Error("");if(null===nr)return;let t=nr.producers.get(this.id);void 0===t?(t={consumerNode:nr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:nr.trackingVersion},nr.producers.set(this.id,t),this.consumers.set(nr.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=nr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==nr?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let Ni=null;function Da(e){const t=gn(null);try{return e()}finally{gn(t)}}const Ss=()=>{};class ba extends Pi{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=Ss,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=gn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ss,this.watch(this.registerOnCleanup)}finally{gn(t)}}cleanup(){this.cleanupFn()}}class Sa{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Li(){return Vi}function Vi(e){return e.type.prototype.ngOnChanges&&(e.setInput=_),vi}function vi(){const e=D(this),t=e?.current;if(t){const n=e.previous;if(n===Ln)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function _(e,t,n,r){const o=this.declaredInputs[n],i=D(e)||function P(e,t){return e[I]=t}(e,{previous:Ln,current:null}),u=i.current||(i.current={}),p=i.previous,v=p[o];u[o]=new Sa(v&&v.currentValue,t,p===Ln),e[r]=t}Li.ngInherit=!0;const I="__ngSimpleChanges__";function D(e){return e[I]||null}const Te=function(e,t,n){};function at(e){for(;Array.isArray(e);)e=e[Ce];return e}function vt(e,t){return at(t[e])}function Ot(e,t){return at(t[e.index])}function mn(e,t){return e.data[t]}function yn(e,t){const n=t[e];return zt(n)?n:n[Ce]}function or(e,t){return null==t?null:e[t]}function Ur(e){e[ur]=0}function Gc(e){1024&e[ut]||(e[ut]|=1024,Dr(e,1))}function Ea(e){1024&e[ut]&&(e[ut]&=-1025,Dr(e,-1))}function Dr(e,t){let n=e[st];if(null===n)return;n[Xn]+=t;let r=n;for(n=n[st];null!==n&&(1===t&&1===r[Xn]||-1===t&&0===r[Xn]);)n[Xn]+=t,r=n,n=n[st]}const ht={lFrame:xs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ws(){return ht.bindingsEnabled}function xe(){return ht.lFrame.lView}function jt(){return ht.lFrame.tView}function Ms(e){return ht.lFrame.contextLView=e,e[Gt]}function yo(e){return ht.lFrame.contextLView=null,e}function qn(){let e=Yc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Yc(){return ht.lFrame.currentTNode}function Io(e,t){const n=ht.lFrame;n.currentTNode=e,n.isParent=t}function $i(){return ht.lFrame.isParent}function _i(){return ht.lFrame.bindingIndex++}function Bo(e){const t=ht.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Dd(e,t){const n=ht.lFrame;n.bindingIndex=n.bindingRootIndex=e,As(t)}function As(e){ht.lFrame.currentDirectiveIndex=e}function Pa(){return ht.lFrame.currentQueryIndex}function Ps(e){ht.lFrame.currentQueryIndex=e}function qc(e){const t=e[Ue];return 2===t.type?t.declTNode:1===t.type?e[un]:null}function Oa(e,t,n){if(n&He.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&He.Host||(o=qc(i),null===o||(i=i[Cr],10&o.type))););if(null===o)return!1;t=o,e=i}const r=ht.lFrame=xa();return r.currentTNode=t,r.lView=e,!0}function Os(e){const t=xa(),n=e[Ue];ht.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function xa(){const e=ht.lFrame,t=null===e?null:e.child;return null===t?xs(e):t}function xs(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ka(){const e=ht.lFrame;return ht.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Kc=ka;function Na(){const e=ka();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Sr(){return ht.lFrame.selectedIndex}function ai(e){ht.lFrame.selectedIndex=e}function f(){const e=ht.lFrame;return mn(e.tView,e.selectedIndex)}let N=!0;function ce(){return N}function Me(e){N=e}function Xe(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:w,ngOnDestroy:R}=i;u&&(e.contentHooks??=[]).push(-n,u),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),v&&(e.viewHooks??=[]).push(-n,v),w&&((e.viewHooks??=[]).push(n,w),(e.viewCheckHooks??=[]).push(n,w)),null!=R&&(e.destroyHooks??=[]).push(n,R)}}function Lt(e,t,n){ci(e,t,3,n)}function ir(e,t,n,r){(3&e[ut])===n&&ci(e,t,n,r)}function Ci(e,t){let n=e[ut];(3&n)===t&&(n&=8191,n+=1,e[ut]=n)}function ci(e,t,n,r){const i=r??-1,u=t.length-1;let p=0;for(let v=void 0!==r?65535&e[ur]:0;v<u;v++)if("number"==typeof t[v+1]){if(p=t[v],null!=r&&p>=r)break}else t[v]<0&&(e[ur]+=65536),(p<i||-1==i)&&(ks(e,n,t,v),e[ur]=(4294901760&e[ur])+v+2),v++}function li(e,t){Te(4,e,t);const n=gn(null);try{t.call(e)}finally{gn(n),Te(5,e,t)}}function ks(e,t,n,r){const o=n[r]<0,i=n[r+1],p=e[o?-n[r]:n[r]];o?e[ut]>>13<e[ur]>>16&&(3&e[ut])===t&&(e[ut]+=8192,li(p,i)):li(p,i)}const Ao=-1;class Ns{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ed(e){return e!==Ao}function Fa(e){return 32767&e}function La(e,t){let n=function _y(e){return e>>16}(e),r=t;for(;n>0;)r=r[Cr],n--;return r}let Qc=!0;function Va(e){const t=Qc;return Qc=e,t}const wd=255,Td=5;let Cy=0;const jo={};function Ba(e,t){const n=Md(e,t);if(-1!==n)return n;const r=t[Ue];r.firstCreatePass&&(e.injectorIndex=t.length,Xc(r.data,e),Xc(t,null),Xc(r.blueprint,null));const o=el(e,t),i=e.injectorIndex;if(Ed(o)){const u=Fa(o),p=La(o,t),v=p[Ue].data;for(let w=0;w<8;w++)t[i+w]=p[u+w]|v[u+w]}return t[i+8]=o,i}function Xc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Md(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function el(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Nd(o),null===r)return Ao;if(n++,o=o[Cr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ao}function tl(e,t,n){!function Dy(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pn)&&(r=n[Pn]),null==r&&(r=n[Pn]=Cy++);const o=r&wd;t.data[e+(o>>Td)]|=1<<o}(e,t,n)}function Id(e,t,n){if(n&He.Optional||void 0!==e)return e;je()}function Ad(e,t,n,r){if(n&He.Optional&&void 0===r&&(r=null),!(n&(He.Self|He.Host))){const o=e[lr],i=Nt(void 0);try{return o?o.get(t,r,n&He.Optional):St(t,r,n&He.Optional)}finally{Nt(i)}}return Id(r,0,n)}function Rd(e,t,n,r=He.Default,o){if(null!==e){if(2048&t[ut]&&!(r&He.Self)){const u=function Ty(e,t,n,r,o){let i=e,u=t;for(;null!==i&&null!==u&&2048&u[ut]&&!(512&u[ut]);){const p=Pd(i,u,n,r|He.Self,jo);if(p!==jo)return p;let v=i.parent;if(!v){const w=u[Yr];if(w){const R=w.get(n,jo,r);if(R!==jo)return R}v=Nd(u),u=u[Cr]}i=v}return o}(e,t,n,r,jo);if(u!==jo)return u}const i=Pd(e,t,n,r,jo);if(i!==jo)return i}return Ad(t,n,r,o)}function Pd(e,t,n,r,o){const i=function Ey(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Pn)?e[Pn]:void 0;return"number"==typeof t?t>=0?t&wd:wy:t}(n);if("function"==typeof i){if(!Oa(t,e,r))return r&He.Host?Id(o,0,r):Ad(t,n,r,o);try{const u=i(r);if(null!=u||r&He.Optional)return u;je()}finally{Kc()}}else if("number"==typeof i){let u=null,p=Md(e,t),v=Ao,w=r&He.Host?t[sn][un]:null;for((-1===p||r&He.SkipSelf)&&(v=-1===p?el(e,t):t[p+8],v!==Ao&&xd(r,!1)?(u=t[Ue],p=Fa(v),t=La(v,t)):p=-1);-1!==p;){const R=t[Ue];if(Od(i,p,R.data)){const V=Sy(p,t,n,u,r,w);if(V!==jo)return V}v=t[p+8],v!==Ao&&xd(r,t[Ue].data[p+8]===w)&&Od(i,p,t)?(u=R,p=Fa(v),t=La(v,t)):p=-1}}return o}function Sy(e,t,n,r,o,i){const u=t[Ue],p=u.data[e+8],R=ja(p,u,n,null==r?Hn(p)&&Qc:r!=u&&0!=(3&p.type),o&He.Host&&i===p);return null!==R?Di(t,u,R,p):jo}function ja(e,t,n,r,o){const i=e.providerIndexes,u=t.data,p=1048575&i,v=e.directiveStart,R=i>>20,ee=o?p+R:e.directiveEnd;for(let fe=r?p:p+R;fe<ee;fe++){const Ie=u[fe];if(fe<v&&n===Ie||fe>=v&&Ie.type===n)return fe}if(o){const fe=u[v];if(fe&&dr(fe)&&fe.type===n)return v}return null}function Di(e,t,n,r){let o=e[n];const i=t.data;if(function my(e){return e instanceof Ns}(o)){const u=o;u.resolving&&function Pe(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${e}${n}`)}(function le(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ne(e)}(i[n]));const p=Va(u.canSeeViewProviders);u.resolving=!0;const v=u.injectImpl?Nt(u.injectImpl):null;Oa(e,r,He.Default);try{o=e[n]=u.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Ye(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const u=Vi(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==v&&Nt(v),Va(p),u.resolving=!1,Kc()}}return o}function Od(e,t,n){return!!(n[t+(e>>Td)]&1<<e)}function xd(e,t){return!(e&He.Self||e&He.Host&&t)}class Hi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Rd(this._tNode,this._lView,t,Cn(r),n)}}function wy(){return new Hi(qn(),xe())}function kd(e){return yt(()=>{const t=e.prototype.constructor,n=t[bn]||nl(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[bn]||nl(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function nl(e){return $(e)?()=>{const t=nl(te(e));return t&&t()}:G(e)}function Nd(e){const t=e[Ue],n=t.type;return 2===n?t.declTNode:1===n?e[un]:null}function rl(e){return function by(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(xo(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(qn(),e)}const zi="__parameters__";function Zi(e,t,n){return yt(()=>{const r=function ol(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const u=new o(...i);return p.annotation=u,p;function p(v,w,R){const V=v.hasOwnProperty(zi)?v[zi]:Object.defineProperty(v,zi,{value:[]})[zi];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(u),v}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Vs(e,t){e.forEach(n=>Array.isArray(n)?Vs(n,t):t(n))}function Ld(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $a(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function eo(e,t,n){let r=Yi(e,t);return r>=0?e[1|r]=n:(r=~r,function Py(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function il(e,t){const n=Yi(e,t);if(n>=0)return e[1|n]}function Yi(e,t){return function Vd(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),u=e[i<<n];if(t===u)return i<<n;u>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const Ha=Ht(Zi("Optional"),8),Ga=Ht(Zi("SkipSelf"),4);function Ya(e){return 128==(128&e.flags)}var $o=(()=>(($o=$o||{})[$o.Important=1]="Important",$o[$o.DashCase=2]="DashCase",$o))();const dl=new Map;let tv=0;const hl="__ngContext__";function Er(e,t){zt(t)?(e[hl]=t[Pr],function rv(e){dl.set(e[Pr],e)}(t)):e[hl]=t}let pl;function gl(e,t){return pl(e,t)}function Us(e){const t=e[st];return Yt(t)?t[st]:t}function sf(e){return cf(e[Un])}function af(e){return cf(e[At])}function cf(e){for(;null!==e&&!Yt(e);)e=e[At];return e}function Ji(e,t,n,r,o){if(null!=r){let i,u=!1;Yt(r)?i=r:zt(r)&&(u=!0,r=r[Ce]);const p=at(r);0===e&&null!==n?null==o?hf(t,n,p):bi(t,n,p,o||null,!0):1===e&&null!==n?bi(t,n,p,o||null,!0):2===e?function ec(e,t,n){const r=Qa(e,t);r&&function bv(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,p,u):3===e&&t.destroyNode(p),null!=i&&function wv(e,t,n,r,o){const i=n[An];i!==at(n)&&Ji(t,e,r,i,o);for(let p=pn;p<n.length;p++){const v=n[p];Gs(v[Ue],v,e,t,r,i)}}(t,e,i,n,o)}}function Ja(e,t,n){return e.createElement(t,n)}function uf(e,t){const n=e[Kr],r=n.indexOf(t);Ea(t),n.splice(r,1)}function yl(e,t){if(e.length<=pn)return;const n=pn+t,r=e[n];if(r){const o=r[ho];null!==o&&o!==e&&uf(o,r),t>0&&(e[n-1][At]=r[At]);const i=$a(e,pn+t);!function pv(e,t){Gs(e,t,t[ct],2,null,null),t[Ce]=null,t[un]=null}(r[Ue],r);const u=i[Vn];null!==u&&u.detachView(i[Ue]),r[st]=null,r[At]=null,r[ut]&=-129}return r}function df(e,t){if(!(256&t[ut])){const n=t[ct];t[po]?.destroy(),t[Mt]?.destroy(),n.destroyNode&&Gs(e,t,n,3,null,null),function yv(e){let t=e[Un];if(!t)return vl(e[Ue],e);for(;t;){let n=null;if(zt(t))n=t[Un];else{const r=t[pn];r&&(n=r)}if(!n){for(;t&&!t[At]&&t!==e;)zt(t)&&vl(t[Ue],t),t=t[st];null===t&&(t=e),zt(t)&&vl(t[Ue],t),n=t&&t[At]}t=n}}(t)}}function vl(e,t){if(!(256&t[ut])){t[ut]&=-129,t[ut]|=256,function Dv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ns)){const i=n[r+1];if(Array.isArray(i))for(let u=0;u<i.length;u+=2){const p=o[i[u]],v=i[u+1];Te(4,p,v);try{v.call(p)}finally{Te(5,p,v)}}else{Te(4,o,i);try{i.call(o)}finally{Te(5,o,i)}}}}}(e,t),function Cv(e,t){const n=e.cleanup,r=t[Yn];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const u=n[i+3];u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[Yn]=null);const o=t[tr];if(null!==o){t[tr]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[Ue].type&&t[ct].destroy();const n=t[ho];if(null!==n&&Yt(t[st])){n!==t[st]&&uf(n,t);const r=t[Vn];null!==r&&r.detachView(e)}!function ov(e){dl.delete(e[Pr])}(t)}}function _l(e,t,n){return function ff(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Ce];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===Zn.None||i===Zn.Emulated)return null}return Ot(r,n)}}(e,t.parent,n)}function bi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function hf(e,t,n){e.appendChild(t,n)}function pf(e,t,n,r,o){null!==r?bi(e,t,n,r,o):hf(e,t,n)}function Qa(e,t){return e.parentNode(t)}let Cl,El,nc,yf=function mf(e,t,n){return 40&e.type?Ot(e,n):null};function Xa(e,t,n,r){const o=_l(e,r,t),i=t[ct],p=function gf(e,t,n){return yf(e,t,n)}(r.parent||t[un],r,t);if(null!=o)if(Array.isArray(n))for(let v=0;v<n.length;v++)pf(i,o,n[v],p,!1);else pf(i,o,n,p,!1);void 0!==Cl&&Cl(i,r,t,n,o)}function Hs(e,t){if(null!==t){const n=t.type;if(3&n)return Ot(t,e);if(4&n)return Dl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Hs(e,r);{const o=e[t.index];return Yt(o)?Dl(-1,o):at(o)}}if(32&n)return gl(t,e)()||at(e[t.index]);{const r=_f(e,t);return null!==r?Array.isArray(r)?r[0]:Hs(Us(e[sn]),r):Hs(e,t.next)}}return null}function _f(e,t){return null!==t?e[sn][un].projection[t.projection]:null}function Dl(e,t){const n=pn+e+1;if(n<t.length){const r=t[n],o=r[Ue].firstChild;if(null!==o)return Hs(r,o)}return t[An]}function bl(e,t,n,r,o,i,u){for(;null!=n;){const p=r[n.index],v=n.type;if(u&&0===t&&(p&&Er(at(p),r),n.flags|=2),32!=(32&n.flags))if(8&v)bl(e,t,n.child,r,o,i,!1),Ji(t,e,o,p,i);else if(32&v){const w=gl(n,r);let R;for(;R=w();)Ji(t,e,o,R,i);Ji(t,e,o,p,i)}else 16&v?Df(e,t,r,n,o,i):Ji(t,e,o,p,i);n=u?n.projectionNext:n.next}}function Gs(e,t,n,r,o,i){bl(n,r,e.firstChild,t,o,i,!1)}function Df(e,t,n,r,o,i){const u=n[sn],v=u[un].projection[r.projection];if(Array.isArray(v))for(let w=0;w<v.length;w++)Ji(t,e,o,v[w],i);else{let w=v;const R=u[st];Ya(r)&&(w.flags|=128),bl(e,t,w,R,o,i,!0)}}function bf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Sf(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&hr(e,t,r),null!==o&&bf(e,t,o),null!==i&&function Mv(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function Pv(e){El=e}function Tf(e){return function wl(){if(void 0===nc&&(nc=null,Xt.trustedTypes))try{nc=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return nc}()?.createScriptURL(e)||e}class Mf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ae})`}}function ui(e){return e instanceof Mf?e.changingThisBreaksApplicationSecurity:e}function Ws(e,t){const n=function Lv(e){return e instanceof Mf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ae})`)}return n===t}const $v=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function Rl(e){const t=Ys();return t?t.sanitize(Gn.URL,e)||"":Ws(e,"URL")?ui(e):function Tl(e){return(e=String(e)).match($v)?e:"unsafe:"+e}(ne(e))}function kf(e){const t=Ys();if(t)return Tf(t.sanitize(Gn.RESOURCE_URL,e)||"");if(Ws(e,"ResourceURL"))return Tf(ui(e));throw new Oe(904,!1)}function Nf(e,t,n){return function Xv(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?kf:Rl}(t,n)(e)}function Ys(){const e=xe();return e&&e[er].sanitizer}class rn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=kt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qs=new rn("ENVIRONMENT_INITIALIZER"),Ff=new rn("INJECTOR",-1),Lf=new rn("INJECTOR_DEF_TYPES");class Vf{get(t,n=Mn){if(n===Mn){const r=new Error(`NullInjectorError: No provider for ${H(t)}!`);throw r.name="NullInjectorError",r}return n}}function e_(...e){return{\u0275providers:jf(0,e),\u0275fromNgModule:!0}}function jf(e,...t){const n=[],r=new Set;let o;return Vs(t,i=>{const u=i;Pl(u,n,[],r)&&(o||=[],o.push(u))}),void 0!==o&&$f(o,n),n}function $f(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];Ol(o,i=>{t.push(i)})}}function Pl(e,t,n,r){if(!(e=te(e)))return!1;let o=null,i=Fn(e);const u=!i&&Tt(e);if(i||u){if(u&&!u.standalone)return!1;o=e}else{const v=e.ngModule;if(i=Fn(v),!i)return!1;o=v}const p=r.has(o);if(u){if(p)return!1;if(r.add(o),u.dependencies){const v="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const w of v)Pl(w,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!p){let w;r.add(o);try{Vs(i.imports,R=>{Pl(R,t,n,r)&&(w||=[],w.push(R))})}finally{}void 0!==w&&$f(w,t)}if(!p){const w=G(o)||(()=>new o);t.push({provide:o,useFactory:w,deps:bt},{provide:Lf,useValue:o,multi:!0},{provide:qs,useValue:()=>lt(o),multi:!0})}const v=i.providers;null==v||p||Ol(v,R=>{t.push(R)})}}return o!==e&&void 0!==e.providers}function Ol(e,t){for(let n of e)Se(n)&&(n=n.\u0275providers),Array.isArray(n)?Ol(n,t):t(n)}const t_=re({provide:String,useValue:re});function xl(e){return null!==e&&"object"==typeof e&&t_ in e}function Si(e){return"function"==typeof e}const kl=new rn("Set Injector scope."),oc={},r_={};let Nl;function ic(){return void 0===Nl&&(Nl=new Vf),Nl}class Ei{}class Fl extends Ei{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vl(t,u=>this.processProvider(u)),this.records.set(Ff,Xi(void 0,this)),o.has("environment")&&this.records.set(Ei,Xi(void 0,this));const i=this.records.get(kl);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Lf.multi,bt,He.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=$e(this),r=Nt(void 0);try{return t()}finally{$e(n),Nt(r)}}get(t,n=Mn,r=He.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ar))return t[Ar](this);r=Cn(r);const o=$e(this),i=Nt(void 0);try{if(!(r&He.SkipSelf)){let p=this.records.get(t);if(void 0===p){const v=function c_(e){return"function"==typeof e||"object"==typeof e&&e instanceof rn}(t)&&ot(t);p=v&&this.injectableDefInScope(v)?Xi(Ll(t),oc):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&He.Self?ic():this.parent).get(t,n=r&He.Optional&&n===Mn?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[Ut]=u[Ut]||[]).unshift(H(t)),o)throw u;return function Dn(e,t,n,r){const o=e[Ut];throw t[z]&&o.unshift(t[z]),e.message=function fn(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=H(t);if(Array.isArray(t))o=t.map(H).join(" -> ");else if("object"==typeof t){let i=[];for(let u in t)if(t.hasOwnProperty(u)){let p=t[u];i.push(u+":"+("string"==typeof p?JSON.stringify(p):H(p)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(we,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Ut]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{Nt(i),$e(o)}}resolveInjectorInitializers(){const t=$e(this),n=Nt(void 0);try{const r=this.get(qs.multi,bt,He.Self);for(const o of r)o()}finally{$e(t),Nt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(H(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(t){let n=Si(t=te(t))?t:te(t&&t.provide);const r=function i_(e){return xl(e)?Xi(void 0,e.useValue):Xi(Gf(e),oc)}(t);if(Si(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Xi(void 0,oc,!0),o.factory=()=>Wn(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===oc&&(n.value=r_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function a_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=te(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ll(e){const t=ot(e),n=null!==t?t.factory:G(e);if(null!==n)return n;if(e instanceof rn)throw new Oe(204,!1);if(e instanceof Function)return function o_(e){const t=e.length;if(t>0)throw function Bs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Oe(204,!1);const n=function Nn(e){return e&&(e[on]||e[Qt])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Oe(204,!1)}function Gf(e,t,n){let r;if(Si(e)){const o=te(e);return G(o)||Ll(o)}if(xl(e))r=()=>te(e.useValue);else if(function Hf(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Wn(e.deps||[]));else if(function Uf(e){return!(!e||!e.useExisting)}(e))r=()=>lt(te(e.useExisting));else{const o=te(e&&(e.useClass||e.provide));if(!function s_(e){return!!e.deps}(e))return G(o)||Ll(o);r=()=>new o(...Wn(e.deps))}return r}function Xi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Vl(e,t){for(const n of e)Array.isArray(n)?Vl(n,t):n&&Se(n)?Vl(n.\u0275providers,t):t(n)}const zf=new rn("AppId",{providedIn:"root",factory:()=>l_}),l_="ng",Wf=new rn("Platform Initializer"),Bl=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u_=new rn("CSP nonce",{providedIn:"root",factory:()=>function zs(){if(void 0!==El)return El;if(typeof document<"u")return document;throw new Oe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Yf=(e,t)=>null;function qf(e,t){return Yf(e,t)}class __{}class Qf{}class D_{resolveComponentFactory(t){throw function C_(e){const t=Error(`No component factory found for ${H(e)}.`);return t.ngComponent=e,t}(t)}}let uc=(()=>{class e{}return e.NULL=new D_,e})();function b_(){return es(qn(),xe())}function es(e,t){return new Xs(Ot(e,t))}let Xs=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=b_,e})();function S_(e){return e instanceof Xs?e.nativeElement:e}class eh{}let E_=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function w_(){const e=xe(),n=yn(qn().index,e);return(zt(n)?n:e)[ct]}(),e})(),T_=(()=>{class e{}return e.\u0275prov=kt({token:e,providedIn:"root",factory:()=>null}),e})();class th{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const M_=new th("16.1.2"),Kl={};function ea(e){for(;e;){e[ut]|=64;const t=Us(e);if(Pt(e)&&!t)return e;e=t}return null}function Jl(e){return e.ngOriginalError}class ts{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Jl(t);for(;n&&Jl(n);)n=Jl(n);return n||null}}const oh=new rn("",{providedIn:"root",factory:()=>!1});function Xo(e){return e instanceof Function?e():e}class lh extends Pi{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){ea(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const o=gn(this);this.trackingVersion++;try{t(n,r)}finally{gn(o)}}destroy(){this.trackingVersion++}}let fc=null;function uh(){return fc??=new lh,fc}function dh(e,t){return e[t]??uh()}function fh(e,t){const n=uh();n.hasReadASignal&&(e[t]=fc,n.lView=e,fc=new lh)}const wt={};function hh(e){ph(jt(),xe(),Sr()+e,!1)}function ph(e,t,n,r){if(!r)if(3==(3&t[ut])){const i=e.preOrderCheckHooks;null!==i&&Lt(t,i,n)}else{const i=e.preOrderHooks;null!==i&&ir(t,i,0,n)}ai(n)}function vh(e,t=null,n=null,r){const o=_h(e,t,n,r);return o.resolveInjectorInitializers(),o}function _h(e,t=null,n=null,r,o=new Set){const i=[n||bt,e_(e)];return r=r||("object"==typeof e?void 0:H(e)),new Fl(i,t||ic(),r||null,o)}let di=(()=>{class e{static create(n,r){if(Array.isArray(n))return vh({name:""},r,n,"");{const o=n.name??"";return vh({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Mn,e.NULL=new Vf,e.\u0275prov=kt({token:e,providedIn:"any",factory:()=>lt(Ff)}),e.__NG_ELEMENT_ID__=-1,e})();function rs(e,t=He.Default){const n=xe();return null===n?lt(e,t):Rd(qn(),n,te(e),t)}function Ch(){throw new Error("invalid")}function hc(e,t,n,r,o,i,u,p,v,w,R){const V=t.blueprint.slice();return V[Ce]=o,V[ut]=140|r,(null!==w||e&&2048&e[ut])&&(V[ut]|=2048),Ur(V),V[st]=V[Cr]=e,V[Gt]=n,V[er]=u||e&&e[er],V[ct]=p||e&&e[ct],V[lr]=v||e&&e[lr]||null,V[un]=i,V[Pr]=function nv(){return tv++}(),V[wn]=R,V[Yr]=w,V[sn]=2==t.type?e[sn]:V,V}function os(e,t,n,r,o){let i=e.data[t];if(null===i)i=function Ql(e,t,n,r,o){const i=Yc(),u=$i(),v=e.data[t]=function Y_(e,t,n,r,o,i){let u=t?t.injectorIndex:-1,p=0;return function si(){return null!==ht.skipHydrationRootTNode}()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=v),null!==i&&(u?null==i.child&&null!==v.parent&&(i.child=v):null===i.next&&(i.next=v,v.prev=i)),v}(e,t,n,r,o),function Cd(){return ht.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const u=function ji(){const e=ht.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===u?-1:u.injectorIndex}return Io(i,!0),i}function ta(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Dh(e,t,n,r,o){const i=dh(t,po),u=Sr(),p=2&r;try{if(ai(-1),p&&t.length>nt&&ph(e,t,nt,!1),Te(p?2:0,o),p)i.runInContext(n,r,o);else{const w=gn(null);try{n(r,o)}finally{gn(w)}}}finally{p&&null===t[po]&&fh(t,po),ai(u),Te(p?3:1,o)}}function Xl(e,t,n){if(ft(t)){const r=gn(null);try{const i=t.directiveEnd;for(let u=t.directiveStart;u<i;u++){const p=e.data[u];p.contentQueries&&p.contentQueries(1,n[u],u)}}finally{gn(r)}}}function eu(e,t,n){ws()&&(function tC(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;Hn(n)&&function cC(e,t,n){const r=Ot(t,e),o=bh(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const p=pc(e,hc(e,o,null,u,r,t,null,e[er].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Ba(n,t),Er(r,t);const u=n.initialInputs;for(let p=o;p<i;p++){const v=e.data[p],w=Di(t,e,p,n);Er(w,t),null!==u&&lC(0,p-o,w,v,0,u),dr(v)&&(yn(n.index,t)[Gt]=Di(t,e,p,n))}}(e,t,n,Ot(n,t)),64==(64&n.flags)&&Mh(e,t,n))}function tu(e,t,n=Ot){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const u=r[i+1],p=-1===u?n(t,e):e[u];e[o++]=p}}}function bh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function nu(e,t,n,r,o,i,u,p,v,w,R){const V=nt+r,ee=V+o,fe=function U_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:wt);return n}(V,ee),Ie="function"==typeof w?w():w;return fe[Ue]={type:e,blueprint:fe,template:n,queries:null,viewQuery:p,declTNode:t,data:fe.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:v,consts:Ie,incompleteFirstPass:!1,ssrId:R}}let Sh=e=>null;function Eh(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const i=e[o];null===r?wh(n,t,o,i):r.hasOwnProperty(o)&&wh(n,t,r[o],i)}return n}function wh(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function to(e,t,n,r,o,i,u,p){const v=Ot(t,n);let R,w=t.inputs;!p&&null!=w&&(R=w[r])?(au(e,n,R,r,o),Hn(t)&&function J_(e,t){const n=yn(t,e);16&n[ut]||(n[ut]|=64)}(n,t.index)):3&t.type&&(r=function K_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=u?u(o,t.value||"",r):o,i.setProperty(v,r,o))}function ru(e,t,n,r){if(ws()){const o=null===r?null:{"":-1},i=function rC(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const u=n[i];if(so(t,u.selectors,!1))if(r||(r=[]),dr(u))if(null!==u.findHostDirectiveDefs){const p=[];o=o||new Map,u.findHostDirectiveDefs(u,p,o),r.unshift(...p,u),ou(e,t,p.length)}else r.unshift(u),ou(e,t,0);else o=o||new Map,u.findHostDirectiveDefs?.(u,r,o),r.push(u)}return null===r?null:[r,o]}(e,n);let u,p;null===i?u=p=null:[u,p]=i,null!==u&&Th(e,t,n,u,o,p),o&&function oC(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new Oe(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=pr(n.mergedAttrs,n.attrs)}function Th(e,t,n,r,o,i){for(let w=0;w<r.length;w++)tl(Ba(n,t),e,r[w].type);!function sC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let w=0;w<r.length;w++){const R=r[w];R.providersResolver&&R.providersResolver(R)}let u=!1,p=!1,v=ta(e,t,r.length,null);for(let w=0;w<r.length;w++){const R=r[w];n.mergedAttrs=pr(n.mergedAttrs,R.hostAttrs),aC(e,n,t,v,R),iC(v,R,o),null!==R.contentQueries&&(n.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(n.flags|=64);const V=R.type.prototype;!u&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!p&&(V.ngOnChanges||V.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),v++}!function q_(e,t,n){const o=t.directiveEnd,i=e.data,u=t.attrs,p=[];let v=null,w=null;for(let R=t.directiveStart;R<o;R++){const V=i[R],ee=n?n.get(V):null,Ie=ee?ee.outputs:null;v=Eh(V.inputs,R,v,ee?ee.inputs:null),w=Eh(V.outputs,R,w,Ie);const Ne=null===v||null===u||gr(t)?null:uC(v,R,u);p.push(Ne)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=v,t.outputs=w}(e,n,i)}function Mh(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,u=function Ra(){return ht.lFrame.currentDirectiveIndex}();try{ai(i);for(let p=r;p<o;p++){const v=e.data[p],w=t[p];As(p),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&nC(v,w)}}finally{ai(-1),As(u)}}function nC(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ou(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function iC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;dr(t)&&(n[""]=e)}}function aC(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=G(o.type)),u=new Ns(i,dr(o),rs);e.blueprint[r]=u,n[r]=u,function X_(e,t,n,r,o){const i=o.hostBindings;if(i){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const p=~t.index;(function eC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=p&&u.push(p),u.push(n,r,i)}}(e,t,r,ta(e,n,o.hostVars,wt),o)}function Uo(e,t,n,r,o,i){const u=Ot(e,t);!function iu(e,t,n,r,o,i,u){if(null==i)e.removeAttribute(t,o,n);else{const p=null==u?ne(i):u(i,r||"",o);e.setAttribute(t,o,p,n)}}(t[ct],u,i,e.value,n,r,o)}function lC(e,t,n,r,o,i){const u=i[t];if(null!==u)for(let p=0;p<u.length;)Ih(r,n,u[p++],u[p++],u[p++])}function Ih(e,t,n,r,o){const i=gn(null);try{const u=e.inputTransforms;null!==u&&u.hasOwnProperty(r)&&(o=u[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{gn(i)}}function uC(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const u=e[i];for(let p=0;p<u.length;p+=2)if(u[p]===t){r.push(i,u[p+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Ah(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Rh(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const u=e.data[i];Ps(n[r]),u.contentQueries(2,t[i],i)}}}function pc(e,t){return e[Un]?e[_r][At]=t:e[Un]=t,e[_r]=t,t}function su(e,t,n){Ps(0);const r=gn(null);try{t(e,n)}finally{gn(r)}}function Ph(e){return e[Yn]||(e[Yn]=[])}function Oh(e){return e.cleanup||(e.cleanup=[])}function kh(e,t){const n=e[lr],r=n?n.get(ts,null):null;r&&r.handleError(t)}function au(e,t,n,r,o){for(let i=0;i<n.length;){const u=n[i++],p=n[i++];Ih(e.data[u],t[u],r,p,o)}}function ei(e,t,n){const r=vt(t,e);!function lf(e,t,n){e.setValue(t,n)}(e[ct],r,n)}function dC(e,t){const n=yn(t,e),r=n[Ue];!function fC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[Ce];null!==o&&null===n[wn]&&(n[wn]=qf(o,n[lr])),cu(r,n,n[Gt])}function cu(e,t,n){Os(t);try{const r=e.viewQuery;null!==r&&su(1,r,n);const o=e.template;null!==o&&Dh(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Rh(e,t),e.staticViewQueries&&su(2,e.viewQuery,n);const i=e.components;null!==i&&function hC(e,t){for(let n=0;n<t.length;n++)dC(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ut]&=-5,Na()}}let Nh=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const i=typeof Zone>"u"?null:Zone.current,u=new ba(n,w=>{this.all.has(w)&&this.queue.set(w,i)},o);let p;this.all.add(u),u.notify();const v=()=>{u.cleanup(),p?.(),this.all.delete(u),this.queue.delete(u)};return p=r?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=kt({token:e,providedIn:"root",factory:()=>new e}),e})();function gc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?i=p:1==i?o=he(o,p):2==i&&(r=he(r,p+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function na(e,t,n,r,o=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&r.push(at(i)),Yt(i)){for(let p=pn;p<i.length;p++){const v=i[p],w=v[Ue].firstChild;null!==w&&na(v[Ue],v,w,r)}i[An]!==i[Ce]&&r.push(i[An])}const u=n.type;if(8&u)na(e,t,n.child,r);else if(32&u){const p=gl(n,t);let v;for(;v=p();)r.push(v)}else if(16&u){const p=_f(t,n);if(Array.isArray(p))r.push(...p);else{const v=Us(t[sn]);na(v[Ue],v,p,r,!0)}}n=o?n.projectionNext:n.next}return r}function mc(e,t,n,r=!0){const o=t[er].rendererFactory;o.begin&&o.begin();try{Fh(e,t,e.template,n)}catch(u){throw r&&kh(t,u),u}finally{o.end&&o.end(),t[er].effectManager?.flush()}}function Fh(e,t,n,r){const o=t[ut];if(256!=(256&o)){t[er].effectManager?.flush(),Os(t);try{Ur(t),function Ia(e){return ht.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Dh(e,t,n,2,r);const u=3==(3&o);if(u){const w=e.preOrderCheckHooks;null!==w&&Lt(t,w,null)}else{const w=e.preOrderHooks;null!==w&&ir(t,w,0,null),Ci(t,0)}if(function vC(e){for(let t=sf(e);null!==t;t=af(t)){if(!t[qo])continue;const n=t[Kr];for(let r=0;r<n.length;r++){Gc(n[r])}}}(t),Lh(t,2),null!==e.contentQueries&&Rh(e,t),u){const w=e.contentCheckHooks;null!==w&&Lt(t,w)}else{const w=e.contentHooks;null!==w&&ir(t,w,1),Ci(t,1)}!function $_(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=dh(t,Mt);try{for(let o=0;o<n.length;o++){const i=n[o];if(i<0)ai(~i);else{const u=i,p=n[++o],v=n[++o];Dd(p,u),r.runInContext(v,2,t[u])}}}finally{null===t[Mt]&&fh(t,Mt),ai(-1)}}(e,t);const p=e.components;null!==p&&Bh(t,p,0);const v=e.viewQuery;if(null!==v&&su(2,v,r),u){const w=e.viewCheckHooks;null!==w&&Lt(t,w)}else{const w=e.viewHooks;null!==w&&ir(t,w,2),Ci(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[ut]&=-73,Ea(t)}finally{Na()}}}function Lh(e,t){for(let n=sf(e);null!==n;n=af(n))for(let r=pn;r<n.length;r++)Vh(n[r],t)}function _C(e,t,n){Vh(yn(t,e),n)}function Vh(e,t){if(!function Or(e){return 128==(128&e[ut])}(e))return;const n=e[Ue];if(80&e[ut]&&0===t||1024&e[ut]||2===t)Fh(n,e,n.template,e[Gt]);else if(e[Xn]>0){Lh(e,1);const o=e[Ue].components;null!==o&&Bh(e,o,1)}}function Bh(e,t,n){for(let r=0;r<t.length;r++)_C(e,t[r],n)}class ra{get rootNodes(){const t=this._lView,n=t[Ue];return na(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(t){this._lView[Gt]=t}get destroyed(){return 256==(256&this._lView[ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[st];if(Yt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(yl(t,r),$a(n,r))}this._attachedToViewContainer=!1}df(this._lView[Ue],this._lView)}onDestroy(t){!function Es(e,t){if(256==(256&e[ut]))throw new Oe(911,!1);null===e[tr]&&(e[tr]=[]),e[tr].push(t)}(this._lView,t)}markForCheck(){ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[ut]&=-129}reattach(){this._lView[ut]|=128}detectChanges(){mc(this._lView[Ue],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mv(e,t){Gs(e,t,t[ct],2,null,null)}(this._lView[Ue],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=t}}class CC extends ra{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;mc(t[Ue],t,t[Gt],!1)}checkNoChanges(){}get context(){return null}}class jh extends uc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Tt(t);return new oa(n,this.ngModule)}}function $h(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class bC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Cn(r);const o=this.injector.get(t,Kl,r);return o!==Kl||n===Kl?o:this.parentInjector.get(t,n,r)}}class oa extends Qf{get inputs(){return $h(this.componentDef.inputs)}get outputs(){return $h(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Sn(e){return e.map(bo).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let i=(o=o||this.ngModule)instanceof Ei?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const u=i?new bC(t,i):t,p=u.get(eh,null);if(null===p)throw new Oe(407,!1);const R={rendererFactory:p,sanitizer:u.get(T_,null),effectManager:u.get(Nh,null)},V=p.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",fe=r?function H_(e,t,n,r){const i=r.get(oh,!1)||n===Zn.ShadowDom,u=e.selectRootElement(t,i);return function G_(e){Sh(e)}(u),u}(V,r,this.componentDef.encapsulation,u):Ja(V,ee,function DC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ee)),Ge=this.componentDef.signals?4608:this.componentDef.onPush?576:528,et=nu(0,null,null,1,0,null,null,null,null,null,null),Re=hc(null,et,null,Ge,null,null,R,V,u,null,null);let Ct,xt;Os(Re);try{const $t=this.componentDef;let Tr,$c=null;$t.findHostDirectiveDefs?(Tr=[],$c=new Map,$t.findHostDirectiveDefs($t,Tr,$c),Tr.push($t)):Tr=[$t];const SE=function EC(e,t){const n=e[Ue],r=nt;return e[r]=t,os(n,r,2,"#host",null)}(Re,fe),EE=function wC(e,t,n,r,o,i,u){const p=o[Ue];!function TC(e,t,n,r){for(const o of e)t.mergedAttrs=pr(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(gc(t,t.mergedAttrs,!0),null!==n&&Sf(r,n,t))}(r,e,t,u);let v=null;null!==t&&(v=qf(t,o[lr]));const w=i.rendererFactory.createRenderer(t,n);let R=16;n.signals?R=4096:n.onPush&&(R=64);const V=hc(o,bh(n),null,R,o[e.index],e,i,w,null,null,v);return p.firstCreatePass&&ou(p,e,r.length-1),pc(o,V),o[e.index]=V}(SE,fe,$t,Tr,Re,R,V);xt=mn(et,nt),fe&&function IC(e,t,n,r){if(r)hr(e,n,["ng-version",M_.full]);else{const{attrs:o,classes:i}=function ao(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!hn(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&hr(e,n,o),i&&i.length>0&&bf(e,n,i.join(" "))}}(V,$t,fe,r),void 0!==n&&function AC(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(xt,this.ngContentSelectors,n),Ct=function MC(e,t,n,r,o,i){const u=qn(),p=o[Ue],v=Ot(u,o);Th(p,o,u,n,null,r);for(let R=0;R<n.length;R++)Er(Di(o,p,u.directiveStart+R,u),o);Mh(p,o,u),v&&Er(v,o);const w=Di(o,p,u.directiveStart+u.componentOffset,u);if(e[Gt]=o[Gt]=w,null!==i)for(const R of i)R(w,t);return Xl(p,u,e),w}(EE,$t,Tr,$c,Re,[RC]),cu(et,Re,null)}finally{Na()}return new SC(this.componentType,Ct,es(xt,Re),Re,xt)}}class SC extends __{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new CC(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;au(i[Ue],i,o,t,n),this.previousInputValues.set(t,n),ea(yn(this._tNode.index,i))}}get injector(){return new Hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function RC(){const e=qn();Xe(xe()[Ue],e)}function lu(e){let t=function Uh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(dr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Oe(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const u=e;u.inputs=yc(e.inputs),u.inputTransforms=yc(e.inputTransforms),u.declaredInputs=yc(e.declaredInputs),u.outputs=yc(e.outputs);const p=o.hostBindings;p&&kC(e,p);const v=o.viewQuery,w=o.contentQueries;if(v&&OC(e,v),w&&xC(e,w),ge(e.inputs,o.inputs),ge(e.declaredInputs,o.declaredInputs),ge(e.outputs,o.outputs),null!==o.inputTransforms&&(null===u.inputTransforms&&(u.inputTransforms={}),ge(u.inputTransforms,o.inputTransforms)),dr(o)&&o.data.animation){const R=e.data;R.animation=(R.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let u=0;u<i.length;u++){const p=i[u];p&&p.ngInherit&&p(e),p===lu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function PC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=pr(o.hostAttrs,n=pr(n,o.hostAttrs))}}(r)}function yc(e){return e===Ln?{}:e===bt?[]:e}function OC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function xC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function kC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function Wh(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[2]&&(n[r]=o[2])}e.inputTransforms=n}function vc(e){return!!uu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function uu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function wr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function du(e,t,n,r){const o=xe();return wr(o,_i(),t)&&(jt(),Uo(f(),o,e,t,n,r)),du}function ss(e,t,n,r){return wr(e,_i(),n)?t+ne(n)+r:wt}function as(e,t,n,r,o,i){const p=function wi(e,t,n,r){const o=wr(e,t,n);return wr(e,t+1,r)||o}(e,function vo(){return ht.lFrame.bindingIndex}(),n,o);return Bo(2),p?t+ne(n)+r+ne(o)+i:wt}function ip(e,t,n,r,o,i,u,p){const v=xe(),w=jt(),R=e+nt,V=w.firstCreatePass?function iD(e,t,n,r,o,i,u,p,v){const w=t.consts,R=os(t,e,4,u||null,or(w,p));ru(t,n,R,or(w,v)),Xe(t,R);const V=R.tView=nu(2,R,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,w,null);return null!==t.queries&&(t.queries.template(t,R),V.queries=t.queries.embeddedTView(R)),R}(R,w,v,t,n,r,o,i,u):w.data[R];Io(V,!1);const ee=sp(w,v,V,e);ce()&&Xa(w,v,ee,V),Er(ee,v),pc(v,v[R]=Ah(ee,v,ee,V)),Ko(V)&&eu(w,v,V),null!=u&&tu(v,V,p)}let sp=function ap(e,t,n,r){return Me(!0),t[ct].createComment("")};function yu(e,t,n){const r=xe();return wr(r,_i(),t)&&to(jt(),f(),r,e,t,r[ct],n,!1),yu}function vu(e,t,n,r,o){const u=o?"class":"style";au(e,n,t.inputs[u],u,r)}function Sc(e,t,n,r){const o=xe(),i=jt(),u=nt+e,p=o[ct],v=i.firstCreatePass?function uD(e,t,n,r,o,i){const u=t.consts,v=os(t,e,2,r,or(u,o));return ru(t,n,v,or(u,i)),null!==v.attrs&&gc(v,v.attrs,!1),null!==v.mergedAttrs&&gc(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(u,i,o,t,n,r):i.data[u],w=cp(i,o,v,p,t,e);o[u]=w;const R=Ko(v);return Io(v,!0),Sf(p,w,v),32!=(32&v.flags)&&ce()&&Xa(i,o,w,v),0===function xr(){return ht.lFrame.elementDepthCount}()&&Er(w,o),function Wc(){ht.lFrame.elementDepthCount++}(),R&&(eu(i,o,v),Xl(i,v,o)),null!==r&&tu(o,v),Sc}function Ec(){let e=qn();$i()?function Ui(){ht.lFrame.isParent=!1}():(e=e.parent,Io(e,!1));const t=e;(function Ta(e){return ht.skipHydrationRootTNode===e})(t)&&function Ts(){ht.skipHydrationRootTNode=null}(),function Bi(){ht.lFrame.elementDepthCount--}();const n=jt();return n.firstCreatePass&&(Xe(n,e),ft(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function yy(e){return 0!=(8&e.flags)}(t)&&vu(n,t,xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vy(e){return 0!=(16&e.flags)}(t)&&vu(n,t,xe(),t.stylesWithoutHost,!1),Ec}function _u(e,t,n,r){return Sc(e,t,n,r),Ec(),_u}let cp=(e,t,n,r,o,i)=>(Me(!0),Ja(r,o,function k(){return ht.lFrame.currentNamespace}()));function dp(){return xe()}function bu(e){return!!e&&"function"==typeof e.then}function fp(e){return!!e&&"function"==typeof e.subscribe}function Su(e,t,n,r){const o=xe(),i=jt(),u=qn();return function pp(e,t,n,r,o,i,u){const p=Ko(r),w=e.firstCreatePass&&Oh(e),R=t[Gt],V=Ph(t);let ee=!0;if(3&r.type||u){const Ne=Ot(r,t),Ge=u?u(Ne):Ne,et=V.length,Re=u?xt=>u(at(xt[r.index])):r.index;let Ct=null;if(!u&&p&&(Ct=function mD(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const u=o[i];if(u===n&&o[i+1]===r){const p=t[Yn],v=o[i+2];return p.length>v?p[v]:null}"string"==typeof u&&(i+=2)}return null}(e,t,o,r.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=i,Ct.__ngLastListenerFn__=i,ee=!1;else{i=mp(r,t,R,i,!1);const xt=n.listen(Ge,o,i);V.push(i,xt),w&&w.push(o,Re,et,et+1)}}else i=mp(r,t,R,i,!1);const fe=r.outputs;let Ie;if(ee&&null!==fe&&(Ie=fe[o])){const Ne=Ie.length;if(Ne)for(let Ge=0;Ge<Ne;Ge+=2){const $t=t[Ie[Ge]][Ie[Ge+1]].subscribe(i),Tr=V.length;V.push(i,$t),w&&w.push(o,r.index,Tr,-(Tr+1))}}}(i,o,o[ct],u,e,t,r),Su}function gp(e,t,n,r){try{return Te(6,t,n),!1!==n(r)}catch(o){return kh(e,o),!1}finally{Te(7,t,n)}}function mp(e,t,n,r,o){return function i(u){if(u===Function)return r;ea(e.componentOffset>-1?yn(e.index,t):t);let v=gp(t,n,r,u),w=i.__ngNextListenerFn__;for(;w;)v=gp(t,n,w,u)&&v,w=w.__ngNextListenerFn__;return o&&!1===v&&u.preventDefault(),v}}function yp(e=1){return function bd(e){return(ht.lFrame.contextLView=function Sd(e,t){for(;e>0;)t=t[Cr],e--;return t}(e,ht.lFrame.contextLView))[Gt]}(e)}function wc(e,t,n,r,o){const i=xe(),u=ss(i,t,n,r);return u!==wt&&to(jt(),f(),i,e,u,i[ct],o,!1),wc}function Tc(e,t){return e<<17|t<<2}function fi(e){return e>>17&32767}function Eu(e){return 2|e}function Ti(e){return(131068&e)>>2}function wu(e,t){return-131069&e|t<<2}function Tu(e){return 1|e}function Mp(e,t,n,r,o){const i=e[n+1],u=null===t;let p=r?fi(i):Ti(i),v=!1;for(;0!==p&&(!1===v||u);){const R=e[p+1];wD(e[p],t)&&(v=!0,e[p+1]=r?Tu(R):Eu(R)),p=r?fi(R):Ti(R)}v&&(e[n+1]=r?Eu(i):Tu(i))}function wD(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Yi(e,t)>=0}const Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ip(e){return e.substring(Jn.key,Jn.keyEnd)}function TD(e){return e.substring(Jn.value,Jn.valueEnd)}function Rp(e,t){const n=Jn.textEnd;let r=Jn.key=ps(e,t,n);return n===r?-1:(r=Jn.keyEnd=function RD(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Op(e,r,n),r=Jn.value=ps(e,r,n),r=Jn.valueEnd=function PD(e,t,n){let r=-1,o=-1,i=-1,u=t,p=u;for(;u<n;){const v=e.charCodeAt(u++);if(59===v)return p;34===v||39===v?p=u=xp(e,v,u,n):t===u-4&&85===i&&82===o&&76===r&&40===v?p=u=xp(e,41,u,n):v>32&&(p=u),i=o,o=r,r=-33&v}return p}(e,r,n),Op(e,r,n))}function ps(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Op(e,t,n,r){return(t=ps(e,t,n))<n&&t++,t}function xp(e,t,n,r){let o=-1,i=n;for(;i<r;){const u=e.charCodeAt(i++);if(u==t&&92!==o)return i;o=92==u&&92===o?0:u}throw new Error}function Mu(e,t){return function Ro(e,t,n,r){const o=xe(),i=jt(),u=Bo(2);i.firstUpdatePass&&Fp(i,e,u,r),t!==wt&&wr(o,u,t)&&Vp(i,i.data[Sr()],o,o[ct],e,o[u+1]=function $D(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=H(ui(e)))),e}(t,n),r,u)}(e,t,null,!0),Mu}function Go(e){!function Po(e,t,n,r){const o=jt(),i=Bo(2);o.firstUpdatePass&&Fp(o,null,i,r);const u=xe();if(n!==wt&&wr(u,i,n)){const p=o.data[Sr()];if(jp(p,r)&&!Np(o,i)){let v=r?p.classesWithoutHost:p.stylesWithoutHost;null!==v&&(n=he(v,n||"")),vu(o,p,u,n,r)}else!function jD(e,t,n,r,o,i,u,p){o===wt&&(o=bt);let v=0,w=0,R=0<o.length?o[0]:null,V=0<i.length?i[0]:null;for(;null!==R||null!==V;){const ee=v<o.length?o[v+1]:void 0,fe=w<i.length?i[w+1]:void 0;let Ne,Ie=null;R===V?(v+=2,w+=2,ee!==fe&&(Ie=V,Ne=fe)):null===V||null!==R&&R<V?(v+=2,Ie=R):(w+=2,Ie=V,Ne=fe),null!==Ie&&Vp(e,t,n,r,Ie,Ne,u,p),R=v<o.length?o[v]:null,V=w<i.length?i[w]:null}}(o,p,u,u[ct],u[i+1],u[i+1]=function VD(e,t,n){if(null==n||""===n)return bt;const r=[],o=ui(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if("object"==typeof o)for(const i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,i)}}(Lp,OD,e,!1)}function OD(e,t){for(let n=function ID(e){return function Pp(e){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=e.length}(e),Rp(e,ps(e,0,Jn.textEnd))}(t);n>=0;n=Rp(t,n))Lp(e,Ip(t),TD(t))}function Np(e,t){return t>=e.expandoStartIndex}function Fp(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[Sr()],u=Np(e,n);jp(i,r)&&null===t&&!u&&(t=!1),t=function kD(e,t,n,r){const o=function Rs(e){const t=ht.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=la(n=Iu(null,e,t,n,r),t.attrs,r),i=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==o)if(n=Iu(o,e,t,n,r),null===i){let v=function ND(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ti(r))return e[fi(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Iu(null,e,t,v[1],r),v=la(v,t.attrs,r),function FD(e,t,n,r){e[fi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else i=function LD(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=la(r,e[i].hostAttrs,n);return la(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function SD(e,t,n,r,o,i){let u=i?t.classBindings:t.styleBindings,p=fi(u),v=Ti(u);e[r]=n;let R,w=!1;if(Array.isArray(n)?(R=n[1],(null===R||Yi(n,R)>0)&&(w=!0)):R=n,o)if(0!==v){const ee=fi(e[p+1]);e[r+1]=Tc(ee,p),0!==ee&&(e[ee+1]=wu(e[ee+1],r)),e[p+1]=function DD(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=Tc(p,0),0!==p&&(e[p+1]=wu(e[p+1],r)),p=r;else e[r+1]=Tc(v,0),0===p?p=r:e[v+1]=wu(e[v+1],r),v=r;w&&(e[r+1]=Eu(e[r+1])),Mp(e,R,r,!0),Mp(e,R,r,!1),function ED(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Yi(i,t)>=0&&(n[r+1]=Tu(n[r+1]))}(t,R,e,r,i),u=Tc(p,v),i?t.classBindings=u:t.styleBindings=u}(o,i,t,n,u,r)}}function Iu(e,t,n,r,o){let i=null;const u=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<u&&(i=t[p],r=la(r,i.hostAttrs,o),i!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function la(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const u=t[i];"number"==typeof u?o=u:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),eo(e,u,!!n||t[++i]))}return void 0===e?null:e}function Lp(e,t,n){eo(e,t,ui(n))}function Vp(e,t,n,r,o,i,u,p){if(!(3&t.type))return;const v=e.data,w=v[p+1],R=function bD(e){return 1==(1&e)}(w)?Bp(v,t,n,o,Ti(w),u):void 0;Mc(R)||(Mc(i)||function CD(e){return 2==(2&e)}(w)&&(i=Bp(v,null,n,o,p,u)),function Tv(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:$o.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=$o.Important),e.setStyle(n,r,o,i))}}(r,u,vt(Sr(),n),o,i))}function Bp(e,t,n,r,o,i){const u=null===t;let p;for(;o>0;){const v=e[o],w=Array.isArray(v),R=w?v[1]:v,V=null===R;let ee=n[o+1];ee===wt&&(ee=V?bt:void 0);let fe=V?il(ee,r):R===r?ee:void 0;if(w&&!Mc(fe)&&(fe=il(v,r)),Mc(fe)&&(p=fe,u))return p;const Ie=e[o+1];o=u?fi(Ie):Ti(Ie)}if(null!==t){let v=i?t.residualClasses:t.residualStyles;null!=v&&(p=il(v,r))}return p}function Mc(e){return void 0!==e}function jp(e,t){return 0!=(e.flags&(t?8:16))}function $p(e,t=""){const n=xe(),r=jt(),o=e+nt,i=r.firstCreatePass?os(r,o,1,t,null):r.data[o],u=Up(r,n,i,t,e);n[o]=u,ce()&&Xa(r,n,u,i),Io(i,!1)}let Up=(e,t,n,r,o)=>(Me(!0),function Ka(e,t){return e.createText(t)}(t[ct],r));function Au(e){return Ic("",e,""),Au}function Ic(e,t,n){const r=xe(),o=ss(r,e,t,n);return o!==wt&&ei(r,Sr(),o),Ic}function Ru(e,t,n,r,o){const i=xe(),u=as(i,e,t,n,r,o);return u!==wt&&ei(i,Sr(),u),Ru}function Kp(e,t,n){Go(ss(xe(),e,t,n))}const Mi=void 0;var cb=["en",[["a","p"],["AM","PM"],Mi],[["AM","PM"],Mi,Mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mi,"{1} 'at' {0}",Mi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ab(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let gs={};function Pu(e){const t=function lb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=lg(t);if(n)return n;const r=t.split("-")[0];if(n=lg(r),n)return n;if("en"===r)return cb;throw new Oe(701,!1)}function cg(e){return Pu(e)[dt.PluralCase]}function lg(e){return e in gs||(gs[e]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[e]),gs[e]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const ms="en-US";let ug=ms;function ku(e,t,n,r,o){if(e=te(e),Array.isArray(e))for(let i=0;i<e.length;i++)ku(e[i],t,n,r,o);else{const i=jt(),u=xe();let p=Si(e)?e:te(e.provide),v=Gf(e);const w=qn(),R=1048575&w.providerIndexes,V=w.directiveStart,ee=w.providerIndexes>>20;if(Si(e)||!e.multi){const fe=new Ns(v,o,rs),Ie=Fu(p,t,o?R:R+ee,V);-1===Ie?(tl(Ba(w,u),i,p),Nu(i,e,t.length),t.push(p),w.directiveStart++,w.directiveEnd++,o&&(w.providerIndexes+=1048576),n.push(fe),u.push(fe)):(n[Ie]=fe,u[Ie]=fe)}else{const fe=Fu(p,t,R+ee,V),Ie=Fu(p,t,R,R+ee),Ge=Ie>=0&&n[Ie];if(o&&!Ge||!o&&!(fe>=0&&n[fe])){tl(Ba(w,u),i,p);const et=function a0(e,t,n,r,o){const i=new Ns(e,n,rs);return i.multi=[],i.index=t,i.componentProviders=0,Ng(i,o,r&&!n),i}(o?s0:o0,n.length,o,r,v);!o&&Ge&&(n[Ie].providerFactory=et),Nu(i,e,t.length,0),t.push(p),w.directiveStart++,w.directiveEnd++,o&&(w.providerIndexes+=1048576),n.push(et),u.push(et)}else Nu(i,e,fe>-1?fe:Ie,Ng(n[o?Ie:fe],v,!o&&r));!o&&r&&Ge&&n[Ie].componentProviders++}}}function Nu(e,t,n,r){const o=Si(t),i=function n_(e){return!!e.useClass}(t);if(o||i){const v=(i?te(t.useClass):t).prototype.ngOnDestroy;if(v){const w=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const R=w.indexOf(n);-1===R?w.push(n,[r,v]):w[R+1].push(r,v)}else w.push(n,v)}}}function Ng(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Fu(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function o0(e,t,n,r){return Lu(this.multi,[])}function s0(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const u=this.providerFactory.componentProviders,p=Di(n,n[Ue],this.providerFactory.index,r);i=p.slice(0,u),Lu(o,i);for(let v=u;v<p.length;v++)i.push(p[v])}else i=[],Lu(o,i);return i}function Lu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Fg(e,t=[]){return n=>{n.providersResolver=(r,o)=>function r0(e,t,n){const r=jt();if(r.firstCreatePass){const o=dr(e);ku(n,r.data,r.blueprint,o,!0),ku(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class ys{}class Lg{}function c0(e,t){return new Vu(e,t??null,[])}class Vu extends ys{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jh(this);const o=Ft(t);this._bootstrapComponents=Xo(o.bootstrap),this._r3Injector=_h(t,n,[{provide:ys,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...r],H(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Bu extends Lg{constructor(t){super(),this.moduleType=t}create(t){return new Vu(this.moduleType,t,[])}}class Vg extends ys{constructor(t){super(),this.componentFactoryResolver=new jh(this),this.instance=null;const n=new Fl([...t.providers,{provide:ys,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],t.parent||ic(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Bg(e,t,n=null){return new Vg({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let u0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=jf(0,n.type),o=r.length>0?Bg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=kt({token:e,providedIn:"environment",factory:()=>new e(lt(Ei))}),e})();function jg(e){e.getStandaloneInjector=t=>t.get(u0).getOrCreateStandaloneInjector(e)}function $u(e){return t=>{setTimeout(e,void 0,t)}}const Wo=class F0 extends c.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,i=n||(()=>null),u=r;if(t&&"object"==typeof t){const v=t;o=v.next?.bind(v),i=v.error?.bind(v),u=v.complete?.bind(v)}this.__isAsync&&(i=$u(i),o&&(o=$u(o)),u&&(u=$u(u)));const p=super.subscribe({next:o,error:i,complete:u});return t instanceof F.w0&&t.add(p),p}};function L0(){return this._results[Symbol.iterator]()}class Uu{get changes(){return this._changes||(this._changes=new Wo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Uu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=L0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function _o(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ay(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ya=(()=>{class e{}return e.__NG_ELEMENT_ID__=j0,e})();const V0=ya,B0=class extends V0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const u=this._declarationTContainer.tView,p=hc(this._declarationLView,u,t,4096&this._declarationLView[ut]?4096:16,null,u.declTNode,null,null,null,n||null,r||null);p[ho]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[Vn];return null!==w&&(p[Vn]=w.createEmbeddedView(u)),cu(u,p,t),new ra(p)}};function j0(){return xc(qn(),xe())}function xc(e,t){return 4&e.type?new B0(t,e,es(e,t)):null}let kc=(()=>{class e{}return e.__NG_ELEMENT_ID__=Z0,e})();function Z0(){return rm(qn(),xe())}const Y0=kc,tm=class extends Y0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return es(this._hostTNode,this._hostLView)}get injector(){return new Hi(this._hostTNode,this._hostLView)}get parentInjector(){const t=el(this._hostTNode,this._hostLView);if(Ed(t)){const n=La(t,this._hostLView),r=Fa(t);return new Hi(n[Ue].data[r+8],n)}return new Hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=nm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const p=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(p,o,false),p}createComponent(t,n,r,o,i){const u=t&&!function Ls(e){return"function"==typeof e}(t);let p;if(u)p=n;else{const Ne=n||{};p=Ne.index,r=Ne.injector,o=Ne.projectableNodes,i=Ne.environmentInjector||Ne.ngModuleRef}const v=u?t:new oa(Tt(t)),w=r||this.parentInjector;if(!i&&null==v.ngModule){const Ge=(u?w:this.parentInjector).get(Ei,null);Ge&&(i=Ge)}Tt(v.componentType??{});const fe=v.create(w,o,null,i);return this.insertImpl(fe.hostView,p,false),fe}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView,i=o[Ue];if(function Mo(e){return Yt(e[st])}(o)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const w=o[st],R=new tm(w,w[un],w[st]);R.detach(R.indexOf(t))}}const u=this._adjustIndex(n),p=this._lContainer;if(function vv(e,t,n,r){const o=pn+r,i=n.length;r>0&&(n[o-1][At]=t),r<i-pn?(t[At]=n[o],Ld(n,pn+r,t)):(n.push(t),t[At]=null),t[st]=n;const u=t[ho];null!==u&&n!==u&&function _v(e,t){const n=e[Kr];t[sn]!==t[st][st][sn]&&(e[qo]=!0),null===n?e[Kr]=[t]:n.push(t)}(u,t);const p=t[Vn];null!==p&&p.insertView(e),t[ut]|=128}(i,o,p,u),!r){const v=Dl(u,p),w=o[ct],R=Qa(w,p[An]);null!==R&&function gv(e,t,n,r,o,i){r[Ce]=o,r[un]=t,Gs(e,r,n,1,o,i)}(i,p[un],w,o,R,v)}return t.attachToViewContainerRef(),Ld(Gu(p),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=nm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);r&&($a(Gu(this._lContainer),n),df(r[Ue],r))}detach(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);return r&&null!=$a(Gu(this._lContainer),n)?new ra(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function nm(e){return e[8]}function Gu(e){return e[8]||(e[8]=[])}function rm(e,t){let n;const r=t[e.index];return Yt(r)?n=r:(n=Ah(r,t,null,e),t[e.index]=n,pc(t,n)),om(n,t,e,r),new tm(n,e,t)}let om=function im(e,t,n,r){if(e[An])return;let o;o=8&n.type?at(r):function q0(e,t){const n=e[ct],r=n.createComment(""),o=Ot(t,e);return bi(n,Qa(n,o),r,function Sv(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[An]=o};class zu{constructor(t){this.queryList=t,this.matches=null}clone(){return new zu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const u=n.getByIndex(i);o.push(this.queries[u.indexInDeclarationView].clone())}return new Wu(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==hm(t,n).matches&&this.queries[n].setDirty()}}class sm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Zu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Zu(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Yu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Yu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,Q0(n,i)),this.matchTNodeWithReadOption(t,n,ja(n,t,i,!1,!1))}else r===ya?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ja(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Xs||o===kc||o===ya&&4&n.type)this.addMatch(n.index,-2);else{const i=ja(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Q0(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function eS(e,t,n,r){return-1===n?function X0(e,t){return 11&e.type?es(e,t):4&e.type?xc(e,t):null}(t,e):-2===n?function tS(e,t,n){return n===Xs?es(t,e):n===ya?xc(t,e):n===kc?rm(t,e):void 0}(e,t,r):Di(e,e[Ue],n,t)}function am(e,t,n,r){const o=t[Vn].queries[r];if(null===o.matches){const i=e.data,u=n.matches,p=[];for(let v=0;v<u.length;v+=2){const w=u[v];p.push(w<0?null:eS(t,i[w],u[v+1],n.metadata.read))}o.matches=p}return o.matches}function qu(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const u=am(e,t,o,n);for(let p=0;p<i.length;p+=2){const v=i[p];if(v>0)r.push(u[p/2]);else{const w=i[p+1],R=t[-v];for(let V=pn;V<R.length;V++){const ee=R[V];ee[ho]===ee[st]&&qu(ee[Ue],ee,w,r)}if(null!==R[Kr]){const V=R[Kr];for(let ee=0;ee<V.length;ee++){const fe=V[ee];qu(fe[Ue],fe,w,r)}}}}}return r}function cm(e){const t=xe(),n=jt(),r=Pa();Ps(r+1);const o=hm(n,r);if(e.dirty&&function Vo(e){return 4==(4&e[ut])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?qu(n,t,r,[]):am(n,t,o,r);e.reset(i,S_),e.notifyOnChanges()}return!0}return!1}function lm(e,t,n,r){const o=jt();if(o.firstCreatePass){const i=qn();(function fm(e,t,n){null===e.queries&&(e.queries=new Zu),e.queries.track(new Yu(t,n))})(o,new sm(t,n,r),i.index),function oS(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}!function dm(e,t,n){const r=new Uu(4==(4&n));(function Z_(e,t,n,r){const o=Ph(t);o.push(n),e.firstCreatePass&&Oh(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[Vn]&&(t[Vn]=new Wu),t[Vn].queries.push(new zu(r))}(o,xe(),n)}function um(){return function rS(e,t){return e[Vn].queries[t].queryList}(xe(),Pa())}function hm(e,t){return e.queries.getByIndex(t)}function Ku(e){return!!Ft(e)}const Rm=new rn("Application Initializer");let td=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=mt(Rm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(bu(i))n.push(i);else if(fp(i)){const u=new Promise((p,v)=>{i.subscribe({complete:p,error:v})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Pm=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Fc=new rn("LocaleId",{providedIn:"root",factory:()=>mt(Fc,He.Optional|He.SkipSelf)||function TS(){return typeof $localize<"u"&&$localize.locale||ms}()}),MS=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Om=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Q.X(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class IS{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let AS=(()=>{class e{compileModuleSync(n){return new Bu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=Xo(Ft(n).declarations).reduce((u,p)=>{const v=Tt(p);return v&&u.push(new oa(v)),u},[]);return new IS(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Nm(...e){}class Nr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function OS(){let e=Xt.requestAnimationFrame,t=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function NS(e){const t=()=>{!function kS(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,rd(e),e.isCheckStableRunning=!0,nd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),rd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,u,p)=>{try{return Fm(e),n.invokeTask(o,i,u,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Lm(e)}},onInvoke:(n,r,o,i,u,p,v)=>{try{return Fm(e),n.invoke(o,i,u,p,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),Lm(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,rd(e),nd(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nr.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(Nr.isInAngularZone())throw new Oe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,u=i.scheduleEventTask("NgZoneEvent: "+o,t,xS,Nm,Nm);try{return i.runTask(u,n,r)}finally{i.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const xS={};function nd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Fm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Lm(e){e._nesting--,nd(e)}class FS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Vm=new rn("",{providedIn:"root",factory:Bm});function Bm(){const e=mt(Nr);let t=!0;return function X(...e){const t=(0,j.yG)(e),n=(0,j._6)(e,1/0),r=e;return r.length?1===r.length?(0,pe.Xf)(r[0]):(0,q.J)(n)((0,L.D)(r,t)):A.E}(new K.y(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new K.y(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{Nr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const u=e.onUnstable.subscribe(()=>{Nr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),u.unsubscribe()}}).pipe(ye()))}const jm=new rn(""),$m=new rn("");let od,LS=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,od||(function VS(e){od=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(lt(Nr),lt(Um),lt($m))},e.\u0275prov=kt({token:e,factory:e.\u0275fac}),e})(),Um=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return od?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),hi=null;const Hm=new rn("AllowMultipleToken"),id=new rn("PlatformDestroyListeners"),sd=new rn("appBootstrapListener");class $S{constructor(t,n){this.name=t,this.token=n}}function Wm(e,t,n=[]){const r=`Platform: ${t}`,o=new rn(r);return(i=[])=>{let u=ad();if(!u||u.injector.get(Hm,!1)){const p=[...n,...i,{provide:o,useValue:!0}];e?e(p):function US(e){if(hi&&!hi.get(Hm,!1))throw new Oe(400,!1);(function Gm(){!function bs(e){Ni=e}(()=>{throw new Oe(600,!1)})})(),hi=e;const t=e.get(Ym);(function zm(e){e.get(Wf,null)?.forEach(n=>n())})(e)}(function Zm(e=[],t){return di.create({name:t,providers:[{provide:kl,useValue:"platform"},{provide:id,useValue:new Set([()=>hi=null])},...e]})}(p,r))}return function GS(e){const t=ad();if(!t)throw new Oe(401,!1);return t}()}}function ad(){return hi?.get(Ym)??null}let Ym=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function zS(e="zone.js",t){return"noop"===e?new FS:"zone.js"===e?new Nr(t):e}(r?.ngZone,function qm(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const i=function l0(e,t,n){return new Vu(e,t,n)}(n.moduleType,this.injector,function ey(e){return[{provide:Nr,useFactory:e},{provide:qs,multi:!0,useFactory:()=>{const t=mt(ZS,{optional:!0});return()=>t.initialize()}},{provide:Xm,useFactory:WS},{provide:Vm,useFactory:Bm}]}(()=>o)),u=i.injector.get(ts,null);return o.runOutsideAngular(()=>{const p=o.onError.subscribe({next:v=>{u.handleError(v)}});i.onDestroy(()=>{Lc(this._modules,i),p.unsubscribe()})}),function Km(e,t,n){try{const r=n();return bu(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,o,()=>{const p=i.injector.get(td);return p.runInitializers(),p.donePromise.then(()=>(function dg(e){dn(e,"Expected localeId to be defined"),"string"==typeof e&&(ug=e.toLowerCase().replace(/_/g,"-"))}(i.injector.get(Fc,ms)||ms),this._moduleDoBootstrap(i),i))})})}bootstrapModule(n,r=[]){const o=Jm({},r);return function BS(e,t,n){const r=new Bu(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(n){const r=n.injector.get(Cs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Oe(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(id,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(lt(di))},e.\u0275prov=kt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Jm(e,t){return Array.isArray(t)?t.reduce(Jm,e):{...e,...t}}let Cs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mt(Xm),this.zoneIsStable=mt(Vm),this.componentTypes=[],this.components=[],this.isStable=mt(Om).hasPendingTasks.pipe((0,ze.w)(n=>n?(0,se.of)(!1):this.zoneIsStable),function _e(e,t=B.y){return e=e??ve,(0,Fe.e)((n,r)=>{let o,i=!0;n.subscribe((0,Y.x)(r,u=>{const p=t(u);(i||!e(o,p))&&(i=!1,o=p,r.next(u))}))})}(),ye()),this._injector=mt(Ei)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Qf;if(!this._injector.get(td).done)throw!o&&mr(n),new Oe(405,!1);let u;u=o?n:this._injector.get(uc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const p=function jS(e){return e.isBoundToModule}(u)?void 0:this._injector.get(ys),w=u.create(di.NULL,[],r||u.selector,p),R=w.location.nativeElement,V=w.injector.get(jm,null);return V?.registerApplication(R),w.onDestroy(()=>{this.detachView(w.hostView),Lc(this.components,w),V?.unregisterApplication(R)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Lc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(sd,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Oe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xm=new rn("",{providedIn:"root",factory:()=>mt(ts).handleError.bind(void 0)});function WS(){const e=mt(Nr),t=mt(ts);return n=>e.runOutsideAngular(()=>t.handleError(n))}let ZS=(()=>{class e{constructor(){this.zone=mt(Nr),this.applicationRef=mt(Cs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let qS=(()=>{class e{}return e.__NG_ELEMENT_ID__=KS,e})();function KS(e){return function JS(e,t,n){if(Hn(e)&&!n){const r=yn(e.index,t);return new ra(r,r)}return 47&e.type?new ra(t[sn],t):null}(qn(),xe(),16==(16&e))}class oy{constructor(){}supports(t){return vc(t)}create(t){return new rE(t)}}const nE=(e,t)=>t;class rE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nE}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const u=!r||n&&n.currentIndex<sy(r,o,i)?n:r,p=sy(u,o,i),v=u.currentIndex;if(u===r)o--,r=r._nextRemoved;else if(n=n._next,null==u.previousIndex)o++;else{i||(i=[]);const w=p-o,R=v-o;if(w!=R){for(let ee=0;ee<w;ee++){const fe=ee<i.length?i[ee]:i[ee]=0,Ie=fe+ee;R<=Ie&&Ie<w&&(i[ee]=fe+1)}i[u.previousIndex]=R-w}}p!==v&&t(u,p,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!vc(t))throw new Oe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,u,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)i=t[p],u=this._trackByFn(p,i),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,i,u,p)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,u,p),r=!0),n=n._next}else o=0,function $C(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,p=>{u=this._trackByFn(o,p),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,p,u,o)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,u,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new oE(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new iy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oE{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class iy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new iE,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sy(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class ay{constructor(){}supports(t){return t instanceof Map||uu(t)}create(){return new sE}}class sE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||uu(t)))throw new Oe(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const i=o._prev,u=o._next;return i&&(i._next=u),u&&(u._prev=i),o._next=null,o._prev=null,o}const r=new aE(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class aE{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cy(){return new fd([new oy])}let fd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||cy()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Oe(901,!1)}}return e.\u0275prov=kt({token:e,providedIn:"root",factory:cy}),e})();function ly(){return new hd([new ay])}let hd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ly()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Oe(901,!1)}}return e.\u0275prov=kt({token:e,providedIn:"root",factory:ly}),e})();const uE=Wm(null,"core",[]);let dE=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(lt(Cs))},e.\u0275mod=lo({type:e}),e.\u0275inj=qe({}),e})();function CE(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function bE(e){const t=Tt(e);if(!t)return null;const n=new oa(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},95:(tt,J,M)=>{"use strict";M.d(J,{Wl:()=>B,Fj:()=>re,NI:()=>On,u:()=>Gt,cw:()=>lt,sg:()=>Ue,u5:()=>Bt,JJ:()=>qe,JL:()=>ot,YN:()=>_r,eT:()=>$r,UX:()=>oi,Q7:()=>An,EJ:()=>Un,_Y:()=>uo,Kr:()=>Pr});var c=M(4946),F=M(6814),Q=M(7715),K=M(5592),q=M(7453),pe=M(4829),A=M(4564),j=M(8251),L=M(7400),X=M(2714),De=M(7398);let Fe=(()=>{class E{constructor(C,a){this._renderer=C,this._elementRef=a,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(C,a){this._renderer.setProperty(this._elementRef.nativeElement,C,a)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return E.\u0275fac=function(C){return new(C||E)(c.Y36(c.Qsj),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E}),E})(),ye=(()=>{class E extends Fe{}return E.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(E)))(a||E)}}(),E.\u0275dir=c.lG2({type:E,features:[c.qOj]}),E})();const Le=new c.OlP("NgValueAccessor"),ze={provide:Le,useExisting:(0,c.Gpc)(()=>B),multi:!0};let B=(()=>{class E extends ye{writeValue(C){this.setProperty("checked",C)}}return E.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(E)))(a||E)}}(),E.\u0275dir=c.lG2({type:E,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(C,a){1&C&&c.NdJ("change",function(l){return a.onChange(l.target.checked)})("blur",function(){return a.onTouched()})},features:[c._Bn([ze]),c.qOj]}),E})();const Y={provide:Le,useExisting:(0,c.Gpc)(()=>re),multi:!0},ve=new c.OlP("CompositionEventMode");let re=(()=>{class E extends Fe{constructor(C,a,s){super(C,a),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _e(){const E=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(E.toLowerCase())}())}writeValue(C){this.setProperty("value",C??"")}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return E.\u0275fac=function(C){return new(C||E)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ve,8))},E.\u0275dir=c.lG2({type:E,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,a){1&C&&c.NdJ("input",function(l){return a._handleInput(l.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(l){return a._compositionEnd(l.target.value)})},features:[c._Bn([Y]),c.qOj]}),E})();const he=new c.OlP("NgValidators"),ue=new c.OlP("NgAsyncValidators");function We(E){return function ge(E){return null==E||("string"==typeof E||Array.isArray(E))&&0===E.length}(E.value)?{required:!0}:null}function Pe(E){return null}function Be(E){return null!=E}function ke(E){return(0,c.QGY)(E)?(0,Q.D)(E):E}function je(E){let b={};return E.forEach(C=>{b=null!=C?{...b,...C}:b}),0===Object.keys(b).length?null:b}function Ke(E,b){return b.map(C=>C(E))}function rt(E){return E.map(b=>function Kt(E){return!E.validate}(b)?b:C=>b.validate(C))}function Dt(E){return null!=E?function pt(E){if(!E)return null;const b=E.filter(Be);return 0==b.length?null:function(C){return je(Ke(C,b))}}(rt(E)):null}function Vt(E){return null!=E?function gt(E){if(!E)return null;const b=E.filter(Be);return 0==b.length?null:function(C){return function se(...E){const b=(0,A.jO)(E),{args:C,keys:a}=(0,q.D)(E),s=new K.y(l=>{const{length:h}=C;if(!h)return void l.complete();const y=new Array(h);let S=h,O=h;for(let x=0;x<h;x++){let G=!1;(0,pe.Xf)(C[x]).subscribe((0,j.x)(l,U=>{G||(G=!0,O--),y[x]=U},()=>S--,void 0,()=>{(!S||!G)&&(O||l.next(a?(0,X.n)(a,y):y),l.complete())}))}});return b?s.pipe((0,L.Z)(b)):s}(Ke(C,b).map(ke)).pipe((0,De.U)(je))}}(rt(E)):null}function vn(E,b){return null===E?[b]:Array.isArray(E)?[...E,b]:[E,b]}function _n(E){return E._rawValidators}function tn(E){return E._rawAsyncValidators}function Tn(E){return E?Array.isArray(E)?E:[E]:[]}function Zt(E,b){return Array.isArray(E)?E.includes(b):E===b}function sr(E,b){const C=Tn(b);return Tn(E).forEach(s=>{Zt(C,s)||C.push(s)}),C}function dn(E,b){return Tn(b).filter(C=>!Zt(E,C))}class Ve{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(b){this._rawValidators=b||[],this._composedValidatorFn=Dt(this._rawValidators)}_setAsyncValidators(b){this._rawAsyncValidators=b||[],this._composedAsyncValidatorFn=Vt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(b){this._onDestroyCallbacks.push(b)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(b=>b()),this._onDestroyCallbacks=[]}reset(b=void 0){this.control&&this.control.reset(b)}hasError(b,C){return!!this.control&&this.control.hasError(b,C)}getError(b,C){return this.control?this.control.getError(b,C):null}}class Jt extends Ve{get formDirective(){return null}get path(){return null}}class kn extends Ve{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Rn{constructor(b){this._cd=b}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qe=(()=>{class E extends Rn{constructor(C){super(C)}}return E.\u0275fac=function(C){return new(C||E)(c.Y36(kn,2))},E.\u0275dir=c.lG2({type:E,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,a){2&C&&c.ekj("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[c.qOj]}),E})(),ot=(()=>{class E extends Rn{constructor(C){super(C)}}return E.\u0275fac=function(C){return new(C||E)(c.Y36(Jt,10))},E.\u0275dir=c.lG2({type:E,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,a){2&C&&c.ekj("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)("ng-submitted",a.isSubmitted)},features:[c.qOj]}),E})();const Bn="VALID",Mn="INVALID",Qn="PENDING",Ut="DISABLED";function jn(E){return(ae(E)?E.validators:E)||null}function ie(E,b){return(ae(b)?b.asyncValidators:E)||null}function ae(E){return null!=E&&!Array.isArray(E)&&"object"==typeof E}class Je{constructor(b,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(b),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(b){this._rawValidators=this._composedValidatorFn=b}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(b){this._rawAsyncValidators=this._composedAsyncValidatorFn=b}get parent(){return this._parent}get valid(){return this.status===Bn}get invalid(){return this.status===Mn}get pending(){return this.status==Qn}get disabled(){return this.status===Ut}get enabled(){return this.status!==Ut}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(b){this._assignValidators(b)}setAsyncValidators(b){this._assignAsyncValidators(b)}addValidators(b){this.setValidators(sr(b,this._rawValidators))}addAsyncValidators(b){this.setAsyncValidators(sr(b,this._rawAsyncValidators))}removeValidators(b){this.setValidators(dn(b,this._rawValidators))}removeAsyncValidators(b){this.setAsyncValidators(dn(b,this._rawAsyncValidators))}hasValidator(b){return Zt(this._rawValidators,b)}hasAsyncValidator(b){return Zt(this._rawAsyncValidators,b)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(b={}){this.touched=!0,this._parent&&!b.onlySelf&&this._parent.markAsTouched(b)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(b=>b.markAllAsTouched())}markAsUntouched(b={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!b.onlySelf&&this._parent._updateTouched(b)}markAsDirty(b={}){this.pristine=!1,this._parent&&!b.onlySelf&&this._parent.markAsDirty(b)}markAsPristine(b={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!b.onlySelf&&this._parent._updatePristine(b)}markAsPending(b={}){this.status=Qn,!1!==b.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!b.onlySelf&&this._parent.markAsPending(b)}disable(b={}){const C=this._parentMarkedDirty(b.onlySelf);this.status=Ut,this.errors=null,this._forEachChild(a=>{a.disable({...b,onlySelf:!0})}),this._updateValue(),!1!==b.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...b,skipPristineCheck:C}),this._onDisabledChange.forEach(a=>a(!0))}enable(b={}){const C=this._parentMarkedDirty(b.onlySelf);this.status=Bn,this._forEachChild(a=>{a.enable({...b,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:b.emitEvent}),this._updateAncestors({...b,skipPristineCheck:C}),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(b){this._parent&&!b.onlySelf&&(this._parent.updateValueAndValidity(b),b.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(b){this._parent=b}getRawValue(){return this.value}updateValueAndValidity(b={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bn||this.status===Qn)&&this._runAsyncValidator(b.emitEvent)),!1!==b.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!b.onlySelf&&this._parent.updateValueAndValidity(b)}_updateTreeValidity(b={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(b)),this.updateValueAndValidity({onlySelf:!0,emitEvent:b.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ut:Bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(b){if(this.asyncValidator){this.status=Qn,this._hasOwnPendingAsyncValidator=!0;const C=ke(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:b})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(b,C={}){this.errors=b,this._updateControlsErrors(!1!==C.emitEvent)}get(b){let C=b;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce((a,s)=>a&&a._find(s),this)}getError(b,C){const a=C?this.get(C):this;return a&&a.errors?a.errors[b]:null}hasError(b,C){return!!this.getError(b,C)}get root(){let b=this;for(;b._parent;)b=b._parent;return b}_updateControlsErrors(b){this.status=this._calculateStatus(),b&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(b)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ut:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qn)?Qn:this._anyControlsHaveStatus(Mn)?Mn:Bn}_anyControlsHaveStatus(b){return this._anyControls(C=>C.status===b)}_anyControlsDirty(){return this._anyControls(b=>b.dirty)}_anyControlsTouched(){return this._anyControls(b=>b.touched)}_updatePristine(b={}){this.pristine=!this._anyControlsDirty(),this._parent&&!b.onlySelf&&this._parent._updatePristine(b)}_updateTouched(b={}){this.touched=this._anyControlsTouched(),this._parent&&!b.onlySelf&&this._parent._updateTouched(b)}_registerOnCollectionChange(b){this._onCollectionChange=b}_setUpdateStrategy(b){ae(b)&&null!=b.updateOn&&(this._updateOn=b.updateOn)}_parentMarkedDirty(b){return!b&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(b){return null}_assignValidators(b){this._rawValidators=Array.isArray(b)?b.slice():b,this._composedValidatorFn=function we(E){return Array.isArray(E)?Dt(E):E||null}(this._rawValidators)}_assignAsyncValidators(b){this._rawAsyncValidators=Array.isArray(b)?b.slice():b,this._composedAsyncValidatorFn=function z(E){return Array.isArray(E)?Vt(E):E||null}(this._rawAsyncValidators)}}class lt extends Je{constructor(b,C,a){super(jn(C),ie(a,C)),this.controls=b,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(b,C){return this.controls[b]?this.controls[b]:(this.controls[b]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(b,C,a={}){this.registerControl(b,C),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(b,C={}){this.controls[b]&&this.controls[b]._registerOnCollectionChange(()=>{}),delete this.controls[b],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(b,C,a={}){this.controls[b]&&this.controls[b]._registerOnCollectionChange(()=>{}),delete this.controls[b],C&&this.registerControl(b,C),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(b){return this.controls.hasOwnProperty(b)&&this.controls[b].enabled}setValue(b,C={}){(function $e(E,b,C){E._forEachChild((a,s)=>{if(void 0===C[s])throw new c.vHH(1002,"")})})(this,0,b),Object.keys(b).forEach(a=>{(function de(E,b,C){const a=E.controls;if(!(b?Object.keys(a):a).length)throw new c.vHH(1e3,"");if(!a[C])throw new c.vHH(1001,"")})(this,!0,a),this.controls[a].setValue(b[a],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(b,C={}){null!=b&&(Object.keys(b).forEach(a=>{const s=this.controls[a];s&&s.patchValue(b[a],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(b={},C={}){this._forEachChild((a,s)=>{a.reset(b[s],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(b,C,a)=>(b[a]=C.getRawValue(),b))}_syncPendingControls(){let b=this._reduceChildren(!1,(C,a)=>!!a._syncPendingControls()||C);return b&&this.updateValueAndValidity({onlySelf:!0}),b}_forEachChild(b){Object.keys(this.controls).forEach(C=>{const a=this.controls[C];a&&b(a,C)})}_setUpControls(){this._forEachChild(b=>{b.setParent(this),b._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(b){for(const[C,a]of Object.entries(this.controls))if(this.contains(C)&&b(a))return!0;return!1}_reduceValue(){return this._reduceChildren({},(C,a,s)=>((a.enabled||this.disabled)&&(C[s]=a.value),C))}_reduceChildren(b,C){let a=b;return this._forEachChild((s,l)=>{a=C(a,s,l)}),a}_allControlsDisabled(){for(const b of Object.keys(this.controls))if(this.controls[b].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(b){return this.controls.hasOwnProperty(b)?this.controls[b]:null}}const Ht=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>_t}),_t="always";function fn(E,b,C=_t){Ln(E,b),b.valueAccessor.writeValue(E.value),(E.disabled||"always"===C)&&b.valueAccessor.setDisabledState?.(E.disabled),function $n(E,b){b.valueAccessor.registerOnChange(C=>{E._pendingValue=C,E._pendingChange=!0,E._pendingDirty=!0,"change"===E.updateOn&&Ir(E,b)})}(E,b),function ro(E,b){const C=(a,s)=>{b.valueAccessor.writeValue(a),s&&b.viewToModelUpdate(a)};E.registerOnChange(C),b._registerOnDestroy(()=>{E._unregisterOnChange(C)})}(E,b),function zr(E,b){b.valueAccessor.registerOnTouched(()=>{E._pendingTouched=!0,"blur"===E.updateOn&&E._pendingChange&&Ir(E,b),"submit"!==E.updateOn&&E.markAsTouched()})}(E,b),function Zn(E,b){if(b.valueAccessor.setDisabledState){const C=a=>{b.valueAccessor.setDisabledState(a)};E.registerOnDisabledChange(C),b._registerOnDestroy(()=>{E._unregisterOnDisabledChange(C)})}}(E,b)}function yt(E,b,C=!0){const a=()=>{};b.valueAccessor&&(b.valueAccessor.registerOnChange(a),b.valueAccessor.registerOnTouched(a)),bt(E,b),E&&(b._invokeOnDestroyCallbacks(),E._registerOnCollectionChange(()=>{}))}function In(E,b){E.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(b)})}function Ln(E,b){const C=_n(E);null!==b.validator?E.setValidators(vn(C,b.validator)):"function"==typeof C&&E.setValidators([C]);const a=tn(E);null!==b.asyncValidator?E.setAsyncValidators(vn(a,b.asyncValidator)):"function"==typeof a&&E.setAsyncValidators([a]);const s=()=>E.updateValueAndValidity();In(b._rawValidators,s),In(b._rawAsyncValidators,s)}function bt(E,b){let C=!1;if(null!==E){if(null!==b.validator){const s=_n(E);if(Array.isArray(s)&&s.length>0){const l=s.filter(h=>h!==b.validator);l.length!==s.length&&(C=!0,E.setValidators(l))}}if(null!==b.asyncValidator){const s=tn(E);if(Array.isArray(s)&&s.length>0){const l=s.filter(h=>h!==b.asyncValidator);l.length!==s.length&&(C=!0,E.setAsyncValidators(l))}}}const a=()=>{};return In(b._rawValidators,a),In(b._rawAsyncValidators,a),C}function Ir(E,b){E._pendingDirty&&E.markAsDirty(),E.setValue(E._pendingValue,{emitModelToViewChange:!1}),b.viewToModelUpdate(E._pendingValue),E._pendingChange=!1}function so(E,b){const C=E.indexOf(b);C>-1&&E.splice(C,1)}function Vr(E){return"object"==typeof E&&null!==E&&2===Object.keys(E).length&&"value"in E&&"disabled"in E}const On=class extends Je{constructor(b=null,C,a){super(jn(C),ie(a,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(b),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ae(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=Vr(b)?b.value:b)}setValue(b,C={}){this.value=this._pendingValue=b,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(b,C={}){this.setValue(b,C)}reset(b=this.defaultValue,C={}){this._applyFormState(b),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(b){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(b){this._onChange.push(b)}_unregisterOnChange(b){so(this._onChange,b)}registerOnDisabledChange(b){this._onDisabledChange.push(b)}_unregisterOnDisabledChange(b){so(this._onDisabledChange,b)}_forEachChild(b){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(b){Vr(b)?(this.value=this._pendingValue=b.value,b.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=b}};let uo=(()=>{class E{}return E.\u0275fac=function(C){return new(C||E)},E.\u0275dir=c.lG2({type:E,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),E})(),ln=(()=>{class E{}return E.\u0275fac=function(C){return new(C||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({}),E})();const So={provide:Le,useExisting:(0,c.Gpc)(()=>$r),multi:!0};let $r=(()=>{class E extends ye{writeValue(C){this.setProperty("value",parseFloat(C))}registerOnChange(C){this.onChange=a=>{C(""==a?null:parseFloat(a))}}}return E.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(E)))(a||E)}}(),E.\u0275dir=c.lG2({type:E,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(C,a){1&C&&c.NdJ("change",function(l){return a.onChange(l.target.value)})("input",function(l){return a.onChange(l.target.value)})("blur",function(){return a.onTouched()})},features:[c._Bn([So]),c.qOj]}),E})();const yr=new c.OlP("NgModelWithFormControlWarning"),Ce={provide:Jt,useExisting:(0,c.Gpc)(()=>Ue)};let Ue=(()=>{class E extends Jt{constructor(C,a,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(C),this._setAsyncValidators(a)}ngOnChanges(C){this._checkFormPresent(),C.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(C){const a=this.form.get(C.path);return fn(a,C,this.callSetDisabledState),a.updateValueAndValidity({emitEvent:!1}),this.directives.push(C),a}getControl(C){return this.form.get(C.path)}removeControl(C){yt(C.control||null,C,!1),function gr(E,b){const C=E.indexOf(b);C>-1&&E.splice(C,1)}(this.directives,C)}addFormGroup(C){this._setUpFormContainer(C)}removeFormGroup(C){this._cleanUpFormContainer(C)}getFormGroup(C){return this.form.get(C.path)}addFormArray(C){this._setUpFormContainer(C)}removeFormArray(C){this._cleanUpFormContainer(C)}getFormArray(C){return this.form.get(C.path)}updateModel(C,a){this.form.get(C.path).setValue(a)}onSubmit(C){return this.submitted=!0,function ko(E,b){E._syncPendingControls(),b.forEach(C=>{const a=C.control;"submit"===a.updateOn&&a._pendingChange&&(C.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(C),"dialog"===C?.target?.method}onReset(){this.resetForm()}resetForm(C=void 0){this.form.reset(C),this.submitted=!1}_updateDomValue(){this.directives.forEach(C=>{const a=C.control,s=this.form.get(C.path);a!==s&&(yt(a||null,C),(E=>E instanceof On)(s)&&(fn(s,C,this.callSetDisabledState),C.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(C){const a=this.form.get(C.path);(function bn(E,b){Ln(E,b)})(a,C),a.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(C){if(this.form){const a=this.form.get(C.path);a&&function Pn(E,b){return bt(E,b)}(a,C)&&a.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ln(this.form,this),this._oldForm&&bt(this._oldForm,this)}_checkFormPresent(){}}return E.\u0275fac=function(C){return new(C||E)(c.Y36(he,10),c.Y36(ue,10),c.Y36(Ht,8))},E.\u0275dir=c.lG2({type:E,selectors:[["","formGroup",""]],hostBindings:function(C,a){1&C&&c.NdJ("submit",function(l){return a.onSubmit(l)})("reset",function(){return a.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Ce]),c.qOj,c.TTD]}),E})();const Yn={provide:kn,useExisting:(0,c.Gpc)(()=>Gt)};let Gt=(()=>{class E extends kn{set isDisabled(C){}constructor(C,a,s,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=C,this._setValidators(a),this._setAsyncValidators(s),this.valueAccessor=function Lr(E,b){if(!b)return null;let C,a,s;return Array.isArray(b),b.forEach(l=>{l.constructor===re?C=l:function Fr(E){return Object.getPrototypeOf(E.constructor)===ye}(l)?a=l:s=l}),s||a||C||null}(0,l)}ngOnChanges(C){this._added||this._setUpControl(),function pr(E,b){if(!E.hasOwnProperty("model"))return!1;const C=E.model;return!!C.isFirstChange()||!Object.is(b,C.currentValue)}(C,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}get path(){return function Dn(E,b){return[...b.path,E]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return E._ngModelWarningSentOnce=!1,E.\u0275fac=function(C){return new(C||E)(c.Y36(Jt,13),c.Y36(he,10),c.Y36(ue,10),c.Y36(Le,10),c.Y36(yr,8))},E.\u0275dir=c.lG2({type:E,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Yn]),c.qOj,c.TTD]}),E})();const lr={provide:Le,useExisting:(0,c.Gpc)(()=>Un),multi:!0};function er(E,b){return null==E?`${b}`:(b&&"object"==typeof b&&(b="Object"),`${E}: ${b}`.slice(0,50))}let Un=(()=>{class E extends ye{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(C){this._compareWith=C}writeValue(C){this.value=C;const s=er(this._getOptionId(C),C);this.setProperty("value",s)}registerOnChange(C){this.onChange=a=>{this.value=this._getOptionValue(a),C(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(C){for(const a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a),C))return a;return null}_getOptionValue(C){const a=function ct(E){return E.split(":")[0]}(C);return this._optionMap.has(a)?this._optionMap.get(a):C}}return E.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(E)))(a||E)}}(),E.\u0275dir=c.lG2({type:E,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(C,a){1&C&&c.NdJ("change",function(l){return a.onChange(l.target.value)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([lr]),c.qOj]}),E})(),_r=(()=>{class E{constructor(C,a,s){this._element=C,this._renderer=a,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(C){null!=this._select&&(this._select._optionMap.set(this.id,C),this._setElementValue(er(this.id,C)),this._select.writeValue(this._select.value))}set value(C){this._setElementValue(C),this._select&&this._select.writeValue(this._select.value)}_setElementValue(C){this._renderer.setProperty(this._element.nativeElement,"value",C)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(C){return new(C||E)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Un,9))},E.\u0275dir=c.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})();const Cr={provide:Le,useExisting:(0,c.Gpc)(()=>Vn),multi:!0};function sn(E,b){return null==E?`${b}`:("string"==typeof b&&(b=`'${b}'`),b&&"object"==typeof b&&(b="Object"),`${E}: ${b}`.slice(0,50))}let Vn=(()=>{class E extends ye{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(C){this._compareWith=C}writeValue(C){let a;if(this.value=C,Array.isArray(C)){const s=C.map(l=>this._getOptionId(l));a=(l,h)=>{l._setSelected(s.indexOf(h.toString())>-1)}}else a=(s,l)=>{s._setSelected(!1)};this._optionMap.forEach(a)}registerOnChange(C){this.onChange=a=>{const s=[],l=a.selectedOptions;if(void 0!==l){const h=l;for(let y=0;y<h.length;y++){const O=this._getOptionValue(h[y].value);s.push(O)}}else{const h=a.options;for(let y=0;y<h.length;y++){const S=h[y];if(S.selected){const O=this._getOptionValue(S.value);s.push(O)}}}this.value=s,C(s)}}_registerOption(C){const a=(this._idCounter++).toString();return this._optionMap.set(a,C),a}_getOptionId(C){for(const a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a)._value,C))return a;return null}_getOptionValue(C){const a=function ho(E){return E.split(":")[0]}(C);return this._optionMap.has(a)?this._optionMap.get(a)._value:C}}return E.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(E)))(a||E)}}(),E.\u0275dir=c.lG2({type:E,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(C,a){1&C&&c.NdJ("change",function(l){return a.onChange(l.target)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Cr]),c.qOj]}),E})(),Pr=(()=>{class E{constructor(C,a,s){this._element=C,this._renderer=a,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(C){null!=this._select&&(this._value=C,this._setElementValue(sn(this.id,C)),this._select.writeValue(this._select.value))}set value(C){this._select?(this._value=C,this._setElementValue(sn(this.id,C)),this._select.writeValue(this._select.value)):this._setElementValue(C)}_setElementValue(C){this._renderer.setProperty(this._element.nativeElement,"value",C)}_setSelected(C){this._renderer.setProperty(this._element.nativeElement,"selected",C)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(C){return new(C||E)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Vn,9))},E.\u0275dir=c.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})(),wn=(()=>{class E{constructor(){this._validator=Pe}ngOnChanges(C){if(this.inputName in C){const a=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled(a),this._validator=this._enabled?this.createValidator(a):Pe,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275dir=c.lG2({type:E,features:[c.TTD]}),E})();const Eo={provide:he,useExisting:(0,c.Gpc)(()=>An),multi:!0};let An=(()=>{class E extends wn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=C=>We}enabled(C){return C}}return E.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(E)))(a||E)}}(),E.\u0275dir=c.lG2({type:E,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(C,a){2&C&&c.uIk("required",a._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Eo]),c.qOj]}),E})(),Qr=(()=>{class E{}return E.\u0275fac=function(C){return new(C||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({imports:[ln]}),E})(),Bt=(()=>{class E{static withConfig(C){return{ngModule:E,providers:[{provide:Ht,useValue:C.callSetDisabledState??_t}]}}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({imports:[Qr]}),E})(),oi=(()=>{class E{static withConfig(C){return{ngModule:E,providers:[{provide:yr,useValue:C.warnOnNgModelWithFormControl??"always"},{provide:Ht,useValue:C.callSetDisabledState??_t}]}}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({imports:[Qr]}),E})()},6593:(tt,J,M)=>{"use strict";M.d(J,{Dx:()=>kn,b2:()=>Zt,q6:()=>vn});var c=M(4946),F=M(6814);class Q extends F.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class K extends Q{static makeCurrent(){(0,F.HT)(new K)}onAndCancel(ie,z,ae){return ie.addEventListener(z,ae),()=>{ie.removeEventListener(z,ae)}}dispatchEvent(ie,z){ie.dispatchEvent(z)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,z){return(z=z||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,z){return"window"===z?window:"document"===z?ie:"body"===z?ie.body:null}getBaseHref(ie){const z=function pe(){return q=q||document.querySelector("base"),q?q.getAttribute("href"):null}();return null==z?null:function j(we){A=A||document.createElement("a"),A.setAttribute("href",we);const ie=A.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}(z)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,F.Mx)(document.cookie,ie)}}let A,q=null,X=(()=>{class we{build(){return new XMLHttpRequest}}return we.\u0275fac=function(z){return new(z||we)},we.\u0275prov=c.Yz7({token:we,factory:we.\u0275fac}),we})();const se=new c.OlP("EventManagerPlugins");let De=(()=>{class we{constructor(z,ae){this._zone=ae,this._eventNameToPlugin=new Map,z.forEach(de=>{de.manager=this}),this._plugins=z.slice().reverse()}addEventListener(z,ae,de){return this._findPluginFor(ae).addEventListener(z,ae,de)}getZone(){return this._zone}_findPluginFor(z){let ae=this._eventNameToPlugin.get(z);if(ae)return ae;if(ae=this._plugins.find($e=>$e.supports(z)),!ae)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(z,ae),ae}}return we.\u0275fac=function(z){return new(z||we)(c.LFG(se),c.LFG(c.R0b))},we.\u0275prov=c.Yz7({token:we,factory:we.\u0275fac}),we})();class Fe{constructor(ie){this._doc=ie}}const ye="ng-app-id";let Le=(()=>{class we{constructor(z,ae,de,$e={}){this.doc=z,this.appId=ae,this.nonce=de,this.platformId=$e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,F.PM)($e),this.resetHostNodes()}addStyles(z){for(const ae of z)1===this.changeUsageCount(ae,1)&&this.onStyleAdded(ae)}removeStyles(z){for(const ae of z)this.changeUsageCount(ae,-1)<=0&&this.onStyleRemoved(ae)}ngOnDestroy(){const z=this.styleNodesInDOM;z&&(z.forEach(ae=>ae.remove()),z.clear());for(const ae of this.getAllStyles())this.onStyleRemoved(ae);this.resetHostNodes()}addHost(z){this.hostNodes.add(z);for(const ae of this.getAllStyles())this.addStyleToHost(z,ae)}removeHost(z){this.hostNodes.delete(z)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(z){for(const ae of this.hostNodes)this.addStyleToHost(ae,z)}onStyleRemoved(z){const ae=this.styleRef;ae.get(z)?.elements?.forEach(de=>de.remove()),ae.delete(z)}collectServerRenderedStyles(){const z=this.doc.head?.querySelectorAll(`style[${ye}="${this.appId}"]`);if(z?.length){const ae=new Map;return z.forEach(de=>{null!=de.textContent&&ae.set(de.textContent,de)}),ae}return null}changeUsageCount(z,ae){const de=this.styleRef;if(de.has(z)){const $e=de.get(z);return $e.usage+=ae,$e.usage}return de.set(z,{usage:ae,elements:[]}),ae}getStyleElement(z,ae){const de=this.styleNodesInDOM,$e=de?.get(ae);if($e?.parentNode===z)return de.delete(ae),$e.removeAttribute(ye),$e;{const Je=this.doc.createElement("style");return this.nonce&&Je.setAttribute("nonce",this.nonce),Je.textContent=ae,this.platformIsServer&&Je.setAttribute(ye,this.appId),Je}}addStyleToHost(z,ae){const de=this.getStyleElement(z,ae);z.appendChild(de);const $e=this.styleRef,Je=$e.get(ae)?.elements;Je?Je.push(de):$e.set(ae,{elements:[de],usage:1})}resetHostNodes(){const z=this.hostNodes;z.clear(),z.add(this.doc.head)}}return we.\u0275fac=function(z){return new(z||we)(c.LFG(F.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},we.\u0275prov=c.Yz7({token:we,factory:we.\u0275fac}),we})();const ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},B=/%COMP%/g,Y="%COMP%",_e=`_nghost-${Y}`,ve=`_ngcontent-${Y}`,ge=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ue(we,ie){return ie.map(z=>z.replace(B,we))}let Z=(()=>{class we{constructor(z,ae,de,$e,Je,lt,it,mt=null){this.eventManager=z,this.sharedStylesHost=ae,this.appId=de,this.removeStylesOnCompDestory=$e,this.doc=Je,this.platformId=lt,this.ngZone=it,this.nonce=mt,this.rendererByCompId=new Map,this.platformIsServer=(0,F.PM)(lt),this.defaultRenderer=new te(z,Je,it,this.platformIsServer)}createRenderer(z,ae){if(!z||!ae)return this.defaultRenderer;this.platformIsServer&&ae.encapsulation===c.ifc.ShadowDom&&(ae={...ae,encapsulation:c.ifc.Emulated});const de=this.getOrCreateRenderer(z,ae);return de instanceof me?de.applyToHost(z):de instanceof Oe&&de.applyStyles(),de}getOrCreateRenderer(z,ae){const de=this.rendererByCompId;let $e=de.get(ae.id);if(!$e){const Je=this.doc,lt=this.ngZone,it=this.eventManager,mt=this.sharedStylesHost,Cn=this.removeStylesOnCompDestory,Wn=this.platformIsServer;switch(ae.encapsulation){case c.ifc.Emulated:$e=new me(it,mt,ae,this.appId,Cn,Je,lt,Wn);break;case c.ifc.ShadowDom:return new Ae(it,mt,z,ae,Je,lt,this.nonce,Wn);default:$e=new Oe(it,mt,ae,Cn,Je,lt,Wn)}$e.onDestroy=()=>de.delete(ae.id),de.set(ae.id,$e)}return $e}ngOnDestroy(){this.rendererByCompId.clear()}}return we.\u0275fac=function(z){return new(z||we)(c.LFG(De),c.LFG(Le),c.LFG(c.AFp),c.LFG(ge),c.LFG(F.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},we.\u0275prov=c.Yz7({token:we,factory:we.\u0275fac}),we})();class te{constructor(ie,z,ae,de){this.eventManager=ie,this.doc=z,this.ngZone=ae,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,z){return z?this.doc.createElementNS(ze[z]||z,ie):this.doc.createElement(ie)}createComment(ie){return this.doc.createComment(ie)}createText(ie){return this.doc.createTextNode(ie)}appendChild(ie,z){(We(ie)?ie.content:ie).appendChild(z)}insertBefore(ie,z,ae){ie&&(We(ie)?ie.content:ie).insertBefore(z,ae)}removeChild(ie,z){ie&&ie.removeChild(z)}selectRootElement(ie,z){let ae="string"==typeof ie?this.doc.querySelector(ie):ie;if(!ae)throw new c.vHH(5104,!1);return z||(ae.textContent=""),ae}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,z,ae,de){if(de){z=de+":"+z;const $e=ze[de];$e?ie.setAttributeNS($e,z,ae):ie.setAttribute(z,ae)}else ie.setAttribute(z,ae)}removeAttribute(ie,z,ae){if(ae){const de=ze[ae];de?ie.removeAttributeNS(de,z):ie.removeAttribute(`${ae}:${z}`)}else ie.removeAttribute(z)}addClass(ie,z){ie.classList.add(z)}removeClass(ie,z){ie.classList.remove(z)}setStyle(ie,z,ae,de){de&(c.JOm.DashCase|c.JOm.Important)?ie.style.setProperty(z,ae,de&c.JOm.Important?"important":""):ie.style[z]=ae}removeStyle(ie,z,ae){ae&c.JOm.DashCase?ie.style.removeProperty(z):ie.style[z]=""}setProperty(ie,z,ae){ie[z]=ae}setValue(ie,z){ie.nodeValue=z}listen(ie,z,ae){if("string"==typeof ie&&!(ie=(0,F.q)().getGlobalEventTarget(this.doc,ie)))throw new Error(`Unsupported event target ${ie} for event ${z}`);return this.eventManager.addEventListener(ie,z,this.decoratePreventDefault(ae))}decoratePreventDefault(ie){return z=>{if("__ngUnwrap__"===z)return ie;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ie(z)):ie(z))&&z.preventDefault()}}}function We(we){return"TEMPLATE"===we.tagName&&void 0!==we.content}class Ae extends te{constructor(ie,z,ae,de,$e,Je,lt,it){super(ie,$e,Je,it),this.sharedStylesHost=z,this.hostEl=ae,this.shadowRoot=ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mt=ue(de.id,de.styles);for(const Cn of mt){const Wn=document.createElement("style");lt&&Wn.setAttribute("nonce",lt),Wn.textContent=Cn,this.shadowRoot.appendChild(Wn)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}appendChild(ie,z){return super.appendChild(this.nodeOrShadowRoot(ie),z)}insertBefore(ie,z,ae){return super.insertBefore(this.nodeOrShadowRoot(ie),z,ae)}removeChild(ie,z){return super.removeChild(this.nodeOrShadowRoot(ie),z)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oe extends te{constructor(ie,z,ae,de,$e,Je,lt,it){super(ie,$e,Je,lt),this.sharedStylesHost=z,this.removeStylesOnCompDestory=de,this.rendererUsageCount=0,this.styles=it?ue(it,ae.styles):ae.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class me extends Oe{constructor(ie,z,ae,de,$e,Je,lt,it){const mt=de+"-"+ae.id;super(ie,z,ae,$e,Je,lt,it,mt),this.contentAttr=function H(we){return ve.replace(B,we)}(mt),this.hostAttr=function he(we){return _e.replace(B,we)}(mt)}applyToHost(ie){this.applyStyles(),this.setAttribute(ie,this.hostAttr,"")}createElement(ie,z){const ae=super.createElement(ie,z);return super.setAttribute(ae,this.contentAttr,""),ae}}let ne=(()=>{class we extends Fe{constructor(z){super(z)}supports(z){return!0}addEventListener(z,ae,de){return z.addEventListener(ae,de,!1),()=>this.removeEventListener(z,ae,de)}removeEventListener(z,ae,de){return z.removeEventListener(ae,de)}}return we.\u0275fac=function(z){return new(z||we)(c.LFG(F.K0))},we.\u0275prov=c.Yz7({token:we,factory:we.\u0275fac}),we})();const le=["alt","control","meta","shift"],Pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Be={alt:we=>we.altKey,control:we=>we.ctrlKey,meta:we=>we.metaKey,shift:we=>we.shiftKey};let ke=(()=>{class we extends Fe{constructor(z){super(z)}supports(z){return null!=we.parseEventName(z)}addEventListener(z,ae,de){const $e=we.parseEventName(ae),Je=we.eventCallback($e.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,F.q)().onAndCancel(z,$e.domEventName,Je))}static parseEventName(z){const ae=z.toLowerCase().split("."),de=ae.shift();if(0===ae.length||"keydown"!==de&&"keyup"!==de)return null;const $e=we._normalizeKey(ae.pop());let Je="",lt=ae.indexOf("code");if(lt>-1&&(ae.splice(lt,1),Je="code."),le.forEach(mt=>{const Cn=ae.indexOf(mt);Cn>-1&&(ae.splice(Cn,1),Je+=mt+".")}),Je+=$e,0!=ae.length||0===$e.length)return null;const it={};return it.domEventName=de,it.fullKey=Je,it}static matchEventFullKeyCode(z,ae){let de=Pe[z.key]||z.key,$e="";return ae.indexOf("code.")>-1&&(de=z.code,$e="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),le.forEach(Je=>{Je!==de&&(0,Be[Je])(z)&&($e+=Je+".")}),$e+=de,$e===ae)}static eventCallback(z,ae,de){return $e=>{we.matchEventFullKeyCode($e,z)&&de.runGuarded(()=>ae($e))}}static _normalizeKey(z){return"esc"===z?"escape":z}}return we.\u0275fac=function(z){return new(z||we)(c.LFG(F.K0))},we.\u0275prov=c.Yz7({token:we,factory:we.\u0275fac}),we})();const vn=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:F.bD},{provide:c.g9A,useValue:function pt(){K.makeCurrent()},multi:!0},{provide:F.K0,useFactory:function gt(){return(0,c.RDi)(document),document},deps:[]}]),_n=new c.OlP(""),tn=[{provide:c.rWj,useClass:class L{addToWindow(ie){c.dqk.getAngularTestability=(ae,de=!0)=>{const $e=ie.findTestabilityInTree(ae,de);if(null==$e)throw new c.vHH(5103,!1);return $e},c.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(ae=>{const de=c.dqk.getAllAngularTestabilities();let $e=de.length,Je=!1;const lt=function(it){Je=Je||it,$e--,0==$e&&ae(Je)};de.forEach(function(it){it.whenStable(lt)})})}findTestabilityInTree(ie,z,ae){return null==z?null:ie.getTestability(z)??(ae?(0,F.q)().isShadowRoot(z)?this.findTestabilityInTree(ie,z.host,!0):this.findTestabilityInTree(ie,z.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Tn=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Dt(){return new c.qLn},deps:[]},{provide:se,useClass:ne,multi:!0,deps:[F.K0,c.R0b,c.Lbi]},{provide:se,useClass:ke,multi:!0,deps:[F.K0]},Z,Le,De,{provide:c.FYo,useExisting:Z},{provide:F.JF,useClass:X,deps:[]},[]];let Zt=(()=>{class we{constructor(z){}static withServerTransition(z){return{ngModule:we,providers:[{provide:c.AFp,useValue:z.appId}]}}}return we.\u0275fac=function(z){return new(z||we)(c.LFG(_n,12))},we.\u0275mod=c.oAB({type:we}),we.\u0275inj=c.cJS({providers:[...Tn,...tn],imports:[F.ez,c.hGG]}),we})(),kn=(()=>{class we{constructor(z){this._doc=z}getTitle(){return this._doc.title}setTitle(z){this._doc.title=z||""}}return we.\u0275fac=function(z){return new(z||we)(c.LFG(F.K0))},we.\u0275prov=c.Yz7({token:we,factory:function(z){let ae=null;return ae=z?new z:function Jt(){return new kn((0,c.LFG)(F.K0))}(),ae},providedIn:"root"}),we})();typeof window<"u"&&window},6538:(tt,J,M)=>{"use strict";M.d(J,{F0:()=>xr,rH:()=>Bi,Od:()=>ws,Bz:()=>Pa,lC:()=>Un});var c=M(4946),F=M(5592),Q=M(4674),q=M(7715),pe=M(2096),A=M(5619),j=M(7453),L=M(2737),X=M(7400),se=M(4564),De=M(2714),Fe=M(8251),ye=M(7103);function Le(...f){const g=(0,se.yG)(f),d=(0,se.jO)(f),{args:m,keys:T}=(0,j.D)(f);if(0===m.length)return(0,q.D)([],g);const k=new F.y(function ze(f,g,d=L.y){return m=>{B(g,()=>{const{length:T}=f,k=new Array(T);let N=T,ce=T;for(let Me=0;Me<T;Me++)B(g,()=>{const Ye=(0,q.D)(f[Me],g);let Xe=!1;Ye.subscribe((0,Fe.x)(m,Lt=>{k[Me]=Lt,Xe||(Xe=!0,ce--),ce||m.next(d(k.slice()))},()=>{--N||m.complete()}))},m)},m)}}(m,g,T?N=>(0,De.n)(T,N):L.y));return d?k.pipe((0,X.Z)(d)):k}function B(f,g,d){f?(0,ye.f)(d,f,g):g()}const _e=(0,M(2306).d)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"});var ve=M(7537);function ge(...f){return function re(){return(0,ve.J)(1)}()((0,q.D)(f,(0,se.yG)(f)))}var H=M(4829);function he(f){return new F.y(g=>{(0,H.Xf)(f()).subscribe(g)})}var ue=M(8407);function Z(f,g){const d=(0,Q.m)(f)?f:()=>f,m=T=>T.error(d());return new F.y(g?T=>g.schedule(m,0,T):m)}var te=M(6232),$=M(7394),Se=M(9360);function We(){return(0,Se.e)((f,g)=>{let d=null;f._refCount++;const m=(0,Fe.x)(g,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(d=null);const T=f._connection,k=d;d=null,T&&(!k||T===k)&&T.unsubscribe(),g.unsubscribe()});f.subscribe(m),m.closed||(d=f.connect())})}class Ae extends F.y{constructor(g,d){super(),this.source=g,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,Se.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new $.w0;const d=this.getSubject();g.add(this.source.subscribe((0,Fe.x)(d,void 0,()=>{this._teardown(),d.complete()},m=>{this._teardown(),d.error(m)},()=>this._teardown()))),g.closed&&(this._connection=null,g=$.w0.EMPTY)}return g}refCount(){return We()(this)}}var Oe=M(8645),me=M(6814),ne=M(7398),le=M(4664);function Pe(f){return f<=0?()=>te.E:(0,Se.e)((g,d)=>{let m=0;g.subscribe((0,Fe.x)(d,T=>{++m<=f&&(d.next(T),f<=m&&d.complete())}))})}function ke(f,g){return(0,Se.e)((d,m)=>{let T=0;d.subscribe((0,Fe.x)(m,k=>f.call(g,k,T++)&&m.next(k)))})}var je=M(1631);function Ke(f){return(0,Se.e)((g,d)=>{let m=!1;g.subscribe((0,Fe.x)(d,T=>{m=!0,d.next(T)},()=>{m||d.next(f),d.complete()}))})}function Kt(f=rt){return(0,Se.e)((g,d)=>{let m=!1;g.subscribe((0,Fe.x)(d,T=>{m=!0,d.next(T)},()=>m?d.complete():d.error(f())))})}function rt(){return new _e}function pt(f,g){const d=arguments.length>=2;return m=>m.pipe(f?ke((T,k)=>f(T,k,m)):L.y,Pe(1),d?Ke(g):Kt(()=>new _e))}function Dt(f,g){return(0,Q.m)(g)?(0,je.z)(f,g,1):(0,je.z)(f,1)}function gt(f,g,d){const m=(0,Q.m)(f)||g||d?{next:f,error:g,complete:d}:f;return m?(0,Se.e)((T,k)=>{var N;null===(N=m.subscribe)||void 0===N||N.call(m);let ce=!0;T.subscribe((0,Fe.x)(k,Me=>{var Ye;null===(Ye=m.next)||void 0===Ye||Ye.call(m,Me),k.next(Me)},()=>{var Me;ce=!1,null===(Me=m.complete)||void 0===Me||Me.call(m),k.complete()},Me=>{var Ye;ce=!1,null===(Ye=m.error)||void 0===Ye||Ye.call(m,Me),k.error(Me)},()=>{var Me,Ye;ce&&(null===(Me=m.unsubscribe)||void 0===Me||Me.call(m)),null===(Ye=m.finalize)||void 0===Ye||Ye.call(m)}))}):L.y}function Vt(f){return(0,Se.e)((g,d)=>{let k,m=null,T=!1;m=g.subscribe((0,Fe.x)(d,void 0,void 0,N=>{k=(0,H.Xf)(f(N,Vt(f)(g))),m?(m.unsubscribe(),m=null,k.subscribe(d)):T=!0})),T&&(m.unsubscribe(),m=null,k.subscribe(d))})}function tn(f){return f<=0?()=>te.E:(0,Se.e)((g,d)=>{let m=[];g.subscribe((0,Fe.x)(d,T=>{m.push(T),f<m.length&&m.shift()},()=>{for(const T of m)d.next(T);d.complete()},void 0,()=>{m=null}))})}function sr(f){return(0,Se.e)((g,d)=>{try{g.subscribe(d)}finally{d.add(f)}})}var dn=M(6593);const Ve="primary",Jt=Symbol("RouteTitle");class kn{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d[0]:d}return null}getAll(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function Rn(f){return new kn(f)}function kt(f,g,d){const m=d.path.split("/");if(m.length>f.length||"full"===d.pathMatch&&(g.hasChildren()||m.length<f.length))return null;const T={};for(let k=0;k<m.length;k++){const N=m[k],ce=f[k];if(N.startsWith(":"))T[N.substring(1)]=ce;else if(N!==ce.path)return null}return{consumed:f.slice(0,m.length),posParams:T}}function qe(f,g){const d=f?Object.keys(f):void 0,m=g?Object.keys(g):void 0;if(!d||!m||d.length!=m.length)return!1;let T;for(let k=0;k<d.length;k++)if(T=d[k],!ot(f[T],g[T]))return!1;return!0}function ot(f,g){if(Array.isArray(f)&&Array.isArray(g)){if(f.length!==g.length)return!1;const d=[...f].sort(),m=[...g].sort();return d.every((T,k)=>m[k]===T)}return f===g}function Mr(f){return f.length>0?f[f.length-1]:null}function cn(f){return function K(f){return!!f&&(f instanceof F.y||(0,Q.m)(f.lift)&&(0,Q.m)(f.subscribe))}(f)?f:(0,c.QGY)(f)?(0,q.D)(Promise.resolve(f)):(0,pe.of)(f)}const Nn={exact:function Qt(f,g,d){if(!fr(f.segments,g.segments)||!ar(f.segments,g.segments,d)||f.numberOfChildren!==g.numberOfChildren)return!1;for(const m in g.children)if(!f.children[m]||!Qt(f.children[m],g.children[m],d))return!1;return!0},subset:He},Fn={exact:function Gr(f,g){return qe(f,g)},subset:function no(f,g){return Object.keys(g).length<=Object.keys(f).length&&Object.keys(g).every(d=>ot(f[d],g[d]))},ignored:()=>!0};function on(f,g,d){return Nn[d.paths](f.root,g.root,d.matrixParams)&&Fn[d.queryParams](f.queryParams,g.queryParams)&&!("exact"===d.fragment&&f.fragment!==g.fragment)}function He(f,g,d){return Do(f,g,g.segments,d)}function Do(f,g,d,m){if(f.segments.length>d.length){const T=f.segments.slice(0,d.length);return!(!fr(T,d)||g.hasChildren()||!ar(T,d,m))}if(f.segments.length===d.length){if(!fr(f.segments,d)||!ar(f.segments,d,m))return!1;for(const T in g.children)if(!f.children[T]||!He(f.children[T],g.children[T],m))return!1;return!0}{const T=d.slice(0,f.segments.length),k=d.slice(f.segments.length);return!!(fr(f.segments,T)&&ar(f.segments,T,m)&&f.children[Ve])&&Do(f.children[Ve],g,k,m)}}function ar(f,g,d){return g.every((m,T)=>Fn[d](f[T].parameters,m.parameters))}class Nt{constructor(g=new St([],{}),d={},m=null){this.root=g,this.queryParams=d,this.fragment=m}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return Qn.serialize(this)}}class St{constructor(g,d){this.segments=g,this.children=d,this.parent=null,Object.values(d).forEach(m=>m.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ut(this)}}class zn{constructor(g,d){this.path=g,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return Je(this)}}function fr(f,g){return f.length===g.length&&f.every((d,m)=>d.path===g[m].path)}let Bn=(()=>{class f{}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:function(){return new Mn},providedIn:"root"}),f})();class Mn{parse(g){const d=new In(g);return new Nt(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(g){const d=`/${jn(g.root,!0)}`,m=function it(f){const g=Object.keys(f).map(d=>{const m=f[d];return Array.isArray(m)?m.map(T=>`${ie(d)}=${ie(T)}`).join("&"):`${ie(d)}=${ie(m)}`}).filter(d=>!!d);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${d}${m}${"string"==typeof g.fragment?`#${function z(f){return encodeURI(f)}(g.fragment)}`:""}`}}const Qn=new Mn;function Ut(f){return f.segments.map(g=>Je(g)).join("/")}function jn(f,g){if(!f.hasChildren())return Ut(f);if(g){const d=f.children[Ve]?jn(f.children[Ve],!1):"",m=[];return Object.entries(f.children).forEach(([T,k])=>{T!==Ve&&m.push(`${T}:${jn(k,!1)}`)}),m.length>0?`${d}(${m.join("//")})`:d}{const d=function It(f,g){let d=[];return Object.entries(f.children).forEach(([m,T])=>{m===Ve&&(d=d.concat(g(T,m)))}),Object.entries(f.children).forEach(([m,T])=>{m!==Ve&&(d=d.concat(g(T,m)))}),d}(f,(m,T)=>T===Ve?[jn(f.children[Ve],!1)]:[`${T}:${jn(m,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[Ve]?`${Ut(f)}/${d[0]}`:`${Ut(f)}/(${d.join("//")})`}}function we(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ie(f){return we(f).replace(/%3B/gi,";")}function ae(f){return we(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function de(f){return decodeURIComponent(f)}function $e(f){return de(f.replace(/\+/g,"%20"))}function Je(f){return`${ae(f.path)}${function lt(f){return Object.keys(f).map(g=>`;${ae(g)}=${ae(f[g])}`).join("")}(f.parameters)}`}const mt=/^[^\/()?;#]+/;function Cn(f){const g=f.match(mt);return g?g[0]:""}const Wn=/^[^\/()?;=#]+/,_t=/^[^=?&#]+/,fn=/^[^&#]+/;class In{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let m={};return this.peekStartsWith("(")&&(m=this.parseParens(!1)),(g.length>0||Object.keys(d).length>0)&&(m[Ve]=new St(g,d)),m}parseSegment(){const g=Cn(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(g),new zn(de(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const d=function Ht(f){const g=f.match(Wn);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let m="";if(this.consumeOptional("=")){const T=Cn(this.remaining);T&&(m=T,this.capture(m))}g[de(d)]=de(m)}parseQueryParam(g){const d=function Dn(f){const g=f.match(_t);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let m="";if(this.consumeOptional("=")){const N=function yt(f){const g=f.match(fn);return g?g[0]:""}(this.remaining);N&&(m=N,this.capture(m))}const T=$e(d),k=$e(m);if(g.hasOwnProperty(T)){let N=g[T];Array.isArray(N)||(N=[N],g[T]=N),N.push(k)}else g[T]=k}parseParens(g){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const m=Cn(this.remaining),T=this.remaining[m.length];if("/"!==T&&")"!==T&&";"!==T)throw new c.vHH(4010,!1);let k;m.indexOf(":")>-1?(k=m.slice(0,m.indexOf(":")),this.capture(k),this.capture(":")):g&&(k=Ve);const N=this.parseChildren();d[k]=1===Object.keys(N).length?N[Ve]:new St([],N),this.consumeOptional("//")}return d}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new c.vHH(4011,!1)}}function Zn(f){return f.segments.length>0?new St([],{[Ve]:f}):f}function Ln(f){const g={};for(const m of Object.keys(f.children)){const k=Ln(f.children[m]);if(m===Ve&&0===k.segments.length&&k.hasChildren())for(const[N,ce]of Object.entries(k.children))g[N]=ce;else(k.segments.length>0||k.hasChildren())&&(g[m]=k)}return function bt(f){if(1===f.numberOfChildren&&f.children[Ve]){const g=f.children[Ve];return new St(f.segments.concat(g.segments),g.children)}return f}(new St(f.segments,g))}function $n(f){return f instanceof Nt}function Ir(f){let g;const T=Zn(function d(k){const N={};for(const Me of k.children){const Ye=d(Me);N[Me.outlet]=Ye}const ce=new St(k.url,N);return k===f&&(g=ce),ce}(f.root));return g??T}function ro(f,g,d,m){let T=f;for(;T.parent;)T=T.parent;if(0===g.length)return Ar(T,T,T,d,m);const k=function xo(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new hr(!0,0,f);let g=0,d=!1;const m=f.reduce((T,k,N)=>{if("object"==typeof k&&null!=k){if(k.outlets){const ce={};return Object.entries(k.outlets).forEach(([Me,Ye])=>{ce[Me]="string"==typeof Ye?Ye.split("/"):Ye}),[...T,{outlets:ce}]}if(k.segmentPath)return[...T,k.segmentPath]}return"string"!=typeof k?[...T,k]:0===N?(k.split("/").forEach((ce,Me)=>{0==Me&&"."===ce||(0==Me&&""===ce?d=!0:".."===ce?g++:""!=ce&&T.push(ce))}),T):[...T,k]},[]);return new hr(d,g,m)}(g);if(k.toRoot())return Ar(T,T,new St([],{}),d,m);const N=function pr(f,g,d){if(f.isAbsolute)return new Wr(g,!0,0);if(!d)return new Wr(g,!1,NaN);if(null===d.parent)return new Wr(d,!0,0);const m=bn(f.commands[0])?0:1;return function Fr(f,g,d){let m=f,T=g,k=d;for(;k>T;){if(k-=T,m=m.parent,!m)throw new c.vHH(4005,!1);T=m.segments.length}return new Wr(m,!1,T-k)}(d,d.segments.length-1+m,f.numberOfDoubleDots)}(k,T,f),ce=N.processChildren?gr(N.segmentGroup,N.index,k.commands):Lr(N.segmentGroup,N.index,k.commands);return Ar(T,N.segmentGroup,ce,d,m)}function bn(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function Pn(f){return"object"==typeof f&&null!=f&&f.outlets}function Ar(f,g,d,m,T){let N,k={};m&&Object.entries(m).forEach(([Me,Ye])=>{k[Me]=Array.isArray(Ye)?Ye.map(Xe=>`${Xe}`):`${Ye}`}),N=f===g?d:oo(f,g,d);const ce=Zn(Ln(N));return new Nt(ce,k,T)}function oo(f,g,d){const m={};return Object.entries(f.children).forEach(([T,k])=>{m[T]=k===g?d:oo(k,g,d)}),new St(f.segments,m)}class hr{constructor(g,d,m){if(this.isAbsolute=g,this.numberOfDoubleDots=d,this.commands=m,g&&m.length>0&&bn(m[0]))throw new c.vHH(4003,!1);const T=m.find(Pn);if(T&&T!==Mr(m))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wr{constructor(g,d,m){this.segmentGroup=g,this.processChildren=d,this.index=m}}function Lr(f,g,d){if(f||(f=new St([],{})),0===f.segments.length&&f.hasChildren())return gr(f,g,d);const m=function No(f,g,d){let m=0,T=g;const k={match:!1,pathIndex:0,commandIndex:0};for(;T<f.segments.length;){if(m>=d.length)return k;const N=f.segments[T],ce=d[m];if(Pn(ce))break;const Me=`${ce}`,Ye=m<d.length-1?d[m+1]:null;if(T>0&&void 0===Me)break;if(Me&&Ye&&"object"==typeof Ye&&void 0===Ye.outlets){if(!so(Me,Ye,N))return k;m+=2}else{if(!so(Me,{},N))return k;m++}T++}return{match:!0,pathIndex:T,commandIndex:m}}(f,g,d),T=d.slice(m.commandIndex);if(m.match&&m.pathIndex<f.segments.length){const k=new St(f.segments.slice(0,m.pathIndex),{});return k.children[Ve]=new St(f.segments.slice(m.pathIndex),f.children),gr(k,0,T)}return m.match&&0===T.length?new St(f.segments,{}):m.match&&!f.hasChildren()?Zr(f,g,d):m.match?gr(f,0,T):Zr(f,g,d)}function gr(f,g,d){if(0===d.length)return new St(f.segments,{});{const m=function ko(f){return Pn(f[0])?f[0].outlets:{[Ve]:f}}(d),T={};if(!m[Ve]&&f.children[Ve]&&1===f.numberOfChildren&&0===f.children[Ve].segments.length){const k=gr(f.children[Ve],g,d);return new St(f.segments,k.children)}return Object.entries(m).forEach(([k,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(T[k]=Lr(f.children[k],g,N))}),Object.entries(f.children).forEach(([k,N])=>{void 0===m[k]&&(T[k]=N)}),new St(f.segments,T)}}function Zr(f,g,d){const m=f.segments.slice(0,g);let T=0;for(;T<d.length;){const k=d[T];if(Pn(k)){const Me=hn(k.outlets);return new St(m,Me)}if(0===T&&bn(d[0])){m.push(new zn(f.segments[g].path,io(d[0]))),T++;continue}const N=Pn(k)?k.outlets[Ve]:`${k}`,ce=T<d.length-1?d[T+1]:null;N&&ce&&bn(ce)?(m.push(new zn(N,io(ce))),T+=2):(m.push(new zn(N,{})),T++)}return new St(m,{})}function hn(f){const g={};return Object.entries(f).forEach(([d,m])=>{"string"==typeof m&&(m=[m]),null!==m&&(g[d]=Zr(new St([],{}),0,m))}),g}function io(f){const g={};return Object.entries(f).forEach(([d,m])=>g[d]=`${m}`),g}function so(f,g,d){return f==d.path&&qe(g,d.parameters)}const Vr="imperative";class On{constructor(g,d){this.id=g,this.url=d}}class Fo extends On{constructor(g,d,m="imperative",T=null){super(g,d),this.type=0,this.navigationTrigger=m,this.restoredState=T}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rr extends On{constructor(g,d,m){super(g,d),this.urlAfterRedirects=m,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Br extends On{constructor(g,d,m,T){super(g,d),this.reason=m,this.code=T,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bo extends On{constructor(g,d,m,T){super(g,d),this.reason=m,this.code=T,this.type=16}}class Sn extends On{constructor(g,d,m,T){super(g,d),this.error=m,this.target=T,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ao extends On{constructor(g,d,m,T){super(g,d),this.urlAfterRedirects=m,this.state=T,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zo extends On{constructor(g,d,m,T){super(g,d),this.urlAfterRedirects=m,this.state=T,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends On{constructor(g,d,m,T,k){super(g,d),this.urlAfterRedirects=m,this.state=T,this.shouldActivate=k,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class co extends On{constructor(g,d,m,T){super(g,d),this.urlAfterRedirects=m,this.state=T,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni extends On{constructor(g,d,m,T){super(g,d),this.urlAfterRedirects=m,this.state=T,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo{constructor(g){this.route=g,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lo{constructor(g){this.route=g,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uo{constructor(g){this.snapshot=g,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(g){this.snapshot=g,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(g){this.snapshot=g,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tt{constructor(g){this.snapshot=g,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(g,d,m){this.routerEvent=g,this.position=d,this.anchor=m,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ft,this.attachRef=null}}let Ft=(()=>{class f{constructor(){this.contexts=new Map}onChildOutletCreated(d,m){const T=this.getOrCreateContext(d);T.outlet=m,this.contexts.set(d,T)}onChildOutletDestroyed(d){const m=this.getContext(d);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const d=this.contexts;return this.contexts=new Map,d}onOutletReAttached(d){this.contexts=d}getOrCreateContext(d){let m=this.getContext(d);return m||(m=new mr,this.contexts.set(d,m)),m}getContext(d){return this.contexts.get(d)||null}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class So{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const d=this.pathFromRoot(g);return d.length>1?d[d.length-2]:null}children(g){const d=$r(g,this._root);return d?d.children.map(m=>m.value):[]}firstChild(g){const d=$r(g,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(g){const d=yr(g,this._root);return d.length<2?[]:d[d.length-2].children.map(T=>T.value).filter(T=>T!==g)}pathFromRoot(g){return yr(g,this._root).map(d=>d.value)}}function $r(f,g){if(f===g.value)return g;for(const d of g.children){const m=$r(f,d);if(m)return m}return null}function yr(f,g){if(f===g.value)return[g];for(const d of g.children){const m=yr(f,d);if(m.length)return m.unshift(g),m}return[]}class cr{constructor(g,d){this.value=g,this.children=d}toString(){return`TreeNode(${this.value})`}}function vr(f){const g={};return f&&f.children.forEach(d=>g[d.value.outlet]=d),g}class Ce extends So{constructor(g,d){super(g),this.snapshot=d,Gt(this,g)}toString(){return this.snapshot.toString()}}function Ue(f,g){const d=function ut(f,g){const N=new un([],{},{},"",{},Ve,g,null,{});return new Yn("",new cr(N,[]))}(0,g),m=new A.X([new zn("",{})]),T=new A.X({}),k=new A.X({}),N=new A.X({}),ce=new A.X(""),Me=new st(m,T,N,ce,k,Ve,g,d.root);return Me.snapshot=d.root,new Ce(new cr(Me,[]),d)}class st{constructor(g,d,m,T,k,N,ce,Me){this.urlSubject=g,this.paramsSubject=d,this.queryParamsSubject=m,this.fragmentSubject=T,this.dataSubject=k,this.outlet=N,this.component=ce,this._futureSnapshot=Me,this.title=this.dataSubject?.pipe((0,ne.U)(Ye=>Ye[Jt]))??(0,pe.of)(void 0),this.url=g,this.params=d,this.queryParams=m,this.fragment=T,this.data=k}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ne.U)(g=>Rn(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ne.U)(g=>Rn(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function At(f,g="emptyOnly"){const d=f.pathFromRoot;let m=0;if("always"!==g)for(m=d.length-1;m>=1;){const T=d[m],k=d[m-1];if(T.routeConfig&&""===T.routeConfig.path)m--;else{if(k.component)break;m--}}return function Xn(f){return f.reduce((g,d)=>({params:{...g.params,...d.params},data:{...g.data,...d.data},resolve:{...d.data,...g.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(m))}class un{get title(){return this.data?.[Jt]}constructor(g,d,m,T,k,N,ce,Me,Ye){this.url=g,this.params=d,this.queryParams=m,this.fragment=T,this.data=k,this.outlet=N,this.component=ce,this.routeConfig=Me,this._resolve=Ye}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(m=>m.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yn extends So{constructor(g,d){super(d),this.url=g,Gt(this,d)}toString(){return lr(this._root)}}function Gt(f,g){g.value._routerState=f,g.children.forEach(d=>Gt(f,d))}function lr(f){const g=f.children.length>0?` { ${f.children.map(lr).join(", ")} } `:"";return`${f.value}${g}`}function er(f){if(f.snapshot){const g=f.snapshot,d=f._futureSnapshot;f.snapshot=d,qe(g.queryParams,d.queryParams)||f.queryParamsSubject.next(d.queryParams),g.fragment!==d.fragment&&f.fragmentSubject.next(d.fragment),qe(g.params,d.params)||f.paramsSubject.next(d.params),function an(f,g){if(f.length!==g.length)return!1;for(let d=0;d<f.length;++d)if(!qe(f[d],g[d]))return!1;return!0}(g.url,d.url)||f.urlSubject.next(d.url),qe(g.data,d.data)||f.dataSubject.next(d.data)}else f.snapshot=f._futureSnapshot,f.dataSubject.next(f._futureSnapshot.data)}function ct(f,g){const d=qe(f.params,g.params)&&function Xt(f,g){return fr(f,g)&&f.every((d,m)=>qe(d.parameters,g[m].parameters))}(f.url,g.url);return d&&!(!f.parent!=!g.parent)&&(!f.parent||ct(f.parent,g.parent))}let Un=(()=>{class f{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ve,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Ft),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Cr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(d){if(d.name){const{firstChange:m,previousValue:T}=d.name;if(m)return;this.isTrackedInParentContexts(T)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(T)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(d){return this.parentContexts.getContext(d)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const d=this.parentContexts.getContext(this.name);d?.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,m){this.activated=d,this._activatedRoute=m,this.location.insert(d.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,m){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=d;const T=this.location,N=d.snapshot.component,ce=this.parentContexts.getOrCreateContext(this.name).children,Me=new _r(d,ce,T.injector);this.activated=T.createComponent(N,{index:T.length,injector:Me,environmentInjector:m??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275dir=c.lG2({type:f,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),f})();class _r{constructor(g,d,m){this.route=g,this.childContexts=d,this.parent=m}get(g,d){return g===st?this.route:g===Ft?this.childContexts:this.parent.get(g,d)}}const Cr=new c.OlP("");let sn=(()=>{class f{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(d){this.unsubscribeFromRouteData(d),this.subscribeToRouteData(d)}unsubscribeFromRouteData(d){this.outletDataSubscriptions.get(d)?.unsubscribe(),this.outletDataSubscriptions.delete(d)}subscribeToRouteData(d){const{activatedRoute:m}=d,T=Le([m.queryParams,m.params,m.data]).pipe((0,le.w)(([k,N,ce],Me)=>(ce={...k,...N,...ce},0===Me?(0,pe.of)(ce):Promise.resolve(ce)))).subscribe(k=>{if(!d.isActivated||!d.activatedComponentRef||d.activatedRoute!==m||null===m.component)return void this.unsubscribeFromRouteData(d);const N=(0,c.qFp)(m.component);if(N)for(const{templateName:ce}of N.inputs)d.activatedComponentRef.setInput(ce,k[ce]);else this.unsubscribeFromRouteData(d)});this.outletDataSubscriptions.set(d,T)}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac}),f})();function ur(f,g,d){if(d&&f.shouldReuseRoute(g.value,d.value.snapshot)){const m=d.value;m._futureSnapshot=g.value;const T=function Vn(f,g,d){return g.children.map(m=>{for(const T of d.children)if(f.shouldReuseRoute(m.value,T.value.snapshot))return ur(f,m,T);return ur(f,m)})}(f,g,d);return new cr(m,T)}{if(f.shouldAttach(g.value)){const k=f.retrieve(g.value);if(null!==k){const N=k.route;return N.value._futureSnapshot=g.value,N.children=g.children.map(ce=>ur(f,ce)),N}}const m=function Pr(f){return new st(new A.X(f.url),new A.X(f.params),new A.X(f.queryParams),new A.X(f.fragment),new A.X(f.data),f.outlet,f.component,f)}(g.value),T=g.children.map(k=>ur(f,k));return new cr(m,T)}}const Yr="ngNavigationCancelingError";function tr(f,g){const{redirectTo:d,navigationBehaviorOptions:m}=$n(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,T=wn(!1,0,g);return T.url=d,T.navigationBehaviorOptions=m,T}function wn(f,g,d){const m=new Error("NavigationCancelingError: "+(f||""));return m[Yr]=!0,m.cancellationCode=g,d&&(m.url=d),m}function po(f){return Mt(f)&&$n(f.url)}function Mt(f){return f&&f[Yr]}let nt=(()=>{class f{}return f.\u0275fac=function(d){return new(d||f)},f.\u0275cmp=c.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(d,m){1&d&&c._UZ(0,"router-outlet")},dependencies:[Un],encapsulation:2}),f})();function zt(f){const g=f.children&&f.children.map(zt),d=g?{...f,children:g}:{...f};return!d.component&&!d.loadComponent&&(g||d.loadChildren)&&d.outlet&&d.outlet!==Ve&&(d.component=nt),d}function Yt(f){return f.outlet||Ve}function Hn(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let g=f.parent;g;g=g.parent){const d=g.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class Pt{constructor(g,d,m,T,k){this.routeReuseStrategy=g,this.futureState=d,this.currState=m,this.forwardEvent=T,this.inputBindingEnabled=k}activate(g){const d=this.futureState._root,m=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,m,g),er(this.futureState.root),this.activateChildRoutes(d,m,g)}deactivateChildRoutes(g,d,m){const T=vr(d);g.children.forEach(k=>{const N=k.value.outlet;this.deactivateRoutes(k,T[N],m),delete T[N]}),Object.values(T).forEach(k=>{this.deactivateRouteAndItsChildren(k,m)})}deactivateRoutes(g,d,m){const T=g.value,k=d?d.value:null;if(T===k)if(T.component){const N=m.getContext(T.outlet);N&&this.deactivateChildRoutes(g,d,N.children)}else this.deactivateChildRoutes(g,d,m);else k&&this.deactivateRouteAndItsChildren(d,m)}deactivateRouteAndItsChildren(g,d){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,d):this.deactivateRouteAndOutlet(g,d)}detachAndStoreRouteSubtree(g,d){const m=d.getContext(g.value.outlet),T=m&&g.value.component?m.children:d,k=vr(g);for(const N of Object.keys(k))this.deactivateRouteAndItsChildren(k[N],T);if(m&&m.outlet){const N=m.outlet.detach(),ce=m.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:N,route:g,contexts:ce})}}deactivateRouteAndOutlet(g,d){const m=d.getContext(g.value.outlet),T=m&&g.value.component?m.children:d,k=vr(g);for(const N of Object.keys(k))this.deactivateRouteAndItsChildren(k[N],T);m&&(m.outlet&&(m.outlet.deactivate(),m.children.onOutletDeactivated()),m.attachRef=null,m.route=null)}activateChildRoutes(g,d,m){const T=vr(d);g.children.forEach(k=>{this.activateRoutes(k,T[k.value.outlet],m),this.forwardEvent(new Tt(k.value.snapshot))}),g.children.length&&this.forwardEvent(new jr(g.value.snapshot))}activateRoutes(g,d,m){const T=g.value,k=d?d.value:null;if(er(T),T===k)if(T.component){const N=m.getOrCreateContext(T.outlet);this.activateChildRoutes(g,d,N.children)}else this.activateChildRoutes(g,d,m);else if(T.component){const N=m.getOrCreateContext(T.outlet);if(this.routeReuseStrategy.shouldAttach(T.snapshot)){const ce=this.routeReuseStrategy.retrieve(T.snapshot);this.routeReuseStrategy.store(T.snapshot,null),N.children.onOutletReAttached(ce.contexts),N.attachRef=ce.componentRef,N.route=ce.route.value,N.outlet&&N.outlet.attach(ce.componentRef,ce.route.value),er(ce.route.value),this.activateChildRoutes(g,null,N.children)}else{const ce=Hn(T.snapshot);N.attachRef=null,N.route=T,N.injector=ce,N.outlet&&N.outlet.activateWith(T,N.injector),this.activateChildRoutes(g,null,N.children)}}else this.activateChildRoutes(g,null,m)}}class Qr{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class go{constructor(g,d){this.component=g,this.route=d}}function Ai(f,g,d){const m=f._root;return mo(m,g?g._root:null,d,[m.value])}function Xr(f,g){const d=Symbol(),m=g.get(f,d);return m===d?"function"!=typeof f||(0,c.Z0I)(f)?g.get(f):f:m}function mo(f,g,d,m,T={canDeactivateChecks:[],canActivateChecks:[]}){const k=vr(g);return f.children.forEach(N=>{(function gi(f,g,d,m,T={canDeactivateChecks:[],canActivateChecks:[]}){const k=f.value,N=g?g.value:null,ce=d?d.getContext(f.value.outlet):null;if(N&&k.routeConfig===N.routeConfig){const Me=function ri(f,g,d){if("function"==typeof d)return d(f,g);switch(d){case"pathParamsChange":return!fr(f.url,g.url);case"pathParamsOrQueryParamsChange":return!fr(f.url,g.url)||!qe(f.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ct(f,g)||!qe(f.queryParams,g.queryParams);default:return!ct(f,g)}}(N,k,k.routeConfig.runGuardsAndResolvers);Me?T.canActivateChecks.push(new Qr(m)):(k.data=N.data,k._resolvedData=N._resolvedData),mo(f,g,k.component?ce?ce.children:null:d,m,T),Me&&ce&&ce.outlet&&ce.outlet.isActivated&&T.canDeactivateChecks.push(new go(ce.outlet.component,N))}else N&&To(g,ce,T),T.canActivateChecks.push(new Qr(m)),mo(f,null,k.component?ce?ce.children:null:d,m,T)})(N,k[N.value.outlet],d,m.concat([N.value]),T),delete k[N.value.outlet]}),Object.entries(k).forEach(([N,ce])=>To(ce,d.getContext(N),T)),T}function To(f,g,d){const m=vr(f),T=f.value;Object.entries(m).forEach(([k,N])=>{To(N,T.component?g?g.children.getContext(k):null:g,d)}),d.canDeactivateChecks.push(new go(T.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,T))}function Bt(f){return"function"==typeof f}function y(f){return f instanceof _e||"EmptyError"===f?.name}const S=Symbol("INITIAL_VALUE");function O(){return(0,le.w)(f=>Le(f.map(g=>g.pipe(Pe(1),function Be(...f){const g=(0,se.yG)(f);return(0,Se.e)((d,m)=>{(g?ge(f,d,g):ge(f,d)).subscribe(m)})}(S)))).pipe((0,ne.U)(g=>{for(const d of g)if(!0!==d){if(d===S)return S;if(!1===d||d instanceof Nt)return d}return!0}),ke(g=>g!==S),Pe(1)))}function Ri(f){return(0,ue.z)(gt(g=>{if($n(g))throw tr(0,g)}),(0,ne.U)(g=>!0===g))}class nr{constructor(g){this.segmentGroup=g||null}}class ii{constructor(g){this.urlTree=g}}function gn(f){return Z(new nr(f))}function Pi(f){return Z(new ii(f))}class xi{constructor(g,d){this.urlSerializer=g,this.urlTree=d}noMatchError(g){return new c.vHH(4002,!1)}lineralizeSegments(g,d){let m=[],T=d.root;for(;;){if(m=m.concat(T.segments),0===T.numberOfChildren)return(0,pe.of)(m);if(T.numberOfChildren>1||!T.children[Ve])return Z(new c.vHH(4e3,!1));T=T.children[Ve]}}applyRedirectCommands(g,d,m){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),g,m)}applyRedirectCreateUrlTree(g,d,m,T){const k=this.createSegmentGroup(g,d.root,m,T);return new Nt(k,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(g,d){const m={};return Object.entries(g).forEach(([T,k])=>{if("string"==typeof k&&k.startsWith(":")){const ce=k.substring(1);m[T]=d[ce]}else m[T]=k}),m}createSegmentGroup(g,d,m,T){const k=this.createSegments(g,d.segments,m,T);let N={};return Object.entries(d.children).forEach(([ce,Me])=>{N[ce]=this.createSegmentGroup(g,Me,m,T)}),new St(k,N)}createSegments(g,d,m,T){return d.map(k=>k.path.startsWith(":")?this.findPosParam(g,k,T):this.findOrReturn(k,m))}findPosParam(g,d,m){const T=m[d.path.substring(1)];if(!T)throw new c.vHH(4001,!1);return T}findOrReturn(g,d){let m=0;for(const T of d){if(T.path===g.path)return d.splice(m),T;m++}return g}}const Jo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(f,g,d,m,T){const k=ki(f,g,d);return k.matched?(m=function Yo(f,g){return f.providers&&!f._injector&&(f._injector=(0,c.MMx)(f.providers,g,`Route: ${f.path}`)),f._injector??g}(g,m),function Ds(f,g,d,m){const T=g.canMatch;if(!T||0===T.length)return(0,pe.of)(!0);const k=T.map(N=>{const ce=Xr(N,f);return cn(function s(f){return f&&Bt(f.canMatch)}(ce)?ce.canMatch(g,d):f.runInContext(()=>ce(g,d)))});return(0,pe.of)(k).pipe(O(),Ri())}(m,g,d).pipe((0,ne.U)(N=>!0===N?k:{...Jo}))):(0,pe.of)(k)}function ki(f,g,d){if(""===g.path)return"full"===g.pathMatch&&(f.hasChildren()||d.length>0)?{...Jo}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const T=(g.matcher||kt)(d,f,g);if(!T)return{...Jo};const k={};Object.entries(T.posParams??{}).forEach(([ce,Me])=>{k[ce]=Me.path});const N=T.consumed.length>0?{...k,...T.consumed[T.consumed.length-1].parameters}:k;return{matched:!0,consumedSegments:T.consumed,remainingSegments:d.slice(T.consumed.length),parameters:N,positionalParamSegments:T.posParams??{}}}function Ni(f,g,d,m){return d.length>0&&function yi(f,g,d){return d.some(m=>Fi(f,g,m)&&Yt(m)!==Ve)}(f,d,m)?{segmentGroup:new St(g,bs(m,new St(d,f.children))),slicedSegments:[]}:0===d.length&&function Ca(f,g,d){return d.some(m=>Fi(f,g,m))}(f,d,m)?{segmentGroup:new St(f.segments,mi(f,0,d,m,f.children)),slicedSegments:d}:{segmentGroup:new St(f.segments,f.children),slicedSegments:d}}function mi(f,g,d,m,T){const k={};for(const N of m)if(Fi(f,d,N)&&!T[Yt(N)]){const ce=new St([],{});k[Yt(N)]=ce}return{...T,...k}}function bs(f,g){const d={};d[Ve]=g;for(const m of f)if(""===m.path&&Yt(m)!==Ve){const T=new St([],{});d[Yt(m)]=T}return d}function Fi(f,g,d){return(!(f.hasChildren()||g.length>0)||"full"!==d.pathMatch)&&""===d.path}class ba{constructor(g,d,m,T,k,N,ce){this.injector=g,this.configLoader=d,this.rootComponentType=m,this.config=T,this.urlTree=k,this.paramsInheritanceStrategy=N,this.urlSerializer=ce,this.allowRedirects=!0,this.applyRedirects=new xi(this.urlSerializer,this.urlTree)}noMatchError(g){return new c.vHH(4002,!1)}recognize(){const g=Ni(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,g,Ve).pipe(Vt(d=>{if(d instanceof ii)return this.allowRedirects=!1,this.urlTree=d.urlTree,this.match(d.urlTree);throw d instanceof nr?this.noMatchError(d):d}),(0,ne.U)(d=>{const m=new un([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ve,this.rootComponentType,null,{}),T=new cr(m,d),k=new Yn("",T),N=function zr(f,g,d=null,m=null){return ro(Ir(f),g,d,m)}(m,[],this.urlTree.queryParams,this.urlTree.fragment);return N.queryParams=this.urlTree.queryParams,k.url=this.urlSerializer.serialize(N),this.inheritParamsAndData(k._root),{state:k,tree:N}}))}match(g){return this.processSegmentGroup(this.injector,this.config,g.root,Ve).pipe(Vt(m=>{throw m instanceof nr?this.noMatchError(m):m}))}inheritParamsAndData(g){const d=g.value,m=At(d,this.paramsInheritanceStrategy);d.params=Object.freeze(m.params),d.data=Object.freeze(m.data),g.children.forEach(T=>this.inheritParamsAndData(T))}processSegmentGroup(g,d,m,T){return 0===m.segments.length&&m.hasChildren()?this.processChildren(g,d,m):this.processSegment(g,d,m,m.segments,T,!0)}processChildren(g,d,m){const T=[];for(const k of Object.keys(m.children))"primary"===k?T.unshift(k):T.push(k);return(0,q.D)(T).pipe(Dt(k=>{const N=m.children[k],ce=function ft(f,g){const d=f.filter(m=>Yt(m)===g);return d.push(...f.filter(m=>Yt(m)!==g)),d}(d,k);return this.processSegmentGroup(g,ce,N,k)}),function _n(f,g){return(0,Se.e)(function vn(f,g,d,m,T){return(k,N)=>{let ce=d,Me=g,Ye=0;k.subscribe((0,Fe.x)(N,Xe=>{const Lt=Ye++;Me=ce?f(Me,Xe,Lt):(ce=!0,Xe),m&&N.next(Me)},T&&(()=>{ce&&N.next(Me),N.complete()})))}}(f,g,arguments.length>=2,!0))}((k,N)=>(k.push(...N),k)),Ke(null),function Tn(f,g){const d=arguments.length>=2;return m=>m.pipe(f?ke((T,k)=>f(T,k,m)):L.y,tn(1),d?Ke(g):Kt(()=>new _e))}(),(0,je.z)(k=>{if(null===k)return gn(m);const N=Vi(k);return function Sa(f){f.sort((g,d)=>g.value.outlet===Ve?-1:d.value.outlet===Ve?1:g.value.outlet.localeCompare(d.value.outlet))}(N),(0,pe.of)(N)}))}processSegment(g,d,m,T,k,N){return(0,q.D)(d).pipe(Dt(ce=>this.processSegmentAgainstRoute(ce._injector??g,d,ce,m,T,k,N).pipe(Vt(Me=>{if(Me instanceof nr)return(0,pe.of)(null);throw Me}))),pt(ce=>!!ce),Vt(ce=>{if(y(ce))return function Da(f,g,d){return 0===g.length&&!f.children[d]}(m,T,k)?(0,pe.of)([]):gn(m);throw ce}))}processSegmentAgainstRoute(g,d,m,T,k,N,ce){return function Hc(f,g,d,m){return!!(Yt(f)===m||m!==Ve&&Fi(g,d,f))&&("**"===f.path||ki(g,f,d).matched)}(m,T,k,N)?void 0===m.redirectTo?this.matchSegmentAgainstRoute(g,T,m,k,N,ce):ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,T,d,m,k,N):gn(T):gn(T)}expandSegmentAgainstRouteUsingRedirect(g,d,m,T,k,N){return"**"===T.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,m,T,N):this.expandRegularSegmentAgainstRouteUsingRedirect(g,d,m,T,k,N)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,d,m,T){const k=this.applyRedirects.applyRedirectCommands([],m.redirectTo,{});return m.redirectTo.startsWith("/")?Pi(k):this.applyRedirects.lineralizeSegments(m,k).pipe((0,je.z)(N=>{const ce=new St(N,{});return this.processSegment(g,d,ce,N,T,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,d,m,T,k,N){const{matched:ce,consumedSegments:Me,remainingSegments:Ye,positionalParamSegments:Xe}=ki(d,T,k);if(!ce)return gn(d);const Lt=this.applyRedirects.applyRedirectCommands(Me,T.redirectTo,Xe);return T.redirectTo.startsWith("/")?Pi(Lt):this.applyRedirects.lineralizeSegments(T,Lt).pipe((0,je.z)(ir=>this.processSegment(g,m,d,ir.concat(Ye),N,!1)))}matchSegmentAgainstRoute(g,d,m,T,k,N){let ce;if("**"===m.path){const Me=T.length>0?Mr(T).parameters:{},Ye=new un(T,Me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(m),Yt(m),m.component??m._loadedComponent??null,m,I(m));ce=(0,pe.of)({snapshot:Ye,consumedSegments:[],remainingSegments:[]}),d.children={}}else ce=_a(d,m,T,g).pipe((0,ne.U)(({matched:Me,consumedSegments:Ye,remainingSegments:Xe,parameters:Lt})=>Me?{snapshot:new un(Ye,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(m),Yt(m),m.component??m._loadedComponent??null,m,I(m)),consumedSegments:Ye,remainingSegments:Xe}:null));return ce.pipe((0,le.w)(Me=>null===Me?gn(d):this.getChildConfig(g=m._injector??g,m,T).pipe((0,le.w)(({routes:Ye})=>{const Xe=m._loadedInjector??g,{snapshot:Lt,consumedSegments:ir,remainingSegments:Ci}=Me,{segmentGroup:ci,slicedSegments:li}=Ni(d,ir,Ci,Ye);if(0===li.length&&ci.hasChildren())return this.processChildren(Xe,Ye,ci).pipe((0,ne.U)(Ao=>null===Ao?null:[new cr(Lt,Ao)]));if(0===Ye.length&&0===li.length)return(0,pe.of)([new cr(Lt,[])]);const ks=Yt(m)===k;return this.processSegment(Xe,Ye,ci,li,ks?Ve:k,!0).pipe((0,ne.U)(Ao=>[new cr(Lt,Ao)]))}))))}getChildConfig(g,d,m){return d.children?(0,pe.of)({routes:d.children,injector:g}):d.loadChildren?void 0!==d._loadedRoutes?(0,pe.of)({routes:d._loadedRoutes,injector:d._loadedInjector}):function en(f,g,d,m){const T=g.canLoad;if(void 0===T||0===T.length)return(0,pe.of)(!0);const k=T.map(N=>{const ce=Xr(N,f);return cn(function E(f){return f&&Bt(f.canLoad)}(ce)?ce.canLoad(g,d):f.runInContext(()=>ce(g,d)))});return(0,pe.of)(k).pipe(O(),Ri())}(g,d,m).pipe((0,je.z)(T=>T?this.configLoader.loadChildren(g,d).pipe(gt(k=>{d._loadedRoutes=k.routes,d._loadedInjector=k.injector})):function Oi(f){return Z(wn(!1,3))}())):(0,pe.of)({routes:[],injector:g})}}function Li(f){const g=f.value.routeConfig;return g&&""===g.path}function Vi(f){const g=[],d=new Set;for(const m of f){if(!Li(m)){g.push(m);continue}const T=g.find(k=>m.value.routeConfig===k.value.routeConfig);void 0!==T?(T.children.push(...m.children),d.add(T)):g.push(m)}for(const m of d){const T=Vi(m.children);g.push(new cr(m.value,T))}return g.filter(m=>!d.has(m))}function _(f){return f.data||{}}function I(f){return f.resolve||{}}function qt(f){return"string"==typeof f.title||null===f.title}function at(f){return(0,le.w)(g=>{const d=f(g);return d?(0,q.D)(d).pipe((0,ne.U)(()=>g)):(0,pe.of)(g)})}const Rt=new c.OlP("ROUTES");let vt=(()=>{class f{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(d){if(this.componentLoaders.get(d))return this.componentLoaders.get(d);if(d._loadedComponent)return(0,pe.of)(d._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(d);const m=cn(d.loadComponent()).pipe((0,ne.U)(nn),gt(k=>{this.onLoadEndListener&&this.onLoadEndListener(d),d._loadedComponent=k}),sr(()=>{this.componentLoaders.delete(d)})),T=new Ae(m,()=>new Oe.x).pipe(We());return this.componentLoaders.set(d,T),T}loadChildren(d,m){if(this.childrenLoaders.get(m))return this.childrenLoaders.get(m);if(m._loadedRoutes)return(0,pe.of)({routes:m._loadedRoutes,injector:m._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(m);const k=this.loadModuleFactoryOrRoutes(m.loadChildren).pipe((0,ne.U)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(m);let Me,Ye;return Array.isArray(ce)?Ye=ce:(Me=ce.create(d).injector,Ye=Me.get(Rt,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:Ye.map(zt),injector:Me}}),sr(()=>{this.childrenLoaders.delete(m)})),N=new Ae(k,()=>new Oe.x).pipe(We());return this.childrenLoaders.set(m,N),N}loadModuleFactoryOrRoutes(d){return cn(d()).pipe((0,ne.U)(nn),(0,je.z)(m=>m instanceof c.YKP||Array.isArray(m)?(0,pe.of)(m):(0,q.D)(this.compiler.compileModuleAsync(m))))}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function nn(f){return function Ot(f){return f&&"object"==typeof f&&"default"in f}(f)?f.default:f}let mn=(()=>{class f{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Oe.x,this.configLoader=(0,c.f3M)(vt),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Bn),this.rootContexts=(0,c.f3M)(Ft),this.inputBindingEnabled=null!==(0,c.f3M)(Cr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=T=>this.events.next(new Lo(T)),this.configLoader.onLoadStartListener=T=>this.events.next(new lo(T))}complete(){this.transitions?.complete()}handleNavigationRequest(d){const m=++this.navigationId;this.transitions?.next({...this.transitions.value,...d,id:m})}setupNavigations(d){return this.transitions=new A.X({id:0,currentUrlTree:d.currentUrlTree,currentRawUrl:d.currentUrlTree,extractedUrl:d.urlHandlingStrategy.extract(d.currentUrlTree),urlAfterRedirects:d.urlHandlingStrategy.extract(d.currentUrlTree),rawUrl:d.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vr,restoredState:null,currentSnapshot:d.routerState.snapshot,targetSnapshot:null,currentRouterState:d.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ke(m=>0!==m.id),(0,ne.U)(m=>({...m,extractedUrl:d.urlHandlingStrategy.extract(m.rawUrl)})),(0,le.w)(m=>{let T=!1,k=!1;return(0,pe.of)(m).pipe(gt(N=>{this.currentNavigation={id:N.id,initialUrl:N.rawUrl,extractedUrl:N.extractedUrl,trigger:N.source,extras:N.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,le.w)(N=>{const ce=d.browserUrlTree.toString(),Me=!d.navigated||N.extractedUrl.toString()!==ce||ce!==d.currentUrlTree.toString();if(!Me&&"reload"!==(N.extras.onSameUrlNavigation??d.onSameUrlNavigation)){const Xe="";return this.events.next(new bo(N.id,d.serializeUrl(m.rawUrl),Xe,0)),d.rawUrlTree=N.rawUrl,N.resolve(null),te.E}if(d.urlHandlingStrategy.shouldProcessUrl(N.rawUrl))return rr(N.source)&&(d.browserUrlTree=N.extractedUrl),(0,pe.of)(N).pipe((0,le.w)(Xe=>{const Lt=this.transitions?.getValue();return this.events.next(new Fo(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),Xe.source,Xe.restoredState)),Lt!==this.transitions?.getValue()?te.E:Promise.resolve(Xe)}),function D(f,g,d,m,T,k){return(0,je.z)(N=>function Ss(f,g,d,m,T,k,N="emptyOnly"){return new ba(f,g,d,m,T,N,k).recognize()}(f,g,d,m,N.extractedUrl,T,k).pipe((0,ne.U)(({state:ce,tree:Me})=>({...N,targetSnapshot:ce,urlAfterRedirects:Me}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,d.config,this.urlSerializer,d.paramsInheritanceStrategy),gt(Xe=>{if(m.targetSnapshot=Xe.targetSnapshot,m.urlAfterRedirects=Xe.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Xe.urlAfterRedirects},"eager"===d.urlUpdateStrategy){if(!Xe.extras.skipLocationChange){const ir=d.urlHandlingStrategy.merge(Xe.urlAfterRedirects,Xe.rawUrl);d.setBrowserUrl(ir,Xe)}d.browserUrlTree=Xe.urlAfterRedirects}const Lt=new ao(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot);this.events.next(Lt)}));if(Me&&d.urlHandlingStrategy.shouldProcessUrl(d.rawUrlTree)){const{id:Xe,extractedUrl:Lt,source:ir,restoredState:Ci,extras:ci}=N,li=new Fo(Xe,this.urlSerializer.serialize(Lt),ir,Ci);this.events.next(li);const ks=Ue(0,this.rootComponentType).snapshot;return m={...N,targetSnapshot:ks,urlAfterRedirects:Lt,extras:{...ci,skipLocationChange:!1,replaceUrl:!1}},(0,pe.of)(m)}{const Xe="";return this.events.next(new bo(N.id,d.serializeUrl(m.extractedUrl),Xe,1)),d.rawUrlTree=N.rawUrl,N.resolve(null),te.E}}),gt(N=>{const ce=new Zo(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(ce)}),(0,ne.U)(N=>m={...N,guards:Ai(N.targetSnapshot,N.currentSnapshot,this.rootContexts)}),function x(f,g){return(0,je.z)(d=>{const{targetSnapshot:m,currentSnapshot:T,guards:{canActivateChecks:k,canDeactivateChecks:N}}=d;return 0===N.length&&0===k.length?(0,pe.of)({...d,guardsResult:!0}):function G(f,g,d,m){return(0,q.D)(f).pipe((0,je.z)(T=>function Wt(f,g,d,m,T){const k=g&&g.routeConfig?g.routeConfig.canDeactivate:null;if(!k||0===k.length)return(0,pe.of)(!0);const N=k.map(ce=>{const Me=Hn(g)??T,Ye=Xr(ce,Me);return cn(function a(f){return f&&Bt(f.canDeactivate)}(Ye)?Ye.canDeactivate(f,g,d,m):Me.runInContext(()=>Ye(f,g,d,m))).pipe(pt())});return(0,pe.of)(N).pipe(O())}(T.component,T.route,d,g,m)),pt(T=>!0!==T,!0))}(N,m,T,f).pipe((0,je.z)(ce=>ce&&function oi(f){return"boolean"==typeof f}(ce)?function U(f,g,d,m){return(0,q.D)(g).pipe(Dt(T=>ge(function Ee(f,g){return null!==f&&g&&g(new uo(f)),(0,pe.of)(!0)}(T.route.parent,m),function oe(f,g){return null!==f&&g&&g(new fo(f)),(0,pe.of)(!0)}(T.route,m),function Et(f,g,d){const m=g[g.length-1],k=g.slice(0,g.length-1).reverse().map(N=>function pi(f){const g=f.routeConfig?f.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:f,guards:g}:null}(N)).filter(N=>null!==N).map(N=>he(()=>{const ce=N.guards.map(Me=>{const Ye=Hn(N.node)??d,Xe=Xr(Me,Ye);return cn(function C(f){return f&&Bt(f.canActivateChild)}(Xe)?Xe.canActivateChild(m,f):Ye.runInContext(()=>Xe(m,f))).pipe(pt())});return(0,pe.of)(ce).pipe(O())}));return(0,pe.of)(k).pipe(O())}(f,T.path,d),function Ze(f,g,d){const m=g.routeConfig?g.routeConfig.canActivate:null;if(!m||0===m.length)return(0,pe.of)(!0);const T=m.map(k=>he(()=>{const N=Hn(g)??d,ce=Xr(k,N);return cn(function b(f){return f&&Bt(f.canActivate)}(ce)?ce.canActivate(g,f):N.runInContext(()=>ce(g,f))).pipe(pt())}));return(0,pe.of)(T).pipe(O())}(f,T.route,d))),pt(T=>!0!==T,!0))}(m,k,f,g):(0,pe.of)(ce)),(0,ne.U)(ce=>({...d,guardsResult:ce})))})}(this.environmentInjector,N=>this.events.next(N)),gt(N=>{if(m.guardsResult=N.guardsResult,$n(N.guardsResult))throw tr(0,N.guardsResult);const ce=new ti(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot,!!N.guardsResult);this.events.next(ce)}),ke(N=>!!N.guardsResult||(d.restoreHistory(N),this.cancelNavigationTransition(N,"",3),!1)),at(N=>{if(N.guards.canActivateChecks.length)return(0,pe.of)(N).pipe(gt(ce=>{const Me=new co(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Me)}),(0,le.w)(ce=>{let Me=!1;return(0,pe.of)(ce).pipe(function P(f,g){return(0,je.z)(d=>{const{targetSnapshot:m,guards:{canActivateChecks:T}}=d;if(!T.length)return(0,pe.of)(d);let k=0;return(0,q.D)(T).pipe(Dt(N=>function W(f,g,d,m){const T=f.routeConfig,k=f._resolve;return void 0!==T?.title&&!qt(T)&&(k[Jt]=T.title),function be(f,g,d,m){const T=function Te(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}(f);if(0===T.length)return(0,pe.of)({});const k={};return(0,q.D)(T).pipe((0,je.z)(N=>function Qe(f,g,d,m){const T=Hn(g)??m,k=Xr(f,T);return cn(k.resolve?k.resolve(g,d):T.runInContext(()=>k(g,d)))}(f[N],g,d,m).pipe(pt(),gt(ce=>{k[N]=ce}))),tn(1),function Zt(f){return(0,ne.U)(()=>f)}(k),Vt(N=>y(N)?te.E:Z(N)))}(k,f,g,m).pipe((0,ne.U)(N=>(f._resolvedData=N,f.data=At(f,d).resolve,T&&qt(T)&&(f.data[Jt]=T.title),null)))}(N.route,m,f,g)),gt(()=>k++),tn(1),(0,je.z)(N=>k===T.length?(0,pe.of)(d):te.E))})}(d.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>Me=!0,complete:()=>{Me||(d.restoreHistory(ce),this.cancelNavigationTransition(ce,"",2))}}))}),gt(ce=>{const Me=new ni(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Me)}))}),at(N=>{const ce=Me=>{const Ye=[];Me.routeConfig?.loadComponent&&!Me.routeConfig._loadedComponent&&Ye.push(this.configLoader.loadComponent(Me.routeConfig).pipe(gt(Xe=>{Me.component=Xe}),(0,ne.U)(()=>{})));for(const Xe of Me.children)Ye.push(...ce(Xe));return Ye};return Le(ce(N.targetSnapshot.root)).pipe(Ke(),Pe(1))}),at(()=>this.afterPreactivation()),(0,ne.U)(N=>{const ce=function ho(f,g,d){const m=ur(f,g._root,d?d._root:void 0);return new Ce(m,g)}(d.routeReuseStrategy,N.targetSnapshot,N.currentRouterState);return m={...N,targetRouterState:ce}}),gt(N=>{d.currentUrlTree=N.urlAfterRedirects,d.rawUrlTree=d.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl),d.routerState=N.targetRouterState,"deferred"===d.urlUpdateStrategy&&(N.extras.skipLocationChange||d.setBrowserUrl(d.rawUrlTree,N),d.browserUrlTree=N.urlAfterRedirects)}),((f,g,d,m)=>(0,ne.U)(T=>(new Pt(g,T.targetRouterState,T.currentRouterState,d,m).activate(f),T)))(this.rootContexts,d.routeReuseStrategy,N=>this.events.next(N),this.inputBindingEnabled),Pe(1),gt({next:N=>{T=!0,this.lastSuccessfulNavigation=this.currentNavigation,d.navigated=!0,this.events.next(new Rr(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(d.currentUrlTree))),d.titleStrategy?.updateTitle(N.targetRouterState.snapshot),N.resolve(!0)},complete:()=>{T=!0}}),sr(()=>{T||k||this.cancelNavigationTransition(m,"",1),this.currentNavigation?.id===m.id&&(this.currentNavigation=null)}),Vt(N=>{if(k=!0,Mt(N)){po(N)||(d.navigated=!0,d.restoreHistory(m,!0));const ce=new Br(m.id,this.urlSerializer.serialize(m.extractedUrl),N.message,N.cancellationCode);if(this.events.next(ce),po(N)){const Me=d.urlHandlingStrategy.merge(N.url,d.rawUrlTree),Ye={skipLocationChange:m.extras.skipLocationChange,replaceUrl:"eager"===d.urlUpdateStrategy||rr(m.source)};d.scheduleNavigation(Me,Vr,null,Ye,{resolve:m.resolve,reject:m.reject,promise:m.promise})}else m.resolve(!1)}else{d.restoreHistory(m,!0);const ce=new Sn(m.id,this.urlSerializer.serialize(m.extractedUrl),N,m.targetSnapshot??void 0);this.events.next(ce);try{m.resolve(d.errorHandler(N))}catch(Me){m.reject(Me)}}return te.E}))}))}cancelNavigationTransition(d,m,T){const k=new Br(d.id,this.urlSerializer.serialize(d.extractedUrl),m,T);this.events.next(k),d.resolve(!1)}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function rr(f){return f!==Vr}let yn=(()=>{class f{buildTitle(d){let m,T=d.root;for(;void 0!==T;)m=this.getResolvedTitleForRoute(T)??m,T=T.children.find(k=>k.outlet===Ve);return m}getResolvedTitleForRoute(d){return d.data[Jt]}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:function(){return(0,c.f3M)(Vo)},providedIn:"root"}),f})(),Vo=(()=>{class f extends yn{constructor(d){super(),this.title=d}updateTitle(d){const m=this.buildTitle(d);void 0!==m&&this.title.setTitle(m)}}return f.\u0275fac=function(d){return new(d||f)(c.LFG(dn.Dx))},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Or=(()=>{class f{}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:function(){return(0,c.f3M)(or)},providedIn:"root"}),f})();class Mo{shouldDetach(g){return!1}store(g,d){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,d){return g.routeConfig===d.routeConfig}}let or=(()=>{class f extends Mo{}return f.\u0275fac=function(){let g;return function(m){return(g||(g=c.n5z(f)))(m||f)}}(),f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Ur=new c.OlP("",{providedIn:"root",factory:()=>({})});let Gc=(()=>{class f{}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:function(){return(0,c.f3M)(Ea)},providedIn:"root"}),f})(),Ea=(()=>{class f{shouldProcessUrl(d){return!0}extract(d){return d}merge(d,m){return d}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();var Dr=(()=>((Dr=Dr||{})[Dr.COMPLETE=0]="COMPLETE",Dr[Dr.FAILED=1]="FAILED",Dr[Dr.REDIRECTING=2]="REDIRECTING",Dr))();function Es(f,g){f.events.pipe(ke(d=>d instanceof Rr||d instanceof Br||d instanceof Sn||d instanceof bo),(0,ne.U)(d=>d instanceof Rr||d instanceof bo?Dr.COMPLETE:d instanceof Br&&(0===d.code||1===d.code)?Dr.REDIRECTING:Dr.FAILED),ke(d=>d!==Dr.REDIRECTING),Pe(1)).subscribe(()=>{g()})}function zc(f){throw f}function ht(f,g,d){return g.parse("/")}const wa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},md={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class f{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Ur,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||zc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ht,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Gc),this.routeReuseStrategy=(0,c.f3M)(Or),this.titleStrategy=(0,c.f3M)(yn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Rt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(mn),this.urlSerializer=(0,c.f3M)(Bn),this.location=(0,c.f3M)(me.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Cr,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ue(0,null),this.navigationTransitions.setupNavigations(this).subscribe(d=>{this.lastSuccessfulId=d.id,this.currentPageId=this.browserPageId??0},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)})}resetRootComponentType(d){this.routerState.root.component=d,this.navigationTransitions.rootComponentType=d}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const d=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vr,d)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const m="popstate"===d.type?"popstate":"hashchange";"popstate"===m&&setTimeout(()=>{this.navigateToSyncWithBrowser(d.url,m,d.state)},0)}))}navigateToSyncWithBrowser(d,m,T){const k={replaceUrl:!0},N=T?.navigationId?T:null;if(T){const Me={...T};delete Me.navigationId,delete Me.\u0275routerPageId,0!==Object.keys(Me).length&&(k.state=Me)}const ce=this.parseUrl(d);this.scheduleNavigation(ce,m,N,k)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(d){this.config=d.map(zt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(d,m={}){const{relativeTo:T,queryParams:k,fragment:N,queryParamsHandling:ce,preserveFragment:Me}=m,Ye=Me?this.currentUrlTree.fragment:N;let Lt,Xe=null;switch(ce){case"merge":Xe={...this.currentUrlTree.queryParams,...k};break;case"preserve":Xe=this.currentUrlTree.queryParams;break;default:Xe=k||null}null!==Xe&&(Xe=this.removeEmptyProps(Xe));try{Lt=Ir(T?T.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof d[0]||!d[0].startsWith("/"))&&(d=[]),Lt=this.currentUrlTree.root}return ro(Lt,d,Xe,Ye??null)}navigateByUrl(d,m={skipLocationChange:!1}){const T=$n(d)?d:this.parseUrl(d),k=this.urlHandlingStrategy.merge(T,this.rawUrlTree);return this.scheduleNavigation(k,Vr,null,m)}navigate(d,m={skipLocationChange:!1}){return function Wc(f){for(let g=0;g<f.length;g++)if(null==f[g])throw new c.vHH(4008,!1)}(d),this.navigateByUrl(this.createUrlTree(d,m),m)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let m;try{m=this.urlSerializer.parse(d)}catch(T){m=this.malformedUriErrorHandler(T,this.urlSerializer,d)}return m}isActive(d,m){let T;if(T=!0===m?{...wa}:!1===m?{...md}:m,$n(d))return on(this.currentUrlTree,d,T);const k=this.parseUrl(d);return on(this.currentUrlTree,k,T)}removeEmptyProps(d){return Object.keys(d).reduce((m,T)=>{const k=d[T];return null!=k&&(m[T]=k),m},{})}scheduleNavigation(d,m,T,k,N){if(this.disposed)return Promise.resolve(!1);let ce,Me,Ye;N?(ce=N.resolve,Me=N.reject,Ye=N.promise):Ye=new Promise((Lt,ir)=>{ce=Lt,Me=ir});const Xe=this.pendingTasks.add();return Es(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Xe))}),this.navigationTransitions.handleNavigationRequest({source:m,restoredState:T,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:d,extras:k,resolve:ce,reject:Me,promise:Ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ye.catch(Lt=>Promise.reject(Lt))}setBrowserUrl(d,m){const T=this.urlSerializer.serialize(d);if(this.location.isCurrentPathEqualTo(T)||m.extras.replaceUrl){const N={...m.extras.state,...this.generateNgRouterState(m.id,this.browserPageId)};this.location.replaceState(T,"",N)}else{const k={...m.extras.state,...this.generateNgRouterState(m.id,(this.browserPageId??0)+1)};this.location.go(T,"",k)}}restoreHistory(d,m=!1){if("computed"===this.canceledNavigationResolution){const k=this.currentPageId-(this.browserPageId??this.currentPageId);0!==k?this.location.historyGo(k):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===k&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(m&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(d,m){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:m}:{navigationId:d}}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Bi=(()=>{class f{constructor(d,m,T,k,N,ce){this.router=d,this.route=m,this.tabIndexAttribute=T,this.renderer=k,this.el=N,this.locationStrategy=ce,this.href=null,this.commands=null,this.onChanges=new Oe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Me=N.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Me||"area"===Me,this.isAnchorElement?this.subscription=d.events.subscribe(Ye=>{Ye instanceof Rr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(d){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",d)}ngOnChanges(d){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(d,m,T,k,N){return!!(null===this.urlTree||this.isAnchorElement&&(0!==d||m||T||k||N||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const d=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",d)}applyAttributeValue(d,m){const T=this.renderer,k=this.el.nativeElement;null!==m?T.setAttribute(k,d,m):T.removeAttribute(k,d)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return f.\u0275fac=function(d){return new(d||f)(c.Y36(xr),c.Y36(st),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(me.S$))},f.\u0275dir=c.lG2({type:f,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(d,m){1&d&&c.NdJ("click",function(k){return m.onClick(k.button,k.ctrlKey,k.shiftKey,k.altKey,k.metaKey)}),2&d&&c.uIk("target",m.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]}),f})(),ws=(()=>{class f{get isActive(){return this._isActive}constructor(d,m,T,k,N){this.router=d,this.element=m,this.renderer=T,this.cdr=k,this.link=N,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=d.events.subscribe(ce=>{ce instanceof Rr&&this.update()})}ngAfterContentInit(){(0,pe.of)(this.links.changes,(0,pe.of)(null)).pipe((0,ve.J)()).subscribe(d=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const d=[...this.links.toArray(),this.link].filter(m=>!!m).map(m=>m.onChanges);this.linkInputChangesSubscription=(0,q.D)(d).pipe((0,ve.J)()).subscribe(m=>{this._isActive!==this.isLinkActive(this.router)(m)&&this.update()})}set routerLinkActive(d){const m=Array.isArray(d)?d:d.split(" ");this.classes=m.filter(T=>!!T)}ngOnChanges(d){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const d=this.hasActiveLinks();this._isActive!==d&&(this._isActive=d,this.cdr.markForCheck(),this.classes.forEach(m=>{d?this.renderer.addClass(this.element.nativeElement,m):this.renderer.removeClass(this.element.nativeElement,m)}),d&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(d))})}isLinkActive(d){const m=function si(f){return!!f.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return T=>!!T.urlTree&&d.isActive(T.urlTree,m)}hasActiveLinks(){const d=this.isLinkActive(this.router);return this.link&&d(this.link)||this.links.some(d)}}return f.\u0275fac=function(d){return new(d||f)(c.Y36(xr),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Bi,8))},f.\u0275dir=c.lG2({type:f,selectors:[["","routerLinkActive",""]],contentQueries:function(d,m,T){if(1&d&&c.Suo(T,Bi,5),2&d){let k;c.iGM(k=c.CRH())&&(m.links=k)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]}),f})();class Ta{}let Zc=(()=>{class f{constructor(d,m,T,k,N){this.router=d,this.injector=T,this.preloadingStrategy=k,this.loader=N}setUpPreloading(){this.subscription=this.router.events.pipe(ke(d=>d instanceof Rr),Dt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,m){const T=[];for(const k of m){k.providers&&!k._injector&&(k._injector=(0,c.MMx)(k.providers,d,`Route: ${k.path}`));const N=k._injector??d,ce=k._loadedInjector??N;(k.loadChildren&&!k._loadedRoutes&&void 0===k.canLoad||k.loadComponent&&!k._loadedComponent)&&T.push(this.preloadConfig(N,k)),(k.children||k._loadedRoutes)&&T.push(this.processRoutes(ce,k.children??k._loadedRoutes))}return(0,q.D)(T).pipe((0,ve.J)())}preloadConfig(d,m){return this.preloadingStrategy.preload(m,()=>{let T;T=m.loadChildren&&void 0===m.canLoad?this.loader.loadChildren(d,m):(0,pe.of)(null);const k=T.pipe((0,je.z)(N=>null===N?(0,pe.of)(void 0):(m._loadedRoutes=N.routes,m._loadedInjector=N.injector,this.processRoutes(N.injector??d,N.routes))));if(m.loadComponent&&!m._loadedComponent){const N=this.loader.loadComponent(m);return(0,q.D)([k,N]).pipe((0,ve.J)())}return k})}}return f.\u0275fac=function(d){return new(d||f)(c.LFG(xr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Ta),c.LFG(vt))},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Ts=new c.OlP("");let xe=(()=>{class f{constructor(d,m,T,k,N={}){this.urlSerializer=d,this.transitions=m,this.viewportScroller=T,this.zone=k,this.options=N,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},N.scrollPositionRestoration=N.scrollPositionRestoration||"disabled",N.anchorScrolling=N.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof Rr?(this.lastId=d.id,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.urlAfterRedirects).fragment)):d instanceof bo&&0===d.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof En&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,m){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new En(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,m))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return f.\u0275fac=function(d){c.$Z()},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac}),f})();function yo(f,g){return{\u0275kind:f,\u0275providers:g}}function $i(){const f=(0,c.f3M)(c.zs3);return g=>{const d=f.get(c.z2F);if(g!==d.components[0])return;const m=f.get(xr),T=f.get(Ui);1===f.get(Is)&&m.initialNavigation(),f.get(vo,null,c.XFs.Optional)?.setUpPreloading(),f.get(Ts,null,c.XFs.Optional)?.init(),m.resetRootComponentType(d.componentTypes[0]),T.closed||(T.next(),T.complete(),T.unsubscribe())}}const Ui=new c.OlP("",{factory:()=>new Oe.x}),Is=new c.OlP("",{providedIn:"root",factory:()=>1}),vo=new c.OlP("");function Ia(f){return yo(0,[{provide:vo,useExisting:Zc},{provide:Ta,useExisting:f}])}const Ra=new c.OlP("ROUTER_FORROOT_GUARD"),As=[me.Ye,{provide:Bn,useClass:Mn},xr,Ft,{provide:st,useFactory:function Ms(f){return f.routerState.root},deps:[xr]},vt,[]];function Rs(){return new c.PXZ("Router",xr)}let Pa=(()=>{class f{constructor(d){}static forRoot(d,m){return{ngModule:f,providers:[As,[],{provide:Rt,multi:!0,useValue:d},{provide:Ra,useFactory:Os,deps:[[xr,new c.FiY,new c.tp0]]},{provide:Ur,useValue:m||{}},m?.useHash?{provide:me.S$,useClass:me.Do}:{provide:me.S$,useClass:me.b0},{provide:Ts,useFactory:()=>{const f=(0,c.f3M)(me.EM),g=(0,c.f3M)(c.R0b),d=(0,c.f3M)(Ur),m=(0,c.f3M)(mn),T=(0,c.f3M)(Bn);return d.scrollOffset&&f.setOffset(d.scrollOffset),new xe(T,m,f,g,d)}},m?.preloadingStrategy?Ia(m.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Rs},m?.initialNavigation?xa(m):[],m?.bindToComponentInputs?yo(8,[sn,{provide:Cr,useExisting:sn}]).\u0275providers:[],[{provide:xs,useFactory:$i},{provide:c.tb,multi:!0,useExisting:xs}]]}}static forChild(d){return{ngModule:f,providers:[{provide:Rt,multi:!0,useValue:d}]}}}return f.\u0275fac=function(d){return new(d||f)(c.LFG(Ra,8))},f.\u0275mod=c.oAB({type:f}),f.\u0275inj=c.cJS({}),f})();function Os(f){return"guarded"}function xa(f){return["disabled"===f.initialNavigation?yo(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const g=(0,c.f3M)(xr);return()=>{g.setUpLocationChangeListener()}}},{provide:Is,useValue:2}]).\u0275providers:[],"enabledBlocking"===f.initialNavigation?yo(2,[{provide:Is,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:g=>{const d=g.get(me.V_,Promise.resolve());return()=>d.then(()=>new Promise(m=>{const T=g.get(xr),k=g.get(Ui);Es(T,()=>{m(!0)}),g.get(mn).afterPreactivation=()=>(m(!0),k.closed?(0,pe.of)(void 0):k),T.initialNavigation()}))}}]).\u0275providers:[]]}const xs=new c.OlP("")},9659:(tt,J,M)=>{"use strict";M.d(J,{Z:()=>ve});var c=M(5861);const F=new WeakMap,Q=new WeakMap,K=new WeakMap,q=Symbol("anyProducer"),pe=Promise.resolve(),A=Symbol("listenerAdded"),j=Symbol("listenerRemoved");let L=!1,X=!1;function se(ge){if("string"!=typeof ge&&"symbol"!=typeof ge&&"number"!=typeof ge)throw new TypeError("`eventName` must be a string, symbol, or number")}function De(ge){if("function"!=typeof ge)throw new TypeError("listener must be a function")}function Fe(ge,H){const he=Q.get(ge);if(he.has(H))return he.get(H)}function ye(ge,H){const he="string"==typeof H||"symbol"==typeof H||"number"==typeof H?H:q,ue=K.get(ge);if(ue.has(he))return ue.get(he)}function ze(ge,H){H=Array.isArray(H)?H:[H];let he=!1,ue=()=>{},Z=[];const te={enqueue($){Z.push($),ue()},finish(){he=!0,ue()}};for(const $ of H){let Se=ye(ge,$);Se||(Se=new Set,K.get(ge).set($,Se)),Se.add(te)}return{next(){var $=this;return(0,c.Z)(function*(){return Z?0===Z.length?he?(Z=void 0,$.next()):(yield new Promise(Se=>{ue=Se}),$.next()):{done:!1,value:yield Z.shift()}:{done:!0}})()},return($){var Se=arguments;return(0,c.Z)(function*(){Z=void 0;for(const We of H){const Ae=ye(ge,We);Ae&&(Ae.delete(te),0===Ae.size&&K.get(ge).delete(We))}return ue(),Se.length>0?{done:!0,value:yield $}:{done:!0}})()},[Symbol.asyncIterator](){return this}}}function B(ge){if(void 0===ge)return re;if(!Array.isArray(ge))throw new TypeError("`methodNames` must be an array of strings");for(const H of ge)if(!re.includes(H))throw"string"!=typeof H?new TypeError("`methodNames` element must be a string"):new Error(`${H} is not Emittery method`);return ge}const Y=ge=>ge===A||ge===j;function _e(ge,H,he){if(Y(H))try{L=!0,ge.emit(H,he)}finally{L=!1}}class ve{static mixin(H,he){return he=B(he),ue=>{if("function"!=typeof ue)throw new TypeError("`target` must be function");for(const $ of he)if(void 0!==ue.prototype[$])throw new Error(`The property \`${$}\` already exists on \`target\``);Object.defineProperty(ue.prototype,H,{enumerable:!1,get:function Z(){return Object.defineProperty(this,H,{enumerable:!1,value:new ve}),this[H]}});const te=$=>function(...Se){return this[H][$](...Se)};for(const $ of he)Object.defineProperty(ue.prototype,$,{enumerable:!1,value:te($)});return ue}}static get isDebugEnabled(){if("object"!=typeof globalThis.process?.env)return X;const{env:H}=globalThis.process??{env:{}};return"emittery"===H.DEBUG||"*"===H.DEBUG||X}static set isDebugEnabled(H){X=H}constructor(H={}){F.set(this,new Set),Q.set(this,new Map),K.set(this,new Map),K.get(this).set(q,new Set),this.debug=H.debug??{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(he,ue,Z,te)=>{try{te=JSON.stringify(te)}catch{te=`Object with the following keys failed to stringify: ${Object.keys(te).join(",")}`}("symbol"==typeof Z||"number"==typeof Z)&&(Z=Z.toString());const $=new Date,Se=`${$.getHours()}:${$.getMinutes()}:${$.getSeconds()}.${$.getMilliseconds()}`;console.log(`[${Se}][emittery:${he}][${ue}] Event Name: ${Z}\n\tdata: ${te}`)})}logIfDebugEnabled(H,he,ue){(ve.isDebugEnabled||this.debug.enabled)&&this.debug.logger(H,this.debug.name,he,ue)}on(H,he){De(he),H=Array.isArray(H)?H:[H];for(const ue of H){se(ue);let Z=Fe(this,ue);Z||(Z=new Set,Q.get(this).set(ue,Z)),Z.add(he),this.logIfDebugEnabled("subscribe",ue,void 0),Y(ue)||_e(this,A,{eventName:ue,listener:he})}return this.off.bind(this,H,he)}off(H,he){De(he),H=Array.isArray(H)?H:[H];for(const ue of H){se(ue);const Z=Fe(this,ue);Z&&(Z.delete(he),0===Z.size&&Q.get(this).delete(ue)),this.logIfDebugEnabled("unsubscribe",ue,void 0),Y(ue)||_e(this,j,{eventName:ue,listener:he})}}once(H){let he;const ue=new Promise(Z=>{he=this.on(H,te=>{he(),Z(te)})});return ue.off=he,ue}events(H){H=Array.isArray(H)?H:[H];for(const he of H)se(he);return ze(this,H)}emit(H,he){var ue=this;return(0,c.Z)(function*(){if(se(H),Y(H)&&!L)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");ue.logIfDebugEnabled("emit",H,he),function Le(ge,H,he){const ue=K.get(ge);if(ue.has(H))for(const Z of ue.get(H))Z.enqueue(he);if(ue.has(q)){const Z=Promise.all([H,he]);for(const te of ue.get(q))te.enqueue(Z)}}(ue,H,he);const Z=Fe(ue,H)??new Set,te=F.get(ue),$=[...Z],Se=Y(H)?[]:[...te];yield pe,yield Promise.all([...$.map(function(){var We=(0,c.Z)(function*(Ae){if(Z.has(Ae))return Ae(he)});return function(Ae){return We.apply(this,arguments)}}()),...Se.map(function(){var We=(0,c.Z)(function*(Ae){if(te.has(Ae))return Ae(H,he)});return function(Ae){return We.apply(this,arguments)}}())])})()}emitSerial(H,he){var ue=this;return(0,c.Z)(function*(){if(se(H),Y(H)&&!L)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");ue.logIfDebugEnabled("emitSerial",H,he);const Z=Fe(ue,H)??new Set,te=F.get(ue),$=[...Z],Se=[...te];yield pe;for(const We of $)Z.has(We)&&(yield We(he));for(const We of Se)te.has(We)&&(yield We(H,he))})()}onAny(H){return De(H),this.logIfDebugEnabled("subscribeAny",void 0,void 0),F.get(this).add(H),_e(this,A,{listener:H}),this.offAny.bind(this,H)}anyEvent(){return ze(this)}offAny(H){De(H),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),_e(this,j,{listener:H}),F.get(this).delete(H)}clearListeners(H){H=Array.isArray(H)?H:[H];for(const he of H)if(this.logIfDebugEnabled("clear",he,void 0),"string"==typeof he||"symbol"==typeof he||"number"==typeof he){const ue=Fe(this,he);ue&&ue.clear();const Z=ye(this,he);if(Z){for(const te of Z)te.finish();Z.clear()}}else{F.get(this).clear();for(const[ue,Z]of Q.get(this).entries())Z.clear(),Q.get(this).delete(ue);for(const[ue,Z]of K.get(this).entries()){for(const te of Z)te.finish();Z.clear(),K.get(this).delete(ue)}}}listenerCount(H){H=Array.isArray(H)?H:[H];let he=0;for(const ue of H)if("string"!=typeof ue){typeof ue<"u"&&se(ue),he+=F.get(this).size;for(const Z of Q.get(this).values())he+=Z.size;for(const Z of K.get(this).values())he+=Z.size}else he+=F.get(this).size+(Fe(this,ue)?.size??0)+(ye(this,ue)?.size??0)+(ye(this)?.size??0);return he}bindMethods(H,he){if("object"!=typeof H||null===H)throw new TypeError("`target` must be an object");he=B(he);for(const ue of he){if(void 0!==H[ue])throw new Error(`The property \`${ue}\` already exists on \`target\``);Object.defineProperty(H,ue,{enumerable:!1,value:this[ue].bind(this)})}}}const re=Object.getOwnPropertyNames(ve.prototype).filter(ge=>"constructor"!==ge);Object.defineProperty(ve,"listenerAdded",{value:A,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(ve,"listenerRemoved",{value:j,writable:!1,enumerable:!0,configurable:!1})},5861:(tt,J,M)=>{"use strict";function c(Q,K,q,pe,A,j,L){try{var X=Q[j](L),se=X.value}catch(De){return void q(De)}X.done?K(se):Promise.resolve(se).then(pe,A)}function F(Q){return function(){var K=this,q=arguments;return new Promise(function(pe,A){var j=Q.apply(K,q);function L(se){c(j,pe,A,L,X,"next",se)}function X(se){c(j,pe,A,L,X,"throw",se)}L(void 0)})}}M.d(J,{Z:()=>F})},7582:(tt,J,M)=>{"use strict";function De(me,ne,le,Pe){return new(le||(le=Promise))(function(ke,je){function Ke(pt){try{rt(Pe.next(pt))}catch(Dt){je(Dt)}}function Kt(pt){try{rt(Pe.throw(pt))}catch(Dt){je(Dt)}}function rt(pt){pt.done?ke(pt.value):function Be(ke){return ke instanceof le?ke:new le(function(je){je(ke)})}(pt.value).then(Ke,Kt)}rt((Pe=Pe.apply(me,ne||[])).next())})}function re(me){return this instanceof re?(this.v=me,this):new re(me)}function ge(me,ne,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Pe=le.apply(me,ne||[]),ke=[];return Be={},je("next"),je("throw"),je("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function je(gt){Pe[gt]&&(Be[gt]=function(Vt){return new Promise(function(vn,_n){ke.push([gt,Vt,vn,_n])>1||Ke(gt,Vt)})})}function Ke(gt,Vt){try{!function Kt(gt){gt.value instanceof re?Promise.resolve(gt.value.v).then(rt,pt):Dt(ke[0][2],gt)}(Pe[gt](Vt))}catch(vn){Dt(ke[0][3],vn)}}function rt(gt){Ke("next",gt)}function pt(gt){Ke("throw",gt)}function Dt(gt,Vt){gt(Vt),ke.shift(),ke.length&&Ke(ke[0][0],ke[0][1])}}function he(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ne=me[Symbol.asyncIterator];return ne?ne.call(me):(me=function ze(me){var ne="function"==typeof Symbol&&Symbol.iterator,le=ne&&me[ne],Pe=0;if(le)return le.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Pe>=me.length&&(me=void 0),{value:me&&me[Pe++],done:!me}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),le={},Pe("next"),Pe("throw"),Pe("return"),le[Symbol.asyncIterator]=function(){return this},le);function Pe(ke){le[ke]=me[ke]&&function(je){return new Promise(function(Ke,Kt){!function Be(ke,je,Ke,Kt){Promise.resolve(Kt).then(function(rt){ke({value:rt,done:Ke})},je)}(Ke,Kt,(je=me[ke](je)).done,je.value)})}}}M.d(J,{FC:()=>ge,KL:()=>he,mG:()=>De,qq:()=>re})}},tt=>{tt(tt.s=8956)}]);