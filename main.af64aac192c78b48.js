(self.webpackChunkHCApp=self.webpackChunkHCApp||[]).push([[179],{7109:(et,X,M)=>{"use strict";M.d(X,{PV:()=>B,jQ:()=>l,ok:()=>J,x4:()=>j});class l{constructor(){this.roomId="",this.name="",this.matchType="",this.roomCreatedAt="",this.roomCreatedBy="",this.maxBalls=0,this.totalWickets=0,this.teamA=new N,this.teamB=new N,this.inMatchData=new we,this.isTossStage=!1,this.firstInnings=new q,this.secondInnings=new q,this.currentInnings=new q,this.playerList=[],this.gameOver=!1,this.spectators=[]}}class N{constructor(){this.name="",this.customDisplayName="",this.isBatting=!1,this.isBowling=!1,this.captain=new J,this.onStrike=new J,this.bowling=new J,this.player1=new J,this.player2=new J,this.thisOver=[],this.thisOverDisplay=[],this.players=[]}}class J{constructor(){this.roomId="",this.roomIdString="",this.playerId="",this.currentConnectionId="",this.teamName="",this.name="",this.roomName="",this.number=0,this.runs=0,this.wicketsLeft=0,this.isOnStrike=!1,this.ballsPlayed=0,this.isBatting=!1,this.hasWonToss=!1,this.runRate=0,this.strikeRate=0,this.captainsChoice="",this.isConnected=!1,this.isCaptain=!1,this.isReady=!1,this.isLocked=!1,this.lockedWith=0}}class q{constructor(){this.name="1st",this.isOn=!1,this.batting=new J,this.bowling=new J,this.battingTeam=new N,this.bowlingTeam=new N,this.ballsPlayed=0,this.wickets=0,this.runs=0}}class we{constructor(){this.isSameNumber=!1,this.playerWithHeads=new J,this.playerWithTails=new J,this.playerWithTossWin=new J,this.playerWithTossLoss=new J,this.playerWithTossWinId="",this.playerWithTossLossId=""}}var B=(()=>((B=B||{})[B.IsDraw=0]="IsDraw",B[B.WonByRun=1]="WonByRun",B[B.WonByWicket=2]="WonByWicket",B))();class j{constructor(){this.winnerTeam=new N,this.matchWinType=B.IsDraw,this.wonByRun=0,this.wonByWicket=0,this.teamA=new N,this.teamB=new N}}},3158:(et,X,M)=>{"use strict";M.d(X,{b9:()=>Y,YW:()=>G});var l=M(6550),N=M(4755),J=M(5030),ne=M(1932),q=M(6739),we=M(7109),I=M(3020),B=M(7617);function j(Z,re){if(1&Z&&(I.TgZ(0,"div",45),I._uU(1," Need To Win : "),I.TgZ(2,"span",46),I._uU(3),I.qZA()()),2&Z){const F=I.oxw();I.xp6(3),I.hij(" ",F.Target,"")}}function K(Z,re){if(1&Z){const F=I.EpF();I.TgZ(0,"div",47),I.NdJ("click",function(){I.CHM(F);const Be=I.oxw();return I.KtG(Be.handleReadyClick())}),I._uU(1," READY? "),I.qZA()}}function ae(Z,re){if(1&Z){const F=I.EpF();I.TgZ(0,"div",48)(1,"div",49)(2,"div",50),I.NdJ("click",function(Be){I.CHM(F);const Me=I.oxw();return I.KtG(Me.handleBatBallSelection(Be))}),I._uU(3," BAT "),I.qZA(),I.TgZ(4,"div",51),I.NdJ("click",function(Be){I.CHM(F);const Me=I.oxw();return I.KtG(Me.handleBatBallSelection(Be))}),I._uU(5," BALL "),I.qZA()()()}}function De(Z,re){1&Z&&(I.TgZ(0,"div",52)(1,"div",53),I._uU(2,"OUT!"),I.qZA()())}function Ve(Z,re){if(1&Z&&(I.TgZ(0,"li")(1,"div",54),I._uU(2),I.qZA()()),2&Z){const F=re.$implicit;I.xp6(2),I.Oqu(F)}}const Le=[{path:"",redirectTo:"setup",pathMatch:"full"},{path:"",children:[{path:"setup",loadChildren:()=>M.e(946).then(M.bind(M,6946)).then(Z=>Z.SetupModule)},{path:"game",component:(()=>{class Z{constructor(F,Se,Be){this.socketService=F,this.ngZone=Se,this.router=Be,this.toggleReady=!1,this.toggleConfirm=!1,this.toggleSelection=!1,this.batBallSelection=!1,this.moveOppoHand=!1,this.moveCurrentHand=!1,this.localStorageIMatchRoomData=null,this.CurrentPlayer=new we.ok,this.OppoPlayer=new we.ok,this.MessageBoxText="",this.Overs="",this.Wickets=0,this.TotalWickets=0,this.Target=0,this.Runs=0,this.ThisOverBattingDisplay=[],this.InningsText="1st",this.SelectedNumber=0,this.CaptainsChoice="",this.ShowOutNotification=!1,this.HandImageSrc=["dotball","one","two","three","four","five","six"],this.OppoHandImageSrc=["dotball","oner","twor","threer","fourr","fiver","sixr"],this.HandImage=this.HandImageSrc[0],this.OppoHandImage=this.OppoHandImageSrc[0],this.playerConnection={player1:!1,player2:!1,player3:!1,player4:!1},this.playerNames={player1:"Player 1",player2:"Player 2",player3:"Player 3",player4:"Player 4"},this.playerRuns={player1:0,player2:0,player3:0,player4:0},this.playerWicketsLeft={player1:0,player2:0,player3:0,player4:0},this.OnStrike={player1:!1,player2:!1,player3:!1,player4:!1},this.Bowling={player1:!1,player2:!1,player3:!1,player4:!1},this.OnStrikeImage_player1="nonStriker",this.OnStrikeImage_player2="nonStriker",this.OnStrikeImage_player3="nonStriker",this.OnStrikeImage_player4="nonStriker",this.connectedToTheServer=!1}ngOnInit(){if(this.socketService.CurrentPlayer){this.CurrentPlayer=this.socketService.CurrentPlayer;let F=this.socketService.MatchData;this.ngZone.run(()=>{null!=F&&(this.Wickets=F.totalWickets)})}this.socketService.MatchData.teamA&&this.ngZone.run(()=>{this.setPlayerNames(),this.setConnectionStatus()}),this.socketService.Emitter.on(q.f.PLAYERJOINED,F=>{this.ngZone.run(()=>{this.MessageBoxText=`Oppo Joined : ${this.socketService.OppoPlayers.length}`,this.setPlayerNames(),this.setConnectionStatus()})}),this.socketService.Emitter.on(q.p.InitiateTossStage,F=>{this.ngZone.run(()=>{this.MessageBoxText=`Toss : ${F.inMatchData.playerWithHeads?.name} is head`,this.socketService.CurrentPlayer.isCaptain?this.toggleReady=!0:this.MessageBoxText="Captain is Tossing",this.Overs=this.overText(F.currentInnings.ballsPlayed,F.maxBalls),this.Wickets=F.currentInnings.wickets,this.Runs=F.currentInnings.runs,this.InningsText=F.currentInnings.name})}),this.socketService.Emitter.on(q.f.PlayerReadyReceived,F=>{this.ngZone.run(()=>{this.socketService.isTeamMate(F.playerId)&&(this.MessageBoxText=`${F.name} is Ready!`,this.moveCurrentHand=!0),this.socketService.isOpponent(F.playerId)&&(this.MessageBoxText=`${F.name} is Ready!`,this.moveOppoHand=!0)})}),this.socketService.Emitter.on(q.p.ShowTheLockedNumber,F=>{this.ngZone.run(()=>{this.MessageBoxText=`Confirmed : ${F}`,this.OppoPlayer.isReady=!0})}),this.socketService.Emitter.on(q.p.ShowOppoisLocked,()=>{this.ngZone.run(()=>{this.MessageBoxText="Oppo is locked",this.OppoPlayer.isReady=!0})}),this.socketService.Emitter.on(q.f.TossDecision,F=>{F.tosswinner&&this.socketService.CurrentPlayer.isCaptain&&this.ngZone.run(()=>{this.batBallSelection=!0}),this.ngZone.run(()=>{this.HandImage=this.HandImageSrc[F.myNumber],this.OppoHandImage=this.OppoHandImageSrc[F.oppoNumber],this.MessageBoxText=`${F.msg}`})}),this.socketService.Emitter.on(q.f.StartMatch,F=>{this.ngZone.run(()=>{this.connectedToTheServer=!0,this.Overs=this.overText(F.currentInnings.ballsPlayed,F.maxBalls),this.Wickets=F.currentInnings.wickets,this.Runs=F.currentInnings.runs,this.InningsText=F.firstInnings.isOn?"1st":"2nd",this.TotalWickets=F.totalWickets}),this.UpdateScreen(F)}),this.socketService.Emitter.on(q.f.UpdateScore,F=>{this.ngZone.run(()=>{this.Overs=this.overText(F.currentInnings.ballsPlayed,F.maxBalls),this.Wickets=F.currentInnings.wickets,this.Runs=F.currentInnings.runs,this.InningsText=F.firstInnings.isOn?"1st":"2nd"}),this.ngZone.run(()=>{F.secondInnings.isOn&&(this.Target=F.firstInnings.runs-F.secondInnings.runs+1),this.ThisOverBattingDisplay=F.currentInnings.battingTeam.thisOverDisplay,this.isOut(this.ThisOverBattingDisplay)&&(this.ShowOutNotification=!0),this.socketService.CurrentPlayer.playerId==F.currentInnings.batting.playerId||this.socketService.isTeamMate(F.currentInnings.batting.playerId)?(this.HandImage=this.HandImageSrc[this.getlastnumber(F.currentInnings.battingTeam.thisOver)],this.OppoHandImage=this.OppoHandImageSrc[this.getlastnumber(F.currentInnings.bowlingTeam.thisOver)]):(this.HandImage=this.HandImageSrc[this.getlastnumber(F.currentInnings.bowlingTeam.thisOver)],this.OppoHandImage=this.OppoHandImageSrc[this.getlastnumber(F.currentInnings.battingTeam.thisOver)])}),F.gameOver||setTimeout(()=>{this.UpdateScreen(F)},1500)}),this.socketService.Emitter.on(q.p.ShowMatchWinLose,F=>{this.ngZone.run(F.winnerTeam.player1.playerId==this.socketService.CurrentPlayer.playerId||F.winnerTeam.player2.playerId==this.socketService.CurrentPlayer.playerId?()=>{this.MessageBoxText="Your team has won"}:()=>{this.MessageBoxText="Your team has lost"}),setTimeout(()=>{this.router.navigate(["/result"]).then()},1500)}),this.socketService.Emitter.on(q.f.PlayerDisconnected,()=>{this.ngZone.run(()=>{this.setConnectionStatus(),this.MessageBoxText="player disconnected"})}),this.socketService.Emitter.on(q.f.ServerDisconnected,()=>{this.ngZone.run(()=>{this.connectedToTheServer=!1,this.MessageBoxText="Server Disconnected!"})})}handleReadyClick(){this.CurrentPlayer?(this.socketService.CurrentPlayer.isReady=!0,this.ngZone.run(()=>{this.toggleReady=!1,this.toggleSelection=!0,this.moveCurrentHand=!0}),this.socketService.Emitter.emit(q.f.PlayerReady)):console.log("current player was not found!")}handleConfirmClick(){this.socketService.Emitter.emit(q.f.PlayerConfirmed,this.SelectedNumber),this.ngZone.run(()=>{this.toggleConfirm=!1,this.toggleSelection=!1})}handleNumberClick(F){const Se=F.target?.dataset.number;this.SelectedNumber=Se,this.ngZone.run(()=>{this.toggleConfirm=!0}),console.log(Se)}handleBatBallSelection(F){const Se=F.target?.dataset.selection;this.CaptainsChoice=Se,this.socketService.Emitter.emit(q.f.CaptainsChoice,this.CaptainsChoice),this.ngZone.run(()=>{this.MessageBoxText=`Selected to ${Se} first`,this.batBallSelection=!1})}getlastnumber(F){return 0!=F.length?F[F.length-1]:0}isOut(F){return 0!=F.length&&F[F.length-1].includes("W")}UpdateScreen(F){this.ngZone.run(()=>{this.OppoHandImage=this.OppoHandImageSrc[0],this.moveOppoHand=!1,this.moveCurrentHand=!1,this.HandImage=this.HandImageSrc[0],this.ShowOutNotification=!1,this.updateOnStrikeInfos(),this.updateBowlingInfos()});let Se=F.currentInnings.batting.playerId,Be=F.currentInnings.batting.name,Me=F.currentInnings.bowling.playerId,ct=F.currentInnings.bowling.name,de=this.socketService.CurrentPlayer.playerId;Se==de||Me==de?this.ngZone.run(()=>{this.toggleReady=!0,this.MessageBoxText=Se==de?"You are on Strike!":"You are bowling"}):(this.socketService.isTeamMate(Se)&&this.ngZone.run(()=>{this.MessageBoxText=`${Be} is Batting!`}),this.socketService.isTeamMate(Me)&&this.ngZone.run(()=>{this.MessageBoxText=`${ct} is Bowling!`}))}overText(F,Se){return`${Math.floor(F/6)}.${F%6} (${Se/6})`}setPlayerNames(){this.playerNames.player1=this.socketService.MatchData.teamA.player1?.name,this.playerNames.player2=this.socketService.MatchData.teamA.player2?.name,this.playerNames.player3=this.socketService.MatchData.teamB.player1?.name,this.playerNames.player4=this.socketService.MatchData.teamB.player2?.name}setConnectionStatus(){this.playerConnection.player1=this.socketService.MatchData.teamA.player1?.isConnected,this.playerConnection.player2=this.socketService.MatchData.teamA.player2?.isConnected,this.playerConnection.player3=this.socketService.MatchData.teamB.player1?.isConnected,this.playerConnection.player4=this.socketService.MatchData.teamB.player2?.isConnected}updateOnStrikeInfos(){this.OnStrike.player1=this.socketService.MatchData.teamA.isBatting&&this.socketService.MatchData.teamA.player1?.isOnStrike,this.OnStrike.player2=this.socketService.MatchData.teamA.isBatting&&this.socketService.MatchData.teamA.player2?.isOnStrike,this.OnStrike.player3=this.socketService.MatchData.teamB.isBatting&&this.socketService.MatchData.teamB.player1?.isOnStrike,this.OnStrike.player4=this.socketService.MatchData.teamB.isBatting&&this.socketService.MatchData.teamB.player2?.isOnStrike,this.OnStrikeImage_player1=this.OnStrike.player1?"bat":"nonStriker",this.OnStrikeImage_player2=this.OnStrike.player2?"bat":"nonStriker",this.OnStrikeImage_player3=this.OnStrike.player3?"bat":"nonStriker",this.OnStrikeImage_player4=this.OnStrike.player4?"bat":"nonStriker",this.playerRuns.player1=this.socketService.MatchData.teamA.player1.runs,this.playerRuns.player2=this.socketService.MatchData.teamA.player2.runs,this.playerRuns.player3=this.socketService.MatchData.teamB.player1.runs,this.playerRuns.player4=this.socketService.MatchData.teamB.player2.runs,this.playerWicketsLeft.player1=this.socketService.MatchData.teamA.player1.wicketsLeft,this.playerWicketsLeft.player2=this.socketService.MatchData.teamA.player2.wicketsLeft,this.playerWicketsLeft.player3=this.socketService.MatchData.teamB.player1.wicketsLeft,this.playerWicketsLeft.player4=this.socketService.MatchData.teamB.player2.wicketsLeft}updateBowlingInfos(){this.Bowling.player1=this.socketService.MatchData.teamA.isBowling&&this.socketService.MatchData.teamA.player1?.isOnStrike,this.Bowling.player2=this.socketService.MatchData.teamA.isBowling&&this.socketService.MatchData.teamA.player2?.isOnStrike,this.Bowling.player3=this.socketService.MatchData.teamB.isBowling&&this.socketService.MatchData.teamB.player1?.isOnStrike,this.Bowling.player4=this.socketService.MatchData.teamB.isBowling&&this.socketService.MatchData.teamB.player2?.isOnStrike,this.socketService.MatchData.teamA.isBowling&&(this.OnStrikeImage_player1=this.Bowling.player1?"ball":"nonStriker",this.OnStrikeImage_player2=this.Bowling.player2?"ball":"nonStriker"),this.socketService.MatchData.teamB.isBowling&&(this.OnStrikeImage_player3=this.Bowling.player3?"ball":"nonStriker",this.OnStrikeImage_player4=this.Bowling.player4?"ball":"nonStriker")}}return Z.\u0275fac=function(F){return new(F||Z)(I.Y36(B.$),I.Y36(I.R0b),I.Y36(ne.F0))},Z.\u0275cmp=I.Xpm({type:Z,selectors:[["app-game"]],decls:92,vars:74,consts:[[1,"main-game-section",2,"background-image","url('../../assets/images/backgrounds/stadium.jpg')"],[1,"score-board"],[1,"over"],[1,"over-text"],[1,"runs"],[1,"runs-text"],[1,"wickets"],[1,"wickets-text"],[1,"innings"],[1,"innings-text"],["class","target",4,"ngIf"],[1,"notification-board"],[1,"message-box"],[1,"server-connection-status"],[1,"cricket-field"],[1,"left-side-window"],[1,"team-name"],[1,"players"],[1,"player"],[1,"player-name"],[1,"player-statuses"],[1,"connection-status"],[1,"is-onstrike"],[1,"player-runs"],[1,"player-wicketsLeft"],[1,"back-field"],[1,"hand-1"],["data-hand","oppo","alt","hand","srcset","",3,"src"],[1,"hand-2"],["data-hand","self","alt","hand","srcset","",3,"src"],["class","beautiful-button","id","ready-button",3,"click",4,"ngIf"],["id","confirm-button",1,"beautiful-button",3,"click"],[1,"right-side-window"],["class","captains-decision",4,"ngIf"],["class","outnotification",4,"ngIf"],[1,"this-over-container"],[4,"ngFor","ngForOf"],[1,"bottom-container"],[1,"hand-buttons-container"],["data-number","1",1,"hand","one",2,"background-image","url('../../assets/images/hands/one.png')",3,"click"],["data-number","2",1,"hand","two",2,"background-image","url('../../assets/images/hands/two.png')",3,"click"],["data-number","3",1,"hand","three",2,"background-image","url('../../assets/images/hands/three.png')",3,"click"],["data-number","4",1,"hand","four",2,"background-image","url('../../assets/images/hands/four.png')",3,"click"],["data-number","5",1,"hand","five",2,"background-image","url('../../assets/images/hands/five.png')",3,"click"],["data-number","6",1,"hand","six",2,"background-image","url('../../assets/images/hands/six.png')",3,"click"],[1,"target"],[1,"target-text"],["id","ready-button",1,"beautiful-button",3,"click"],[1,"captains-decision"],[1,"bat-ball-decision"],["data-selection","bat",1,"bat-option",3,"click"],["data-selection","ball",1,"ball-option",3,"click"],[1,"outnotification"],[1,"out-text"],[1,"balls-played"]],template:function(F,Se){1&F&&(I.TgZ(0,"section",0)(1,"div",1)(2,"div",2),I._uU(3," Over : "),I.TgZ(4,"span",3),I._uU(5),I.qZA()(),I.TgZ(6,"div",4),I._uU(7," Runs : "),I.TgZ(8,"span",5),I._uU(9),I.qZA()(),I.TgZ(10,"div",6),I._uU(11," Wickets : "),I.TgZ(12,"span",7),I._uU(13),I.qZA()(),I.TgZ(14,"div",8),I._uU(15," Innings : "),I.TgZ(16,"span",9),I._uU(17),I.qZA()(),I.YNc(18,j,4,1,"div",10),I.qZA(),I.TgZ(19,"div",11)(20,"div",12),I._uU(21),I.qZA(),I._UZ(22,"div",13),I.qZA(),I.TgZ(23,"div",14)(24,"div",15)(25,"div",16),I._uU(26,"Team A"),I.qZA(),I.TgZ(27,"div",17)(28,"div",18)(29,"div",19),I._uU(30),I.qZA(),I.TgZ(31,"div",20),I._UZ(32,"div",21)(33,"div",22),I.qZA(),I.TgZ(34,"div",23),I._uU(35),I.qZA(),I.TgZ(36,"div",24),I._uU(37),I.qZA()(),I.TgZ(38,"div",18)(39,"div",19),I._uU(40),I.qZA(),I.TgZ(41,"div",20),I._UZ(42,"div",21)(43,"div",22),I.qZA(),I.TgZ(44,"div",23),I._uU(45),I.qZA(),I.TgZ(46,"div",24),I._uU(47),I.qZA()()()(),I.TgZ(48,"div",25)(49,"div",26),I._UZ(50,"img",27),I.qZA(),I.TgZ(51,"div",28),I._UZ(52,"img",29),I.qZA(),I.YNc(53,K,2,0,"div",30),I.TgZ(54,"div",31),I.NdJ("click",function(){return Se.handleConfirmClick()}),I._uU(55),I.qZA()(),I.TgZ(56,"div",32)(57,"div",16),I._uU(58,"Team B"),I.qZA(),I.TgZ(59,"div",17)(60,"div",18)(61,"div",19),I._uU(62),I.qZA(),I.TgZ(63,"div",20),I._UZ(64,"div",21)(65,"div",22),I.qZA(),I.TgZ(66,"div",23),I._uU(67),I.qZA(),I.TgZ(68,"div",24),I._uU(69),I.qZA()(),I.TgZ(70,"div",18)(71,"div",19),I._uU(72),I.qZA(),I.TgZ(73,"div",20),I._UZ(74,"div",21)(75,"div",22),I.qZA(),I.TgZ(76,"div",23),I._uU(77),I.qZA(),I.TgZ(78,"div",24),I._uU(79),I.qZA()()()(),I.YNc(80,ae,6,0,"div",33),I.YNc(81,De,3,0,"div",34),I.qZA(),I.TgZ(82,"div",35),I.YNc(83,Ve,3,1,"li",36),I.qZA(),I.TgZ(84,"div",37)(85,"div",38)(86,"div",39),I.NdJ("click",function(Me){return Se.handleNumberClick(Me)}),I.qZA(),I.TgZ(87,"div",40),I.NdJ("click",function(Me){return Se.handleNumberClick(Me)}),I.qZA(),I.TgZ(88,"div",41),I.NdJ("click",function(Me){return Se.handleNumberClick(Me)}),I.qZA(),I.TgZ(89,"div",42),I.NdJ("click",function(Me){return Se.handleNumberClick(Me)}),I.qZA(),I.TgZ(90,"div",43),I.NdJ("click",function(Me){return Se.handleNumberClick(Me)}),I.qZA(),I.TgZ(91,"div",44),I.NdJ("click",function(Me){return Se.handleNumberClick(Me)}),I.qZA()()()()),2&F&&(I.xp6(5),I.Oqu(Se.Overs),I.xp6(4),I.Oqu(Se.Runs),I.xp6(4),I.AsE("",Se.Wickets," (",Se.TotalWickets,")"),I.xp6(4),I.Oqu(Se.InningsText),I.xp6(1),I.Q6J("ngIf",Se.Target>0),I.xp6(3),I.Oqu(Se.MessageBoxText),I.xp6(1),I.ekj("connected-to-server",Se.connectedToTheServer),I.xp6(8),I.Oqu(Se.playerNames.player1),I.xp6(2),I.Tol(Se.playerConnection.player1?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",Se.OnStrikeImage_player1,".png')"),I.xp6(2),I.hij("Runs : ",Se.playerRuns.player1,""),I.xp6(2),I.hij(" Wickets Left : ",Se.playerWicketsLeft.player1," "),I.xp6(3),I.Oqu(Se.playerNames.player2),I.xp6(2),I.Tol(Se.playerConnection.player2?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",Se.OnStrikeImage_player2,".png')"),I.xp6(2),I.hij("Runs : ",Se.playerRuns.player2,""),I.xp6(2),I.hij(" Wickets Left : ",Se.playerWicketsLeft.player2," "),I.xp6(2),I.ekj("animated-opp-hand",Se.moveOppoHand)("animated-opp-hand-rev",!Se.moveOppoHand),I.xp6(1),I.MGl("src","../../assets/images/hands/",Se.OppoHandImage,".png",I.LSH),I.xp6(1),I.ekj("animated-self-hand",Se.moveCurrentHand)("animated-self-hand-rev",!Se.moveCurrentHand),I.xp6(1),I.MGl("src","../../assets/images/hands/",Se.HandImage,".png",I.LSH),I.xp6(1),I.Q6J("ngIf",!0===Se.toggleReady),I.xp6(1),I.ekj("invisible",!Se.toggleConfirm),I.xp6(1),I.hij(" CONFIRM (",Se.SelectedNumber,")? "),I.xp6(7),I.Oqu(Se.playerNames.player3),I.xp6(2),I.Tol(Se.playerConnection.player3?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",Se.OnStrikeImage_player3,".png')"),I.xp6(2),I.hij("Runs : ",Se.playerRuns.player3,""),I.xp6(2),I.hij(" Wickets Left : ",Se.playerWicketsLeft.player3," "),I.xp6(3),I.Oqu(Se.playerNames.player4),I.xp6(2),I.Tol(Se.playerConnection.player4?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",Se.OnStrikeImage_player4,".png')"),I.xp6(2),I.hij("Runs : ",Se.playerRuns.player4,""),I.xp6(2),I.hij(" Wickets Left : ",Se.playerWicketsLeft.player4," "),I.xp6(1),I.Q6J("ngIf",!0===Se.batBallSelection),I.xp6(1),I.Q6J("ngIf",!0===Se.ShowOutNotification),I.xp6(2),I.Q6J("ngForOf",Se.ThisOverBattingDisplay),I.xp6(3),I.ekj("disabled",!Se.toggleSelection),I.xp6(1),I.ekj("disabled",!Se.toggleSelection),I.xp6(1),I.ekj("disabled",!Se.toggleSelection),I.xp6(1),I.ekj("disabled",!Se.toggleSelection),I.xp6(1),I.ekj("disabled",!Se.toggleSelection),I.xp6(1),I.ekj("disabled",!Se.toggleSelection))},dependencies:[N.sg,N.O5],styles:[".main-game-section[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:bottom;margin:0 auto;height:95vh;min-width:370px;max-height:700px;display:grid;grid-template-rows:1.5fr .5fr 5fr .5fr 2fr;border-radius:1rem;-webkit-user-select:none;user-select:none}.score-board[_ngcontent-%COMP%]{background-color:#0e0e5e;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;border-radius:1rem 0rem}.score-board[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:1.6rem;color:#fff;font-family:LCDN}.notification-board[_ngcontent-%COMP%]{background-color:#f70000;border-radius:1rem 0rem;display:flex;justify-content:center;align-items:center}.message-box[_ngcontent-%COMP%]{font-size:1.3rem;font-family:LedBoardR;color:#fff}.cricket-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.back-field[_ngcontent-%COMP%]{width:162px;height:85%;background-color:#fff;border-radius:2rem;position:relative}.hand-1[_ngcontent-%COMP%], .hand-2[_ngcontent-%COMP%]{position:absolute;display:inline-block;transform-origin:top left}.hand-1[_ngcontent-%COMP%]{top:15%;left:50%;transform:translate(-50%,-50%)}.hand-2[_ngcontent-%COMP%]{top:85%;left:50%;transform:translate(-50%,-50%)}.hand-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(180deg)}.hand-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .hand-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.animated-self-hand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveSelfHand .5s ease-in-out forwards}.animated-opp-hand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveOppHand .5s ease-in-out forwards}.animated-self-hand-rev[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveSelfHandR .5s ease-in-out forwards}.animated-opp-hand-rev[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveOppHandR .5s ease-in-out forwards}.hidden[_ngcontent-%COMP%]{display:none}.disabled[_ngcontent-%COMP%]{opacity:60%;pointer-events:none;touch-action:none}.invisible[_ngcontent-%COMP%]{opacity:0%;pointer-events:none;touch-action:none}@keyframes _ngcontent-%COMP%_moveSelfHand{0%{top:85%}to{top:60%}}@keyframes _ngcontent-%COMP%_moveOppHand{0%{top:15%}to{top:39%}}@keyframes _ngcontent-%COMP%_moveSelfHandR{0%{top:60%}to{top:85%}}@keyframes _ngcontent-%COMP%_moveOppHandR{0%{top:39%}to{top:15%}}#ready-button[_ngcontent-%COMP%], #confirm-button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#confirm-button[_ngcontent-%COMP%]{background-color:#c40000}#confirm-button[_ngcontent-%COMP%]:hover{background-color:#a10404}.this-over-container[_ngcontent-%COMP%]{background-color:#dcdcdc;display:flex;justify-content:center;align-items:center}.this-over-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.balls-played[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;border:1px solid;border-radius:50%;font-family:var(--this-over-font)}.hand-buttons-container[_ngcontent-%COMP%]{margin:1rem auto;row-gap:1.5rem;column-gap:1.5rem;width:50%;display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr}.hand[_ngcontent-%COMP%]{border-radius:2rem;width:50px;height:50px;padding:0rem;cursor:pointer;box-shadow:2px 5px #000;background-size:120%;background-position:center;background-repeat:no-repeat}.hand[_ngcontent-%COMP%]:active{box-shadow:1px 2px #000;transform:translateY(2px)}.beautiful-button[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;font-size:16px;font-weight:700;text-align:center;text-decoration:none;color:#fff;background-color:#4caf50;border:none;border-radius:8px;transition:background-color .3s ease;cursor:pointer}.beautiful-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.beautiful-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #fff,0 0 0 4px #4caf50}.beautiful-button[_ngcontent-%COMP%]:active{background-color:#3e8e41}.captains-decision[_ngcontent-%COMP%]{position:absolute}.outnotification[_ngcontent-%COMP%]{position:absolute;top:32%;width:-moz-fit-content;width:fit-content;padding:.3rem;border-radius:1rem;background-color:#666262}.out-text[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.1rem;font-style:bold;color:red;font-family:SunnySpells}.bat-ball-decision[_ngcontent-%COMP%]{background-color:#ffebcd;width:200px;display:flex;justify-content:space-around;align-items:center}.bat-option[_ngcontent-%COMP%], .ball-option[_ngcontent-%COMP%]{padding:.5rem;background-color:#45a049;cursor:pointer}.left-side-window[_ngcontent-%COMP%], .right-side-window[_ngcontent-%COMP%]{padding:.5rem;background-color:#ffffffb3;color:#000;border-radius:.3rem}.player-name[_ngcontent-%COMP%]{padding:.5rem .2rem;text-align:center}.team-name[_ngcontent-%COMP%]{font-family:Roboto;text-align:center}.player-runs[_ngcontent-%COMP%], .player-wicketsLeft[_ngcontent-%COMP%]{font-family:Roboto;font-size:.7rem;padding-bottom:.3rem}.is-onstrike[_ngcontent-%COMP%]{width:20px;height:20px;margin-bottom:.3rem;background-color:#fff;background-size:cover;border:.5px solid black;border-radius:50%}.player-connected[_ngcontent-%COMP%]{background-color:#3e8e41}.player-statuses[_ngcontent-%COMP%]{display:flex}.connection-status[_ngcontent-%COMP%]{width:20px;height:20px;margin-bottom:.3rem;background-size:cover;border:.5px solid black;border-radius:50%;margin:0 .2rem}.not-connected[_ngcontent-%COMP%]{background-color:#f70909}.connected[_ngcontent-%COMP%]{background-color:#98f709}.connected-to-server[_ngcontent-%COMP%]{background-color:#98f709;width:20px;height:20px;border-radius:50%}"]}),Z})()},{path:"result",loadChildren:()=>M.e(755).then(M.bind(M,9755)).then(Z=>Z.ResultModule)}]},{path:"**",redirectTo:"game"}];let Ne=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=I.oAB({type:Z}),Z.\u0275inj=I.cJS({imports:[N.ez,l.b2,J.u5,ne.Bz.forRoot(Le,{useHash:!0}),ne.Bz]}),Z})();var L=M(6821),W=M(6028);function me(Z,re){1&Z&&(I.TgZ(0,"h2"),I._uU(1,"App is working"),I.qZA())}function Q(Z,re){1&Z&&(I.TgZ(0,"nav")(1,"ul")(2,"li")(3,"a",1),I._uU(4,"Game"),I.qZA()(),I.TgZ(5,"li")(6,"a",2),I._uU(7,"Setup"),I.qZA()(),I.TgZ(8,"li")(9,"a",3),I._uU(10,"Result"),I.qZA()()()())}let he=(()=>{class Z{constructor(F,Se,Be){this.socketService=F,this.localStorageService=Se,this.router=Be,this.title="HCApp",this.developmentMode=L.Lc!=L.EH.Production,F.Emitter.on(q.f.InitialFormSubmit,Me=>{L.GG.invoke(q.f.InitialFormSubmit,Me)}),L.GG.on(q.f.FirstPlayerJoined,Me=>{F.CurrentPlayer=Me.playerList.find(ct=>ct.currentConnectionId==L.GG.connectionId),F.Emitter.emit(q.f.LOADGAMESCREEN,Me),F.MatchData=Me,this.localStorageService.setData("matchData",Me)}),L.GG.on(q.f.PLAYERJOINED,Me=>{Me.playerList.some(ct=>ct.currentConnectionId==L.GG.connectionId)&&(F.CurrentPlayer=Me.playerList.find(ct=>ct.currentConnectionId==L.GG.connectionId)),Me.playerList.forEach(ct=>{F.CurrentPlayer.teamName==ct.teamName?F.isTeamMate(ct.playerId)||F.Teammates.push(ct):F.isOpponent(ct.playerId)||F.OppoPlayers.push(ct)}),F.Emitter.emit(q.f.LOADGAMESCREEN,Me),F.Emitter.emit(q.f.PLAYERJOINED,Me),F.MatchData=Me,this.localStorageService.setData("matchData",Me)}),L.GG.on(q.f.AllPlayersJoined,Me=>{F.MatchData=Me,this.localStorageService.setData("matchData",Me),setTimeout(()=>{F.Emitter.emit(q.p.InitiateTossStage,F.MatchData)},1e3)}),F.Emitter.on(q.f.PlayerReady,()=>{""!=F.CurrentPlayer.roomId?L.GG.invoke(q.f.PlayerReady,F.CurrentPlayer?.roomId,F.CurrentPlayer):console.error("room id not found on current player")}),L.GG.on(q.f.PlayerReadyReceived,Me=>{Me.currentConnectionId!=this.socketService.CurrentPlayer.currentConnectionId&&F.Emitter.emit(q.f.PlayerReadyReceived,Me)}),F.Emitter.on(q.f.PlayerConfirmed,Me=>{F.CurrentPlayer.isLocked=!0,F.CurrentPlayer.lockedWith=parseInt(Me),""!=F.CurrentPlayer.roomId?L.GG.invoke(q.f.PlayerConfirmed,F.CurrentPlayer.roomId,F.CurrentPlayer):console.log("room id not found")}),L.GG.on(q.f.PlayerConfirmedReceived,Me=>{this.socketService.isTeamMate(Me.currentInnings.batting.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",Me.currentInnings.batting.lockedWith):this.socketService.isTeamMate(Me.currentInnings.bowling.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",Me.currentInnings.bowling.lockedWith):this.socketService.Emitter.emit("ShowOppoisLocked")}),L.GG.on(q.f.TossDecision,Me=>{let ct=this.socketService.CurrentPlayer.playerId,de=Me.inMatchData.playerWithTossWin.playerId,ye=Me.inMatchData.playerWithTossLoss.playerId;ct==de||this.socketService.isTeamMate(de)?this.socketService.Emitter.emit(q.f.TossDecision,{tosswinner:!0,msg:"You have won the toss",myNumber:Me.inMatchData.playerWithTossWin.lockedWith,oppoNumber:Me.inMatchData.playerWithTossLoss.lockedWith}):(ct==ye||this.socketService.isTeamMate(ye))&&this.socketService.Emitter.emit(q.f.TossDecision,{tosswinner:!1,msg:"You have lost the toss",myNumber:Me.inMatchData.playerWithTossLoss.lockedWith,oppoNumber:Me.inMatchData.playerWithTossWin.lockedWith})}),F.Emitter.on(q.f.CaptainsChoice,Me=>{F.CurrentPlayer.captainsChoice=Me,L.GG.invoke(q.f.CaptainsChoice,F.CurrentPlayer.roomId,F.CurrentPlayer)}),L.GG.on(q.f.StartMatch,Me=>{console.info("after receiving start match event from server : ",Me),Me.currentInnings.batting.playerId==F.CurrentPlayer.playerId&&(F.CurrentPlayer.isOnStrike=!0),Me.currentInnings.bowling.playerId==F.CurrentPlayer.playerId&&(F.CurrentPlayer.isOnStrike=!0),F.Emitter.emit(q.f.StartMatch,Me),F.MatchData=Me,this.localStorageService.setData("matchData",Me)}),L.GG.on(q.f.UpdateScore,Me=>{console.info("update score event : ",Me),Me.currentInnings.batting.playerId==F.CurrentPlayer.playerId&&(F.CurrentPlayer.isOnStrike=!0),Me.currentInnings.bowling.playerId==F.CurrentPlayer.playerId&&(F.CurrentPlayer.isOnStrike=!0),F.Emitter.emit(q.f.UpdateScore,Me),F.MatchData=Me,this.localStorageService.setData("matchData",Me)}),L.GG.on(q.f.GameOver,Me=>{console.info("game over event : ",Me),this.socketService.MatchResult=Me,this.socketService.Emitter.emit(q.p.ShowMatchWinLose,Me)}),this.socketService.Emitter.on(q.f.DeleteRoom,Me=>{L.GG.invoke(q.f.DeleteRoom,Me)}),L.GG.on(q.f.RoomDeleted,Me=>{console.log("previous room deleted")}),L.GG.on(q.f.PlayerDisconnected,Me=>{this.socketService.MatchData=Me,this.socketService.Emitter.emit(q.f.PlayerDisconnected)}),L.GG.onclose(Me=>{console.log("ON CLOSE EVENT TRIGGERED : ",Me),this.socketService.IsConnected=!1,this.socketService.Emitter.emit(q.f.ServerDisconnected)})}}return Z.\u0275fac=function(F){return new(F||Z)(I.Y36(B.$),I.Y36(W.J),I.Y36(ne.F0))},Z.\u0275cmp=I.Xpm({type:Z,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],["routerLink","/game","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/setup","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/result","routerLinkActive","active","ariaCurrentWhenActive","page"]],template:function(F,Se){1&F&&(I.YNc(0,me,2,0,"h2",0),I.YNc(1,Q,11,0,"nav",0),I._UZ(2,"router-outlet")),2&F&&(I.Q6J("ngIf",Se.developmentMode),I.xp6(1),I.Q6J("ngIf",Se.developmentMode))},dependencies:[N.O5,ne.lC,ne.rH,ne.Od],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,900;1,300;1,400;1,500;1,700;1,900&display=swap";@font-face{font-family:SunnySpells;src:url(SunnySpells.d4013c07149a7a90.ttf)}@font-face{font-family:FredokaOne;src:url(FredokaOne-Regular.818774f549fcbdf1.ttf)}@font-face{font-family:LedBoard;src:url(LedBoard.b6a4846da22262bc.TTF)}@font-face{font-family:LedBoardR;src:url(LEDBDREV.b992883ab656f374.TTF)}@font-face{font-family:LCD2N;src:url(LCD2N___.3422a3060eb00dc0.TTF)}@font-face{font-family:LCDN;src:url(LCD-N___.2924199b10f46e6a.TTF)}[_ngcontent-%COMP%]:root{--notification-font: SunnySpells;--scoreboard-font: LCDN;--this-over-font: LedBoardR}']}),Z})();var pe=M(2191);const G=new I.OlP("EmitteryInstance"),fe={provide:G,useClass:pe.Z};let Y=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=I.oAB({type:Z,bootstrap:[he]}),Z.\u0275inj=I.cJS({providers:[{provide:N.S$,useClass:N.Do},fe],imports:[l.b2,Ne]}),Z})()},6028:(et,X,M)=>{"use strict";M.d(X,{J:()=>N});var l=M(3020);let N=(()=>{class J{constructor(){}loadData(q){return localStorage.getItem(q)?JSON.parse(localStorage.getItem(q)):null}setData(q,we){localStorage.setItem(q,JSON.stringify(we))}deleteData(q){localStorage.removeItem(q)}}return J.\u0275fac=function(q){return new(q||J)},J.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},6739:(et,X,M)=>{"use strict";M.d(X,{f:()=>l,p:()=>N});var l=(()=>((l=l||{}).ConnectionSuccessful="ConnectionSuccessful",l.GamePageLoaded="gamepageLoaded",l.InitialFormSubmit="initialFormSubmit",l.FirstPlayerJoined="FirstPlayerJoined",l.PLAYERJOINED="PLAYERJOINED",l.AllPlayersJoined="AllPlayersJoined",l.PlayerReady="PlayerReady",l.PlayerReadyReceived="PlayerReadyReceived",l.PlayerConfirmed="PlayerConfirmed",l.PlayerConfirmedReceived="PlayerConfirmedReceived",l.LOADGAMESCREEN="LOADGAMESCREEN",l.TossDecision="TossDecision",l.CaptainsChoice="CaptainsChoice",l.StartMatch="StartMatch",l.UpdateScore="UpdateScore",l.GameOver="GameOver",l.DeleteRoom="DeleteMatchRoom",l.RoomDeleted="RoomDeleted",l.PlayerDisconnected="PlayerDisconnected",l.ServerDisconnected="ServerDisconnected",l))(),N=(()=>((N=N||{}).InitiateTossStage="InitiateTossStage",N.ShowTheLockedNumber="ShowTheLockedNumber",N.ShowOppoisLocked="ShowOppoisLocked",N.ShowMatchWinLose="ShowMatchWinLose",N))()},7617:(et,X,M)=>{"use strict";M.d(X,{$:()=>we});var l=M(2191),N=M(3158),J=M(7109),ne=M(3020),q=M(6028);let we=(()=>{class I{constructor(j,K){this.emittery=j,this.localStorageService=K,this.IsConnected=!1,this.CurrentPlayer=new J.ok,this.OppoPlayers=[],this.Teammates=[],this.MatchData=new J.jQ,this.MatchResult=new J.x4,j=new l.Z,l.Z.isDebugEnabled=!1}TurnOffDebugger(){l.Z.isDebugEnabled=!1}get Emitter(){return this.emittery}isTeamMate(j){return this.Teammates.some(K=>K.playerId==j)}isOpponent(j){return this.OppoPlayers.some(K=>K.playerId==j)}resetObjects(){this.CurrentPlayer=new J.ok,this.OppoPlayers=[],this.Teammates=[],this.MatchData=new J.jQ,this.MatchResult=new J.x4,this.IsConnected=!1}}return I.\u0275fac=function(j){return new(j||I)(ne.LFG(N.YW),ne.LFG(q.J))},I.\u0275prov=ne.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},6821:(et,X,M)=>{"use strict";M.d(X,{Lc:()=>mo,EH:()=>ri,GG:()=>fr});var l={};M.r(l),M.d(l,{fixNegotiationNeeded:()=>de,shimAddTrackRemoveTrack:()=>Me,shimAddTrackRemoveTrackWithNative:()=>Be,shimGetDisplayMedia:()=>fe,shimGetSendersWithDtmf:()=>re,shimGetStats:()=>F,shimGetUserMedia:()=>G,shimMediaStream:()=>Y,shimOnTrack:()=>Z,shimPeerConnection:()=>ct,shimSenderReceiverGetStats:()=>Se});var N={};M.r(N),M.d(N,{shimGetDisplayMedia:()=>Oe,shimGetUserMedia:()=>ke,shimPeerConnection:()=>Ue,shimReplaceTrack:()=>rt});var J={};M.r(J),M.d(J,{shimAddTransceiver:()=>tn,shimCreateAnswer:()=>rr,shimCreateOffer:()=>ft,shimGetDisplayMedia:()=>tt,shimGetParameters:()=>Cn,shimGetUserMedia:()=>qt,shimOnTrack:()=>ht,shimPeerConnection:()=>Rt,shimRTCDataChannel:()=>mn,shimReceiverGetStats:()=>mt,shimRemoveStream:()=>at,shimSenderGetStats:()=>pt});var ne={};M.r(ne),M.d(ne,{shimAudioContext:()=>ot,shimCallbacksAPI:()=>Ht,shimConstraints:()=>bn,shimCreateOfferLegacy:()=>We,shimGetUserMedia:()=>Dn,shimLocalStreamsAPI:()=>qn,shimRTCIceServerUrls:()=>Hn,shimRemoteStreamsAPI:()=>qe,shimTrackEventTransceiver:()=>Kt});var q={};M.r(q),M.d(q,{removeExtmapAllowMixed:()=>nn,shimAddIceCandidateNullOrEmpty:()=>Qt,shimConnectionState:()=>oo,shimMaxMessageSize:()=>Nn,shimRTCIceCandidate:()=>Sn,shimSendThrowTypeError:()=>Mt});var we=M(5861),I=M(6550),B=M(8819);let j=!0,K=!0;function ae(s,i,c){const f=s.match(i);return f&&f.length>=c&&parseInt(f[c],10)}function De(s,i,c){if(!s.RTCPeerConnection)return;const f=s.RTCPeerConnection.prototype,y=f.addEventListener;f.addEventListener=function(x,R){if(x!==i)return y.apply(this,arguments);const H=U=>{const oe=c(U);oe&&(R.handleEvent?R.handleEvent(oe):R(oe))};return this._eventMap=this._eventMap||{},this._eventMap[i]||(this._eventMap[i]=new Map),this._eventMap[i].set(R,H),y.apply(this,[x,H])};const b=f.removeEventListener;f.removeEventListener=function(x,R){if(x!==i||!this._eventMap||!this._eventMap[i])return b.apply(this,arguments);if(!this._eventMap[i].has(R))return b.apply(this,arguments);const H=this._eventMap[i].get(R);return this._eventMap[i].delete(R),0===this._eventMap[i].size&&delete this._eventMap[i],0===Object.keys(this._eventMap).length&&delete this._eventMap,b.apply(this,[x,H])},Object.defineProperty(f,"on"+i,{get(){return this["_on"+i]},set(x){this["_on"+i]&&(this.removeEventListener(i,this["_on"+i]),delete this["_on"+i]),x&&this.addEventListener(i,this["_on"+i]=x)},enumerable:!0,configurable:!0})}function Ve(s){return"boolean"!=typeof s?new Error("Argument type: "+typeof s+". Please use a boolean."):(j=s,s?"adapter.js logging disabled":"adapter.js logging enabled")}function ee(s){return"boolean"!=typeof s?new Error("Argument type: "+typeof s+". Please use a boolean."):(K=!s,"adapter.js deprecation warnings "+(s?"disabled":"enabled"))}function Le(){if("object"==typeof window){if(j)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function Ne(s,i){K&&console.warn(s+" is deprecated, please use "+i+" instead.")}function W(s){return"[object Object]"===Object.prototype.toString.call(s)}function me(s){return W(s)?Object.keys(s).reduce(function(i,c){const f=W(s[c]),y=f?me(s[c]):s[c],b=f&&!Object.keys(y).length;return void 0===y||b?i:Object.assign(i,{[c]:y})},{}):s}function Q(s,i,c){!i||c.has(i.id)||(c.set(i.id,i),Object.keys(i).forEach(f=>{f.endsWith("Id")?Q(s,s.get(i[f]),c):f.endsWith("Ids")&&i[f].forEach(y=>{Q(s,s.get(y),c)})}))}function he(s,i,c){const f=c?"outbound-rtp":"inbound-rtp",y=new Map;if(null===i)return y;const b=[];return s.forEach(x=>{"track"===x.type&&x.trackIdentifier===i.id&&b.push(x)}),b.forEach(x=>{s.forEach(R=>{R.type===f&&R.trackId===x.id&&Q(s,R,y)})}),y}const pe=Le;function G(s,i){const c=s&&s.navigator;if(!c.mediaDevices)return;const f=function(R){if("object"!=typeof R||R.mandatory||R.optional)return R;const H={};return Object.keys(R).forEach(U=>{if("require"===U||"advanced"===U||"mediaSource"===U)return;const oe="object"==typeof R[U]?R[U]:{ideal:R[U]};void 0!==oe.exact&&"number"==typeof oe.exact&&(oe.min=oe.max=oe.exact);const Ce=function(Ge,nt){return Ge?Ge+nt.charAt(0).toUpperCase()+nt.slice(1):"deviceId"===nt?"sourceId":nt};if(void 0!==oe.ideal){H.optional=H.optional||[];let Ge={};"number"==typeof oe.ideal?(Ge[Ce("min",U)]=oe.ideal,H.optional.push(Ge),Ge={},Ge[Ce("max",U)]=oe.ideal,H.optional.push(Ge)):(Ge[Ce("",U)]=oe.ideal,H.optional.push(Ge))}void 0!==oe.exact&&"number"!=typeof oe.exact?(H.mandatory=H.mandatory||{},H.mandatory[Ce("",U)]=oe.exact):["min","max"].forEach(Ge=>{void 0!==oe[Ge]&&(H.mandatory=H.mandatory||{},H.mandatory[Ce(Ge,U)]=oe[Ge])})}),R.advanced&&(H.optional=(H.optional||[]).concat(R.advanced)),H},y=function(R,H){if(i.version>=61)return H(R);if((R=JSON.parse(JSON.stringify(R)))&&"object"==typeof R.audio){const U=function(oe,Ce,Ge){Ce in oe&&!(Ge in oe)&&(oe[Ge]=oe[Ce],delete oe[Ce])};U((R=JSON.parse(JSON.stringify(R))).audio,"autoGainControl","googAutoGainControl"),U(R.audio,"noiseSuppression","googNoiseSuppression"),R.audio=f(R.audio)}if(R&&"object"==typeof R.video){let U=R.video.facingMode;U=U&&("object"==typeof U?U:{ideal:U});const oe=i.version<66;if(U&&("user"===U.exact||"environment"===U.exact||"user"===U.ideal||"environment"===U.ideal)&&(!c.mediaDevices.getSupportedConstraints||!c.mediaDevices.getSupportedConstraints().facingMode||oe)){let Ce;if(delete R.video.facingMode,"environment"===U.exact||"environment"===U.ideal?Ce=["back","rear"]:("user"===U.exact||"user"===U.ideal)&&(Ce=["front"]),Ce)return c.mediaDevices.enumerateDevices().then(Ge=>{let nt=(Ge=Ge.filter(jt=>"videoinput"===jt.kind)).find(jt=>Ce.some(Wt=>jt.label.toLowerCase().includes(Wt)));return!nt&&Ge.length&&Ce.includes("back")&&(nt=Ge[Ge.length-1]),nt&&(R.video.deviceId=U.exact?{exact:nt.deviceId}:{ideal:nt.deviceId}),R.video=f(R.video),pe("chrome: "+JSON.stringify(R)),H(R)})}R.video=f(R.video)}return pe("chrome: "+JSON.stringify(R)),H(R)},b=function(R){return i.version>=64?R:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[R.name]||R.name,message:R.message,constraint:R.constraint||R.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(c.getUserMedia=function(R,H,U){y(R,oe=>{c.webkitGetUserMedia(oe,H,Ce=>{U&&U(b(Ce))})})}.bind(c),c.mediaDevices.getUserMedia){const R=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(H){return y(H,U=>R(U).then(oe=>{if(U.audio&&!oe.getAudioTracks().length||U.video&&!oe.getVideoTracks().length)throw oe.getTracks().forEach(Ce=>{Ce.stop()}),new DOMException("","NotFoundError");return oe},oe=>Promise.reject(b(oe))))}}}function fe(s,i){if((!s.navigator.mediaDevices||!("getDisplayMedia"in s.navigator.mediaDevices))&&s.navigator.mediaDevices){if("function"!=typeof i)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");s.navigator.mediaDevices.getDisplayMedia=function(f){return i(f).then(y=>{const b=f.video&&f.video.width,x=f.video&&f.video.height;return f.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:y,maxFrameRate:f.video&&f.video.frameRate||3}},b&&(f.video.mandatory.maxWidth=b),x&&(f.video.mandatory.maxHeight=x),s.navigator.mediaDevices.getUserMedia(f)})}}}function Y(s){s.MediaStream=s.MediaStream||s.webkitMediaStream}function Z(s){if("object"==typeof s&&s.RTCPeerConnection&&!("ontrack"in s.RTCPeerConnection.prototype)){Object.defineProperty(s.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(c){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=c)},enumerable:!0,configurable:!0});const i=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=f=>{f.stream.addEventListener("addtrack",y=>{let b;b=s.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(R=>R.track&&R.track.id===y.track.id):{track:y.track};const x=new Event("track");x.track=y.track,x.receiver=b,x.transceiver={receiver:b},x.streams=[f.stream],this.dispatchEvent(x)}),f.stream.getTracks().forEach(y=>{let b;b=s.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(R=>R.track&&R.track.id===y.id):{track:y};const x=new Event("track");x.track=y,x.receiver=b,x.transceiver={receiver:b},x.streams=[f.stream],this.dispatchEvent(x)})},this.addEventListener("addstream",this._ontrackpoly)),i.apply(this,arguments)}}else De(s,"track",i=>(i.transceiver||Object.defineProperty(i,"transceiver",{value:{receiver:i.receiver}}),i))}function re(s){if("object"==typeof s&&s.RTCPeerConnection&&!("getSenders"in s.RTCPeerConnection.prototype)&&"createDTMFSender"in s.RTCPeerConnection.prototype){const i=function(y,b){return{track:b,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===b.kind?y.createDTMFSender(b):null),this._dtmf},_pc:y}};if(!s.RTCPeerConnection.prototype.getSenders){s.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const y=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(R,H){let U=y.apply(this,arguments);return U||(U=i(this,R),this._senders.push(U)),U};const b=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(R){b.apply(this,arguments);const H=this._senders.indexOf(R);-1!==H&&this._senders.splice(H,1)}}const c=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(b){this._senders=this._senders||[],c.apply(this,[b]),b.getTracks().forEach(x=>{this._senders.push(i(this,x))})};const f=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(b){this._senders=this._senders||[],f.apply(this,[b]),b.getTracks().forEach(x=>{const R=this._senders.find(H=>H.track===x);R&&this._senders.splice(this._senders.indexOf(R),1)})}}else if("object"==typeof s&&s.RTCPeerConnection&&"getSenders"in s.RTCPeerConnection.prototype&&"createDTMFSender"in s.RTCPeerConnection.prototype&&s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)){const i=s.RTCPeerConnection.prototype.getSenders;s.RTCPeerConnection.prototype.getSenders=function(){const f=i.apply(this,[]);return f.forEach(y=>y._pc=this),f},Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function F(s){if(!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[f,y,b]=arguments;if(arguments.length>0&&"function"==typeof f)return i.apply(this,arguments);if(0===i.length&&(0===arguments.length||"function"!=typeof f))return i.apply(this,[]);const x=function(H){const U={};return H.result().forEach(Ce=>{const Ge={id:Ce.id,timestamp:Ce.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Ce.type]||Ce.type};Ce.names().forEach(nt=>{Ge[nt]=Ce.stat(nt)}),U[Ge.id]=Ge}),U},R=function(H){return new Map(Object.keys(H).map(U=>[U,H[U]]))};return arguments.length>=2?i.apply(this,[function(U){y(R(x(U)))},f]):new Promise((H,U)=>{i.apply(this,[function(oe){H(R(x(oe)))},U])}).then(y,b)}}function Se(s){if(!("object"==typeof s&&s.RTCPeerConnection&&s.RTCRtpSender&&s.RTCRtpReceiver))return;if(!("getStats"in s.RTCRtpSender.prototype)){const c=s.RTCPeerConnection.prototype.getSenders;c&&(s.RTCPeerConnection.prototype.getSenders=function(){const b=c.apply(this,[]);return b.forEach(x=>x._pc=this),b});const f=s.RTCPeerConnection.prototype.addTrack;f&&(s.RTCPeerConnection.prototype.addTrack=function(){const b=f.apply(this,arguments);return b._pc=this,b}),s.RTCRtpSender.prototype.getStats=function(){const b=this;return this._pc.getStats().then(x=>he(x,b.track,!0))}}if(!("getStats"in s.RTCRtpReceiver.prototype)){const c=s.RTCPeerConnection.prototype.getReceivers;c&&(s.RTCPeerConnection.prototype.getReceivers=function(){const y=c.apply(this,[]);return y.forEach(b=>b._pc=this),y}),De(s,"track",f=>(f.receiver._pc=f.srcElement,f)),s.RTCRtpReceiver.prototype.getStats=function(){const y=this;return this._pc.getStats().then(b=>he(b,y.track,!1))}}if(!("getStats"in s.RTCRtpSender.prototype)||!("getStats"in s.RTCRtpReceiver.prototype))return;const i=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof s.MediaStreamTrack){const f=arguments[0];let y,b,x;return this.getSenders().forEach(R=>{R.track===f&&(y?x=!0:y=R)}),this.getReceivers().forEach(R=>(R.track===f&&(b?x=!0:b=R),R.track===f)),x||y&&b?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):y?y.getStats():b?b.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}function Be(s){s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(x=>this._shimmedLocalStreams[x][0])};const i=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(x,R){if(!R)return i.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const H=i.apply(this,arguments);return this._shimmedLocalStreams[R.id]?-1===this._shimmedLocalStreams[R.id].indexOf(H)&&this._shimmedLocalStreams[R.id].push(H):this._shimmedLocalStreams[R.id]=[R,H],H};const c=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(x){this._shimmedLocalStreams=this._shimmedLocalStreams||{},x.getTracks().forEach(U=>{if(this.getSenders().find(Ce=>Ce.track===U))throw new DOMException("Track already exists.","InvalidAccessError")});const R=this.getSenders();c.apply(this,arguments);const H=this.getSenders().filter(U=>-1===R.indexOf(U));this._shimmedLocalStreams[x.id]=[x].concat(H)};const f=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(x){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[x.id],f.apply(this,arguments)};const y=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(x){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},x&&Object.keys(this._shimmedLocalStreams).forEach(R=>{const H=this._shimmedLocalStreams[R].indexOf(x);-1!==H&&this._shimmedLocalStreams[R].splice(H,1),1===this._shimmedLocalStreams[R].length&&delete this._shimmedLocalStreams[R]}),y.apply(this,arguments)}}function Me(s,i){if(!s.RTCPeerConnection)return;if(s.RTCPeerConnection.prototype.addTrack&&i.version>=65)return Be(s);const c=s.RTCPeerConnection.prototype.getLocalStreams;s.RTCPeerConnection.prototype.getLocalStreams=function(){const oe=c.apply(this);return this._reverseStreams=this._reverseStreams||{},oe.map(Ce=>this._reverseStreams[Ce.id])};const f=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(oe){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},oe.getTracks().forEach(Ce=>{if(this.getSenders().find(nt=>nt.track===Ce))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[oe.id]){const Ce=new s.MediaStream(oe.getTracks());this._streams[oe.id]=Ce,this._reverseStreams[Ce.id]=oe,oe=Ce}f.apply(this,[oe])};const y=s.RTCPeerConnection.prototype.removeStream;function b(U,oe){let Ce=oe.sdp;return Object.keys(U._reverseStreams||[]).forEach(Ge=>{const nt=U._reverseStreams[Ge];Ce=Ce.replace(new RegExp(U._streams[nt.id].id,"g"),nt.id)}),new RTCSessionDescription({type:oe.type,sdp:Ce})}s.RTCPeerConnection.prototype.removeStream=function(oe){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.apply(this,[this._streams[oe.id]||oe]),delete this._reverseStreams[this._streams[oe.id]?this._streams[oe.id].id:oe.id],delete this._streams[oe.id]},s.RTCPeerConnection.prototype.addTrack=function(oe,Ce){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const Ge=[].slice.call(arguments,1);if(1!==Ge.length||!Ge[0].getTracks().find(Wt=>Wt===oe))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(Wt=>Wt.track===oe))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const jt=this._streams[Ce.id];if(jt)jt.addTrack(oe),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const Wt=new s.MediaStream([oe]);this._streams[Ce.id]=Wt,this._reverseStreams[Wt.id]=Ce,this.addStream(Wt)}return this.getSenders().find(Wt=>Wt.track===oe)},["createOffer","createAnswer"].forEach(function(U){const oe=s.RTCPeerConnection.prototype[U],Ce={[U](){const Ge=arguments;return arguments.length&&"function"==typeof arguments[0]?oe.apply(this,[jt=>{const Wt=b(this,jt);Ge[0].apply(null,[Wt])},jt=>{Ge[1]&&Ge[1].apply(null,jt)},arguments[2]]):oe.apply(this,arguments).then(jt=>b(this,jt))}};s.RTCPeerConnection.prototype[U]=Ce[U]});const R=s.RTCPeerConnection.prototype.setLocalDescription;s.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function x(U,oe){let Ce=oe.sdp;return Object.keys(U._reverseStreams||[]).forEach(Ge=>{const nt=U._reverseStreams[Ge],jt=U._streams[nt.id];Ce=Ce.replace(new RegExp(nt.id,"g"),jt.id)}),new RTCSessionDescription({type:oe.type,sdp:Ce})}(this,arguments[0]),R.apply(this,arguments)):R.apply(this,arguments)};const H=Object.getOwnPropertyDescriptor(s.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(s.RTCPeerConnection.prototype,"localDescription",{get(){const U=H.get.apply(this);return""===U.type?U:b(this,U)}}),s.RTCPeerConnection.prototype.removeTrack=function(oe){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!oe._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(oe._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let Ge;this._streams=this._streams||{},Object.keys(this._streams).forEach(nt=>{this._streams[nt].getTracks().find(Wt=>oe.track===Wt)&&(Ge=this._streams[nt])}),Ge&&(1===Ge.getTracks().length?this.removeStream(this._reverseStreams[Ge.id]):Ge.removeTrack(oe.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ct(s,i){!s.RTCPeerConnection&&s.webkitRTCPeerConnection&&(s.RTCPeerConnection=s.webkitRTCPeerConnection),s.RTCPeerConnection&&i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(c){const f=s.RTCPeerConnection.prototype[c],y={[c](){return arguments[0]=new("addIceCandidate"===c?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),f.apply(this,arguments)}};s.RTCPeerConnection.prototype[c]=y[c]})}function de(s,i){De(s,"negotiationneeded",c=>{const f=c.target;if(!(i.version<72||f.getConfiguration&&"plan-b"===f.getConfiguration().sdpSemantics)||"stable"===f.signalingState)return c})}var ge=M(6334),Re=M.n(ge);function ke(s){const i=s&&s.navigator,f=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(y){return f(y).catch(b=>Promise.reject(function(y){return{name:{PermissionDeniedError:"NotAllowedError"}[y.name]||y.name,message:y.message,constraint:y.constraint,toString(){return this.name}}}(b)))}}function Oe(s){"getDisplayMedia"in s.navigator&&s.navigator.mediaDevices&&(s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||(s.navigator.mediaDevices.getDisplayMedia=s.navigator.getDisplayMedia.bind(s.navigator)))}function Ue(s,i){if(s.RTCIceGatherer&&(s.RTCIceCandidate||(s.RTCIceCandidate=function(y){return y}),s.RTCSessionDescription||(s.RTCSessionDescription=function(y){return y}),i.version<15025)){const f=Object.getOwnPropertyDescriptor(s.MediaStreamTrack.prototype,"enabled");Object.defineProperty(s.MediaStreamTrack.prototype,"enabled",{set(y){f.set.call(this,y);const b=new Event("enabled");b.enabled=y,this.dispatchEvent(b)}})}s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)&&Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new s.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),s.RTCDtmfSender&&!s.RTCDTMFSender&&(s.RTCDTMFSender=s.RTCDtmfSender);const c=Re()(s,i.version);s.RTCPeerConnection=function(y){return y&&y.iceServers&&(y.iceServers=function ye(s,i){let c=!1;return(s=JSON.parse(JSON.stringify(s))).filter(f=>{if(f&&(f.urls||f.url)){let y=f.urls||f.url;f.url&&!f.urls&&Ne("RTCIceServer.url","RTCIceServer.urls");const b="string"==typeof y;return b&&(y=[y]),y=y.filter(x=>{if(0===x.indexOf("stun:"))return!1;const R=x.startsWith("turn")&&!x.startsWith("turn:[")&&x.includes("transport=udp");return R&&!c?(c=!0,!0):R&&!c}),delete f.url,f.urls=b?y[0]:y,!!y.length}})}(y.iceServers),Le("ICE servers after filtering:",y.iceServers)),new c(y)},s.RTCPeerConnection.prototype=c.prototype}function rt(s){s.RTCRtpSender&&!("replaceTrack"in s.RTCRtpSender.prototype)&&(s.RTCRtpSender.prototype.replaceTrack=s.RTCRtpSender.prototype.setTrack)}function qt(s,i){const c=s&&s.navigator,f=s&&s.MediaStreamTrack;if(c.getUserMedia=function(y,b,x){Ne("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),c.mediaDevices.getUserMedia(y).then(b,x)},!(i.version>55&&"autoGainControl"in c.mediaDevices.getSupportedConstraints())){const y=function(x,R,H){R in x&&!(H in x)&&(x[H]=x[R],delete x[R])},b=c.mediaDevices.getUserMedia.bind(c.mediaDevices);if(c.mediaDevices.getUserMedia=function(x){return"object"==typeof x&&"object"==typeof x.audio&&(x=JSON.parse(JSON.stringify(x)),y(x.audio,"autoGainControl","mozAutoGainControl"),y(x.audio,"noiseSuppression","mozNoiseSuppression")),b(x)},f&&f.prototype.getSettings){const x=f.prototype.getSettings;f.prototype.getSettings=function(){const R=x.apply(this,arguments);return y(R,"mozAutoGainControl","autoGainControl"),y(R,"mozNoiseSuppression","noiseSuppression"),R}}if(f&&f.prototype.applyConstraints){const x=f.prototype.applyConstraints;f.prototype.applyConstraints=function(R){return"audio"===this.kind&&"object"==typeof R&&(R=JSON.parse(JSON.stringify(R)),y(R,"autoGainControl","mozAutoGainControl"),y(R,"noiseSuppression","mozNoiseSuppression")),x.apply(this,[R])}}}}function tt(s,i){s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||s.navigator.mediaDevices&&(s.navigator.mediaDevices.getDisplayMedia=function(f){if(!f||!f.video){const y=new DOMException("getDisplayMedia without video constraints is undefined");return y.name="NotFoundError",y.code=8,Promise.reject(y)}return!0===f.video?f.video={mediaSource:i}:f.video.mediaSource=i,s.navigator.mediaDevices.getUserMedia(f)})}function ht(s){"object"==typeof s&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Rt(s,i){if("object"!=typeof s||!s.RTCPeerConnection&&!s.mozRTCPeerConnection)return;!s.RTCPeerConnection&&s.mozRTCPeerConnection&&(s.RTCPeerConnection=s.mozRTCPeerConnection),i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(y){const b=s.RTCPeerConnection.prototype[y],x={[y](){return arguments[0]=new("addIceCandidate"===y?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),b.apply(this,arguments)}};s.RTCPeerConnection.prototype[y]=x[y]});const c={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},f=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[b,x,R]=arguments;return f.apply(this,[b||null]).then(H=>{if(i.version<53&&!x)try{H.forEach(U=>{U.type=c[U.type]||U.type})}catch(U){if("TypeError"!==U.name)throw U;H.forEach((oe,Ce)=>{H.set(Ce,Object.assign({},oe,{type:c[oe.type]||oe.type}))})}return H}).then(x,R)}}function pt(s){if("object"!=typeof s||!s.RTCPeerConnection||!s.RTCRtpSender||s.RTCRtpSender&&"getStats"in s.RTCRtpSender.prototype)return;const i=s.RTCPeerConnection.prototype.getSenders;i&&(s.RTCPeerConnection.prototype.getSenders=function(){const y=i.apply(this,[]);return y.forEach(b=>b._pc=this),y});const c=s.RTCPeerConnection.prototype.addTrack;c&&(s.RTCPeerConnection.prototype.addTrack=function(){const y=c.apply(this,arguments);return y._pc=this,y}),s.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function mt(s){if("object"!=typeof s||!s.RTCPeerConnection||!s.RTCRtpSender||s.RTCRtpSender&&"getStats"in s.RTCRtpReceiver.prototype)return;const i=s.RTCPeerConnection.prototype.getReceivers;i&&(s.RTCPeerConnection.prototype.getReceivers=function(){const f=i.apply(this,[]);return f.forEach(y=>y._pc=this),f}),De(s,"track",c=>(c.receiver._pc=c.srcElement,c)),s.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function at(s){!s.RTCPeerConnection||"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(c){Ne("removeStream","removeTrack"),this.getSenders().forEach(f=>{f.track&&c.getTracks().includes(f.track)&&this.removeTrack(f)})})}function mn(s){s.DataChannel&&!s.RTCDataChannel&&(s.RTCDataChannel=s.DataChannel)}function tn(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.addTransceiver;i&&(s.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const f=arguments[1],y=f&&"sendEncodings"in f;y&&f.sendEncodings.forEach(x=>{if("rid"in x&&!/^[a-z0-9]{0,16}$/i.test(x.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in x&&!(parseFloat(x.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in x&&!(parseFloat(x.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const b=i.apply(this,arguments);if(y){const{sender:x}=b,R=x.getParameters();(!("encodings"in R)||1===R.encodings.length&&0===Object.keys(R.encodings[0]).length)&&(R.encodings=f.sendEncodings,x.sendEncodings=f.sendEncodings,this.setParametersPromises.push(x.setParameters(R).then(()=>{delete x.sendEncodings}).catch(()=>{delete x.sendEncodings})))}return b})}function Cn(s){if("object"!=typeof s||!s.RTCRtpSender)return;const i=s.RTCRtpSender.prototype.getParameters;i&&(s.RTCRtpSender.prototype.getParameters=function(){const f=i.apply(this,arguments);return"encodings"in f||(f.encodings=[].concat(this.sendEncodings||[{}])),f})}function ft(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function rr(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.createAnswer;s.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function qn(s){if("object"==typeof s&&s.RTCPeerConnection){if("getLocalStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in s.RTCPeerConnection.prototype)){const i=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addStream=function(f){this._localStreams||(this._localStreams=[]),this._localStreams.includes(f)||this._localStreams.push(f),f.getAudioTracks().forEach(y=>i.call(this,y,f)),f.getVideoTracks().forEach(y=>i.call(this,y,f))},s.RTCPeerConnection.prototype.addTrack=function(f,...y){return y&&y.forEach(b=>{this._localStreams?this._localStreams.includes(b)||this._localStreams.push(b):this._localStreams=[b]}),i.apply(this,arguments)}}"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(c){this._localStreams||(this._localStreams=[]);const f=this._localStreams.indexOf(c);if(-1===f)return;this._localStreams.splice(f,1);const y=c.getTracks();this.getSenders().forEach(b=>{y.includes(b.track)&&this.removeTrack(b)})})}}function qe(s){if("object"==typeof s&&s.RTCPeerConnection&&("getRemoteStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in s.RTCPeerConnection.prototype))){Object.defineProperty(s.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(c){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=c),this.addEventListener("track",this._onaddstreampoly=f=>{f.streams.forEach(y=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(y))return;this._remoteStreams.push(y);const b=new Event("addstream");b.stream=y,this.dispatchEvent(b)})})}});const i=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){const f=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(y){y.streams.forEach(b=>{if(f._remoteStreams||(f._remoteStreams=[]),f._remoteStreams.indexOf(b)>=0)return;f._remoteStreams.push(b);const x=new Event("addstream");x.stream=b,f.dispatchEvent(x)})}),i.apply(f,arguments)}}}function Ht(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype,c=i.createOffer,f=i.createAnswer,y=i.setLocalDescription,b=i.setRemoteDescription,x=i.addIceCandidate;i.createOffer=function(U,oe){const Ge=c.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return oe?(Ge.then(U,oe),Promise.resolve()):Ge},i.createAnswer=function(U,oe){const Ge=f.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return oe?(Ge.then(U,oe),Promise.resolve()):Ge};let R=function(H,U,oe){const Ce=y.apply(this,[H]);return oe?(Ce.then(U,oe),Promise.resolve()):Ce};i.setLocalDescription=R,R=function(H,U,oe){const Ce=b.apply(this,[H]);return oe?(Ce.then(U,oe),Promise.resolve()):Ce},i.setRemoteDescription=R,R=function(H,U,oe){const Ce=x.apply(this,[H]);return oe?(Ce.then(U,oe),Promise.resolve()):Ce},i.addIceCandidate=R}function Dn(s){const i=s&&s.navigator;if(i.mediaDevices&&i.mediaDevices.getUserMedia){const c=i.mediaDevices,f=c.getUserMedia.bind(c);i.mediaDevices.getUserMedia=y=>f(bn(y))}!i.getUserMedia&&i.mediaDevices&&i.mediaDevices.getUserMedia&&(i.getUserMedia=function(f,y,b){i.mediaDevices.getUserMedia(f).then(y,b)}.bind(i))}function bn(s){return s&&void 0!==s.video?Object.assign({},s,{video:me(s.video)}):s}function Hn(s){if(!s.RTCPeerConnection)return;const i=s.RTCPeerConnection;s.RTCPeerConnection=function(f,y){if(f&&f.iceServers){const b=[];for(let x=0;x<f.iceServers.length;x++){let R=f.iceServers[x];!R.hasOwnProperty("urls")&&R.hasOwnProperty("url")?(Ne("RTCIceServer.url","RTCIceServer.urls"),R=JSON.parse(JSON.stringify(R)),R.urls=R.url,delete R.url,b.push(R)):b.push(f.iceServers[x])}f.iceServers=b}return new i(f,y)},s.RTCPeerConnection.prototype=i.prototype,"generateCertificate"in i&&Object.defineProperty(s.RTCPeerConnection,"generateCertificate",{get:()=>i.generateCertificate})}function Kt(s){"object"==typeof s&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function We(s){const i=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(f){if(f){typeof f.offerToReceiveAudio<"u"&&(f.offerToReceiveAudio=!!f.offerToReceiveAudio);const y=this.getTransceivers().find(x=>"audio"===x.receiver.track.kind);!1===f.offerToReceiveAudio&&y?"sendrecv"===y.direction?y.setDirection?y.setDirection("sendonly"):y.direction="sendonly":"recvonly"===y.direction&&(y.setDirection?y.setDirection("inactive"):y.direction="inactive"):!0===f.offerToReceiveAudio&&!y&&this.addTransceiver("audio"),typeof f.offerToReceiveVideo<"u"&&(f.offerToReceiveVideo=!!f.offerToReceiveVideo);const b=this.getTransceivers().find(x=>"video"===x.receiver.track.kind);!1===f.offerToReceiveVideo&&b?"sendrecv"===b.direction?b.setDirection?b.setDirection("sendonly"):b.direction="sendonly":"recvonly"===b.direction&&(b.setDirection?b.setDirection("inactive"):b.direction="inactive"):!0===f.offerToReceiveVideo&&!b&&this.addTransceiver("video")}return i.apply(this,arguments)}}function ot(s){"object"!=typeof s||s.AudioContext||(s.AudioContext=s.webkitAudioContext)}var vr=M(7463),Ze=M.n(vr);function Sn(s){if(!s.RTCIceCandidate||s.RTCIceCandidate&&"foundation"in s.RTCIceCandidate.prototype)return;const i=s.RTCIceCandidate;s.RTCIceCandidate=function(f){if("object"==typeof f&&f.candidate&&0===f.candidate.indexOf("a=")&&((f=JSON.parse(JSON.stringify(f))).candidate=f.candidate.substr(2)),f.candidate&&f.candidate.length){const y=new i(f),b=Ze().parseCandidate(f.candidate),x=Object.assign(y,b);return x.toJSON=function(){return{candidate:x.candidate,sdpMid:x.sdpMid,sdpMLineIndex:x.sdpMLineIndex,usernameFragment:x.usernameFragment}},x}return new i(f)},s.RTCIceCandidate.prototype=i.prototype,De(s,"icecandidate",c=>(c.candidate&&Object.defineProperty(c,"candidate",{value:new s.RTCIceCandidate(c.candidate),writable:"false"}),c))}function Nn(s,i){if(!s.RTCPeerConnection)return;"sctp"in s.RTCPeerConnection.prototype||Object.defineProperty(s.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const x=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===i.browser&&i.version>=76){const{sdpSemantics:H}=this.getConfiguration();"plan-b"===H&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(function(R){if(!R||!R.sdp)return!1;const H=Ze().splitSections(R.sdp);return H.shift(),H.some(U=>{const oe=Ze().parseMLine(U);return oe&&"application"===oe.kind&&-1!==oe.protocol.indexOf("SCTP")})}(arguments[0])){const H=function(R){const H=R.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===H||H.length<2)return-1;const U=parseInt(H[1],10);return U!=U?-1:U}(arguments[0]),U=function(R){let H=65536;return"firefox"===i.browser&&(H=i.version<57?-1===R?16384:2147483637:i.version<60?57===i.version?65535:65536:2147483637),H}(H),oe=function(R,H){let U=65536;"firefox"===i.browser&&57===i.version&&(U=65535);const oe=Ze().matchPrefix(R.sdp,"a=max-message-size:");return oe.length>0?U=parseInt(oe[0].substr(19),10):"firefox"===i.browser&&-1!==H&&(U=2147483637),U}(arguments[0],H);let Ce;Ce=0===U&&0===oe?Number.POSITIVE_INFINITY:0===U||0===oe?Math.max(U,oe):Math.min(U,oe);const Ge={};Object.defineProperty(Ge,"maxMessageSize",{get:()=>Ce}),this._sctp=Ge}return x.apply(this,arguments)}}function Mt(s){if(!s.RTCPeerConnection||!("createDataChannel"in s.RTCPeerConnection.prototype))return;function i(f,y){const b=f.send;f.send=function(){const R=arguments[0];if("open"===f.readyState&&y.sctp&&(R.length||R.size||R.byteLength)>y.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+y.sctp.maxMessageSize+" bytes)");return b.apply(f,arguments)}}const c=s.RTCPeerConnection.prototype.createDataChannel;s.RTCPeerConnection.prototype.createDataChannel=function(){const y=c.apply(this,arguments);return i(y,this),y},De(s,"datachannel",f=>(i(f.channel,f.target),f))}function oo(s){if(!s.RTCPeerConnection||"connectionState"in s.RTCPeerConnection.prototype)return;const i=s.RTCPeerConnection.prototype;Object.defineProperty(i,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(i,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(c){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),c&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=c)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(c=>{const f=i[c];i[c]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=y=>{const b=y.target;if(b._lastConnectionState!==b.connectionState){b._lastConnectionState=b.connectionState;const x=new Event("connectionstatechange",y);b.dispatchEvent(x)}return y},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),f.apply(this,arguments)}})}function nn(s,i){if(!s.RTCPeerConnection||"chrome"===i.browser&&i.version>=71||"safari"===i.browser&&i.version>=605)return;const c=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(y){if(y&&y.sdp&&-1!==y.sdp.indexOf("\na=extmap-allow-mixed")){const b=y.sdp.split("\n").filter(x=>"a=extmap-allow-mixed"!==x.trim()).join("\n");s.RTCSessionDescription&&y instanceof s.RTCSessionDescription?arguments[0]=new s.RTCSessionDescription({type:y.type,sdp:b}):y.sdp=b}return c.apply(this,arguments)}}function Qt(s,i){if(!s.RTCPeerConnection||!s.RTCPeerConnection.prototype)return;const c=s.RTCPeerConnection.prototype.addIceCandidate;!c||0===c.length||(s.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===i.browser&&i.version<78||"firefox"===i.browser&&i.version<68||"safari"===i.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():c.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const _r=function $t({window:s}={},i={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const c=Le,f=function L(s){const i={browser:null,version:null};if(typeof s>"u"||!s.navigator)return i.browser="Not a browser.",i;const{navigator:c}=s;if(c.mozGetUserMedia)i.browser="firefox",i.version=ae(c.userAgent,/Firefox\/(\d+)\./,1);else if(c.webkitGetUserMedia||!1===s.isSecureContext&&s.webkitRTCPeerConnection&&!s.RTCIceGatherer)i.browser="chrome",i.version=ae(c.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(c.mediaDevices&&c.userAgent.match(/Edge\/(\d+).(\d+)$/))i.browser="edge",i.version=ae(c.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!s.RTCPeerConnection||!c.userAgent.match(/AppleWebKit\/(\d+)\./))return i.browser="Not a supported browser.",i;i.browser="safari",i.version=ae(c.userAgent,/AppleWebKit\/(\d+)\./,1),i.supportsUnifiedPlan=s.RTCRtpTransceiver&&"currentDirection"in s.RTCRtpTransceiver.prototype}return i}(s),y={browserDetails:f,commonShim:q,extractVersion:ae,disableLog:Ve,disableWarnings:ee};switch(f.browser){case"chrome":if(!l||!ct||!i.shimChrome)return c("Chrome shim is not included in this adapter release."),y;if(null===f.version)return c("Chrome shim can not determine version, not shimming."),y;c("adapter.js shimming chrome."),y.browserShim=l,Qt(s,f),G(s,f),Y(s),ct(s,f),Z(s),Me(s,f),re(s),F(s),Se(s),de(s,f),Sn(s),oo(s),Nn(s,f),Mt(s),nn(s,f);break;case"firefox":if(!J||!Rt||!i.shimFirefox)return c("Firefox shim is not included in this adapter release."),y;c("adapter.js shimming firefox."),y.browserShim=J,Qt(s,f),qt(s,f),Rt(s,f),ht(s),at(s),pt(s),mt(s),mn(s),tn(s),Cn(s),ft(s),rr(s),Sn(s),oo(s),Nn(s,f),Mt(s);break;case"edge":if(!N||!Ue||!i.shimEdge)return c("MS edge shim is not included in this adapter release."),y;c("adapter.js shimming edge."),y.browserShim=N,ke(s),Oe(s),Ue(s,f),rt(s),Nn(s,f),Mt(s);break;case"safari":if(!ne||!i.shimSafari)return c("Safari shim is not included in this adapter release."),y;c("adapter.js shimming safari."),y.browserShim=ne,Qt(s,f),Hn(s),We(s),Ht(s),qn(s),qe(s),Kt(s),Dn(s),ot(s),Sn(s),Nn(s,f),Mt(s),nn(s,f);break;default:c("Unsupported browser!")}return y}({window:typeof window>"u"?void 0:window});function ln(s,i,c,f){Object.defineProperty(s,i,{get:c,set:f,enumerable:!0,configurable:!0})}var vt=_r.default||_r,En=new(function(){function s(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return s.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},s.prototype.isBrowserSupported=function(){var i=this.getBrowser(),c=this.getVersion();return!!this.supportedBrowsers.includes(i)&&("chrome"===i?c>=this.minChromeVersion:"firefox"===i?c>=this.minFirefoxVersion:"safari"===i&&!this.isIOS&&c>=this.minSafariVersion)},s.prototype.getBrowser=function(){return vt.browserDetails.browser},s.prototype.getVersion=function(){return vt.browserDetails.version||0},s.prototype.isUnifiedPlanSupported=function(){var i=this.getBrowser(),c=vt.browserDetails.version||0;if("chrome"===i&&c<this.minChromeVersion)return!1;if("firefox"===i&&c>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var f,y=!1;try{(f=new RTCPeerConnection).addTransceiver("audio"),y=!0}catch{}finally{f&&f.close()}return y},s.prototype.toString=function(){return"Supports:\n    browser:".concat(this.getBrowser(),"\n    version:").concat(this.getVersion(),"\n    isIOS:").concat(this.isIOS,"\n    isWebRTCSupported:").concat(this.isWebRTCSupported(),"\n    isBrowserSupported:").concat(this.isBrowserSupported(),"\n    isUnifiedPlanSupported:").concat(this.isUnifiedPlanSupported())},s}()),zr={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},or=function(){function s(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=zr,this.browser=En.getBrowser(),this.browserVersion=En.getVersion(),this.supports=function(){var c,i={browser:En.isBrowserSupported(),webRTC:En.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!i.webRTC)return i;try{c=new RTCPeerConnection(zr),i.audioVideo=!0;var f=void 0;try{f=c.createDataChannel("_PEERJSTEST",{ordered:!0}),i.data=!0,i.reliable=!!f.ordered;try{f.binaryType="blob",i.binaryBlob=!En.isIOS}catch{}}catch{}finally{f&&f.close()}}catch{}finally{c&&c.close()}return i}(),this.pack=B.pack,this.unpack=B.unpack,this._dataCount=1}return s.prototype.noop=function(){},s.prototype.validateId=function(i){return!i||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(i)},s.prototype.chunk=function(i){for(var c=[],f=i.size,y=Math.ceil(f/Et.chunkedMTU),b=0,x=0;x<f;){var R=Math.min(f,x+Et.chunkedMTU),H=i.slice(x,R);c.push({__peerData:this._dataCount,n:b,data:H,total:y}),x=R,b++}return this._dataCount++,c},s.prototype.blobToArrayBuffer=function(i,c){var f=new FileReader;return f.onload=function(y){y.target&&c(y.target.result)},f.readAsArrayBuffer(i),f},s.prototype.binaryStringToArrayBuffer=function(i){for(var c=new Uint8Array(i.length),f=0;f<i.length;f++)c[f]=255&i.charCodeAt(f);return c.buffer},s.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},s.prototype.isSecure=function(){return"https:"===location.protocol},s}(),Et=new or;ln({},"Peer",()=>St,s=>St=s);var yn,cr=Object.prototype.hasOwnProperty,Pt="~";function Ln(){}function _e(s,i,c){this.fn=s,this.context=i,this.once=c||!1}function ie(s,i,c,f,y){if("function"!=typeof c)throw new TypeError("The listener must be a function");var b=new _e(c,f||s,y),x=Pt?Pt+i:i;return s._events[x]?s._events[x].fn?s._events[x]=[s._events[x],b]:s._events[x].push(b):(s._events[x]=b,s._eventsCount++),s}function $(s,i){0==--s._eventsCount?s._events=new Ln:delete s._events[i]}function ce(){this._events=new Ln,this._eventsCount=0}Object.create&&(Ln.prototype=Object.create(null),(new Ln).__proto__||(Pt=!1)),ce.prototype.eventNames=function(){var c,f,i=[];if(0===this._eventsCount)return i;for(f in c=this._events)cr.call(c,f)&&i.push(Pt?f.slice(1):f);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(c)):i},ce.prototype.listeners=function(i){var f=this._events[Pt?Pt+i:i];if(!f)return[];if(f.fn)return[f.fn];for(var y=0,b=f.length,x=new Array(b);y<b;y++)x[y]=f[y].fn;return x},ce.prototype.listenerCount=function(i){var f=this._events[Pt?Pt+i:i];return f?f.fn?1:f.length:0},ce.prototype.emit=function(i,c,f,y,b,x){var R=Pt?Pt+i:i;if(!this._events[R])return!1;var oe,Ce,H=this._events[R],U=arguments.length;if(H.fn){switch(H.once&&this.removeListener(i,H.fn,void 0,!0),U){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,c),!0;case 3:return H.fn.call(H.context,c,f),!0;case 4:return H.fn.call(H.context,c,f,y),!0;case 5:return H.fn.call(H.context,c,f,y,b),!0;case 6:return H.fn.call(H.context,c,f,y,b,x),!0}for(Ce=1,oe=new Array(U-1);Ce<U;Ce++)oe[Ce-1]=arguments[Ce];H.fn.apply(H.context,oe)}else{var nt,Ge=H.length;for(Ce=0;Ce<Ge;Ce++)switch(H[Ce].once&&this.removeListener(i,H[Ce].fn,void 0,!0),U){case 1:H[Ce].fn.call(H[Ce].context);break;case 2:H[Ce].fn.call(H[Ce].context,c);break;case 3:H[Ce].fn.call(H[Ce].context,c,f);break;case 4:H[Ce].fn.call(H[Ce].context,c,f,y);break;default:if(!oe)for(nt=1,oe=new Array(U-1);nt<U;nt++)oe[nt-1]=arguments[nt];H[Ce].fn.apply(H[Ce].context,oe)}}return!0},ce.prototype.on=function(i,c,f){return ie(this,i,c,f,!1)},ce.prototype.once=function(i,c,f){return ie(this,i,c,f,!0)},ce.prototype.removeListener=function(i,c,f,y){var b=Pt?Pt+i:i;if(!this._events[b])return this;if(!c)return $(this,b),this;var x=this._events[b];if(x.fn)x.fn===c&&(!y||x.once)&&(!f||x.context===f)&&$(this,b);else{for(var R=0,H=[],U=x.length;R<U;R++)(x[R].fn!==c||y&&!x[R].once||f&&x[R].context!==f)&&H.push(x[R]);H.length?this._events[b]=1===H.length?H[0]:H:$(this,b)}return this},ce.prototype.removeAllListeners=function(i){var c;return i?this._events[c=Pt?Pt+i:i]&&$(this,c):(this._events=new Ln,this._eventsCount=0),this},ce.prototype.off=ce.prototype.removeListener,ce.prototype.addListener=ce.prototype.on,ce.prefixed=Pt,ce.EventEmitter=ce,yn=ce;var le={};ln(le,"LogLevel",()=>it,s=>it=s),ln(le,"default",()=>rn,s=>rn=s);var $e=function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var y,x,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(y=f.next()).done;)b.push(y.value)}catch(R){x={error:R}}finally{try{y&&!y.done&&(c=f.return)&&c.call(f)}finally{if(x)throw x.error}}return b},Qe=function(s,i,c){if(c||2===arguments.length)for(var b,f=0,y=i.length;f<y;f++)(b||!(f in i))&&(b||(b=Array.prototype.slice.call(i,0,f)),b[f]=i[f]);return s.concat(b||Array.prototype.slice.call(i))},it=(()=>((it=it||{})[it.Disabled=0]="Disabled",it[it.Errors=1]="Errors",it[it.Warnings=2]="Warnings",it[it.All=3]="All",it))(),Gt=function(){function s(){this._logLevel=it.Disabled}return Object.defineProperty(s.prototype,"logLevel",{get:function(){return this._logLevel},set:function(i){this._logLevel=i},enumerable:!1,configurable:!0}),s.prototype.log=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=it.All&&this._print.apply(this,Qe([it.All],$e(i),!1))},s.prototype.warn=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=it.Warnings&&this._print.apply(this,Qe([it.Warnings],$e(i),!1))},s.prototype.error=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=it.Errors&&this._print.apply(this,Qe([it.Errors],$e(i),!1))},s.prototype.setLogFunction=function(i){this._print=i},s.prototype._print=function(i){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];var y=Qe(["PeerJS: "],$e(c),!1);for(var b in y)y[b]instanceof Error&&(y[b]="("+y[b].name+") "+y[b].message);i>=it.All?console.log.apply(console,Qe([],$e(y),!1)):i>=it.Warnings?console.warn.apply(console,Qe(["WARNING"],$e(y),!1)):i>=it.Errors&&console.error.apply(console,Qe(["ERROR"],$e(y),!1))},s}(),rn=new Gt,fn={};ln(fn,"Socket",()=>Wr,s=>Wr=s);var Cr,Ot=(()=>((Ot=Ot||{}).Data="data",Ot.Media="media",Ot))(),ze=(()=>((ze=ze||{}).BrowserIncompatible="browser-incompatible",ze.Disconnected="disconnected",ze.InvalidID="invalid-id",ze.InvalidKey="invalid-key",ze.Network="network",ze.PeerUnavailable="peer-unavailable",ze.SslUnavailable="ssl-unavailable",ze.ServerError="server-error",ze.SocketError="socket-error",ze.SocketClosed="socket-closed",ze.UnavailableID="unavailable-id",ze.WebRTC="webrtc",ze))(),un=(()=>((un=un||{}).Binary="binary",un.BinaryUTF8="binary-utf8",un.JSON="json",un))(),an=(()=>((an=an||{}).Message="message",an.Disconnected="disconnected",an.Error="error",an.Close="close",an))(),bt=(()=>((bt=bt||{}).Heartbeat="HEARTBEAT",bt.Candidate="CANDIDATE",bt.Offer="OFFER",bt.Answer="ANSWER",bt.Open="OPEN",bt.Error="ERROR",bt.IdTaken="ID-TAKEN",bt.InvalidKey="INVALID-KEY",bt.Leave="LEAVE",bt.Expire="EXPIRE",bt))();Cr=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var s,Kn=(s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(f[b]=y[b])})(i,c)},function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}),Wr=function(s){function i(c,f,y,b,x,R){void 0===R&&(R=5e3);var H=s.call(this)||this;return H.pingInterval=R,H._disconnected=!0,H._messagesQueue=[],H._baseUrl=(c?"wss://":"ws://")+f+":"+y+b+"peerjs?key="+x,H}return Kn(i,s),i.prototype.start=function(c,f){var y=this;this._id=c;var b="".concat(this._baseUrl,"&id=").concat(c,"&token=").concat(f);this._socket||!this._disconnected||(this._socket=new WebSocket(b+"&version="+Cr.version),this._disconnected=!1,this._socket.onmessage=function(x){var R;try{R=JSON.parse(x.data),le.default.log("Server message received:",R)}catch{return void le.default.log("Invalid server message",x.data)}y.emit(an.Message,R)},this._socket.onclose=function(x){y._disconnected||(le.default.log("Socket closed.",x),y._cleanup(),y._disconnected=!0,y.emit(an.Disconnected))},this._socket.onopen=function(){y._disconnected||(y._sendQueuedMessages(),le.default.log("Socket open"),y._scheduleHeartbeat())})},i.prototype._scheduleHeartbeat=function(){var c=this;this._wsPingTimer=setTimeout(function(){c._sendHeartbeat()},this.pingInterval)},i.prototype._sendHeartbeat=function(){if(this._wsOpen()){var c=JSON.stringify({type:bt.Heartbeat});this._socket.send(c),this._scheduleHeartbeat()}else le.default.log("Cannot send heartbeat, because socket closed")},i.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},i.prototype._sendQueuedMessages=function(){var c,f,y=function(s,i,c){if(c||2===arguments.length)for(var b,f=0,y=i.length;f<y;f++)(b||!(f in i))&&(b||(b=Array.prototype.slice.call(i,0,f)),b[f]=i[f]);return s.concat(b||Array.prototype.slice.call(i))}([],function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var y,x,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(y=f.next()).done;)b.push(y.value)}catch(R){x={error:R}}finally{try{y&&!y.done&&(c=f.return)&&c.call(f)}finally{if(x)throw x.error}}return b}(this._messagesQueue),!1);this._messagesQueue=[];try{for(var b=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(y),x=b.next();!x.done;x=b.next())this.send(x.value)}catch(H){c={error:H}}finally{try{x&&!x.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}},i.prototype.send=function(c){if(!this._disconnected){if(!this._id)return void this._messagesQueue.push(c);if(!c.type)return void this.emit(an.Error,"Invalid message");if(this._wsOpen()){var f=JSON.stringify(c);this._socket.send(f)}}},i.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},i.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},i}(yn.EventEmitter),xr={};ln(xr,"MediaConnection",()=>Or,s=>Or=s);var io={};ln(io,"Negotiator",()=>Co,s=>Co=s);var Vn=function(){return Vn=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var y in i=arguments[c])Object.prototype.hasOwnProperty.call(i,y)&&(s[y]=i[y]);return s},Vn.apply(this,arguments)},Gn=function(s,i,c,f){return new(c||(c=Promise))(function(b,x){function R(oe){try{U(f.next(oe))}catch(Ce){x(Ce)}}function H(oe){try{U(f.throw(oe))}catch(Ce){x(Ce)}}function U(oe){oe.done?b(oe.value):function y(b){return b instanceof c?b:new c(function(x){x(b)})}(oe.value).then(R,H)}U((f=f.apply(s,i||[])).next())})},br=function(s,i){var f,y,b,x,c={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return x={next:R(0),throw:R(1),return:R(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function R(U){return function(oe){return function H(U){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,y&&(b=2&U[0]?y.return:U[0]?y.throw||((b=y.return)&&b.call(y),0):y.next)&&!(b=b.call(y,U[1])).done)return b;switch(y=0,b&&(U=[2&U[0],b.value]),U[0]){case 0:case 1:b=U;break;case 4:return c.label++,{value:U[1],done:!1};case 5:c.label++,y=U[1],U=[0];continue;case 7:U=c.ops.pop(),c.trys.pop();continue;default:if(!(b=(b=c.trys).length>0&&b[b.length-1])&&(6===U[0]||2===U[0])){c=0;continue}if(3===U[0]&&(!b||U[1]>b[0]&&U[1]<b[3])){c.label=U[1];break}if(6===U[0]&&c.label<b[1]){c.label=b[1],b=U;break}if(b&&c.label<b[2]){c.label=b[2],c.ops.push(U);break}b[2]&&c.ops.pop(),c.trys.pop();continue}U=i.call(s,c)}catch(oe){U=[6,oe],y=0}finally{f=b=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([U,oe])}}},Co=function(){function s(i){this.connection=i}return s.prototype.startConnection=function(i){var c=this._startPeerConnection();if(this.connection.peerConnection=c,this.connection.type===Ot.Media&&i._stream&&this._addTracksToConnection(i._stream,c),i.originator){if(this.connection.type===Ot.Data){var f=this.connection,b=c.createDataChannel(f.label,{ordered:!!i.reliable});f.initialize(b)}this._makeOffer()}else this.handleSDP("OFFER",i.sdp)},s.prototype._startPeerConnection=function(){le.default.log("Creating RTCPeerConnection.");var i=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(i),i},s.prototype._setupListeners=function(i){var c=this,f=this.connection.peer,y=this.connection.connectionId,b=this.connection.type,x=this.connection.provider;le.default.log("Listening for ICE candidates."),i.onicecandidate=function(R){!R.candidate||!R.candidate.candidate||(le.default.log("Received ICE candidates for ".concat(f,":"),R.candidate),x.socket.send({type:bt.Candidate,payload:{candidate:R.candidate,type:b,connectionId:y},dst:f}))},i.oniceconnectionstatechange=function(){switch(i.iceConnectionState){case"failed":le.default.log("iceConnectionState is failed, closing connections to "+f),c.connection.emit("error",new Error("Negotiation of connection to "+f+" failed.")),c.connection.close();break;case"closed":le.default.log("iceConnectionState is closed, closing connections to "+f),c.connection.emit("error",new Error("Connection to "+f+" closed.")),c.connection.close();break;case"disconnected":le.default.log("iceConnectionState changed to disconnected on the connection with "+f);break;case"completed":i.onicecandidate=Et.noop}c.connection.emit("iceStateChanged",i.iceConnectionState)},le.default.log("Listening for data channel"),i.ondatachannel=function(R){le.default.log("Received data channel");var H=R.channel;x.getConnection(f,y).initialize(H)},le.default.log("Listening for remote stream"),i.ontrack=function(R){le.default.log("Received remote stream");var H=R.streams[0],U=x.getConnection(f,y);U.type===Ot.Media&&c._addStreamToMediaConnection(H,U)}},s.prototype.cleanup=function(){le.default.log("Cleaning up PeerConnection to "+this.connection.peer);var i=this.connection.peerConnection;if(i){this.connection.peerConnection=null,i.onicecandidate=i.oniceconnectionstatechange=i.ondatachannel=i.ontrack=function(){};var f=!1;if(this.connection.type===Ot.Data){var b=this.connection.dataChannel;b&&(f=!!b.readyState&&"closed"!==b.readyState)}("closed"!==i.signalingState||f)&&i.close()}},s.prototype._makeOffer=function(){return Gn(this,void 0,Promise,function(){var i,c,f,y,b,x,R;return br(this,function(H){switch(H.label){case 0:i=this.connection.peerConnection,c=this.connection.provider,H.label=1;case 1:return H.trys.push([1,7,,8]),[4,i.createOffer(this.connection.options.constraints)];case 2:f=H.sent(),le.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(f.sdp=this.connection.options.sdpTransform(f.sdp)||f.sdp),H.label=3;case 3:return H.trys.push([3,5,,6]),[4,i.setLocalDescription(f)];case 4:return H.sent(),le.default.log("Set localDescription:",f,"for:".concat(this.connection.peer)),y={sdp:f,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:Et.browser},this.connection.type===Ot.Data&&(b=this.connection,y=Vn(Vn({},y),{label:b.label,reliable:b.reliable,serialization:b.serialization})),c.socket.send({type:bt.Offer,payload:y,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(x=H.sent())&&(c.emitError(ze.WebRTC,x),le.default.log("Failed to setLocalDescription, ",x)),[3,6];case 6:return[3,8];case 7:return R=H.sent(),c.emitError(ze.WebRTC,R),le.default.log("Failed to createOffer, ",R),[3,8];case 8:return[2]}})})},s.prototype._makeAnswer=function(){return Gn(this,void 0,Promise,function(){var i,c,f,y,b;return br(this,function(x){switch(x.label){case 0:i=this.connection.peerConnection,c=this.connection.provider,x.label=1;case 1:return x.trys.push([1,7,,8]),[4,i.createAnswer()];case 2:f=x.sent(),le.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(f.sdp=this.connection.options.sdpTransform(f.sdp)||f.sdp),x.label=3;case 3:return x.trys.push([3,5,,6]),[4,i.setLocalDescription(f)];case 4:return x.sent(),le.default.log("Set localDescription:",f,"for:".concat(this.connection.peer)),c.socket.send({type:bt.Answer,payload:{sdp:f,type:this.connection.type,connectionId:this.connection.connectionId,browser:Et.browser},dst:this.connection.peer}),[3,6];case 5:return y=x.sent(),c.emitError(ze.WebRTC,y),le.default.log("Failed to setLocalDescription, ",y),[3,6];case 6:return[3,8];case 7:return b=x.sent(),c.emitError(ze.WebRTC,b),le.default.log("Failed to create answer, ",b),[3,8];case 8:return[2]}})})},s.prototype.handleSDP=function(i,c){return Gn(this,void 0,Promise,function(){var f,y,b,x;return br(this,function(R){switch(R.label){case 0:c=new RTCSessionDescription(c),f=this.connection.peerConnection,y=this.connection.provider,le.default.log("Setting remote description",c),b=this,R.label=1;case 1:return R.trys.push([1,5,,6]),[4,f.setRemoteDescription(c)];case 2:return R.sent(),le.default.log("Set remoteDescription:".concat(i," for:").concat(this.connection.peer)),"OFFER"!==i?[3,4]:[4,b._makeAnswer()];case 3:R.sent(),R.label=4;case 4:return[3,6];case 5:return x=R.sent(),y.emitError(ze.WebRTC,x),le.default.log("Failed to setRemoteDescription, ",x),[3,6];case 6:return[2]}})})},s.prototype.handleCandidate=function(i){return Gn(this,void 0,Promise,function(){var c,f,y,b,x,R;return br(this,function(H){switch(H.label){case 0:le.default.log("handleCandidate:",i),c=i.candidate,f=i.sdpMLineIndex,y=i.sdpMid,b=this.connection.peerConnection,x=this.connection.provider,H.label=1;case 1:return H.trys.push([1,3,,4]),[4,b.addIceCandidate(new RTCIceCandidate({sdpMid:y,sdpMLineIndex:f,candidate:c}))];case 2:return H.sent(),le.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return R=H.sent(),x.emitError(ze.WebRTC,R),le.default.log("Failed to handleCandidate, ",R),[3,4];case 4:return[2]}})})},s.prototype._addTracksToConnection=function(i,c){if(le.default.log("add tracks from stream ".concat(i.id," to peer connection")),!c.addTrack)return le.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");i.getTracks().forEach(function(f){c.addTrack(f,i)})},s.prototype._addStreamToMediaConnection=function(i,c){le.default.log("add stream ".concat(i.id," to media connection ").concat(c.connectionId)),c.addStream(i)},s}(),Sr={};ln(Sr,"BaseConnection",()=>so,s=>so=s);var zo=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(f[b]=y[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),so=function(s){function i(c,f,y){var b=s.call(this)||this;return b.peer=c,b.provider=f,b.options=y,b._open=!1,b.metadata=y.metadata,b}return zo(i,s),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),i}(yn.EventEmitter),On=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(f[b]=y[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),Zr=function(){return Zr=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var y in i=arguments[c])Object.prototype.hasOwnProperty.call(i,y)&&(s[y]=i[y]);return s},Zr.apply(this,arguments)},Or=function(s){function i(c,f,y){var b=s.call(this,c,f,y)||this;return b._localStream=b.options._stream,b.connectionId=b.options.connectionId||i.ID_PREFIX+Et.randomToken(),b._negotiator=new io.Negotiator(b),b._localStream&&b._negotiator.startConnection({_stream:b._localStream,originator:!0}),b}return On(i,s),Object.defineProperty(i.prototype,"type",{get:function(){return Ot.Media},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),i.prototype.addStream=function(c){le.default.log("Receiving stream",c),this._remoteStream=c,s.prototype.emit.call(this,"stream",c)},i.prototype.handleMessage=function(c){var f=c.type,y=c.payload;switch(c.type){case bt.Answer:this._negotiator.handleSDP(f,y.sdp),this._open=!0;break;case bt.Candidate:this._negotiator.handleCandidate(y.candidate);break;default:le.default.warn("Unrecognized message type:".concat(f," from peer:").concat(this.peer))}},i.prototype.answer=function(c,f){var y,b;if(void 0===f&&(f={}),this._localStream)le.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=c,f&&f.sdpTransform&&(this.options.sdpTransform=f.sdpTransform),this._negotiator.startConnection(Zr(Zr({},this.options._payload),{_stream:c}));var x=this.provider._getMessages(this.connectionId);try{for(var R=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(x),H=R.next();!H.done;H=R.next())this.handleMessage(H.value)}catch(oe){y={error:oe}}finally{try{H&&!H.done&&(b=R.return)&&b.call(R)}finally{if(y)throw y.error}}this._open=!0}},i.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,s.prototype.emit.call(this,"close"))},i.ID_PREFIX="mc_",i}(Sr.BaseConnection),Er={};ln(Er,"DataConnection",()=>kr,s=>kr=s);var Po={};ln(Po,"EncodingQueue",()=>ir,s=>ir=s);var Yr=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(f[b]=y[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),ir=function(s){function i(){var c=s.call(this)||this;return c.fileReader=new FileReader,c._queue=[],c._processing=!1,c.fileReader.onload=function(f){c._processing=!1,f.target&&c.emit("done",f.target.result),c.doNextTask()},c.fileReader.onerror=function(f){le.default.error("EncodingQueue error:",f),c._processing=!1,c.destroy(),c.emit("error",f)},c}return Yr(i,s),Object.defineProperty(i.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),i.prototype.enque=function(c){this.queue.push(c),!this.processing&&this.doNextTask()},i.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},i.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},i}(yn.EventEmitter),ao=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(f[b]=y[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),kr=function(s){function i(c,f,y){var b=s.call(this,c,f,y)||this;return b.stringify=JSON.stringify,b.parse=JSON.parse,b._buffer=[],b._bufferSize=0,b._buffering=!1,b._chunkedData={},b._encodingQueue=new Po.EncodingQueue,b.connectionId=b.options.connectionId||i.ID_PREFIX+Et.randomToken(),b.label=b.options.label||b.connectionId,b.serialization=b.options.serialization||un.Binary,b.reliable=!!b.options.reliable,b._encodingQueue.on("done",function(x){b._bufferedSend(x)}),b._encodingQueue.on("error",function(){le.default.error("DC#".concat(b.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),b.close()}),b._negotiator=new io.Negotiator(b),b._negotiator.startConnection(b.options._payload||{originator:!0}),b}return ao(i,s),Object.defineProperty(i.prototype,"type",{get:function(){return Ot.Data},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),i.prototype.initialize=function(c){this._dc=c,this._configureDataChannel()},i.prototype._configureDataChannel=function(){var c=this;(!Et.supports.binaryBlob||Et.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){le.default.log("DC#".concat(c.connectionId," dc connection success")),c._open=!0,c.emit("open")},this.dataChannel.onmessage=function(f){le.default.log("DC#".concat(c.connectionId," dc onmessage:"),f.data),c._handleDataMessage(f)},this.dataChannel.onclose=function(){le.default.log("DC#".concat(c.connectionId," dc closed for:"),c.peer),c.close()}},i.prototype._handleDataMessage=function(c){var f=this,y=c.data,b=y.constructor,R=y;if(this.serialization===un.Binary||this.serialization===un.BinaryUTF8){if(b===Blob)return void Et.blobToArrayBuffer(y,function(U){var oe=Et.unpack(U);f.emit("data",oe)});if(b===ArrayBuffer)R=Et.unpack(y);else if(b===String){var H=Et.binaryStringToArrayBuffer(y);R=Et.unpack(H)}}else this.serialization===un.JSON&&(R=this.parse(y));R.__peerData?this._handleChunk(R):s.prototype.emit.call(this,"data",R)},i.prototype._handleChunk=function(c){var f=c.__peerData,y=this._chunkedData[f]||{data:[],count:0,total:c.total};if(y.data[c.n]=c.data,y.count++,this._chunkedData[f]=y,y.total===y.count){delete this._chunkedData[f];var b=new Blob(y.data);this._handleDataMessage({data:b})}},i.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,s.prototype.emit.call(this,"close"))},i.prototype.send=function(c,f){if(this.open)if(this.serialization===un.JSON)this._bufferedSend(this.stringify(c));else if(this.serialization===un.Binary||this.serialization===un.BinaryUTF8){var y=Et.pack(c);if(!f&&y.size>Et.chunkedMTU)return void this._sendChunks(y);Et.supports.binaryBlob?this._bufferedSend(y):this._encodingQueue.enque(y)}else this._bufferedSend(c);else s.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."))},i.prototype._bufferedSend=function(c){(this._buffering||!this._trySend(c))&&(this._buffer.push(c),this._bufferSize=this._buffer.length)},i.prototype._trySend=function(c){var f=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>i.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){f._buffering=!1,f._tryBuffer()},50),!1;try{this.dataChannel.send(c)}catch(y){return le.default.error("DC#:".concat(this.connectionId," Error when sending:"),y),this._buffering=!0,this.close(),!1}return!0},i.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},i.prototype._sendChunks=function(c){var f,y,b=Et.chunk(c);le.default.log("DC#".concat(this.connectionId," Try to send ").concat(b.length," chunks..."));try{for(var x=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(b),R=x.next();!R.done;R=x.next())this.send(R.value,!0)}catch(U){f={error:U}}finally{try{R&&!R.done&&(y=x.return)&&y.call(x)}finally{if(f)throw f.error}}},i.prototype.handleMessage=function(c){var f=c.payload;switch(c.type){case bt.Answer:this._negotiator.handleSDP(c.type,f.sdp);break;case bt.Candidate:this._negotiator.handleCandidate(f.candidate);break;default:le.default.warn("Unrecognized message type:",c.type,"from peer:",this.peer)}},i.ID_PREFIX="dc_",i.MAX_BUFFERED_AMOUNT=8388608,i}(Sr.BaseConnection),wn={};ln(wn,"API",()=>qr,s=>qr=s);var xo=function(s,i,c,f){return new(c||(c=Promise))(function(b,x){function R(oe){try{U(f.next(oe))}catch(Ce){x(Ce)}}function H(oe){try{U(f.throw(oe))}catch(Ce){x(Ce)}}function U(oe){oe.done?b(oe.value):function y(b){return b instanceof c?b:new c(function(x){x(b)})}(oe.value).then(R,H)}U((f=f.apply(s,i||[])).next())})},wr=function(s,i){var f,y,b,x,c={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return x={next:R(0),throw:R(1),return:R(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function R(U){return function(oe){return function H(U){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,y&&(b=2&U[0]?y.return:U[0]?y.throw||((b=y.return)&&b.call(y),0):y.next)&&!(b=b.call(y,U[1])).done)return b;switch(y=0,b&&(U=[2&U[0],b.value]),U[0]){case 0:case 1:b=U;break;case 4:return c.label++,{value:U[1],done:!1};case 5:c.label++,y=U[1],U=[0];continue;case 7:U=c.ops.pop(),c.trys.pop();continue;default:if(!(b=(b=c.trys).length>0&&b[b.length-1])&&(6===U[0]||2===U[0])){c=0;continue}if(3===U[0]&&(!b||U[1]>b[0]&&U[1]<b[3])){c.label=U[1];break}if(6===U[0]&&c.label<b[1]){c.label=b[1],b=U;break}if(b&&c.label<b[2]){c.label=b[2],c.ops.push(U);break}b[2]&&c.ops.pop(),c.trys.pop();continue}U=i.call(s,c)}catch(oe){U=[6,oe],y=0}finally{f=b=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([U,oe])}}},qr=function(){function s(i){this._options=i}return s.prototype._buildRequest=function(i){var f=this._options,y=f.host,b=f.port,x=f.path,R=f.key,H=new URL("".concat(this._options.secure?"https":"http","://").concat(y,":").concat(b).concat(x).concat(R,"/").concat(i));return H.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),H.searchParams.set("version",Cr.version),fetch(H.href,{referrerPolicy:this._options.referrerPolicy})},s.prototype.retrieveId=function(){return xo(this,void 0,Promise,function(){var i,c,f;return wr(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(200!==(i=y.sent()).status)throw new Error("Error. Status:".concat(i.status));return[2,i.text()];case 2:throw c=y.sent(),le.default.error("Error retrieving ID",c),f="","/"===this._options.path&&this._options.host!==Et.CLOUD_HOST&&(f=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+f);case 3:return[2]}})})},s.prototype.listAllPeers=function(){return xo(this,void 0,Promise,function(){var i,c,f;return wr(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(200!==(i=y.sent()).status)throw 401===i.status?("",c=this._options.host===Et.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+c)):new Error("Error. Status:".concat(i.status));return[2,i.json()];case 2:throw f=y.sent(),le.default.error("Error retrieving list peers",f),new Error("Could not get list peers from the server."+f);case 3:return[2]}})})},s}(),Kr=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(f[b]=y[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),vn=function(){return vn=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var y in i=arguments[c])Object.prototype.hasOwnProperty.call(i,y)&&(s[y]=i[y]);return s},vn.apply(this,arguments)},Jr=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Wo=function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var y,x,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(y=f.next()).done;)b.push(y.value)}catch(R){x={error:R}}finally{try{y&&!y.done&&(c=f.return)&&c.call(f)}finally{if(x)throw x.error}}return b},St=function(s){function i(c,f){var b,y=s.call(this)||this;return y._id=null,y._lastServerId=null,y._destroyed=!1,y._disconnected=!1,y._open=!1,y._connections=new Map,y._lostMessages=new Map,c&&c.constructor==Object?f=c:c&&(b=c.toString()),f=vn({debug:0,host:Et.CLOUD_HOST,port:Et.CLOUD_PORT,path:"/",key:i.DEFAULT_KEY,token:Et.randomToken(),config:Et.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},f),y._options=f,"/"===y._options.host&&(y._options.host=window.location.hostname),y._options.path&&("/"!==y._options.path[0]&&(y._options.path="/"+y._options.path),"/"!==y._options.path[y._options.path.length-1]&&(y._options.path+="/")),void 0===y._options.secure&&y._options.host!==Et.CLOUD_HOST?y._options.secure=Et.isSecure():y._options.host==Et.CLOUD_HOST&&(y._options.secure=!0),y._options.logFunction&&le.default.setLogFunction(y._options.logFunction),le.default.logLevel=y._options.debug||0,y._api=new wn.API(f),y._socket=y._createServerConnection(),Et.supports.audioVideo||Et.supports.data?b&&!Et.validateId(b)?(y._delayedAbort(ze.InvalidID,'ID "'.concat(b,'" is invalid')),y):(b?y._initialize(b):y._api.retrieveId().then(function(x){return y._initialize(x)}).catch(function(x){return y._abort(ze.ServerError,x)}),y):(y._delayedAbort(ze.BrowserIncompatible,"The current browser does not support WebRTC"),y)}return Kr(i,s),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connections",{get:function(){var c,f,y=Object.create(null);try{for(var b=Jr(this._connections),x=b.next();!x.done;x=b.next()){var R=Wo(x.value,2);y[R[0]]=R[1]}}catch(oe){c={error:oe}}finally{try{x&&!x.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}return y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),i.prototype._createServerConnection=function(){var c=this,f=new fn.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return f.on(an.Message,function(y){c._handleMessage(y)}),f.on(an.Error,function(y){c._abort(ze.SocketError,y)}),f.on(an.Disconnected,function(){c.disconnected||(c.emitError(ze.Network,"Lost connection to server."),c.disconnect())}),f.on(an.Close,function(){c.disconnected||c._abort(ze.SocketClosed,"Underlying socket is already closed.")}),f},i.prototype._initialize=function(c){this._id=c,this.socket.start(c,this._options.token)},i.prototype._handleMessage=function(c){var f,y,b=c.type,x=c.payload,R=c.src;switch(b){case bt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case bt.Error:this._abort(ze.ServerError,x.msg);break;case bt.IdTaken:this._abort(ze.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case bt.InvalidKey:this._abort(ze.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case bt.Leave:le.default.log("Received leave message from ".concat(R)),this._cleanupPeer(R),this._connections.delete(R);break;case bt.Expire:this.emitError(ze.PeerUnavailable,"Could not connect to peer ".concat(R));break;case bt.Offer:if((Wt=this.getConnection(R,jt=x.connectionId))&&(Wt.close(),le.default.warn("Offer received for existing Connection ID:".concat(jt))),x.type===Ot.Media){var H=new xr.MediaConnection(R,this,{connectionId:jt,_payload:x,metadata:x.metadata});this._addConnection(R,Wt=H),this.emit("call",H)}else{if(x.type!==Ot.Data)return void le.default.warn("Received malformed connection type:".concat(x.type));var U=new Er.DataConnection(R,this,{connectionId:jt,_payload:x,metadata:x.metadata,label:x.label,serialization:x.serialization,reliable:x.reliable});this._addConnection(R,Wt=U),this.emit("connection",U)}var oe=this._getMessages(jt);try{for(var Ce=Jr(oe),Ge=Ce.next();!Ge.done;Ge=Ce.next())Wt.handleMessage(Ge.value)}catch(oi){f={error:oi}}finally{try{Ge&&!Ge.done&&(y=Ce.return)&&y.call(Ce)}finally{if(f)throw f.error}}break;default:if(!x)return void le.default.warn("You received a malformed message from ".concat(R," of type ").concat(b));var jt,Wt;(Wt=this.getConnection(R,jt=x.connectionId))&&Wt.peerConnection?Wt.handleMessage(c):jt?this._storeMessage(jt,c):le.default.warn("You received an unrecognized message:",c)}},i.prototype._storeMessage=function(c,f){this._lostMessages.has(c)||this._lostMessages.set(c,[]),this._lostMessages.get(c).push(f)},i.prototype._getMessages=function(c){var f=this._lostMessages.get(c);return f?(this._lostMessages.delete(c),f):[]},i.prototype.connect=function(c,f){if(void 0===f&&(f={}),this.disconnected)return le.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(ze.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var y=new Er.DataConnection(c,this,f);return this._addConnection(c,y),y},i.prototype.call=function(c,f,y){if(void 0===y&&(y={}),this.disconnected)return le.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(ze.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(f){var b=new xr.MediaConnection(c,this,vn(vn({},y),{_stream:f}));return this._addConnection(c,b),b}le.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},i.prototype._addConnection=function(c,f){le.default.log("add connection ".concat(f.type,":").concat(f.connectionId," to peerId:").concat(c)),this._connections.has(c)||this._connections.set(c,[]),this._connections.get(c).push(f)},i.prototype._removeConnection=function(c){var f=this._connections.get(c.peer);if(f){var y=f.indexOf(c);-1!==y&&f.splice(y,1)}this._lostMessages.delete(c.connectionId)},i.prototype.getConnection=function(c,f){var y,b,x=this._connections.get(c);if(!x)return null;try{for(var R=Jr(x),H=R.next();!H.done;H=R.next()){var U=H.value;if(U.connectionId===f)return U}}catch(oe){y={error:oe}}finally{try{H&&!H.done&&(b=R.return)&&b.call(R)}finally{if(y)throw y.error}}return null},i.prototype._delayedAbort=function(c,f){var y=this;setTimeout(function(){y._abort(c,f)},0)},i.prototype._abort=function(c,f){le.default.error("Aborting!"),this.emitError(c,f),this._lastServerId?this.disconnect():this.destroy()},i.prototype.emitError=function(c,f){var y;le.default.error("Error:",f),(y="string"==typeof f?new Error(f):f).type=c,this.emit("error",y)},i.prototype.destroy=function(){this.destroyed||(le.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},i.prototype._cleanup=function(){var c,f;try{for(var y=Jr(this._connections.keys()),b=y.next();!b.done;b=y.next()){var x=b.value;this._cleanupPeer(x),this._connections.delete(x)}}catch(R){c={error:R}}finally{try{b&&!b.done&&(f=y.return)&&f.call(y)}finally{if(c)throw c.error}}this.socket.removeAllListeners()},i.prototype._cleanupPeer=function(c){var f,y,b=this._connections.get(c);if(b)try{for(var x=Jr(b),R=x.next();!R.done;R=x.next())R.value.close()}catch(U){f={error:U}}finally{try{R&&!R.done&&(y=x.return)&&y.call(x)}finally{if(f)throw f.error}}},i.prototype.disconnect=function(){if(!this.disconnected){var c=this.id;le.default.log("Disconnect peer with ID:".concat(c)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=c,this._id=null,this.emit("disconnected",c)}},i.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)le.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"));le.default.error("In a hurry? We're still trying to make the initial connection!")}},i.prototype.listAllPeers=function(c){var f=this;void 0===c&&(c=function(y){}),this._api.listAllPeers().then(function(y){return c(y)}).catch(function(y){return f._abort(ze.ServerError,y)})},i.DEFAULT_KEY="peerjs",i}(yn.EventEmitter),Mn=M(3158);const Tr=[0,2e3,1e4,3e4,null];class In{constructor(i){this._retryDelays=void 0!==i?[...i,null]:Tr}nextRetryDelayInMilliseconds(i){return this._retryDelays[i.previousRetryCount]}}let Nr=(()=>{class s{}return s.Authorization="Authorization",s.Cookie="Cookie",s})();class co{constructor(i,c,f){this.statusCode=i,this.statusText=c,this.content=f}}class Mr{get(i,c){return this.send({...c,method:"GET",url:i})}post(i,c){return this.send({...c,method:"POST",url:i})}delete(i,c){return this.send({...c,method:"DELETE",url:i})}getCookieString(i){return""}}class Yo extends Mr{constructor(i,c){super(),this._innerClient=i,this._accessTokenFactory=c}send(i){var c=this;return(0,we.Z)(function*(){let f=!0;c._accessTokenFactory&&(!c._accessToken||i.url&&i.url.indexOf("/negotiate?")>0)&&(f=!1,c._accessToken=yield c._accessTokenFactory()),c._setAuthorizationHeader(i);const y=yield c._innerClient.send(i);return f&&401===y.statusCode&&c._accessTokenFactory?(c._accessToken=yield c._accessTokenFactory(),c._setAuthorizationHeader(i),yield c._innerClient.send(i)):y})()}_setAuthorizationHeader(i){i.headers||(i.headers={}),this._accessToken?i.headers[Nr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&i.headers[Nr.Authorization]&&delete i.headers[Nr.Authorization]}getCookieString(i){return this._innerClient.getCookieString(i)}}class Fr extends Error{constructor(i,c){const f=new.target.prototype;super(`${i}: Status code '${c}'`),this.statusCode=c,this.__proto__=f}}class sn extends Error{constructor(i="A timeout occurred."){const c=new.target.prototype;super(i),this.__proto__=c}}class Fe extends Error{constructor(i="An abort occurred."){const c=new.target.prototype;super(i),this.__proto__=c}}class lt extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="UnsupportedTransportError",this.__proto__=f}}class Vt extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="DisabledTransportError",this.__proto__=f}}class An extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="FailedToStartTransportError",this.__proto__=f}}class Rn extends Error{constructor(i){const c=new.target.prototype;super(i),this.errorType="FailedToNegotiateWithServerError",this.__proto__=c}}class Xt extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.innerErrors=c,this.__proto__=f}}var be=(()=>((be=be||{})[be.Trace=0]="Trace",be[be.Debug=1]="Debug",be[be.Information=2]="Information",be[be.Warning=3]="Warning",be[be.Error=4]="Error",be[be.Critical=5]="Critical",be[be.None=6]="None",be))();class kt{constructor(){}log(i,c){}}kt.instance=new kt;const Lr="7.0.5";class wt{static isRequired(i,c){if(null==i)throw new Error(`The '${c}' argument is required.`)}static isNotEmpty(i,c){if(!i||i.match(/^\s*$/))throw new Error(`The '${c}' argument should not be empty.`)}static isIn(i,c,f){if(!(i in c))throw new Error(`Unknown ${f} value: ${i}.`)}}class Ye{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Qn(s,i){let c="";return zn(s)?(c=`Binary data of length ${s.byteLength}`,i&&(c+=`. Content: '${function Qr(s){const i=new Uint8Array(s);let c="";return i.forEach(f=>{c+=`0x${f<16?"0":""}${f.toString(16)} `}),c.substr(0,c.length-1)}(s)}'`)):"string"==typeof s&&(c=`String data of length ${s.length}`,i&&(c+=`. Content: '${s}'`)),c}function zn(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&"ArrayBuffer"===s.constructor.name)}function Ut(s,i,c,f,y,b){return ur.apply(this,arguments)}function ur(){return ur=(0,we.Z)(function*(s,i,c,f,y,b){const x={},[R,H]=dr();x[R]=H,s.log(be.Trace,`(${i} transport) sending data. ${Qn(y,b.logMessageContent)}.`);const U=zn(y)?"arraybuffer":"text",oe=yield c.post(f,{content:y,headers:{...x,...b.headers},responseType:U,timeout:b.timeout,withCredentials:b.withCredentials});s.log(be.Trace,`(${i} transport) request complete. Response status: ${oe.statusCode}.`)}),ur.apply(this,arguments)}class Bn{constructor(i,c){this._subject=i,this._observer=c}dispose(){const i=this._subject.observers.indexOf(this._observer);i>-1&&this._subject.observers.splice(i,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(c=>{})}}class jn{constructor(i){this._minLevel=i,this.out=console}log(i,c){if(i>=this._minLevel){const f=`[${(new Date).toISOString()}] ${be[i]}: ${c}`;switch(i){case be.Critical:case be.Error:this.out.error(f);break;case be.Warning:this.out.warn(f);break;case be.Information:this.out.info(f);break;default:this.out.log(f)}}}}function dr(){let s="X-SignalR-User-Agent";return Ye.isNode&&(s="User-Agent"),[s,Xn(Lr,er(),Ye.isNode?"NodeJS":"Browser",bo())]}function Xn(s,i,c,f){let y="Microsoft SignalR/";const b=s.split(".");return y+=`${b[0]}.${b[1]}`,y+=` (${s}; `,y+=i&&""!==i?`${i}; `:"Unknown OS; ",y+=`${c}`,y+=f?`; ${f}`:"; Unknown Runtime Version",y+=")",y}function er(){if(!Ye.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function bo(){if(Ye.isNode)return process.versions.node}function yt(s){return s.stack?s.stack:s.message?s.message:`${s}`}class Vr extends Mr{constructor(i){if(super(),this._logger=i,typeof fetch>"u"){const c=require;this._jar=new(c("tough-cookie").CookieJar),this._fetchType=c("node-fetch"),this._fetchType=c("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Oo(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const c=require;this._abortControllerType=c("abort-controller")}else this._abortControllerType=AbortController}send(i){var c=this;return(0,we.Z)(function*(){if(i.abortSignal&&i.abortSignal.aborted)throw new Fe;if(!i.method)throw new Error("No method defined.");if(!i.url)throw new Error("No url defined.");const f=new c._abortControllerType;let y;i.abortSignal&&(i.abortSignal.onabort=()=>{f.abort(),y=new Fe});let x,b=null;i.timeout&&(b=setTimeout(()=>{f.abort(),c._logger.log(be.Warning,"Timeout from HTTP request."),y=new sn},i.timeout)),""===i.content&&(i.content=void 0),i.content&&(i.headers=i.headers||{},i.headers["Content-Type"]=zn(i.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{x=yield c._fetchType(i.url,{body:i.content,cache:"no-cache",credentials:!0===i.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...i.headers},method:i.method,mode:"cors",redirect:"follow",signal:f.signal})}catch(U){throw y||(c._logger.log(be.Warning,`Error from HTTP request. ${U}.`),U)}finally{b&&clearTimeout(b),i.abortSignal&&(i.abortSignal.onabort=null)}if(!x.ok){const U=yield lo(x,"text");throw new Fr(U||x.statusText,x.status)}const H=yield lo(x,i.responseType);return new co(x.status,x.statusText,H)})()}getCookieString(i){let c="";return Ye.isNode&&this._jar&&this._jar.getCookies(i,(f,y)=>c=y.join("; ")),c}}function lo(s,i){let c;switch(i){case"arraybuffer":c=s.arrayBuffer();break;case"text":default:c=s.text();break;case"blob":case"document":case"json":throw new Error(`${i} is not supported.`)}return c}class gn extends Mr{constructor(i){super(),this._logger=i}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new Fe):i.method?i.url?new Promise((c,f)=>{const y=new XMLHttpRequest;y.open(i.method,i.url,!0),y.withCredentials=void 0===i.withCredentials||i.withCredentials,y.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===i.content&&(i.content=void 0),i.content&&(zn(i.content)?y.setRequestHeader("Content-Type","application/octet-stream"):y.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const b=i.headers;b&&Object.keys(b).forEach(x=>{y.setRequestHeader(x,b[x])}),i.responseType&&(y.responseType=i.responseType),i.abortSignal&&(i.abortSignal.onabort=()=>{y.abort(),f(new Fe)}),i.timeout&&(y.timeout=i.timeout),y.onload=()=>{i.abortSignal&&(i.abortSignal.onabort=null),y.status>=200&&y.status<300?c(new co(y.status,y.statusText,y.response||y.responseText)):f(new Fr(y.response||y.responseText||y.statusText,y.status))},y.onerror=()=>{this._logger.log(be.Warning,`Error from HTTP request. ${y.status}: ${y.statusText}.`),f(new Fr(y.statusText,y.status))},y.ontimeout=()=>{this._logger.log(be.Warning,"Timeout from HTTP request."),f(new sn)},y.send(i.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class uo extends Mr{constructor(i){if(super(),typeof fetch<"u"||Ye.isNode)this._httpClient=new Vr(i);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new gn(i)}}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new Fe):i.method?i.url?this._httpClient.send(i):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(i){return this._httpClient.getCookieString(i)}}var _t=(()=>((_t=_t||{})[_t.None=0]="None",_t[_t.WebSockets=1]="WebSockets",_t[_t.ServerSentEvents=2]="ServerSentEvents",_t[_t.LongPolling=4]="LongPolling",_t))(),zt=(()=>((zt=zt||{})[zt.Text=1]="Text",zt[zt.Binary=2]="Binary",zt))();class hn{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class ni{constructor(i,c,f){this._httpClient=i,this._logger=c,this._pollAbort=new hn,this._options=f,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(i,c){var f=this;return(0,we.Z)(function*(){if(wt.isRequired(i,"url"),wt.isRequired(c,"transferFormat"),wt.isIn(c,zt,"transferFormat"),f._url=i,f._logger.log(be.Trace,"(LongPolling transport) Connecting."),c===zt.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[y,b]=dr(),x={[y]:b,...f._options.headers},R={abortSignal:f._pollAbort.signal,headers:x,timeout:1e5,withCredentials:f._options.withCredentials};c===zt.Binary&&(R.responseType="arraybuffer");const H=`${i}&_=${Date.now()}`;f._logger.log(be.Trace,`(LongPolling transport) polling: ${H}.`);const U=yield f._httpClient.get(H,R);200!==U.statusCode?(f._logger.log(be.Error,`(LongPolling transport) Unexpected response code: ${U.statusCode}.`),f._closeError=new Fr(U.statusText||"",U.statusCode),f._running=!1):f._running=!0,f._receiving=f._poll(f._url,R)})()}_poll(i,c){var f=this;return(0,we.Z)(function*(){try{for(;f._running;)try{const y=`${i}&_=${Date.now()}`;f._logger.log(be.Trace,`(LongPolling transport) polling: ${y}.`);const b=yield f._httpClient.get(y,c);204===b.statusCode?(f._logger.log(be.Information,"(LongPolling transport) Poll terminated by server."),f._running=!1):200!==b.statusCode?(f._logger.log(be.Error,`(LongPolling transport) Unexpected response code: ${b.statusCode}.`),f._closeError=new Fr(b.statusText||"",b.statusCode),f._running=!1):b.content?(f._logger.log(be.Trace,`(LongPolling transport) data received. ${Qn(b.content,f._options.logMessageContent)}.`),f.onreceive&&f.onreceive(b.content)):f._logger.log(be.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(y){f._running?y instanceof sn?f._logger.log(be.Trace,"(LongPolling transport) Poll timed out, reissuing."):(f._closeError=y,f._running=!1):f._logger.log(be.Trace,`(LongPolling transport) Poll errored after shutdown: ${y.message}`)}}finally{f._logger.log(be.Trace,"(LongPolling transport) Polling complete."),f.pollAborted||f._raiseOnClose()}})()}send(i){var c=this;return(0,we.Z)(function*(){return c._running?Ut(c._logger,"LongPolling",c._httpClient,c._url,i,c._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var i=this;return(0,we.Z)(function*(){i._logger.log(be.Trace,"(LongPolling transport) Stopping polling."),i._running=!1,i._pollAbort.abort();try{yield i._receiving,i._logger.log(be.Trace,`(LongPolling transport) sending DELETE request to ${i._url}.`);const c={},[f,y]=dr();c[f]=y;const b={headers:{...c,...i._options.headers},timeout:i._options.timeout,withCredentials:i._options.withCredentials};yield i._httpClient.delete(i._url,b),i._logger.log(be.Trace,"(LongPolling transport) DELETE request sent.")}finally{i._logger.log(be.Trace,"(LongPolling transport) Stop finished."),i._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let i="(LongPolling transport) Firing onclose event.";this._closeError&&(i+=" Error: "+this._closeError),this._logger.log(be.Trace,i),this.onclose(this._closeError)}}}class $n{constructor(i,c,f,y){this._httpClient=i,this._accessToken=c,this._logger=f,this._options=y,this.onreceive=null,this.onclose=null}connect(i,c){var f=this;return(0,we.Z)(function*(){return wt.isRequired(i,"url"),wt.isRequired(c,"transferFormat"),wt.isIn(c,zt,"transferFormat"),f._logger.log(be.Trace,"(SSE transport) Connecting."),f._url=i,f._accessToken&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(f._accessToken)}`),new Promise((y,b)=>{let R,x=!1;if(c===zt.Text){if(Ye.isBrowser||Ye.isWebWorker)R=new f._options.EventSource(i,{withCredentials:f._options.withCredentials});else{const H=f._httpClient.getCookieString(i),U={};U.Cookie=H;const[oe,Ce]=dr();U[oe]=Ce,R=new f._options.EventSource(i,{withCredentials:f._options.withCredentials,headers:{...U,...f._options.headers}})}try{R.onmessage=H=>{if(f.onreceive)try{f._logger.log(be.Trace,`(SSE transport) data received. ${Qn(H.data,f._options.logMessageContent)}.`),f.onreceive(H.data)}catch(U){return void f._close(U)}},R.onerror=H=>{x?f._close():b(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},R.onopen=()=>{f._logger.log(be.Information,`SSE connected to ${f._url}`),f._eventSource=R,x=!0,y()}}catch(H){return void b(H)}}else b(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(i){var c=this;return(0,we.Z)(function*(){return c._eventSource?Ut(c._logger,"SSE",c._httpClient,c._url,i,c._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(i){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(i))}}class dn{constructor(i,c,f,y,b,x){this._logger=f,this._accessTokenFactory=c,this._logMessageContent=y,this._webSocketConstructor=b,this._httpClient=i,this.onreceive=null,this.onclose=null,this._headers=x}connect(i,c){var f=this;return(0,we.Z)(function*(){let y;return wt.isRequired(i,"url"),wt.isRequired(c,"transferFormat"),wt.isIn(c,zt,"transferFormat"),f._logger.log(be.Trace,"(WebSockets transport) Connecting."),f._accessTokenFactory&&(y=yield f._accessTokenFactory()),new Promise((b,x)=>{let R;i=i.replace(/^http/,"ws");const H=f._httpClient.getCookieString(i);let U=!1;if(Ye.isNode||Ye.isReactNative){const oe={},[Ce,Ge]=dr();oe[Ce]=Ge,y&&(oe[Nr.Authorization]=`Bearer ${y}`),H&&(oe[Nr.Cookie]=H),R=new f._webSocketConstructor(i,void 0,{headers:{...oe,...f._headers}})}else y&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(y)}`);R||(R=new f._webSocketConstructor(i)),c===zt.Binary&&(R.binaryType="arraybuffer"),R.onopen=oe=>{f._logger.log(be.Information,`WebSocket connected to ${i}.`),f._webSocket=R,U=!0,b()},R.onerror=oe=>{let Ce=null;Ce=typeof ErrorEvent<"u"&&oe instanceof ErrorEvent?oe.error:"There was an error with the transport",f._logger.log(be.Information,`(WebSockets transport) ${Ce}.`)},R.onmessage=oe=>{if(f._logger.log(be.Trace,`(WebSockets transport) data received. ${Qn(oe.data,f._logMessageContent)}.`),f.onreceive)try{f.onreceive(oe.data)}catch(Ce){return void f._close(Ce)}},R.onclose=oe=>{if(U)f._close(oe);else{let Ce=null;Ce=typeof ErrorEvent<"u"&&oe instanceof ErrorEvent?oe.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",x(new Error(Ce))}}})})()}send(i){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(be.Trace,`(WebSockets transport) sending data. ${Qn(i,this._logMessageContent)}.`),this._webSocket.send(i),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(i){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(be.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(i)||!1!==i.wasClean&&1e3===i.code?i instanceof Error?this.onclose(i):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${i.code} (${i.reason||"no reason given"}).`)))}_isCloseEvent(i){return i&&"boolean"==typeof i.wasClean&&"number"==typeof i.code}}class tr{constructor(i,c={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,wt.isRequired(i,"url"),this._logger=function sr(s){return void 0===s?new jn(be.Information):null===s?kt.instance:void 0!==s.log?s:new jn(s)}(c.logger),this.baseUrl=this._resolveUrl(i),(c=c||{}).logMessageContent=void 0!==c.logMessageContent&&c.logMessageContent,"boolean"!=typeof c.withCredentials&&void 0!==c.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");c.withCredentials=void 0===c.withCredentials||c.withCredentials,c.timeout=void 0===c.timeout?1e5:c.timeout;let f=null,y=null;if(Ye.isNode){const b=require;f=b("ws"),y=b("eventsource")}!Ye.isNode&&typeof WebSocket<"u"&&!c.WebSocket?c.WebSocket=WebSocket:Ye.isNode&&!c.WebSocket&&f&&(c.WebSocket=f),!Ye.isNode&&typeof EventSource<"u"&&!c.EventSource?c.EventSource=EventSource:Ye.isNode&&!c.EventSource&&typeof y<"u"&&(c.EventSource=y),this._httpClient=new Yo(c.httpClient||new uo(this._logger),c.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=c,this.onreceive=null,this.onclose=null}start(i){var c=this;return(0,we.Z)(function*(){if(wt.isIn(i=i||zt.Binary,zt,"transferFormat"),c._logger.log(be.Debug,`Starting connection with transfer format '${zt[i]}'.`),"Disconnected"!==c._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(c._connectionState="Connecting",c._startInternalPromise=c._startInternal(i),yield c._startInternalPromise,"Disconnecting"===c._connectionState){const f="Failed to start the HttpConnection before stop() was called.";return c._logger.log(be.Error,f),yield c._stopPromise,Promise.reject(new Fe(f))}if("Connected"!==c._connectionState){const f="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return c._logger.log(be.Error,f),Promise.reject(new Fe(f))}c._connectionStarted=!0})()}send(i){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Fn(this.transport)),this._sendQueue.send(i))}stop(i){var c=this;return(0,we.Z)(function*(){return"Disconnected"===c._connectionState?(c._logger.log(be.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===c._connectionState?(c._logger.log(be.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),c._stopPromise):(c._connectionState="Disconnecting",c._stopPromise=new Promise(f=>{c._stopPromiseResolver=f}),yield c._stopInternal(i),void(yield c._stopPromise))})()}_stopInternal(i){var c=this;return(0,we.Z)(function*(){c._stopError=i;try{yield c._startInternalPromise}catch{}if(c.transport){try{yield c.transport.stop()}catch(f){c._logger.log(be.Error,`HttpConnection.transport.stop() threw error '${f}'.`),c._stopConnection()}c.transport=void 0}else c._logger.log(be.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(i){var c=this;return(0,we.Z)(function*(){let f=c.baseUrl;c._accessTokenFactory=c._options.accessTokenFactory,c._httpClient._accessTokenFactory=c._accessTokenFactory;try{if(c._options.skipNegotiation){if(c._options.transport!==_t.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");c.transport=c._constructTransport(_t.WebSockets),yield c._startTransport(f,i)}else{let y=null,b=0;do{if(y=yield c._getNegotiationResponse(f),"Disconnecting"===c._connectionState||"Disconnected"===c._connectionState)throw new Fe("The connection was stopped during negotiation.");if(y.error)throw new Error(y.error);if(y.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(y.url&&(f=y.url),y.accessToken){const x=y.accessToken;c._accessTokenFactory=()=>x,c._httpClient._accessToken=x,c._httpClient._accessTokenFactory=void 0}b++}while(y.url&&b<100);if(100===b&&y.url)throw new Error("Negotiate redirection limit exceeded.");yield c._createTransport(f,c._options.transport,y,i)}c.transport instanceof ni&&(c.features.inherentKeepAlive=!0),"Connecting"===c._connectionState&&(c._logger.log(be.Debug,"The HttpConnection connected successfully."),c._connectionState="Connected")}catch(y){return c._logger.log(be.Error,"Failed to start the connection: "+y),c._connectionState="Disconnected",c.transport=void 0,c._stopPromiseResolver(),Promise.reject(y)}})()}_getNegotiationResponse(i){var c=this;return(0,we.Z)(function*(){const f={},[y,b]=dr();f[y]=b;const x=c._resolveNegotiateUrl(i);c._logger.log(be.Debug,`Sending negotiation request: ${x}.`);try{const R=yield c._httpClient.post(x,{content:"",headers:{...f,...c._options.headers},timeout:c._options.timeout,withCredentials:c._options.withCredentials});if(200!==R.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${R.statusCode}'`));const H=JSON.parse(R.content);return(!H.negotiateVersion||H.negotiateVersion<1)&&(H.connectionToken=H.connectionId),H}catch(R){let H="Failed to complete negotiation with the server: "+R;return R instanceof Fr&&404===R.statusCode&&(H+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),c._logger.log(be.Error,H),Promise.reject(new Rn(H))}})()}_createConnectUrl(i,c){return c?i+(-1===i.indexOf("?")?"?":"&")+`id=${c}`:i}_createTransport(i,c,f,y){var b=this;return(0,we.Z)(function*(){let x=b._createConnectUrl(i,f.connectionToken);if(b._isITransport(c))return b._logger.log(be.Debug,"Connection was provided an instance of ITransport, using that directly."),b.transport=c,yield b._startTransport(x,y),void(b.connectionId=f.connectionId);const R=[],H=f.availableTransports||[];let U=f;for(const oe of H){const Ce=b._resolveTransportOrError(oe,c,y);if(Ce instanceof Error)R.push(`${oe.transport} failed:`),R.push(Ce);else if(b._isITransport(Ce)){if(b.transport=Ce,!U){try{U=yield b._getNegotiationResponse(i)}catch(Ge){return Promise.reject(Ge)}x=b._createConnectUrl(i,U.connectionToken)}try{return yield b._startTransport(x,y),void(b.connectionId=U.connectionId)}catch(Ge){if(b._logger.log(be.Error,`Failed to start the transport '${oe.transport}': ${Ge}`),U=void 0,R.push(new An(`${oe.transport} failed: ${Ge}`,_t[oe.transport])),"Connecting"!==b._connectionState){const nt="Failed to select transport before stop() was called.";return b._logger.log(be.Debug,nt),Promise.reject(new Fe(nt))}}}}return Promise.reject(R.length>0?new Xt(`Unable to connect to the server with any of the available transports. ${R.join(" ")}`,R):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(i){switch(i){case _t.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new dn(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case _t.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new $n(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case _t.LongPolling:return new ni(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${i}.`)}}_startTransport(i,c){return this.transport.onreceive=this.onreceive,this.transport.onclose=f=>this._stopConnection(f),this.transport.connect(i,c)}_resolveTransportOrError(i,c,f){const y=_t[i.transport];if(null==y)return this._logger.log(be.Debug,`Skipping transport '${i.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${i.transport}' because it is not supported by this client.`);if(!function ho(s,i){return!s||0!=(i&s)}(c,y))return this._logger.log(be.Debug,`Skipping transport '${_t[y]}' because it was disabled by the client.`),new Vt(`'${_t[y]}' is disabled by the client.`,y);if(!(i.transferFormats.map(x=>zt[x]).indexOf(f)>=0))return this._logger.log(be.Debug,`Skipping transport '${_t[y]}' because it does not support the requested transfer format '${zt[f]}'.`),new Error(`'${_t[y]}' does not support ${zt[f]}.`);if(y===_t.WebSockets&&!this._options.WebSocket||y===_t.ServerSentEvents&&!this._options.EventSource)return this._logger.log(be.Debug,`Skipping transport '${_t[y]}' because it is not supported in your environment.'`),new lt(`'${_t[y]}' is not supported in your environment.`,y);this._logger.log(be.Debug,`Selecting transport '${_t[y]}'.`);try{return this._constructTransport(y)}catch(x){return x}}_isITransport(i){return i&&"object"==typeof i&&"connect"in i}_stopConnection(i){if(this._logger.log(be.Debug,`HttpConnection.stopConnection(${i}) called while in state ${this._connectionState}.`),this.transport=void 0,i=this._stopError||i,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(be.Warning,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${i}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),i?this._logger.log(be.Error,`Connection disconnected with error '${i}'.`):this._logger.log(be.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(c=>{this._logger.log(be.Error,`TransportSendQueue.stop() threw error '${c}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(i)}catch(c){this._logger.log(be.Error,`HttpConnection.onclose(${i}) threw error '${c}'.`)}}}else this._logger.log(be.Debug,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(i){if(0===i.lastIndexOf("https://",0)||0===i.lastIndexOf("http://",0))return i;if(!Ye.isBrowser)throw new Error(`Cannot resolve '${i}'.`);const c=window.document.createElement("a");return c.href=i,this._logger.log(be.Information,`Normalizing '${i}' to '${c.href}'.`),c.href}_resolveNegotiateUrl(i){const c=i.indexOf("?");let f=i.substring(0,-1===c?i.length:c);return"/"!==f[f.length-1]&&(f+="/"),f+="negotiate",f+=-1===c?"":i.substring(c),-1===f.indexOf("negotiateVersion")&&(f+=-1===c?"?":"&",f+="negotiateVersion="+this._negotiateVersion),f}}class Fn{constructor(i){this._transport=i,this._buffer=[],this._executing=!0,this._sendBufferedData=new Br,this._transportResult=new Br,this._sendLoopPromise=this._sendLoop()}send(i){return this._bufferData(i),this._transportResult||(this._transportResult=new Br),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(i){if(this._buffer.length&&typeof this._buffer[0]!=typeof i)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof i}`);this._buffer.push(i),this._sendBufferedData.resolve()}_sendLoop(){var i=this;return(0,we.Z)(function*(){for(;;){if(yield i._sendBufferedData.promise,!i._executing){i._transportResult&&i._transportResult.reject("Connection stopped.");break}i._sendBufferedData=new Br;const c=i._transportResult;i._transportResult=void 0;const f="string"==typeof i._buffer[0]?i._buffer.join(""):Fn._concatBuffers(i._buffer);i._buffer.length=0;try{yield i._transport.send(f),c.resolve()}catch(y){c.reject(y)}}})()}static _concatBuffers(i){const c=i.map(b=>b.byteLength).reduce((b,x)=>b+x),f=new Uint8Array(c);let y=0;for(const b of i)f.set(new Uint8Array(b),y),y+=b.byteLength;return f.buffer}}class Br{constructor(){this.promise=new Promise((i,c)=>[this._resolver,this._rejecter]=[i,c])}resolve(){this._resolver()}reject(i){this._rejecter(i)}}class Pn{static write(i){return`${i}${Pn.RecordSeparator}`}static parse(i){if(i[i.length-1]!==Pn.RecordSeparator)throw new Error("Message is incomplete.");const c=i.split(Pn.RecordSeparator);return c.pop(),c}}Pn.RecordSeparatorCode=30,Pn.RecordSeparator=String.fromCharCode(Pn.RecordSeparatorCode);class Wn{writeHandshakeRequest(i){return Pn.write(JSON.stringify(i))}parseHandshakeResponse(i){let c,f;if(zn(i)){const R=new Uint8Array(i),H=R.indexOf(Pn.RecordSeparatorCode);if(-1===H)throw new Error("Message is incomplete.");const U=H+1;c=String.fromCharCode.apply(null,Array.prototype.slice.call(R.slice(0,U))),f=R.byteLength>U?R.slice(U).buffer:null}else{const R=i,H=R.indexOf(Pn.RecordSeparator);if(-1===H)throw new Error("Message is incomplete.");const U=H+1;c=R.substring(0,U),f=R.length>U?R.substring(U):null}const y=Pn.parse(c),b=JSON.parse(y[0]);if(b.type)throw new Error("Expected a handshake response from the server.");return[f,b]}}var gt=(()=>((gt=gt||{})[gt.Invocation=1]="Invocation",gt[gt.StreamItem=2]="StreamItem",gt[gt.Completion=3]="Completion",gt[gt.StreamInvocation=4]="StreamInvocation",gt[gt.CancelInvocation=5]="CancelInvocation",gt[gt.Ping=6]="Ping",gt[gt.Close=7]="Close",gt))();class jr{constructor(){this.observers=[]}next(i){for(const c of this.observers)c.next(i)}error(i){for(const c of this.observers)c.error&&c.error(i)}complete(){for(const i of this.observers)i.complete&&i.complete()}subscribe(i){return this.observers.push(i),new Bn(this,i)}}var Bt=(()=>((Bt=Bt||{}).Disconnected="Disconnected",Bt.Connecting="Connecting",Bt.Connected="Connected",Bt.Disconnecting="Disconnecting",Bt.Reconnecting="Reconnecting",Bt))();class po{constructor(i,c,f,y){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(be.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},wt.isRequired(i,"connection"),wt.isRequired(c,"logger"),wt.isRequired(f,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=c,this._protocol=f,this.connection=i,this._reconnectPolicy=y,this._handshakeProtocol=new Wn,this.connection.onreceive=b=>this._processIncomingData(b),this.connection.onclose=b=>this._connectionClosed(b),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Bt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:gt.Ping})}static create(i,c,f,y){return new po(i,c,f,y)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(i){if(this._connectionState!==Bt.Disconnected&&this._connectionState!==Bt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!i)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=i}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var i=this;return(0,we.Z)(function*(){if(i._connectionState!==Bt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));i._connectionState=Bt.Connecting,i._logger.log(be.Debug,"Starting HubConnection.");try{yield i._startInternal(),Ye.isBrowser&&window.document.addEventListener("freeze",i._freezeEventListener),i._connectionState=Bt.Connected,i._connectionStarted=!0,i._logger.log(be.Debug,"HubConnection connected successfully.")}catch(c){return i._connectionState=Bt.Disconnected,i._logger.log(be.Debug,`HubConnection failed to start successfully because of error '${c}'.`),Promise.reject(c)}})()}_startInternal(){var i=this;return(0,we.Z)(function*(){i._stopDuringStartError=void 0,i._receivedHandshakeResponse=!1;const c=new Promise((f,y)=>{i._handshakeResolver=f,i._handshakeRejecter=y});yield i.connection.start(i._protocol.transferFormat);try{const f={protocol:i._protocol.name,version:i._protocol.version};if(i._logger.log(be.Debug,"Sending handshake request."),yield i._sendMessage(i._handshakeProtocol.writeHandshakeRequest(f)),i._logger.log(be.Information,`Using HubProtocol '${i._protocol.name}'.`),i._cleanupTimeout(),i._resetTimeoutPeriod(),i._resetKeepAliveInterval(),yield c,i._stopDuringStartError)throw i._stopDuringStartError;i.connection.features.inherentKeepAlive||(yield i._sendMessage(i._cachedPingMessage))}catch(f){throw i._logger.log(be.Debug,`Hub handshake failed with error '${f}' during start(). Stopping HubConnection.`),i._cleanupTimeout(),i._cleanupPingTimer(),yield i.connection.stop(f),f}})()}stop(){var i=this;return(0,we.Z)(function*(){const c=i._startPromise;i._stopPromise=i._stopInternal(),yield i._stopPromise;try{yield c}catch{}})()}_stopInternal(i){return this._connectionState===Bt.Disconnected?(this._logger.log(be.Debug,`Call to HubConnection.stop(${i}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Bt.Disconnecting?(this._logger.log(be.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Bt.Disconnecting,this._logger.log(be.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(be.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=i||new Fe("The connection was stopped before the hub handshake could complete."),this.connection.stop(i)))}stream(i,...c){const[f,y]=this._replaceStreamingParams(c),b=this._createStreamInvocation(i,c,y);let x;const R=new jr;return R.cancelCallback=()=>{const H=this._createCancelInvocation(b.invocationId);return delete this._callbacks[b.invocationId],x.then(()=>this._sendWithProtocol(H))},this._callbacks[b.invocationId]=(H,U)=>{U?R.error(U):H&&(H.type===gt.Completion?H.error?R.error(new Error(H.error)):R.complete():R.next(H.item))},x=this._sendWithProtocol(b).catch(H=>{R.error(H),delete this._callbacks[b.invocationId]}),this._launchStreams(f,x),R}_sendMessage(i){return this._resetKeepAliveInterval(),this.connection.send(i)}_sendWithProtocol(i){return this._sendMessage(this._protocol.writeMessage(i))}send(i,...c){const[f,y]=this._replaceStreamingParams(c),b=this._sendWithProtocol(this._createInvocation(i,c,!0,y));return this._launchStreams(f,b),b}invoke(i,...c){const[f,y]=this._replaceStreamingParams(c),b=this._createInvocation(i,c,!1,y);return new Promise((R,H)=>{this._callbacks[b.invocationId]=(oe,Ce)=>{Ce?H(Ce):oe&&(oe.type===gt.Completion?oe.error?H(new Error(oe.error)):R(oe.result):H(new Error(`Unexpected message type: ${oe.type}`)))};const U=this._sendWithProtocol(b).catch(oe=>{H(oe),delete this._callbacks[b.invocationId]});this._launchStreams(f,U)})}on(i,c){!i||!c||(i=i.toLowerCase(),this._methods[i]||(this._methods[i]=[]),-1===this._methods[i].indexOf(c)&&this._methods[i].push(c))}off(i,c){if(!i)return;i=i.toLowerCase();const f=this._methods[i];if(f)if(c){const y=f.indexOf(c);-1!==y&&(f.splice(y,1),0===f.length&&delete this._methods[i])}else delete this._methods[i]}onclose(i){i&&this._closedCallbacks.push(i)}onreconnecting(i){i&&this._reconnectingCallbacks.push(i)}onreconnected(i){i&&this._reconnectedCallbacks.push(i)}_processIncomingData(i){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(i=this._processHandshakeResponse(i),this._receivedHandshakeResponse=!0),i){const c=this._protocol.parseMessages(i,this._logger);for(const f of c)switch(f.type){case gt.Invocation:this._invokeClientMethod(f);break;case gt.StreamItem:case gt.Completion:{const y=this._callbacks[f.invocationId];if(y){f.type===gt.Completion&&delete this._callbacks[f.invocationId];try{y(f)}catch(b){this._logger.log(be.Error,`Stream callback threw error: ${yt(b)}`)}}break}case gt.Ping:break;case gt.Close:{this._logger.log(be.Information,"Close message received from server.");const y=f.error?new Error("Server returned an error on close: "+f.error):void 0;!0===f.allowReconnect?this.connection.stop(y):this._stopPromise=this._stopInternal(y);break}default:this._logger.log(be.Warning,`Invalid message type: ${f.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(i){let c,f;try{[f,c]=this._handshakeProtocol.parseHandshakeResponse(i)}catch(y){const b="Error parsing handshake response: "+y;this._logger.log(be.Error,b);const x=new Error(b);throw this._handshakeRejecter(x),x}if(c.error){const y="Server returned handshake error: "+c.error;this._logger.log(be.Error,y);const b=new Error(y);throw this._handshakeRejecter(b),b}return this._logger.log(be.Debug,"Server handshake complete."),this._handshakeResolver(),f}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var i=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let c=this._nextKeepAlive-(new Date).getTime();c<0&&(c=0),this._pingServerHandle=setTimeout((0,we.Z)(function*(){if(i._connectionState===Bt.Connected)try{yield i._sendMessage(i._cachedPingMessage)}catch{i._cleanupPingTimer()}}),c)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(i){var c=this;return(0,we.Z)(function*(){const f=i.target.toLowerCase(),y=c._methods[f];if(!y)return c._logger.log(be.Warning,`No client method with the name '${f}' found.`),void(i.invocationId&&(c._logger.log(be.Warning,`No result given for '${f}' method and invocation ID '${i.invocationId}'.`),yield c._sendWithProtocol(c._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null))));const b=y.slice(),x=!!i.invocationId;let R,H,U;for(const oe of b)try{const Ce=R;R=yield oe.apply(c,i.arguments),x&&R&&Ce&&(c._logger.log(be.Error,`Multiple results provided for '${f}'. Sending error to server.`),U=c._createCompletionMessage(i.invocationId,"Client provided multiple results.",null)),H=void 0}catch(Ce){H=Ce,c._logger.log(be.Error,`A callback for the method '${f}' threw error '${Ce}'.`)}U?yield c._sendWithProtocol(U):x?(H?U=c._createCompletionMessage(i.invocationId,`${H}`,null):void 0!==R?U=c._createCompletionMessage(i.invocationId,null,R):(c._logger.log(be.Warning,`No result given for '${f}' method and invocation ID '${i.invocationId}'.`),U=c._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null)),yield c._sendWithProtocol(U)):R&&c._logger.log(be.Error,`Result given for '${f}' method but server is not expecting a result.`)})()}_connectionClosed(i){this._logger.log(be.Debug,`HubConnection.connectionClosed(${i}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||i||new Fe("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(i||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Bt.Disconnecting?this._completeClose(i):this._connectionState===Bt.Connected&&this._reconnectPolicy?this._reconnect(i):this._connectionState===Bt.Connected&&this._completeClose(i)}_completeClose(i){if(this._connectionStarted){this._connectionState=Bt.Disconnected,this._connectionStarted=!1,Ye.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(c=>c.apply(this,[i]))}catch(c){this._logger.log(be.Error,`An onclose callback called with error '${i}' threw error '${c}'.`)}}}_reconnect(i){var c=this;return(0,we.Z)(function*(){const f=Date.now();let y=0,b=void 0!==i?i:new Error("Attempting to reconnect due to a unknown error."),x=c._getNextRetryDelay(y++,0,b);if(null===x)return c._logger.log(be.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void c._completeClose(i);if(c._connectionState=Bt.Reconnecting,c._logger.log(be.Information,i?`Connection reconnecting because of error '${i}'.`:"Connection reconnecting."),0!==c._reconnectingCallbacks.length){try{c._reconnectingCallbacks.forEach(R=>R.apply(c,[i]))}catch(R){c._logger.log(be.Error,`An onreconnecting callback called with error '${i}' threw error '${R}'.`)}if(c._connectionState!==Bt.Reconnecting)return void c._logger.log(be.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==x;){if(c._logger.log(be.Information,`Reconnect attempt number ${y} will start in ${x} ms.`),yield new Promise(R=>{c._reconnectDelayHandle=setTimeout(R,x)}),c._reconnectDelayHandle=void 0,c._connectionState!==Bt.Reconnecting)return void c._logger.log(be.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield c._startInternal(),c._connectionState=Bt.Connected,c._logger.log(be.Information,"HubConnection reconnected successfully."),0!==c._reconnectedCallbacks.length)try{c._reconnectedCallbacks.forEach(R=>R.apply(c,[c.connection.connectionId]))}catch(R){c._logger.log(be.Error,`An onreconnected callback called with connectionId '${c.connection.connectionId}; threw error '${R}'.`)}return}catch(R){if(c._logger.log(be.Information,`Reconnect attempt failed because of error '${R}'.`),c._connectionState!==Bt.Reconnecting)return c._logger.log(be.Debug,`Connection moved to the '${c._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(c._connectionState===Bt.Disconnecting&&c._completeClose());b=R instanceof Error?R:new Error(R.toString()),x=c._getNextRetryDelay(y++,Date.now()-f,b)}}c._logger.log(be.Information,`Reconnect retries have been exhausted after ${Date.now()-f} ms and ${y} failed attempts. Connection disconnecting.`),c._completeClose()})()}_getNextRetryDelay(i,c,f){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:c,previousRetryCount:i,retryReason:f})}catch(y){return this._logger.log(be.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${i}, ${c}) threw error '${y}'.`),null}}_cancelCallbacksWithError(i){const c=this._callbacks;this._callbacks={},Object.keys(c).forEach(f=>{const y=c[f];try{y(null,i)}catch(b){this._logger.log(be.Error,`Stream 'error' callback called with '${i}' threw error: ${yt(b)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(i,c,f,y){if(f)return 0!==y.length?{arguments:c,streamIds:y,target:i,type:gt.Invocation}:{arguments:c,target:i,type:gt.Invocation};{const b=this._invocationId;return this._invocationId++,0!==y.length?{arguments:c,invocationId:b.toString(),streamIds:y,target:i,type:gt.Invocation}:{arguments:c,invocationId:b.toString(),target:i,type:gt.Invocation}}}_launchStreams(i,c){if(0!==i.length){c||(c=Promise.resolve());for(const f in i)i[f].subscribe({complete:()=>{c=c.then(()=>this._sendWithProtocol(this._createCompletionMessage(f)))},error:y=>{let b;b=y instanceof Error?y.message:y&&y.toString?y.toString():"Unknown error",c=c.then(()=>this._sendWithProtocol(this._createCompletionMessage(f,b)))},next:y=>{c=c.then(()=>this._sendWithProtocol(this._createStreamItemMessage(f,y)))}})}}_replaceStreamingParams(i){const c=[],f=[];for(let y=0;y<i.length;y++){const b=i[y];if(this._isObservable(b)){const x=this._invocationId;this._invocationId++,c[x]=b,f.push(x.toString()),i.splice(y,1)}}return[c,f]}_isObservable(i){return i&&i.subscribe&&"function"==typeof i.subscribe}_createStreamInvocation(i,c,f){const y=this._invocationId;return this._invocationId++,0!==f.length?{arguments:c,invocationId:y.toString(),streamIds:f,target:i,type:gt.StreamInvocation}:{arguments:c,invocationId:y.toString(),target:i,type:gt.StreamInvocation}}_createCancelInvocation(i){return{invocationId:i,type:gt.CancelInvocation}}_createStreamItemMessage(i,c){return{invocationId:i,item:c,type:gt.StreamItem}}_createCompletionMessage(i,c,f){return c?{error:c,invocationId:i,type:gt.Completion}:{invocationId:i,result:f,type:gt.Completion}}}class Ri{constructor(){this.name="json",this.version=1,this.transferFormat=zt.Text}parseMessages(i,c){if("string"!=typeof i)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!i)return[];null===c&&(c=kt.instance);const f=Pn.parse(i),y=[];for(const b of f){const x=JSON.parse(b);if("number"!=typeof x.type)throw new Error("Invalid payload.");switch(x.type){case gt.Invocation:this._isInvocationMessage(x);break;case gt.StreamItem:this._isStreamItemMessage(x);break;case gt.Completion:this._isCompletionMessage(x);break;case gt.Ping:case gt.Close:break;default:c.log(be.Information,"Unknown message type '"+x.type+"' ignored.");continue}y.push(x)}return y}writeMessage(i){return Pn.write(JSON.stringify(i))}_isInvocationMessage(i){this._assertNotEmptyString(i.target,"Invalid payload for Invocation message."),void 0!==i.invocationId&&this._assertNotEmptyString(i.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(i){if(this._assertNotEmptyString(i.invocationId,"Invalid payload for StreamItem message."),void 0===i.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(i){if(i.result&&i.error)throw new Error("Invalid payload for Completion message.");!i.result&&i.error&&this._assertNotEmptyString(i.error,"Invalid payload for Completion message."),this._assertNotEmptyString(i.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(i,c){if("string"!=typeof i||""===i)throw new Error(c)}}const fi={trace:be.Trace,debug:be.Debug,info:be.Information,information:be.Information,warn:be.Warning,warning:be.Warning,error:be.Error,critical:be.Critical,none:be.None},ri={Development:"Development",Production:"Production"},mo=ri.Production;let Ft="";Ft=mo==ri.Production?"https://handcricket2v2.azurewebsites.net":"https://localhost:5000";const fr=(new class Eo{configureLogging(i){if(wt.isRequired(i,"logging"),function hi(s){return void 0!==s.log}(i))this.logger=i;else if("string"==typeof i){const c=function go(s){const i=fi[s.toLowerCase()];if(typeof i<"u")return i;throw new Error(`Unknown log level: ${s}`)}(i);this.logger=new jn(c)}else this.logger=new jn(i);return this}withUrl(i,c){return wt.isRequired(i,"url"),wt.isNotEmpty(i,"url"),this.url=i,this.httpConnectionOptions="object"==typeof c?{...this.httpConnectionOptions,...c}:{...this.httpConnectionOptions,transport:c},this}withHubProtocol(i){return wt.isRequired(i,"protocol"),this.protocol=i,this}withAutomaticReconnect(i){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=i?Array.isArray(i)?new In(i):i:new In,this}build(){const i=this.httpConnectionOptions||{};if(void 0===i.logger&&(i.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const c=new tr(this.url,i);return po.create(c,this.logger||kt.instance,this.protocol||new Ri,this.reconnectPolicy)}}).withUrl(`${Ft}/gamehub`).build();let S=null;(new St).on("open",s=>{!function(){var c=(0,we.Z)(function*(){S=s,fr.keepAliveIntervalInMilliseconds=1e4,fr.serverTimeoutInMilliseconds=2e5,fr.onreconnecting(()=>{console.log("TRYING TO RECONNECT",fr.state)}),yield fr.start().then(()=>{console.log("Connection Made",fr.state)}).catch(f=>{console.log("ERROR FOUND : ",f)}),yield fr.invoke("JoinRoom",S).catch(f=>{console.log("Join Room Failed",f)})});return function(){return c.apply(this,arguments)}}()()}),I.q6().bootstrapModule(Mn.b9).catch(s=>console.error(s))},8819:(et,X,M)=>{var l=M(3417).MY,N=M(3417).cx;function ne(B){this.index=0,this.dataBuffer=B,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function q(){this.bufferBuilder=new l}function we(B){var j=B.charCodeAt(0);return j<=2047?"00":j<=65535?"000":j<=2097151?"0000":j<=67108863?"00000":"000000"}et.exports={unpack:function(B){return new ne(B).unpack()},pack:function(B){var j=new q;return j.pack(B),j.getBuffer()}},ne.prototype.unpack=function(){var j,B=this.unpack_uint8();if(B<128)return B;if((224^B)<32)return(224^B)-32;if((j=160^B)<=15)return this.unpack_raw(j);if((j=176^B)<=15)return this.unpack_string(j);if((j=144^B)<=15)return this.unpack_array(j);if((j=128^B)<=15)return this.unpack_map(j);switch(B){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return j=this.unpack_uint16(),this.unpack_string(j);case 217:return j=this.unpack_uint32(),this.unpack_string(j);case 218:return j=this.unpack_uint16(),this.unpack_raw(j);case 219:return j=this.unpack_uint32(),this.unpack_raw(j);case 220:return j=this.unpack_uint16(),this.unpack_array(j);case 221:return j=this.unpack_uint32(),this.unpack_array(j);case 222:return j=this.unpack_uint16(),this.unpack_map(j);case 223:return j=this.unpack_uint32(),this.unpack_map(j)}},ne.prototype.unpack_uint8=function(){var B=255&this.dataView[this.index];return this.index++,B},ne.prototype.unpack_uint16=function(){var B=this.read(2),j=256*(255&B[0])+(255&B[1]);return this.index+=2,j},ne.prototype.unpack_uint32=function(){var B=this.read(4),j=256*(256*(256*B[0]+B[1])+B[2])+B[3];return this.index+=4,j},ne.prototype.unpack_uint64=function(){var B=this.read(8),j=256*(256*(256*(256*(256*(256*(256*B[0]+B[1])+B[2])+B[3])+B[4])+B[5])+B[6])+B[7];return this.index+=8,j},ne.prototype.unpack_int8=function(){var B=this.unpack_uint8();return B<128?B:B-256},ne.prototype.unpack_int16=function(){var B=this.unpack_uint16();return B<32768?B:B-65536},ne.prototype.unpack_int32=function(){var B=this.unpack_uint32();return B<Math.pow(2,31)?B:B-Math.pow(2,32)},ne.prototype.unpack_int64=function(){var B=this.unpack_uint64();return B<Math.pow(2,63)?B:B-Math.pow(2,64)},ne.prototype.unpack_raw=function(B){if(this.length<this.index+B)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+B+" "+this.length);var j=this.dataBuffer.slice(this.index,this.index+B);return this.index+=B,j},ne.prototype.unpack_string=function(B){for(var De,Ve,j=this.read(B),K=0,ae="";K<B;)(De=j[K])<128?(ae+=String.fromCharCode(De),K++):(192^De)<32?(Ve=(192^De)<<6|63&j[K+1],ae+=String.fromCharCode(Ve),K+=2):(Ve=(15&De)<<12|(63&j[K+1])<<6|63&j[K+2],ae+=String.fromCharCode(Ve),K+=3);return this.index+=B,ae},ne.prototype.unpack_array=function(B){for(var j=new Array(B),K=0;K<B;K++)j[K]=this.unpack();return j},ne.prototype.unpack_map=function(B){for(var j={},K=0;K<B;K++){var ae=this.unpack(),De=this.unpack();j[ae]=De}return j},ne.prototype.unpack_float=function(){var B=this.unpack_uint32();return(0==B>>31?1:-1)*(8388607&B|8388608)*Math.pow(2,(B>>23&255)-127-23)},ne.prototype.unpack_double=function(){var B=this.unpack_uint32(),j=this.unpack_uint32(),ae=(B>>20&2047)-1023;return(0==B>>31?1:-1)*((1048575&B|1048576)*Math.pow(2,ae-20)+j*Math.pow(2,ae-52))},ne.prototype.read=function(B){var j=this.index;if(j+B<=this.length)return this.dataView.subarray(j,j+B);throw new Error("BinaryPackFailure: read index out of range")},q.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},q.prototype.pack=function(B){var j=typeof B;if("string"===j)this.pack_string(B);else if("number"===j)Math.floor(B)===B?this.pack_integer(B):this.pack_double(B);else if("boolean"===j)!0===B?this.bufferBuilder.append(195):!1===B&&this.bufferBuilder.append(194);else if("undefined"===j)this.bufferBuilder.append(192);else{if("object"!==j)throw new Error('Type "'+j+'" not yet supported');if(null===B)this.bufferBuilder.append(192);else{var K=B.constructor;if(K==Array)this.pack_array(B);else if(K==Blob||K==File||B instanceof Blob||B instanceof File)this.pack_bin(B);else if(K==ArrayBuffer)this.pack_bin(N.useArrayBufferView?new Uint8Array(B):B);else if("BYTES_PER_ELEMENT"in B)this.pack_bin(N.useArrayBufferView?new Uint8Array(B.buffer):B.buffer);else if(K==Object||K.toString().startsWith("class"))this.pack_object(B);else if(K==Date)this.pack_string(B.toString());else{if("function"!=typeof B.toBinaryPack)throw new Error('Type "'+K.toString()+'" not yet supported');this.bufferBuilder.append(B.toBinaryPack())}}}this.bufferBuilder.flush()},q.prototype.pack_bin=function(B){var j=B.length||B.byteLength||B.size;if(j<=15)this.pack_uint8(160+j);else if(j<=65535)this.bufferBuilder.append(218),this.pack_uint16(j);else{if(!(j<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(j)}this.bufferBuilder.append(B)},q.prototype.pack_string=function(B){var j=function I(B){return B.length>600?new Blob([B]).size:B.replace(/[^\u0000-\u007F]/g,we).length}(B);if(j<=15)this.pack_uint8(176+j);else if(j<=65535)this.bufferBuilder.append(216),this.pack_uint16(j);else{if(!(j<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(j)}this.bufferBuilder.append(B)},q.prototype.pack_array=function(B){var j=B.length;if(j<=15)this.pack_uint8(144+j);else if(j<=65535)this.bufferBuilder.append(220),this.pack_uint16(j);else{if(!(j<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(j)}for(var K=0;K<j;K++)this.pack(B[K])},q.prototype.pack_integer=function(B){if(B>=-32&&B<=127)this.bufferBuilder.append(255&B);else if(B>=0&&B<=255)this.bufferBuilder.append(204),this.pack_uint8(B);else if(B>=-128&&B<=127)this.bufferBuilder.append(208),this.pack_int8(B);else if(B>=0&&B<=65535)this.bufferBuilder.append(205),this.pack_uint16(B);else if(B>=-32768&&B<=32767)this.bufferBuilder.append(209),this.pack_int16(B);else if(B>=0&&B<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(B);else if(B>=-2147483648&&B<=2147483647)this.bufferBuilder.append(210),this.pack_int32(B);else if(B>=-0x8000000000000000&&B<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(B);else{if(!(B>=0&&B<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(B)}},q.prototype.pack_double=function(B){var j=0;B<0&&(j=1,B=-B);var K=Math.floor(Math.log(B)/Math.LN2),ae=B/Math.pow(2,K)-1,De=Math.floor(ae*Math.pow(2,52)),Ve=Math.pow(2,32),ee=j<<31|K+1023<<20|De/Ve&1048575,Le=De%Ve;this.bufferBuilder.append(203),this.pack_int32(ee),this.pack_int32(Le)},q.prototype.pack_object=function(B){var K=Object.keys(B).length;if(K<=15)this.pack_uint8(128+K);else if(K<=65535)this.bufferBuilder.append(222),this.pack_uint16(K);else{if(!(K<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(K)}for(var ae in B)B.hasOwnProperty(ae)&&(this.pack(ae),this.pack(B[ae]))},q.prototype.pack_uint8=function(B){this.bufferBuilder.append(B)},q.prototype.pack_uint16=function(B){this.bufferBuilder.append(B>>8),this.bufferBuilder.append(255&B)},q.prototype.pack_uint32=function(B){var j=4294967295&B;this.bufferBuilder.append((4278190080&j)>>>24),this.bufferBuilder.append((16711680&j)>>>16),this.bufferBuilder.append((65280&j)>>>8),this.bufferBuilder.append(255&j)},q.prototype.pack_uint64=function(B){var j=B/Math.pow(2,32),K=B%Math.pow(2,32);this.bufferBuilder.append((4278190080&j)>>>24),this.bufferBuilder.append((16711680&j)>>>16),this.bufferBuilder.append((65280&j)>>>8),this.bufferBuilder.append(255&j),this.bufferBuilder.append((4278190080&K)>>>24),this.bufferBuilder.append((16711680&K)>>>16),this.bufferBuilder.append((65280&K)>>>8),this.bufferBuilder.append(255&K)},q.prototype.pack_int8=function(B){this.bufferBuilder.append(255&B)},q.prototype.pack_int16=function(B){this.bufferBuilder.append((65280&B)>>8),this.bufferBuilder.append(255&B)},q.prototype.pack_int32=function(B){this.bufferBuilder.append(B>>>24&255),this.bufferBuilder.append((16711680&B)>>>16),this.bufferBuilder.append((65280&B)>>>8),this.bufferBuilder.append(255&B)},q.prototype.pack_int64=function(B){var j=Math.floor(B/Math.pow(2,32)),K=B%Math.pow(2,32);this.bufferBuilder.append((4278190080&j)>>>24),this.bufferBuilder.append((16711680&j)>>>16),this.bufferBuilder.append((65280&j)>>>8),this.bufferBuilder.append(255&j),this.bufferBuilder.append((4278190080&K)>>>24),this.bufferBuilder.append((16711680&K)>>>16),this.bufferBuilder.append((65280&K)>>>8),this.bufferBuilder.append(255&K)}},3417:et=>{var X={};X.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),X.useArrayBufferView=!X.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch{return!0}}(),et.exports.cx=X;var M=et.exports.xE;function l(){this._pieces=[],this._parts=[]}typeof window<"u"&&(M=et.exports.xE=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),l.prototype.append=function(N){"number"==typeof N?this._pieces.push(N):(this.flush(),this._parts.push(N))},l.prototype.flush=function(){if(this._pieces.length>0){var N=new Uint8Array(this._pieces);X.useArrayBufferView||(N=N.buffer),this._parts.push(N),this._pieces=[]}},l.prototype.getBuffer=function(){if(this.flush(),X.useBlobBuilder){for(var N=new M,J=0,ne=this._parts.length;J<ne;J++)N.append(this._parts[J]);return N.getBlob()}return new Blob(this._parts)},et.exports.MY=l},6334:(et,X,M)=>{"use strict";var l=M(7463);function J(j,K,ae,De,Ve){var ee=l.writeRtpDescription(j.kind,K);if(ee+=l.writeIceParameters(j.iceGatherer.getLocalParameters()),ee+=l.writeDtlsParameters(j.dtlsTransport.getLocalParameters(),"offer"===ae?"actpass":Ve||"active"),ee+="a=mid:"+j.mid+"\r\n",ee+=j.rtpSender&&j.rtpReceiver?"a=sendrecv\r\n":j.rtpSender?"a=sendonly\r\n":j.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",j.rtpSender){var Le=j.rtpSender._initialTrackId||j.rtpSender.track.id;j.rtpSender._initialTrackId=Le;var Ne="msid:"+(De?De.id:"-")+" "+Le+"\r\n";ee+="a="+Ne,ee+="a=ssrc:"+j.sendEncodingParameters[0].ssrc+" "+Ne,j.sendEncodingParameters[0].rtx&&(ee+="a=ssrc:"+j.sendEncodingParameters[0].rtx.ssrc+" "+Ne,ee+="a=ssrc-group:FID "+j.sendEncodingParameters[0].ssrc+" "+j.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return ee+="a=ssrc:"+j.sendEncodingParameters[0].ssrc+" cname:"+l.localCName+"\r\n",j.rtpSender&&j.sendEncodingParameters[0].rtx&&(ee+="a=ssrc:"+j.sendEncodingParameters[0].rtx.ssrc+" cname:"+l.localCName+"\r\n"),ee}function q(j,K){var ae={codecs:[],headerExtensions:[],fecMechanisms:[]},De=function(ee,Le){ee=parseInt(ee,10);for(var Ne=0;Ne<Le.length;Ne++)if(Le[Ne].payloadType===ee||Le[Ne].preferredPayloadType===ee)return Le[Ne]},Ve=function(ee,Le,Ne,L){var W=De(ee.parameters.apt,Ne),me=De(Le.parameters.apt,L);return W&&me&&W.name.toLowerCase()===me.name.toLowerCase()};return j.codecs.forEach(function(ee){for(var Le=0;Le<K.codecs.length;Le++){var Ne=K.codecs[Le];if(ee.name.toLowerCase()===Ne.name.toLowerCase()&&ee.clockRate===Ne.clockRate){if("rtx"===ee.name.toLowerCase()&&ee.parameters&&Ne.parameters.apt&&!Ve(ee,Ne,j.codecs,K.codecs))continue;(Ne=JSON.parse(JSON.stringify(Ne))).numChannels=Math.min(ee.numChannels,Ne.numChannels),ae.codecs.push(Ne),Ne.rtcpFeedback=Ne.rtcpFeedback.filter(function(L){for(var W=0;W<ee.rtcpFeedback.length;W++)if(ee.rtcpFeedback[W].type===L.type&&ee.rtcpFeedback[W].parameter===L.parameter)return!0;return!1});break}}}),j.headerExtensions.forEach(function(ee){for(var Le=0;Le<K.headerExtensions.length;Le++){var Ne=K.headerExtensions[Le];if(ee.uri===Ne.uri){ae.headerExtensions.push(Ne);break}}}),ae}function we(j,K,ae){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[K][j].indexOf(ae)}function I(j,K){var ae=j.getRemoteCandidates().find(function(De){return K.foundation===De.foundation&&K.ip===De.ip&&K.port===De.port&&K.priority===De.priority&&K.protocol===De.protocol&&K.type===De.type});return ae||j.addRemoteCandidate(K),!ae}function B(j,K){var ae=new Error(K);return ae.name=j,ae.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[j],ae}et.exports=function(j,K){function ae(L,W){W.addTrack(L),W.dispatchEvent(new j.MediaStreamTrackEvent("addtrack",{track:L}))}function Ve(L,W,me,Q){var he=new Event("track");he.track=W,he.receiver=me,he.transceiver={receiver:me},he.streams=Q,j.setTimeout(function(){L._dispatchEvent("track",he)})}var ee=function(L){var W=this,me=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(he){W[he]=me[he].bind(me)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",L=JSON.parse(JSON.stringify(L||{})),this.usingBundle="max-bundle"===L.bundlePolicy,"negotiate"===L.rtcpMuxPolicy)throw B("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(L.rtcpMuxPolicy||(L.rtcpMuxPolicy="require"),L.iceTransportPolicy){case"all":case"relay":break;default:L.iceTransportPolicy="all"}switch(L.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:L.bundlePolicy="balanced"}if(L.iceServers=function ne(j,K){var ae=!1;return(j=JSON.parse(JSON.stringify(j))).filter(function(De){if(De&&(De.urls||De.url)){var Ve=De.urls||De.url;De.url&&!De.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var ee="string"==typeof Ve;return ee&&(Ve=[Ve]),Ve=Ve.filter(function(Le){return 0!==Le.indexOf("turn:")||-1===Le.indexOf("transport=udp")||-1!==Le.indexOf("turn:[")||ae?0===Le.indexOf("stun:")&&K>=14393&&-1===Le.indexOf("?transport=udp"):(ae=!0,!0)}),delete De.url,De.urls=ee?Ve[0]:Ve,!!Ve.length}})}(L.iceServers||[],K),this._iceGatherers=[],L.iceCandidatePoolSize)for(var Q=L.iceCandidatePoolSize;Q>0;Q--)this._iceGatherers.push(new j.RTCIceGatherer({iceServers:L.iceServers,gatherPolicy:L.iceTransportPolicy}));else L.iceCandidatePoolSize=0;this._config=L,this.transceivers=[],this._sdpSessionId=l.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(ee.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(ee.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),ee.prototype.onicecandidate=null,ee.prototype.onaddstream=null,ee.prototype.ontrack=null,ee.prototype.onremovestream=null,ee.prototype.onsignalingstatechange=null,ee.prototype.oniceconnectionstatechange=null,ee.prototype.onconnectionstatechange=null,ee.prototype.onicegatheringstatechange=null,ee.prototype.onnegotiationneeded=null,ee.prototype.ondatachannel=null,ee.prototype._dispatchEvent=function(L,W){this._isClosed||(this.dispatchEvent(W),"function"==typeof this["on"+L]&&this["on"+L](W))},ee.prototype._emitGatheringStateChange=function(){var L=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",L)},ee.prototype.getConfiguration=function(){return this._config},ee.prototype.getLocalStreams=function(){return this.localStreams},ee.prototype.getRemoteStreams=function(){return this.remoteStreams},ee.prototype._createTransceiver=function(L,W){var Q={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:L,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)Q.iceTransport=this.transceivers[0].iceTransport,Q.dtlsTransport=this.transceivers[0].dtlsTransport;else{var he=this._createIceAndDtlsTransports();Q.iceTransport=he.iceTransport,Q.dtlsTransport=he.dtlsTransport}return W||this.transceivers.push(Q),Q},ee.prototype.addTrack=function(L,W){if(this._isClosed)throw B("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(pe){return pe.track===L}))throw B("InvalidAccessError","Track already exists.");for(var Q,he=0;he<this.transceivers.length;he++)!this.transceivers[he].track&&this.transceivers[he].kind===L.kind&&(Q=this.transceivers[he]);return Q||(Q=this._createTransceiver(L.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(W)&&this.localStreams.push(W),Q.track=L,Q.stream=W,Q.rtpSender=new j.RTCRtpSender(L,Q.dtlsTransport),Q.rtpSender},ee.prototype.addStream=function(L){var W=this;if(K>=15025)L.getTracks().forEach(function(Q){W.addTrack(Q,L)});else{var me=L.clone();L.getTracks().forEach(function(Q,he){var pe=me.getTracks()[he];Q.addEventListener("enabled",function(G){pe.enabled=G.enabled})}),me.getTracks().forEach(function(Q){W.addTrack(Q,me)})}},ee.prototype.removeTrack=function(L){if(this._isClosed)throw B("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(L instanceof j.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var W=this.transceivers.find(function(he){return he.rtpSender===L});if(!W)throw B("InvalidAccessError","Sender was not created by this connection.");var me=W.stream;W.rtpSender.stop(),W.rtpSender=null,W.track=null,W.stream=null,-1===this.transceivers.map(function(he){return he.stream}).indexOf(me)&&this.localStreams.indexOf(me)>-1&&this.localStreams.splice(this.localStreams.indexOf(me),1),this._maybeFireNegotiationNeeded()},ee.prototype.removeStream=function(L){var W=this;L.getTracks().forEach(function(me){var Q=W.getSenders().find(function(he){return he.track===me});Q&&W.removeTrack(Q)})},ee.prototype.getSenders=function(){return this.transceivers.filter(function(L){return!!L.rtpSender}).map(function(L){return L.rtpSender})},ee.prototype.getReceivers=function(){return this.transceivers.filter(function(L){return!!L.rtpReceiver}).map(function(L){return L.rtpReceiver})},ee.prototype._createIceGatherer=function(L,W){var me=this;if(W&&L>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var Q=new j.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(Q,"state",{value:"new",writable:!0}),this.transceivers[L].bufferedCandidateEvents=[],this.transceivers[L].bufferCandidates=function(he){var pe=!he.candidate||0===Object.keys(he.candidate).length;Q.state=pe?"completed":"gathering",null!==me.transceivers[L].bufferedCandidateEvents&&me.transceivers[L].bufferedCandidateEvents.push(he)},Q.addEventListener("localcandidate",this.transceivers[L].bufferCandidates),Q},ee.prototype._gather=function(L,W){var me=this,Q=this.transceivers[W].iceGatherer;if(!Q.onlocalcandidate){var he=this.transceivers[W].bufferedCandidateEvents;this.transceivers[W].bufferedCandidateEvents=null,Q.removeEventListener("localcandidate",this.transceivers[W].bufferCandidates),Q.onlocalcandidate=function(pe){if(!(me.usingBundle&&W>0)){var G=new Event("icecandidate");G.candidate={sdpMid:L,sdpMLineIndex:W};var fe=pe.candidate,Y=!fe||0===Object.keys(fe).length;if(Y)("new"===Q.state||"gathering"===Q.state)&&(Q.state="completed");else{"new"===Q.state&&(Q.state="gathering"),fe.component=1,fe.ufrag=Q.getLocalParameters().usernameFragment;var Z=l.writeCandidate(fe);G.candidate=Object.assign(G.candidate,l.parseCandidate(Z)),G.candidate.candidate=Z,G.candidate.toJSON=function(){return{candidate:G.candidate.candidate,sdpMid:G.candidate.sdpMid,sdpMLineIndex:G.candidate.sdpMLineIndex,usernameFragment:G.candidate.usernameFragment}}}var re=l.getMediaSections(me._localDescription.sdp);re[G.candidate.sdpMLineIndex]+=Y?"a=end-of-candidates\r\n":"a="+G.candidate.candidate+"\r\n",me._localDescription.sdp=l.getDescription(me._localDescription.sdp)+re.join("");var F=me.transceivers.every(function(Se){return Se.iceGatherer&&"completed"===Se.iceGatherer.state});"gathering"!==me.iceGatheringState&&(me.iceGatheringState="gathering",me._emitGatheringStateChange()),Y||me._dispatchEvent("icecandidate",G),F&&(me._dispatchEvent("icecandidate",new Event("icecandidate")),me.iceGatheringState="complete",me._emitGatheringStateChange())}},j.setTimeout(function(){he.forEach(function(pe){Q.onlocalcandidate(pe)})},0)}},ee.prototype._createIceAndDtlsTransports=function(){var L=this,W=new j.RTCIceTransport(null);W.onicestatechange=function(){L._updateIceConnectionState(),L._updateConnectionState()};var me=new j.RTCDtlsTransport(W);return me.ondtlsstatechange=function(){L._updateConnectionState()},me.onerror=function(){Object.defineProperty(me,"state",{value:"failed",writable:!0}),L._updateConnectionState()},{iceTransport:W,dtlsTransport:me}},ee.prototype._disposeIceAndDtlsTransports=function(L){var W=this.transceivers[L].iceGatherer;W&&(delete W.onlocalcandidate,delete this.transceivers[L].iceGatherer);var me=this.transceivers[L].iceTransport;me&&(delete me.onicestatechange,delete this.transceivers[L].iceTransport);var Q=this.transceivers[L].dtlsTransport;Q&&(delete Q.ondtlsstatechange,delete Q.onerror,delete this.transceivers[L].dtlsTransport)},ee.prototype._transceive=function(L,W,me){var Q=q(L.localCapabilities,L.remoteCapabilities);W&&L.rtpSender&&(Q.encodings=L.sendEncodingParameters,Q.rtcp={cname:l.localCName,compound:L.rtcpParameters.compound},L.recvEncodingParameters.length&&(Q.rtcp.ssrc=L.recvEncodingParameters[0].ssrc),L.rtpSender.send(Q)),me&&L.rtpReceiver&&Q.codecs.length>0&&("video"===L.kind&&L.recvEncodingParameters&&K<15019&&L.recvEncodingParameters.forEach(function(he){delete he.rtx}),Q.encodings=L.recvEncodingParameters.length?L.recvEncodingParameters:[{}],Q.rtcp={compound:L.rtcpParameters.compound},L.rtcpParameters.cname&&(Q.rtcp.cname=L.rtcpParameters.cname),L.sendEncodingParameters.length&&(Q.rtcp.ssrc=L.sendEncodingParameters[0].ssrc),L.rtpReceiver.receive(Q))},ee.prototype.setLocalDescription=function(L){var me,Q,W=this;if(-1===["offer","answer"].indexOf(L.type))return Promise.reject(B("TypeError",'Unsupported type "'+L.type+'"'));if(!we("setLocalDescription",L.type,W.signalingState)||W._isClosed)return Promise.reject(B("InvalidStateError","Can not set local "+L.type+" in state "+W.signalingState));if("offer"===L.type)me=l.splitSections(L.sdp),Q=me.shift(),me.forEach(function(pe,G){var fe=l.parseRtpParameters(pe);W.transceivers[G].localCapabilities=fe}),W.transceivers.forEach(function(pe,G){W._gather(pe.mid,G)});else if("answer"===L.type){me=l.splitSections(W._remoteDescription.sdp),Q=me.shift();var he=l.matchPrefix(Q,"a=ice-lite").length>0;me.forEach(function(pe,G){var fe=W.transceivers[G],Y=fe.iceGatherer,Z=fe.iceTransport,re=fe.dtlsTransport,F=fe.localCapabilities,Se=fe.remoteCapabilities;if(!(l.isRejected(pe)&&0===l.matchPrefix(pe,"a=bundle-only").length||fe.rejected)){var Me=l.getIceParameters(pe,Q),ct=l.getDtlsParameters(pe,Q);he&&(ct.role="server"),(!W.usingBundle||0===G)&&(W._gather(fe.mid,G),"new"===Z.state&&Z.start(Y,Me,he?"controlling":"controlled"),"new"===re.state&&re.start(ct));var de=q(F,Se);W._transceive(fe,de.codecs.length>0,!1)}})}return W._localDescription={type:L.type,sdp:L.sdp},W._updateSignalingState("offer"===L.type?"have-local-offer":"stable"),Promise.resolve()},ee.prototype.setRemoteDescription=function(L){var W=this;if(-1===["offer","answer"].indexOf(L.type))return Promise.reject(B("TypeError",'Unsupported type "'+L.type+'"'));if(!we("setRemoteDescription",L.type,W.signalingState)||W._isClosed)return Promise.reject(B("InvalidStateError","Can not set remote "+L.type+" in state "+W.signalingState));var me={};W.remoteStreams.forEach(function(Z){me[Z.id]=Z});var Q=[],he=l.splitSections(L.sdp),pe=he.shift(),G=l.matchPrefix(pe,"a=ice-lite").length>0,fe=l.matchPrefix(pe,"a=group:BUNDLE ").length>0;W.usingBundle=fe;var Y=l.matchPrefix(pe,"a=ice-options:")[0];return W.canTrickleIceCandidates=!!Y&&Y.substr(14).split(" ").indexOf("trickle")>=0,he.forEach(function(Z,re){var F=l.splitLines(Z),Se=l.getKind(Z),Be=l.isRejected(Z)&&0===l.matchPrefix(Z,"a=bundle-only").length,Me=F[0].substr(2).split(" ")[2],ct=l.getDirection(Z,pe),de=l.parseMsid(Z),ye=l.getMid(Z)||l.generateIdentifier();if(Be||"application"===Se&&("DTLS/SCTP"===Me||"UDP/DTLS/SCTP"===Me))W.transceivers[re]={mid:ye,kind:Se,protocol:Me,rejected:!0};else{!Be&&W.transceivers[re]&&W.transceivers[re].rejected&&(W.transceivers[re]=W._createTransceiver(Se,!0));var ge,Re,ke,Oe,Ue,rt,qt,tt,ht,pt,mt,Rt=l.parseRtpParameters(Z);Be||(pt=l.getIceParameters(Z,pe),(mt=l.getDtlsParameters(Z,pe)).role="client"),qt=l.parseRtpEncodingParameters(Z);var at=l.parseRtcpParameters(Z),mn=l.matchPrefix(Z,"a=end-of-candidates",pe).length>0,tn=l.matchPrefix(Z,"a=candidate:").map(function(qe){return l.parseCandidate(qe)}).filter(function(qe){return 1===qe.component});if(("offer"===L.type||"answer"===L.type)&&!Be&&fe&&re>0&&W.transceivers[re]&&(W._disposeIceAndDtlsTransports(re),W.transceivers[re].iceGatherer=W.transceivers[0].iceGatherer,W.transceivers[re].iceTransport=W.transceivers[0].iceTransport,W.transceivers[re].dtlsTransport=W.transceivers[0].dtlsTransport,W.transceivers[re].rtpSender&&W.transceivers[re].rtpSender.setTransport(W.transceivers[0].dtlsTransport),W.transceivers[re].rtpReceiver&&W.transceivers[re].rtpReceiver.setTransport(W.transceivers[0].dtlsTransport)),"offer"!==L.type||Be)"answer"!==L.type||Be||(Re=(ge=W.transceivers[re]).iceGatherer,ke=ge.iceTransport,Oe=ge.dtlsTransport,Ue=ge.rtpReceiver,rt=ge.sendEncodingParameters,tt=ge.localCapabilities,W.transceivers[re].recvEncodingParameters=qt,W.transceivers[re].remoteCapabilities=Rt,W.transceivers[re].rtcpParameters=at,tn.length&&"new"===ke.state&&(!G&&!mn||fe&&0!==re?tn.forEach(function(qe){I(ge.iceTransport,qe)}):ke.setRemoteCandidates(tn)),(!fe||0===re)&&("new"===ke.state&&ke.start(Re,pt,"controlling"),"new"===Oe.state&&Oe.start(mt)),!q(ge.localCapabilities,ge.remoteCapabilities).codecs.filter(function(qe){return"rtx"===qe.name.toLowerCase()}).length&&ge.sendEncodingParameters[0].rtx&&delete ge.sendEncodingParameters[0].rtx,W._transceive(ge,"sendrecv"===ct||"recvonly"===ct,"sendrecv"===ct||"sendonly"===ct),!Ue||"sendrecv"!==ct&&"sendonly"!==ct?delete ge.rtpReceiver:(ht=Ue.track,de?(me[de.stream]||(me[de.stream]=new j.MediaStream),ae(ht,me[de.stream]),Q.push([ht,Ue,me[de.stream]])):(me.default||(me.default=new j.MediaStream),ae(ht,me.default),Q.push([ht,Ue,me.default]))));else{(ge=W.transceivers[re]||W._createTransceiver(Se)).mid=ye,ge.iceGatherer||(ge.iceGatherer=W._createIceGatherer(re,fe)),tn.length&&"new"===ge.iceTransport.state&&(!mn||fe&&0!==re?tn.forEach(function(qe){I(ge.iceTransport,qe)}):ge.iceTransport.setRemoteCandidates(tn)),tt=j.RTCRtpReceiver.getCapabilities(Se),K<15019&&(tt.codecs=tt.codecs.filter(function(qe){return"rtx"!==qe.name})),rt=ge.sendEncodingParameters||[{ssrc:1001*(2*re+2)}];var ft,Cn=!1;"sendrecv"===ct||"sendonly"===ct?(Cn=!ge.rtpReceiver,Ue=ge.rtpReceiver||new j.RTCRtpReceiver(ge.dtlsTransport,Se),Cn&&(ht=Ue.track,de&&"-"===de.stream||(de?(me[de.stream]||(me[de.stream]=new j.MediaStream,Object.defineProperty(me[de.stream],"id",{get:function(){return de.stream}})),Object.defineProperty(ht,"id",{get:function(){return de.track}}),ft=me[de.stream]):(me.default||(me.default=new j.MediaStream),ft=me.default)),ft&&(ae(ht,ft),ge.associatedRemoteMediaStreams.push(ft)),Q.push([ht,Ue,ft]))):ge.rtpReceiver&&ge.rtpReceiver.track&&(ge.associatedRemoteMediaStreams.forEach(function(qe){var Ht=qe.getTracks().find(function(Dn){return Dn.id===ge.rtpReceiver.track.id});Ht&&function De(L,W){W.removeTrack(L),W.dispatchEvent(new j.MediaStreamTrackEvent("removetrack",{track:L}))}(Ht,qe)}),ge.associatedRemoteMediaStreams=[]),ge.localCapabilities=tt,ge.remoteCapabilities=Rt,ge.rtpReceiver=Ue,ge.rtcpParameters=at,ge.sendEncodingParameters=rt,ge.recvEncodingParameters=qt,W._transceive(W.transceivers[re],!1,Cn)}}}),void 0===W._dtlsRole&&(W._dtlsRole="offer"===L.type?"active":"passive"),W._remoteDescription={type:L.type,sdp:L.sdp},W._updateSignalingState("offer"===L.type?"have-remote-offer":"stable"),Object.keys(me).forEach(function(Z){var re=me[Z];if(re.getTracks().length){if(-1===W.remoteStreams.indexOf(re)){W.remoteStreams.push(re);var F=new Event("addstream");F.stream=re,j.setTimeout(function(){W._dispatchEvent("addstream",F)})}Q.forEach(function(Se){re.id===Se[2].id&&Ve(W,Se[0],Se[1],[re])})}}),Q.forEach(function(Z){Z[2]||Ve(W,Z[0],Z[1],[])}),j.setTimeout(function(){W&&W.transceivers&&W.transceivers.forEach(function(Z){Z.iceTransport&&"new"===Z.iceTransport.state&&Z.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Z.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},ee.prototype.close=function(){this.transceivers.forEach(function(L){L.iceTransport&&L.iceTransport.stop(),L.dtlsTransport&&L.dtlsTransport.stop(),L.rtpSender&&L.rtpSender.stop(),L.rtpReceiver&&L.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},ee.prototype._updateSignalingState=function(L){this.signalingState=L;var W=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",W)},ee.prototype._maybeFireNegotiationNeeded=function(){var L=this;"stable"!==this.signalingState||!0===this.needNegotiation||(this.needNegotiation=!0,j.setTimeout(function(){if(L.needNegotiation){L.needNegotiation=!1;var W=new Event("negotiationneeded");L._dispatchEvent("negotiationneeded",W)}},0))},ee.prototype._updateIceConnectionState=function(){var L,W={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(Q){Q.iceTransport&&!Q.rejected&&W[Q.iceTransport.state]++}),L="new",W.failed>0?L="failed":W.checking>0?L="checking":W.disconnected>0?L="disconnected":W.new>0?L="new":W.connected>0?L="connected":W.completed>0&&(L="completed"),L!==this.iceConnectionState){this.iceConnectionState=L;var me=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",me)}},ee.prototype._updateConnectionState=function(){var L,W={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(Q){Q.iceTransport&&Q.dtlsTransport&&!Q.rejected&&(W[Q.iceTransport.state]++,W[Q.dtlsTransport.state]++)}),W.connected+=W.completed,L="new",W.failed>0?L="failed":W.connecting>0?L="connecting":W.disconnected>0?L="disconnected":W.new>0?L="new":W.connected>0&&(L="connected"),L!==this.connectionState){this.connectionState=L;var me=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",me)}},ee.prototype.createOffer=function(){var L=this;if(L._isClosed)return Promise.reject(B("InvalidStateError","Can not call createOffer after close"));var W=L.transceivers.filter(function(G){return"audio"===G.kind}).length,me=L.transceivers.filter(function(G){return"video"===G.kind}).length,Q=arguments[0];if(Q){if(Q.mandatory||Q.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==Q.offerToReceiveAudio&&(W=!0===Q.offerToReceiveAudio?1:!1===Q.offerToReceiveAudio?0:Q.offerToReceiveAudio),void 0!==Q.offerToReceiveVideo&&(me=!0===Q.offerToReceiveVideo?1:!1===Q.offerToReceiveVideo?0:Q.offerToReceiveVideo)}for(L.transceivers.forEach(function(G){"audio"===G.kind?--W<0&&(G.wantReceive=!1):"video"===G.kind&&--me<0&&(G.wantReceive=!1)});W>0||me>0;)W>0&&(L._createTransceiver("audio"),W--),me>0&&(L._createTransceiver("video"),me--);var he=l.writeSessionBoilerplate(L._sdpSessionId,L._sdpSessionVersion++);L.transceivers.forEach(function(G,fe){var Y=G.track,Z=G.kind,re=G.mid||l.generateIdentifier();G.mid=re,G.iceGatherer||(G.iceGatherer=L._createIceGatherer(fe,L.usingBundle));var F=j.RTCRtpSender.getCapabilities(Z);K<15019&&(F.codecs=F.codecs.filter(function(Be){return"rtx"!==Be.name})),F.codecs.forEach(function(Be){"H264"===Be.name&&void 0===Be.parameters["level-asymmetry-allowed"]&&(Be.parameters["level-asymmetry-allowed"]="1"),G.remoteCapabilities&&G.remoteCapabilities.codecs&&G.remoteCapabilities.codecs.forEach(function(Me){Be.name.toLowerCase()===Me.name.toLowerCase()&&Be.clockRate===Me.clockRate&&(Be.preferredPayloadType=Me.payloadType)})}),F.headerExtensions.forEach(function(Be){(G.remoteCapabilities&&G.remoteCapabilities.headerExtensions||[]).forEach(function(ct){Be.uri===ct.uri&&(Be.id=ct.id)})});var Se=G.sendEncodingParameters||[{ssrc:1001*(2*fe+1)}];Y&&K>=15019&&"video"===Z&&!Se[0].rtx&&(Se[0].rtx={ssrc:Se[0].ssrc+1}),G.wantReceive&&(G.rtpReceiver=new j.RTCRtpReceiver(G.dtlsTransport,Z)),G.localCapabilities=F,G.sendEncodingParameters=Se}),"max-compat"!==L._config.bundlePolicy&&(he+="a=group:BUNDLE "+L.transceivers.map(function(G){return G.mid}).join(" ")+"\r\n"),he+="a=ice-options:trickle\r\n",L.transceivers.forEach(function(G,fe){he+=J(G,G.localCapabilities,"offer",G.stream,L._dtlsRole),he+="a=rtcp-rsize\r\n",G.iceGatherer&&"new"!==L.iceGatheringState&&(0===fe||!L.usingBundle)&&(G.iceGatherer.getLocalCandidates().forEach(function(Y){Y.component=1,he+="a="+l.writeCandidate(Y)+"\r\n"}),"completed"===G.iceGatherer.state&&(he+="a=end-of-candidates\r\n"))});var pe=new j.RTCSessionDescription({type:"offer",sdp:he});return Promise.resolve(pe)},ee.prototype.createAnswer=function(){var L=this;if(L._isClosed)return Promise.reject(B("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==L.signalingState&&"have-local-pranswer"!==L.signalingState)return Promise.reject(B("InvalidStateError","Can not call createAnswer in signalingState "+L.signalingState));var W=l.writeSessionBoilerplate(L._sdpSessionId,L._sdpSessionVersion++);L.usingBundle&&(W+="a=group:BUNDLE "+L.transceivers.map(function(he){return he.mid}).join(" ")+"\r\n"),W+="a=ice-options:trickle\r\n";var me=l.getMediaSections(L._remoteDescription.sdp).length;L.transceivers.forEach(function(he,pe){if(!(pe+1>me)){if(he.rejected)return"application"===he.kind?W+="DTLS/SCTP"===he.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+he.protocol+" webrtc-datachannel\r\n":"audio"===he.kind?W+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===he.kind&&(W+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(W+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+he.mid+"\r\n");var G;he.stream&&("audio"===he.kind?G=he.stream.getAudioTracks()[0]:"video"===he.kind&&(G=he.stream.getVideoTracks()[0]),G&&K>=15019&&"video"===he.kind&&!he.sendEncodingParameters[0].rtx&&(he.sendEncodingParameters[0].rtx={ssrc:he.sendEncodingParameters[0].ssrc+1}));var fe=q(he.localCapabilities,he.remoteCapabilities);!fe.codecs.filter(function(Z){return"rtx"===Z.name.toLowerCase()}).length&&he.sendEncodingParameters[0].rtx&&delete he.sendEncodingParameters[0].rtx,W+=J(he,fe,"answer",he.stream,L._dtlsRole),he.rtcpParameters&&he.rtcpParameters.reducedSize&&(W+="a=rtcp-rsize\r\n")}});var Q=new j.RTCSessionDescription({type:"answer",sdp:W});return Promise.resolve(Q)},ee.prototype.addIceCandidate=function(L){var me,W=this;return L&&void 0===L.sdpMLineIndex&&!L.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(Q,he){if(!W._remoteDescription)return he(B("InvalidStateError","Can not add ICE candidate without a remote description"));if(L&&""!==L.candidate){var G=L.sdpMLineIndex;if(L.sdpMid)for(var fe=0;fe<W.transceivers.length;fe++)if(W.transceivers[fe].mid===L.sdpMid){G=fe;break}var Y=W.transceivers[G];if(!Y)return he(B("OperationError","Can not add ICE candidate"));if(Y.rejected)return Q();var Z=Object.keys(L.candidate).length>0?l.parseCandidate(L.candidate):{};if("tcp"===Z.protocol&&(0===Z.port||9===Z.port)||Z.component&&1!==Z.component)return Q();if((0===G||G>0&&Y.iceTransport!==W.transceivers[0].iceTransport)&&!I(Y.iceTransport,Z))return he(B("OperationError","Can not add ICE candidate"));var re=L.candidate.trim();0===re.indexOf("a=")&&(re=re.substr(2)),(me=l.getMediaSections(W._remoteDescription.sdp))[G]+="a="+(Z.type?re:"end-of-candidates")+"\r\n",W._remoteDescription.sdp=l.getDescription(W._remoteDescription.sdp)+me.join("")}else for(var pe=0;pe<W.transceivers.length&&(W.transceivers[pe].rejected||(W.transceivers[pe].iceTransport.addRemoteCandidate({}),(me=l.getMediaSections(W._remoteDescription.sdp))[pe]+="a=end-of-candidates\r\n",W._remoteDescription.sdp=l.getDescription(W._remoteDescription.sdp)+me.join(""),!W.usingBundle));pe++);Q()})},ee.prototype.getStats=function(L){if(L&&L instanceof j.MediaStreamTrack){var W=null;if(this.transceivers.forEach(function(Q){Q.rtpSender&&Q.rtpSender.track===L?W=Q.rtpSender:Q.rtpReceiver&&Q.rtpReceiver.track===L&&(W=Q.rtpReceiver)}),!W)throw B("InvalidAccessError","Invalid selector.");return W.getStats()}var me=[];return this.transceivers.forEach(function(Q){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(he){Q[he]&&me.push(Q[he].getStats())})}),Promise.all(me).then(function(Q){var he=new Map;return Q.forEach(function(pe){pe.forEach(function(G){he.set(G.id,G)})}),he})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(L){var W=j[L];if(W&&W.prototype&&W.prototype.getStats){var me=W.prototype.getStats;W.prototype.getStats=function(){return me.apply(this).then(function(Q){var he=new Map;return Object.keys(Q).forEach(function(pe){Q[pe].type=function N(j){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[j.type]||j.type}(Q[pe]),he.set(pe,Q[pe])}),he})}}});var Ne=["createOffer","createAnswer"];return Ne.forEach(function(L){var W=ee.prototype[L];ee.prototype[L]=function(){var me=arguments;return"function"==typeof me[0]||"function"==typeof me[1]?W.apply(this,[arguments[2]]).then(function(Q){"function"==typeof me[0]&&me[0].apply(null,[Q])},function(Q){"function"==typeof me[1]&&me[1].apply(null,[Q])}):W.apply(this,arguments)}}),(Ne=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(L){var W=ee.prototype[L];ee.prototype[L]=function(){var me=arguments;return"function"==typeof me[1]||"function"==typeof me[2]?W.apply(this,arguments).then(function(){"function"==typeof me[1]&&me[1].apply(null)},function(Q){"function"==typeof me[2]&&me[2].apply(null,[Q])}):W.apply(this,arguments)}}),["getStats"].forEach(function(L){var W=ee.prototype[L];ee.prototype[L]=function(){var me=arguments;return"function"==typeof me[1]?W.apply(this,arguments).then(function(){"function"==typeof me[1]&&me[1].apply(null)}):W.apply(this,arguments)}}),ee}},9751:(et,X,M)=>{"use strict";M.d(X,{y:()=>B});var l=M(2961),N=M(727),J=M(8822),ne=M(9635),q=M(2416),we=M(576),I=M(2806);let B=(()=>{class De{constructor(ee){ee&&(this._subscribe=ee)}lift(ee){const Le=new De;return Le.source=this,Le.operator=ee,Le}subscribe(ee,Le,Ne){const L=function ae(De){return De&&De instanceof l.Lv||function K(De){return De&&(0,we.m)(De.next)&&(0,we.m)(De.error)&&(0,we.m)(De.complete)}(De)&&(0,N.Nn)(De)}(ee)?ee:new l.Hp(ee,Le,Ne);return(0,I.x)(()=>{const{operator:W,source:me}=this;L.add(W?W.call(L,me):me?this._subscribe(L):this._trySubscribe(L))}),L}_trySubscribe(ee){try{return this._subscribe(ee)}catch(Le){ee.error(Le)}}forEach(ee,Le){return new(Le=j(Le))((Ne,L)=>{const W=new l.Hp({next:me=>{try{ee(me)}catch(Q){L(Q),W.unsubscribe()}},error:L,complete:Ne});this.subscribe(W)})}_subscribe(ee){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(ee)}[J.L](){return this}pipe(...ee){return(0,ne.U)(ee)(this)}toPromise(ee){return new(ee=j(ee))((Le,Ne)=>{let L;this.subscribe(W=>L=W,W=>Ne(W),()=>Le(L))})}}return De.create=Ve=>new De(Ve),De})();function j(De){var Ve;return null!==(Ve=De??q.config.Promise)&&void 0!==Ve?Ve:Promise}},7579:(et,X,M)=>{"use strict";M.d(X,{x:()=>I});var l=M(9751),N=M(727);const ne=(0,M(3888).d)(j=>function(){j(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=M(8737),we=M(2806);let I=(()=>{class j extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const De=new B(this,this);return De.operator=ae,De}_throwIfClosed(){if(this.closed)throw new ne}next(ae){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(ae)}})}error(ae){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:De}=this;for(;De.length;)De.shift().error(ae)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:De,isStopped:Ve,observers:ee}=this;return De||Ve?N.Lc:(this.currentObservers=null,ee.push(ae),new N.w0(()=>{this.currentObservers=null,(0,q.P)(ee,ae)}))}_checkFinalizedStatuses(ae){const{hasError:De,thrownError:Ve,isStopped:ee}=this;De?ae.error(Ve):ee&&ae.complete()}asObservable(){const ae=new l.y;return ae.source=this,ae}}return j.create=(K,ae)=>new B(K,ae),j})();class B extends I{constructor(K,ae){super(),this.destination=K,this.source=ae}next(K){var ae,De;null===(De=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===De||De.call(ae,K)}error(K){var ae,De;null===(De=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===De||De.call(ae,K)}complete(){var K,ae;null===(ae=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ae||ae.call(K)}_subscribe(K){var ae,De;return null!==(De=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(K))&&void 0!==De?De:N.Lc}}},2961:(et,X,M)=>{"use strict";M.d(X,{Hp:()=>Ne,Lv:()=>De});var l=M(576),N=M(727),J=M(2416),ne=M(7849);function q(){}const we=j("C",void 0,void 0);function j(he,pe,G){return{kind:he,value:pe,error:G}}var K=M(3410),ae=M(2806);class De extends N.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,N.Nn)(pe)&&pe.add(this)):this.destination=Q}static create(pe,G,fe){return new Ne(pe,G,fe)}next(pe){this.isStopped?me(function B(he){return j("N",he,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?me(function I(he){return j("E",void 0,he)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?me(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function ee(he,pe){return Ve.call(he,pe)}class Le{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:G}=this;if(G.next)try{G.next(pe)}catch(fe){L(fe)}}error(pe){const{partialObserver:G}=this;if(G.error)try{G.error(pe)}catch(fe){L(fe)}else L(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(G){L(G)}}}class Ne extends De{constructor(pe,G,fe){let Y;if(super(),(0,l.m)(pe)||!pe)Y={next:pe??void 0,error:G??void 0,complete:fe??void 0};else{let Z;this&&J.config.useDeprecatedNextContext?(Z=Object.create(pe),Z.unsubscribe=()=>this.unsubscribe(),Y={next:pe.next&&ee(pe.next,Z),error:pe.error&&ee(pe.error,Z),complete:pe.complete&&ee(pe.complete,Z)}):Y=pe}this.destination=new Le(Y)}}function L(he){J.config.useDeprecatedSynchronousErrorHandling?(0,ae.O)(he):(0,ne.h)(he)}function me(he,pe){const{onStoppedNotification:G}=J.config;G&&K.z.setTimeout(()=>G(he,pe))}const Q={closed:!0,next:q,error:function W(he){throw he},complete:q}},727:(et,X,M)=>{"use strict";M.d(X,{Lc:()=>we,w0:()=>q,Nn:()=>I});var l=M(576);const J=(0,M(3888).d)(j=>function(ae){j(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((De,Ve)=>`${Ve+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var ne=M(8737);class q{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const ee of ae)ee.remove(this);else ae.remove(this);const{initialTeardown:De}=this;if((0,l.m)(De))try{De()}catch(ee){K=ee instanceof J?ee.errors:[ee]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const ee of Ve)try{B(ee)}catch(Le){K=K??[],Le instanceof J?K=[...K,...Le.errors]:K.push(Le)}}if(K)throw new J(K)}}add(K){var ae;if(K&&K!==this)if(this.closed)B(K);else{if(K instanceof q){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(K)}}_hasParent(K){const{_parentage:ae}=this;return ae===K||Array.isArray(ae)&&ae.includes(K)}_addParent(K){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(K),ae):ae?[ae,K]:K}_removeParent(K){const{_parentage:ae}=this;ae===K?this._parentage=null:Array.isArray(ae)&&(0,ne.P)(ae,K)}remove(K){const{_finalizers:ae}=this;ae&&(0,ne.P)(ae,K),K instanceof q&&K._removeParent(this)}}q.EMPTY=(()=>{const j=new q;return j.closed=!0,j})();const we=q.EMPTY;function I(j){return j instanceof q||j&&"closed"in j&&(0,l.m)(j.remove)&&(0,l.m)(j.add)&&(0,l.m)(j.unsubscribe)}function B(j){(0,l.m)(j)?j():j.unsubscribe()}},2416:(et,X,M)=>{"use strict";M.d(X,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,X,M)=>{"use strict";M.d(X,{E:()=>N});const N=new(M(9751).y)(q=>q.complete())},2076:(et,X,M)=>{"use strict";M.d(X,{D:()=>fe});var l=M(8421),N=M(9672),J=M(4482),ne=M(5403);function q(Y,Z=0){return(0,J.e)((re,F)=>{re.subscribe((0,ne.x)(F,Se=>(0,N.f)(F,Y,()=>F.next(Se),Z),()=>(0,N.f)(F,Y,()=>F.complete(),Z),Se=>(0,N.f)(F,Y,()=>F.error(Se),Z)))})}function we(Y,Z=0){return(0,J.e)((re,F)=>{F.add(Y.schedule(()=>re.subscribe(F),Z))})}var j=M(9751),ae=M(2202),De=M(576);function ee(Y,Z){if(!Y)throw new Error("Iterable cannot be null");return new j.y(re=>{(0,N.f)(re,Z,()=>{const F=Y[Symbol.asyncIterator]();(0,N.f)(re,Z,()=>{F.next().then(Se=>{Se.done?re.complete():re.next(Se.value)})},0,!0)})})}var Le=M(3670),Ne=M(8239),L=M(1144),W=M(6495),me=M(2206),Q=M(4532),he=M(3260);function fe(Y,Z){return Z?function G(Y,Z){if(null!=Y){if((0,Le.c)(Y))return function I(Y,Z){return(0,l.Xf)(Y).pipe(we(Z),q(Z))}(Y,Z);if((0,L.z)(Y))return function K(Y,Z){return new j.y(re=>{let F=0;return Z.schedule(function(){F===Y.length?re.complete():(re.next(Y[F++]),re.closed||this.schedule())})})}(Y,Z);if((0,Ne.t)(Y))return function B(Y,Z){return(0,l.Xf)(Y).pipe(we(Z),q(Z))}(Y,Z);if((0,me.D)(Y))return ee(Y,Z);if((0,W.T)(Y))return function Ve(Y,Z){return new j.y(re=>{let F;return(0,N.f)(re,Z,()=>{F=Y[ae.h](),(0,N.f)(re,Z,()=>{let Se,Be;try{({value:Se,done:Be}=F.next())}catch(Me){return void re.error(Me)}Be?re.complete():re.next(Se)},0,!0)}),()=>(0,De.m)(F?.return)&&F.return()})}(Y,Z);if((0,he.L)(Y))return function pe(Y,Z){return ee((0,he.Q)(Y),Z)}(Y,Z)}throw(0,Q.z)(Y)}(Y,Z):(0,l.Xf)(Y)}},8421:(et,X,M)=>{"use strict";M.d(X,{Xf:()=>Ve});var l=M(655),N=M(1144),J=M(8239),ne=M(9751),q=M(3670),we=M(2206),I=M(4532),B=M(6495),j=M(3260),K=M(576),ae=M(7849),De=M(8822);function Ve(he){if(he instanceof ne.y)return he;if(null!=he){if((0,q.c)(he))return function ee(he){return new ne.y(pe=>{const G=he[De.L]();if((0,K.m)(G.subscribe))return G.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(he);if((0,N.z)(he))return function Le(he){return new ne.y(pe=>{for(let G=0;G<he.length&&!pe.closed;G++)pe.next(he[G]);pe.complete()})}(he);if((0,J.t)(he))return function Ne(he){return new ne.y(pe=>{he.then(G=>{pe.closed||(pe.next(G),pe.complete())},G=>pe.error(G)).then(null,ae.h)})}(he);if((0,we.D)(he))return W(he);if((0,B.T)(he))return function L(he){return new ne.y(pe=>{for(const G of he)if(pe.next(G),pe.closed)return;pe.complete()})}(he);if((0,j.L)(he))return function me(he){return W((0,j.Q)(he))}(he)}throw(0,I.z)(he)}function W(he){return new ne.y(pe=>{(function Q(he,pe){var G,fe,Y,Z;return(0,l.mG)(this,void 0,void 0,function*(){try{for(G=(0,l.KL)(he);!(fe=yield G.next()).done;)if(pe.next(fe.value),pe.closed)return}catch(re){Y={error:re}}finally{try{fe&&!fe.done&&(Z=G.return)&&(yield Z.call(G))}finally{if(Y)throw Y.error}}pe.complete()})})(he,pe).catch(G=>pe.error(G))})}},5403:(et,X,M)=>{"use strict";M.d(X,{x:()=>N});var l=M(2961);function N(ne,q,we,I,B){return new J(ne,q,we,I,B)}class J extends l.Lv{constructor(q,we,I,B,j,K){super(q),this.onFinalize=j,this.shouldUnsubscribe=K,this._next=we?function(ae){try{we(ae)}catch(De){q.error(De)}}:super._next,this._error=B?function(ae){try{B(ae)}catch(De){q.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=I?function(){try{I()}catch(ae){q.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},4004:(et,X,M)=>{"use strict";M.d(X,{U:()=>J});var l=M(4482),N=M(5403);function J(ne,q){return(0,l.e)((we,I)=>{let B=0;we.subscribe((0,N.x)(I,j=>{I.next(ne.call(q,j,B++))}))})}},8189:(et,X,M)=>{"use strict";M.d(X,{J:()=>J});var l=M(5577),N=M(4671);function J(ne=1/0){return(0,l.z)(N.y,ne)}},5577:(et,X,M)=>{"use strict";M.d(X,{z:()=>B});var l=M(4004),N=M(8421),J=M(4482),ne=M(9672),q=M(5403),I=M(576);function B(j,K,ae=1/0){return(0,I.m)(K)?B((De,Ve)=>(0,l.U)((ee,Le)=>K(De,ee,Ve,Le))((0,N.Xf)(j(De,Ve))),ae):("number"==typeof K&&(ae=K),(0,J.e)((De,Ve)=>function we(j,K,ae,De,Ve,ee,Le,Ne){const L=[];let W=0,me=0,Q=!1;const he=()=>{Q&&!L.length&&!W&&K.complete()},pe=fe=>W<De?G(fe):L.push(fe),G=fe=>{ee&&K.next(fe),W++;let Y=!1;(0,N.Xf)(ae(fe,me++)).subscribe((0,q.x)(K,Z=>{Ve?.(Z),ee?pe(Z):K.next(Z)},()=>{Y=!0},void 0,()=>{if(Y)try{for(W--;L.length&&W<De;){const Z=L.shift();Le?(0,ne.f)(K,Le,()=>G(Z)):G(Z)}he()}catch(Z){K.error(Z)}}))};return j.subscribe((0,q.x)(K,pe,()=>{Q=!0,he()})),()=>{Ne?.()}}(De,Ve,j,ae)))}},3410:(et,X,M)=>{"use strict";M.d(X,{z:()=>l});const l={setTimeout(N,J,...ne){const{delegate:q}=l;return q?.setTimeout?q.setTimeout(N,J,...ne):setTimeout(N,J,...ne)},clearTimeout(N){const{delegate:J}=l;return(J?.clearTimeout||clearTimeout)(N)},delegate:void 0}},2202:(et,X,M)=>{"use strict";M.d(X,{h:()=>N});const N=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,X,M)=>{"use strict";M.d(X,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(et,X,M)=>{"use strict";M.d(X,{_6:()=>we,jO:()=>ne,yG:()=>q});var l=M(576);function J(I){return I[I.length-1]}function ne(I){return(0,l.m)(J(I))?I.pop():void 0}function q(I){return function N(I){return I&&(0,l.m)(I.schedule)}(J(I))?I.pop():void 0}function we(I,B){return"number"==typeof J(I)?I.pop():B}},4742:(et,X,M)=>{"use strict";M.d(X,{D:()=>q});const{isArray:l}=Array,{getPrototypeOf:N,prototype:J,keys:ne}=Object;function q(I){if(1===I.length){const B=I[0];if(l(B))return{args:B,keys:null};if(function we(I){return I&&"object"==typeof I&&N(I)===J}(B)){const j=ne(B);return{args:j.map(K=>B[K]),keys:j}}}return{args:I,keys:null}}},8737:(et,X,M)=>{"use strict";function l(N,J){if(N){const ne=N.indexOf(J);0<=ne&&N.splice(ne,1)}}M.d(X,{P:()=>l})},3888:(et,X,M)=>{"use strict";function l(N){const ne=N(q=>{Error.call(q),q.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}M.d(X,{d:()=>l})},1810:(et,X,M)=>{"use strict";function l(N,J){return N.reduce((ne,q,we)=>(ne[q]=J[we],ne),{})}M.d(X,{n:()=>l})},2806:(et,X,M)=>{"use strict";M.d(X,{O:()=>ne,x:()=>J});var l=M(2416);let N=null;function J(q){if(l.config.useDeprecatedSynchronousErrorHandling){const we=!N;if(we&&(N={errorThrown:!1,error:null}),q(),we){const{errorThrown:I,error:B}=N;if(N=null,I)throw B}}else q()}function ne(q){l.config.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=q)}},9672:(et,X,M)=>{"use strict";function l(N,J,ne,q=0,we=!1){const I=J.schedule(function(){ne(),we?N.add(this.schedule(null,q)):this.unsubscribe()},q);if(N.add(I),!we)return I}M.d(X,{f:()=>l})},4671:(et,X,M)=>{"use strict";function l(N){return N}M.d(X,{y:()=>l})},1144:(et,X,M)=>{"use strict";M.d(X,{z:()=>l});const l=N=>N&&"number"==typeof N.length&&"function"!=typeof N},2206:(et,X,M)=>{"use strict";M.d(X,{D:()=>N});var l=M(576);function N(J){return Symbol.asyncIterator&&(0,l.m)(J?.[Symbol.asyncIterator])}},576:(et,X,M)=>{"use strict";function l(N){return"function"==typeof N}M.d(X,{m:()=>l})},3670:(et,X,M)=>{"use strict";M.d(X,{c:()=>J});var l=M(8822),N=M(576);function J(ne){return(0,N.m)(ne[l.L])}},6495:(et,X,M)=>{"use strict";M.d(X,{T:()=>J});var l=M(2202),N=M(576);function J(ne){return(0,N.m)(ne?.[l.h])}},8239:(et,X,M)=>{"use strict";M.d(X,{t:()=>N});var l=M(576);function N(J){return(0,l.m)(J?.then)}},3260:(et,X,M)=>{"use strict";M.d(X,{L:()=>ne,Q:()=>J});var l=M(655),N=M(576);function J(q){return(0,l.FC)(this,arguments,function*(){const I=q.getReader();try{for(;;){const{value:B,done:j}=yield(0,l.qq)(I.read());if(j)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(B)}}finally{I.releaseLock()}})}function ne(q){return(0,N.m)(q?.getReader)}},4482:(et,X,M)=>{"use strict";M.d(X,{A:()=>N,e:()=>J});var l=M(576);function N(ne){return(0,l.m)(ne?.lift)}function J(ne){return q=>{if(N(q))return q.lift(function(we){try{return ne(we,this)}catch(I){this.error(I)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(et,X,M)=>{"use strict";M.d(X,{Z:()=>ne});var l=M(4004);const{isArray:N}=Array;function ne(q){return(0,l.U)(we=>function J(q,we){return N(we)?q(...we):q(we)}(q,we))}},9635:(et,X,M)=>{"use strict";M.d(X,{U:()=>J,z:()=>N});var l=M(4671);function N(...ne){return J(ne)}function J(ne){return 0===ne.length?l.y:1===ne.length?ne[0]:function(we){return ne.reduce((I,B)=>B(I),we)}}},7849:(et,X,M)=>{"use strict";M.d(X,{h:()=>J});var l=M(2416),N=M(3410);function J(ne){N.z.setTimeout(()=>{const{onUnhandledError:q}=l.config;if(!q)throw ne;q(ne)})}},4532:(et,X,M)=>{"use strict";function l(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(X,{z:()=>l})},7463:et=>{"use strict";var X={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};X.localCName=X.generateIdentifier(),X.splitLines=function(M){return M.trim().split("\n").map(function(l){return l.trim()})},X.splitSections=function(M){return M.split("\nm=").map(function(N,J){return(J>0?"m="+N:N).trim()+"\r\n"})},X.getDescription=function(M){var l=X.splitSections(M);return l&&l[0]},X.getMediaSections=function(M){var l=X.splitSections(M);return l.shift(),l},X.matchPrefix=function(M,l){return X.splitLines(M).filter(function(N){return 0===N.indexOf(l)})},X.parseCandidate=function(M){for(var l,N={foundation:(l=0===M.indexOf("a=candidate:")?M.substring(12).split(" "):M.substring(10).split(" "))[0],component:parseInt(l[1],10),protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]},J=8;J<l.length;J+=2)switch(l[J]){case"raddr":N.relatedAddress=l[J+1];break;case"rport":N.relatedPort=parseInt(l[J+1],10);break;case"tcptype":N.tcpType=l[J+1];break;case"ufrag":N.ufrag=l[J+1],N.usernameFragment=l[J+1];break;default:N[l[J]]=l[J+1]}return N},X.writeCandidate=function(M){var l=[];l.push(M.foundation),l.push(M.component),l.push(M.protocol.toUpperCase()),l.push(M.priority),l.push(M.address||M.ip),l.push(M.port);var N=M.type;return l.push("typ"),l.push(N),"host"!==N&&M.relatedAddress&&M.relatedPort&&(l.push("raddr"),l.push(M.relatedAddress),l.push("rport"),l.push(M.relatedPort)),M.tcpType&&"tcp"===M.protocol.toLowerCase()&&(l.push("tcptype"),l.push(M.tcpType)),(M.usernameFragment||M.ufrag)&&(l.push("ufrag"),l.push(M.usernameFragment||M.ufrag)),"candidate:"+l.join(" ")},X.parseIceOptions=function(M){return M.substr(14).split(" ")},X.parseRtpMap=function(M){var l=M.substr(9).split(" "),N={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),N.name=l[0],N.clockRate=parseInt(l[1],10),N.channels=3===l.length?parseInt(l[2],10):1,N.numChannels=N.channels,N},X.writeRtpMap=function(M){var l=M.payloadType;void 0!==M.preferredPayloadType&&(l=M.preferredPayloadType);var N=M.channels||M.numChannels||1;return"a=rtpmap:"+l+" "+M.name+"/"+M.clockRate+(1!==N?"/"+N:"")+"\r\n"},X.parseExtmap=function(M){var l=M.substr(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1]}},X.writeExtmap=function(M){return"a=extmap:"+(M.id||M.preferredId)+(M.direction&&"sendrecv"!==M.direction?"/"+M.direction:"")+" "+M.uri+"\r\n"},X.parseFmtp=function(M){for(var N,l={},J=M.substr(M.indexOf(" ")+1).split(";"),ne=0;ne<J.length;ne++)l[(N=J[ne].trim().split("="))[0].trim()]=N[1];return l},X.writeFmtp=function(M){var l="",N=M.payloadType;if(void 0!==M.preferredPayloadType&&(N=M.preferredPayloadType),M.parameters&&Object.keys(M.parameters).length){var J=[];Object.keys(M.parameters).forEach(function(ne){J.push(M.parameters[ne]?ne+"="+M.parameters[ne]:ne)}),l+="a=fmtp:"+N+" "+J.join(";")+"\r\n"}return l},X.parseRtcpFb=function(M){var l=M.substr(M.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},X.writeRtcpFb=function(M){var l="",N=M.payloadType;return void 0!==M.preferredPayloadType&&(N=M.preferredPayloadType),M.rtcpFeedback&&M.rtcpFeedback.length&&M.rtcpFeedback.forEach(function(J){l+="a=rtcp-fb:"+N+" "+J.type+(J.parameter&&J.parameter.length?" "+J.parameter:"")+"\r\n"}),l},X.parseSsrcMedia=function(M){var l=M.indexOf(" "),N={ssrc:parseInt(M.substr(7,l-7),10)},J=M.indexOf(":",l);return J>-1?(N.attribute=M.substr(l+1,J-l-1),N.value=M.substr(J+1)):N.attribute=M.substr(l+1),N},X.parseSsrcGroup=function(M){var l=M.substr(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(function(N){return parseInt(N,10)})}},X.getMid=function(M){var l=X.matchPrefix(M,"a=mid:")[0];if(l)return l.substr(6)},X.parseFingerprint=function(M){var l=M.substr(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1]}},X.getDtlsParameters=function(M,l){return{role:"auto",fingerprints:X.matchPrefix(M+l,"a=fingerprint:").map(X.parseFingerprint)}},X.writeDtlsParameters=function(M,l){var N="a=setup:"+l+"\r\n";return M.fingerprints.forEach(function(J){N+="a=fingerprint:"+J.algorithm+" "+J.value+"\r\n"}),N},X.parseCryptoLine=function(M){var l=M.substr(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},X.writeCryptoLine=function(M){return"a=crypto:"+M.tag+" "+M.cryptoSuite+" "+("object"==typeof M.keyParams?X.writeCryptoKeyParams(M.keyParams):M.keyParams)+(M.sessionParams?" "+M.sessionParams.join(" "):"")+"\r\n"},X.parseCryptoKeyParams=function(M){if(0!==M.indexOf("inline:"))return null;var l=M.substr(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},X.writeCryptoKeyParams=function(M){return M.keyMethod+":"+M.keySalt+(M.lifeTime?"|"+M.lifeTime:"")+(M.mkiValue&&M.mkiLength?"|"+M.mkiValue+":"+M.mkiLength:"")},X.getCryptoParameters=function(M,l){return X.matchPrefix(M+l,"a=crypto:").map(X.parseCryptoLine)},X.getIceParameters=function(M,l){var N=X.matchPrefix(M+l,"a=ice-ufrag:")[0],J=X.matchPrefix(M+l,"a=ice-pwd:")[0];return N&&J?{usernameFragment:N.substr(12),password:J.substr(10)}:null},X.writeIceParameters=function(M){return"a=ice-ufrag:"+M.usernameFragment+"\r\na=ice-pwd:"+M.password+"\r\n"},X.parseRtpParameters=function(M){for(var l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},J=X.splitLines(M)[0].split(" "),ne=3;ne<J.length;ne++){var q=J[ne],we=X.matchPrefix(M,"a=rtpmap:"+q+" ")[0];if(we){var I=X.parseRtpMap(we),B=X.matchPrefix(M,"a=fmtp:"+q+" ");switch(I.parameters=B.length?X.parseFmtp(B[0]):{},I.rtcpFeedback=X.matchPrefix(M,"a=rtcp-fb:"+q+" ").map(X.parseRtcpFb),l.codecs.push(I),I.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(I.name.toUpperCase())}}}return X.matchPrefix(M,"a=extmap:").forEach(function(j){l.headerExtensions.push(X.parseExtmap(j))}),l},X.writeRtpDescription=function(M,l){var N="";N+="m="+M+" ",N+=l.codecs.length>0?"9":"0",N+=" UDP/TLS/RTP/SAVPF ",N+=l.codecs.map(function(ne){return void 0!==ne.preferredPayloadType?ne.preferredPayloadType:ne.payloadType}).join(" ")+"\r\n",N+="c=IN IP4 0.0.0.0\r\n",N+="a=rtcp:9 IN IP4 0.0.0.0\r\n",l.codecs.forEach(function(ne){N+=X.writeRtpMap(ne),N+=X.writeFmtp(ne),N+=X.writeRtcpFb(ne)});var J=0;return l.codecs.forEach(function(ne){ne.maxptime>J&&(J=ne.maxptime)}),J>0&&(N+="a=maxptime:"+J+"\r\n"),N+="a=rtcp-mux\r\n",l.headerExtensions&&l.headerExtensions.forEach(function(ne){N+=X.writeExtmap(ne)}),N},X.parseRtpEncodingParameters=function(M){var I,l=[],N=X.parseRtpParameters(M),J=-1!==N.fecMechanisms.indexOf("RED"),ne=-1!==N.fecMechanisms.indexOf("ULPFEC"),q=X.matchPrefix(M,"a=ssrc:").map(function(K){return X.parseSsrcMedia(K)}).filter(function(K){return"cname"===K.attribute}),we=q.length>0&&q[0].ssrc,B=X.matchPrefix(M,"a=ssrc-group:FID").map(function(K){return K.substr(17).split(" ").map(function(De){return parseInt(De,10)})});B.length>0&&B[0].length>1&&B[0][0]===we&&(I=B[0][1]),N.codecs.forEach(function(K){if("RTX"===K.name.toUpperCase()&&K.parameters.apt){var ae={ssrc:we,codecPayloadType:parseInt(K.parameters.apt,10)};we&&I&&(ae.rtx={ssrc:I}),l.push(ae),J&&((ae=JSON.parse(JSON.stringify(ae))).fec={ssrc:we,mechanism:ne?"red+ulpfec":"red"},l.push(ae))}}),0===l.length&&we&&l.push({ssrc:we});var j=X.matchPrefix(M,"b=");return j.length&&(j=0===j[0].indexOf("b=TIAS:")?parseInt(j[0].substr(7),10):0===j[0].indexOf("b=AS:")?1e3*parseInt(j[0].substr(5),10)*.95-16e3:void 0,l.forEach(function(K){K.maxBitrate=j})),l},X.parseRtcpParameters=function(M){var l={},N=X.matchPrefix(M,"a=ssrc:").map(function(q){return X.parseSsrcMedia(q)}).filter(function(q){return"cname"===q.attribute})[0];N&&(l.cname=N.value,l.ssrc=N.ssrc);var J=X.matchPrefix(M,"a=rtcp-rsize");l.reducedSize=J.length>0,l.compound=0===J.length;var ne=X.matchPrefix(M,"a=rtcp-mux");return l.mux=ne.length>0,l},X.parseMsid=function(M){var l,N=X.matchPrefix(M,"a=msid:");if(1===N.length)return{stream:(l=N[0].substr(7).split(" "))[0],track:l[1]};var J=X.matchPrefix(M,"a=ssrc:").map(function(ne){return X.parseSsrcMedia(ne)}).filter(function(ne){return"msid"===ne.attribute});return J.length>0?{stream:(l=J[0].value.split(" "))[0],track:l[1]}:void 0},X.parseSctpDescription=function(M){var J,l=X.parseMLine(M),N=X.matchPrefix(M,"a=max-message-size:");N.length>0&&(J=parseInt(N[0].substr(19),10)),isNaN(J)&&(J=65536);var ne=X.matchPrefix(M,"a=sctp-port:");if(ne.length>0)return{port:parseInt(ne[0].substr(12),10),protocol:l.fmt,maxMessageSize:J};if(X.matchPrefix(M,"a=sctpmap:").length>0){var we=X.matchPrefix(M,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(we[0],10),protocol:we[1],maxMessageSize:J}}},X.writeSctpDescription=function(M,l){var N=[];return N="DTLS/SCTP"!==M.protocol?["m="+M.kind+" 9 "+M.protocol+" "+l.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+l.port+"\r\n"]:["m="+M.kind+" 9 "+M.protocol+" "+l.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+l.port+" "+l.protocol+" 65535\r\n"],void 0!==l.maxMessageSize&&N.push("a=max-message-size:"+l.maxMessageSize+"\r\n"),N.join("")},X.generateSessionId=function(){return Math.random().toString().substr(2,21)},X.writeSessionBoilerplate=function(M,l,N){var ne=void 0!==l?l:2;return"v=0\r\no="+(N||"thisisadapterortc")+" "+(M||X.generateSessionId())+" "+ne+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},X.writeMediaSection=function(M,l,N,J){var ne=X.writeRtpDescription(M.kind,l);if(ne+=X.writeIceParameters(M.iceGatherer.getLocalParameters()),ne+=X.writeDtlsParameters(M.dtlsTransport.getLocalParameters(),"offer"===N?"actpass":"active"),ne+="a=mid:"+M.mid+"\r\n",ne+=M.direction?"a="+M.direction+"\r\n":M.rtpSender&&M.rtpReceiver?"a=sendrecv\r\n":M.rtpSender?"a=sendonly\r\n":M.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",M.rtpSender){var q="msid:"+J.id+" "+M.rtpSender.track.id+"\r\n";ne+="a="+q,ne+="a=ssrc:"+M.sendEncodingParameters[0].ssrc+" "+q,M.sendEncodingParameters[0].rtx&&(ne+="a=ssrc:"+M.sendEncodingParameters[0].rtx.ssrc+" "+q,ne+="a=ssrc-group:FID "+M.sendEncodingParameters[0].ssrc+" "+M.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return ne+="a=ssrc:"+M.sendEncodingParameters[0].ssrc+" cname:"+X.localCName+"\r\n",M.rtpSender&&M.sendEncodingParameters[0].rtx&&(ne+="a=ssrc:"+M.sendEncodingParameters[0].rtx.ssrc+" cname:"+X.localCName+"\r\n"),ne},X.getDirection=function(M,l){for(var N=X.splitLines(M),J=0;J<N.length;J++)switch(N[J]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return N[J].substr(2)}return l?X.getDirection(l):"sendrecv"},X.getKind=function(M){return X.splitLines(M)[0].split(" ")[0].substr(2)},X.isRejected=function(M){return"0"===M.split(" ",2)[1]},X.parseMLine=function(M){var N=X.splitLines(M)[0].substr(2).split(" ");return{kind:N[0],port:parseInt(N[1],10),protocol:N[2],fmt:N.slice(3).join(" ")}},X.parseOLine=function(M){var N=X.matchPrefix(M,"o=")[0].substr(2).split(" ");return{username:N[0],sessionId:N[1],sessionVersion:parseInt(N[2],10),netType:N[3],addressType:N[4],address:N[5]}},X.isValidSDP=function(M){if("string"!=typeof M||0===M.length)return!1;for(var l=X.splitLines(M),N=0;N<l.length;N++)if(l[N].length<2||"="!==l[N].charAt(1))return!1;return!0},et.exports=X},655:(et,X,M)=>{"use strict";function De(de,ye,ge,Re){return new(ge||(ge=Promise))(function(Oe,Ue){function rt(ht){try{tt(Re.next(ht))}catch(Rt){Ue(Rt)}}function qt(ht){try{tt(Re.throw(ht))}catch(Rt){Ue(Rt)}}function tt(ht){ht.done?Oe(ht.value):function ke(Oe){return Oe instanceof ge?Oe:new ge(function(Ue){Ue(Oe)})}(ht.value).then(rt,qt)}tt((Re=Re.apply(de,ye||[])).next())})}function he(de){return this instanceof he?(this.v=de,this):new he(de)}function pe(de,ye,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Re=ge.apply(de,ye||[]),Oe=[];return ke={},Ue("next"),Ue("throw"),Ue("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function Ue(pt){Re[pt]&&(ke[pt]=function(mt){return new Promise(function(at,mn){Oe.push([pt,mt,at,mn])>1||rt(pt,mt)})})}function rt(pt,mt){try{!function qt(pt){pt.value instanceof he?Promise.resolve(pt.value.v).then(tt,ht):Rt(Oe[0][2],pt)}(Re[pt](mt))}catch(at){Rt(Oe[0][3],at)}}function tt(pt){rt("next",pt)}function ht(pt){rt("throw",pt)}function Rt(pt,mt){pt(mt),Oe.shift(),Oe.length&&rt(Oe[0][0],Oe[0][1])}}function fe(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ye=de[Symbol.asyncIterator];return ye?ye.call(de):(de=function Ne(de){var ye="function"==typeof Symbol&&Symbol.iterator,ge=ye&&de[ye],Re=0;if(ge)return ge.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&Re>=de.length&&(de=void 0),{value:de&&de[Re++],done:!de}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),ge={},Re("next"),Re("throw"),Re("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Re(Oe){ge[Oe]=de[Oe]&&function(Ue){return new Promise(function(rt,qt){!function ke(Oe,Ue,rt,qt){Promise.resolve(qt).then(function(tt){Oe({value:tt,done:rt})},Ue)}(rt,qt,(Ue=de[Oe](Ue)).done,Ue.value)})}}}M.d(X,{FC:()=>pe,KL:()=>fe,mG:()=>De,qq:()=>he})},4755:(et,X,M)=>{"use strict";M.d(X,{Do:()=>Ne,EM:()=>Ir,HT:()=>ne,JF:()=>gn,K0:()=>we,Mx:()=>Vn,O5:()=>Or,PM:()=>dr,S$:()=>Ve,V_:()=>B,Ye:()=>L,b0:()=>Le,bD:()=>Ut,ez:()=>zn,q:()=>J,sg:()=>On,w_:()=>q});var l=M(3020);let N=null;function J(){return N}function ne(_){N||(N=_)}class q{}const we=new l.OlP("DocumentToken");let I=(()=>{class _{historyGo(C){throw new Error("Not implemented")}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return(0,l.f3M)(j)},providedIn:"platform"}),_})();const B=new l.OlP("Location Initialized");let j=(()=>{class _ extends I{constructor(){super(),this._doc=(0,l.f3M)(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(C){const P=J().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",C,!1),()=>P.removeEventListener("popstate",C)}onHashChange(C){const P=J().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",C,!1),()=>P.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,P,z){this._history.pushState(C,P,z)}replaceState(C,P,z){this._history.replaceState(C,P,z)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return new _},providedIn:"platform"}),_})();function K(_,T){if(0==_.length)return T;if(0==T.length)return _;let C=0;return _.endsWith("/")&&C++,T.startsWith("/")&&C++,2==C?_+T.substring(1):1==C?_+T:_+"/"+T}function ae(_){const T=_.match(/#|\?|$/),C=T&&T.index||_.length;return _.slice(0,C-("/"===_[C-1]?1:0))+_.slice(C)}function De(_){return _&&"?"!==_[0]?"?"+_:_}let Ve=(()=>{class _{historyGo(C){throw new Error("Not implemented")}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return(0,l.f3M)(Le)},providedIn:"root"}),_})();const ee=new l.OlP("appBaseHref");let Le=(()=>{class _ extends Ve{constructor(C,P){super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return K(this._baseHref,C)}path(C=!1){const P=this._platformLocation.pathname+De(this._platformLocation.search),z=this._platformLocation.hash;return z&&C?`${P}${z}`:P}pushState(C,P,z,ve){const Ee=this.prepareExternalUrl(z+De(ve));this._platformLocation.pushState(C,P,Ee)}replaceState(C,P,z,ve){const Ee=this.prepareExternalUrl(z+De(ve));this._platformLocation.replaceState(C,P,Ee)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return _.\u0275fac=function(C){return new(C||_)(l.LFG(I),l.LFG(ee,8))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Ne=(()=>{class _ extends Ve{constructor(C,P){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(C){const P=K(this._baseHref,C);return P.length>0?"#"+P:P}pushState(C,P,z,ve){let Ee=this.prepareExternalUrl(z+De(ve));0==Ee.length&&(Ee=this._platformLocation.pathname),this._platformLocation.pushState(C,P,Ee)}replaceState(C,P,z,ve){let Ee=this.prepareExternalUrl(z+De(ve));0==Ee.length&&(Ee=this._platformLocation.pathname),this._platformLocation.replaceState(C,P,Ee)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return _.\u0275fac=function(C){return new(C||_)(l.LFG(I),l.LFG(ee,8))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac}),_})(),L=(()=>{class _{constructor(C){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const P=this._locationStrategy.getBaseHref();this._basePath=function he(_){if(new RegExp("^(https?:)?//").test(_)){const[,C]=_.split(/\/\/[^\/]+/);return C}return _}(ae(Q(P))),this._locationStrategy.onPopState(z=>{this._subject.emit({url:this.path(!0),pop:!0,state:z.state,type:z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,P=""){return this.path()==this.normalize(C+De(P))}normalize(C){return _.stripTrailingSlash(function me(_,T){if(!_||!T.startsWith(_))return T;const C=T.substring(_.length);return""===C||["/",";","?","#"].includes(C[0])?C:T}(this._basePath,Q(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,P="",z=null){this._locationStrategy.pushState(z,"",C,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+De(P)),z)}replaceState(C,P="",z=null){this._locationStrategy.replaceState(z,"",C,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+De(P)),z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",P){this._urlChangeListeners.forEach(z=>z(C,P))}subscribe(C,P,z){return this._subject.subscribe({next:C,error:P,complete:z})}}return _.normalizeQueryParams=De,_.joinWithSlash=K,_.stripTrailingSlash=ae,_.\u0275fac=function(C){return new(C||_)(l.LFG(Ve))},_.\u0275prov=l.Yz7({token:_,factory:function(){return function W(){return new L((0,l.LFG)(Ve))}()},providedIn:"root"}),_})();function Q(_){return _.replace(/\/index.html$/,"")}function Vn(_,T){T=encodeURIComponent(T);for(const C of _.split(";")){const P=C.indexOf("="),[z,ve]=-1==P?[C,""]:[C.slice(0,P),C.slice(P+1)];if(z.trim()===T)return decodeURIComponent(ve)}return null}class so{constructor(T,C,P,z){this.$implicit=T,this.ngForOf=C,this.index=P,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class _{set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}constructor(C,P,z){this._viewContainer=C,this._template=P,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const P=this._viewContainer;C.forEachOperation((z,ve,Ee)=>{if(null==z.previousIndex)P.createEmbeddedView(this._template,new so(z.item,this._ngForOf,-1,-1),null===Ee?void 0:Ee);else if(null==Ee)P.remove(null===ve?void 0:ve);else if(null!==ve){const Je=P.get(ve);P.move(Je,Ee),Zr(Je,z)}});for(let z=0,ve=P.length;z<ve;z++){const Je=P.get(z).context;Je.index=z,Je.count=ve,Je.ngForOf=this._ngForOf}C.forEachIdentityChange(z=>{Zr(P.get(z.currentIndex),z)})}static ngTemplateContextGuard(C,P){return!0}}return _.\u0275fac=function(C){return new(C||_)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},_.\u0275dir=l.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),_})();function Zr(_,T){_.context.$implicit=T.item}let Or=(()=>{class _{constructor(C,P){this._viewContainer=C,this._context=new Er,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){Po("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){Po("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,P){return!0}}return _.\u0275fac=function(C){return new(C||_)(l.Y36(l.s_b),l.Y36(l.Rgc))},_.\u0275dir=l.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),_})();class Er{constructor(){this.$implicit=null,this.ngIf=null}}function Po(_,T){if(T&&!T.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,l.AaK)(T)}'.`)}let zn=(()=>{class _{}return _.\u0275fac=function(C){return new(C||_)},_.\u0275mod=l.oAB({type:_}),_.\u0275inj=l.cJS({}),_})();const Ut="browser",ur="server";function dr(_){return _===ur}let Ir=(()=>{class _{}return _.\u0275prov=(0,l.Yz7)({token:_,providedIn:"root",factory:()=>new yt((0,l.LFG)(we),window)}),_})();class yt{constructor(T,C){this.document=T,this.window=C,this.offset=()=>[0,0]}setOffset(T){this.offset=Array.isArray(T)?()=>T:T}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(T){this.supportsScrolling()&&this.window.scrollTo(T[0],T[1])}scrollToAnchor(T){if(!this.supportsScrolling())return;const C=function Vr(_,T){const C=_.getElementById(T)||_.getElementsByName(T)[0];if(C)return C;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const P=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let z=P.currentNode;for(;z;){const ve=z.shadowRoot;if(ve){const Ee=ve.getElementById(T)||ve.querySelector(`[name="${T}"]`);if(Ee)return Ee}z=P.nextNode()}}return null}(this.document,T);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(T){if(this.supportScrollRestoration()){const C=this.window.history;C&&C.scrollRestoration&&(C.scrollRestoration=T)}}scrollToElement(T){const C=T.getBoundingClientRect(),P=C.left+this.window.pageXOffset,z=C.top+this.window.pageYOffset,ve=this.offset();this.window.scrollTo(P-ve[0],z-ve[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const T=Oo(this.window.history)||Oo(Object.getPrototypeOf(this.window.history));return!(!T||!T.writable&&!T.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Oo(_){return Object.getOwnPropertyDescriptor(_,"scrollRestoration")}class gn{}},3020:(et,X,M)=>{"use strict";M.d(X,{tb:()=>dd,AFp:()=>Gf,ip1:()=>Sm,hGG:()=>oE,z2F:()=>gs,Ojb:()=>t_,sBO:()=>US,Sil:()=>DS,EJc:()=>_S,Xts:()=>Gs,SBq:()=>Ys,lqb:()=>wi,qLn:()=>Ki,vpe:()=>Go,XFs:()=>Ze,OlP:()=>en,zs3:()=>ci,ZZ4:()=>yd,aQg:()=>vd,soG:()=>Oc,YKP:()=>Rg,h0i:()=>fs,PXZ:()=>kS,R0b:()=>yr,FiY:()=>ja,Lbi:()=>$l,g9A:()=>zf,Qsj:()=>g_,FYo:()=>Xf,JOm:()=>Bo,tp0:()=>$a,Rgc:()=>fa,dDg:()=>RS,eoX:()=>km,GfV:()=>eh,s_b:()=>Pc,ifc:()=>fn,MMx:()=>xg,Lck:()=>Xb,eFA:()=>Vm,Gpc:()=>me,f3M:()=>$,$WT:()=>Tr,_c5:()=>rE,qFp:()=>gE,c2e:()=>Em,zSh:()=>Fl,HDt:()=>ay,wAp:()=>ut,vHH:()=>Y,lri:()=>xm,rWj:()=>Om,D6c:()=>hE,cg1:()=>Nu,kL8:()=>tg,dqk:()=>Qt,Z0I:()=>Ht,eJc:()=>ed,QGY:()=>Tu,F4k:()=>op,RDi:()=>bv,AaK:()=>Ne,qOj:()=>fu,TTD:()=>yi,_Bn:()=>Ag,jDz:()=>Og,xp6:()=>uh,uIk:()=>gu,Tol:()=>Mp,ekj:()=>Pu,Suo:()=>nm,Xpm:()=>wn,lG2:()=>Wo,Yz7:()=>ft,cJS:()=>qn,oAB:()=>Kr,Yjl:()=>Zo,Y36:()=>Qi,_UZ:()=>Su,qZA:()=>Dc,TgZ:()=>Cc,EpF:()=>rp,n5z:()=>Fd,LFG:()=>_e,$8M:()=>rl,$Z:()=>yh,NdJ:()=>Mu,CRH:()=>rm,oxw:()=>lp,Q6J:()=>Du,MGl:()=>bc,iGM:()=>tm,KtG:()=>Ss,CHM:()=>ba,LSH:()=>xl,P3R:()=>kf,Jzz:()=>Hp,YNc:()=>Jh,_uU:()=>kp,Oqu:()=>Ou,hij:()=>wc,AsE:()=>ku});var l=M(7579),N=M(727),J=M(9751),ne=M(8189),q=M(8421),we=M(515),I=M(7669),B=M(2076),K=M(2961),ae=M(4482);function Ve(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new K.Hp({next:()=>{r.unsubscribe(),e()}});return(0,q.Xf)(t(...n)).subscribe(r)}function ee(e){for(let t in e)if(e[t]===ee)return t;throw Error("Could not find renamed property on target object.")}function Le(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ne(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ne).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function L(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const W=ee({__forward_ref__:ee});function me(e){return e.__forward_ref__=me,e.toString=function(){return Ne(this())},e}function Q(e){return he(e)?e():e}function he(e){return"function"==typeof e&&e.hasOwnProperty(W)&&e.__forward_ref__===me}function pe(e){return e&&!!e.\u0275providers}const fe="https://g.co/ng/security#xss";class Y extends Error{constructor(t,n){super(function Z(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function re(e){return"string"==typeof e?e:null==e?"":String(e)}function ct(e,t){throw new Y(-201,!1)}function mt(e,t){null==e&&function at(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ft(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qn(e){return{providers:e.providers||[],imports:e.imports||[]}}function qe(e){return Dn(e,Kt)||Dn(e,ot)}function Ht(e){return null!==qe(e)}function Dn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Hn(e){return e&&(e.hasOwnProperty(We)||e.hasOwnProperty(vr))?e[We]:null}const Kt=ee({\u0275prov:ee}),We=ee({\u0275inj:ee}),ot=ee({ngInjectableDef:ee}),vr=ee({ngInjectorDef:ee});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let Sn;function Mt(e){const t=Sn;return Sn=e,t}function oo(e,t,n){const r=qe(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ze.Optional?null:void 0!==t?t:void ct(Ne(e))}const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ln={},vt="__NG_DI_FLAG__",En="ngTempTokenPath",or=/\n/gm,xn="__source";let yn;function Pt(e){const t=yn;return yn=e,t}function Ln(e,t=Ze.Default){if(void 0===yn)throw new Y(-203,!1);return null===yn?oo(e,void 0,t):yn.get(e,t&Ze.Optional?null:void 0,t)}function _e(e,t=Ze.Default){return(function Nn(){return Sn}()||Ln)(Q(e),t)}function $(e,t=Ze.Default){return _e(e,ce(t))}function ce(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function le(e){const t=[];for(let n=0;n<e.length;n++){const r=Q(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Y(900,!1);let o,a=Ze.Default;for(let u=0;u<r.length;u++){const p=r[u],v=Qe(p);"number"==typeof v?-1===v?o=p.token:a|=v:o=p}t.push(_e(o,a))}else t.push(_e(r))}return t}function $e(e,t){return e[vt]=t,e.prototype[vt]=t,e}function Qe(e){return e[vt]}function Gt(e){return{toString:e}.toString()}var rn=(()=>((rn=rn||{})[rn.OnPush=0]="OnPush",rn[rn.Default=1]="Default",rn))(),fn=(()=>{return(e=fn||(fn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",fn;var e})();const Ot={},ze=[],un=ee({\u0275cmp:ee}),an=ee({\u0275dir:ee}),bt=ee({\u0275pipe:ee}),Cr=ee({\u0275mod:ee}),Kn=ee({\u0275fac:ee}),lr=ee({__NG_ELEMENT_ID__:ee}),Dr=ee({__NG_ENV_ID__:ee});function Jn(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const a=t.length;if(o+a===r||e.charCodeAt(o+a)<=32)return o}n=o+1}}function Wr(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const a=n[r++],u=n[r++],p=n[r++];e.setAttribute(t,u,p,a)}else{const a=o,u=n[++r];io(a)?e.setProperty(t,a,u):e.setAttribute(t,a,u),r++}}return r}function xr(e){return 3===e||4===e||6===e}function io(e){return 64===e.charCodeAt(0)}function Vn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Gn(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Gn(e,t,n,r,o){let a=0,u=e.length;if(-1===t)u=-1;else for(;a<e.length;){const p=e[a++];if("number"==typeof p){if(p===t){u=-1;break}if(p>t){u=a-1;break}}}for(;a<e.length;){const p=e[a];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==o&&(e[a+1]=o));if(r===e[a+1])return void(e[a+2]=o)}a++,null!==r&&a++,null!==o&&a++}-1!==u&&(e.splice(u,0,t),a=u+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==o&&e.splice(a++,0,o)}const br="ng-template";function Co(e,t,n){let r=0,o=!0;for(;r<e.length;){let a=e[r++];if("string"==typeof a&&o){const u=e[r++];if(n&&"class"===a&&-1!==Jn(u.toLowerCase(),t,0))return!0}else{if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(o=!1)}}return!1}function Sr(e){return 4===e.type&&e.value!==br}function zo(e,t,n){return t===(4!==e.type||n?e.value:br)}function so(e,t,n){let r=4;const o=e.attrs||[],a=function Er(e){for(let t=0;t<e.length;t++)if(xr(e[t]))return t;return e.length}(o);let u=!1;for(let p=0;p<t.length;p++){const v=t[p];if("number"!=typeof v){if(!u)if(4&r){if(r=2|1&r,""!==v&&!zo(e,v,n)||""===v&&1===t.length){if(On(r))return!1;u=!0}}else{const E=8&r?v:t[++p];if(8&r&&null!==e.attrs){if(!Co(e.attrs,E,n)){if(On(r))return!1;u=!0}continue}const V=Zr(8&r?"class":v,o,Sr(e),n);if(-1===V){if(On(r))return!1;u=!0;continue}if(""!==E){let te;te=V>a?"":o[V+1].toLowerCase();const ue=8&r?te:null;if(ue&&-1!==Jn(ue,E,0)||2&r&&E!==te){if(On(r))return!1;u=!0}}}}else{if(!u&&!On(r)&&!On(v))return!1;if(u&&On(v))continue;u=!1,r=v|1&r}}return On(r)||u}function On(e){return 0==(1&e)}function Zr(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let a=!1;for(;o<t.length;){const u=t[o];if(u===e)return o;if(3===u||6===u)a=!0;else{if(1===u||2===u){let p=t[++o];for(;"string"==typeof p;)p=t[++o];continue}if(4===u)break;if(0===u){o+=4;continue}}o+=a?1:2}return-1}return function Po(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ro(e,t,n=!1){for(let r=0;r<t.length;r++)if(so(e,t[r],n))return!0;return!1}function ir(e,t){return e?":not("+t.trim()+")":t}function ao(e){let t=e[0],n=1,r=2,o="",a=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const p=e[++n];o+="["+u+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?o+="."+u:4&r&&(o+=" "+u);else""!==o&&!On(u)&&(t+=ir(a,o),o=""),r=u,a=a||!On(r);n++}return""!==o&&(t+=ir(a,o)),t}function wn(e){return Gt(()=>{const t=Nr(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||fn.Emulated,styles:e.styles||ze,_:null,schemas:e.schemas||null,tView:null,id:""};co(n);const r=e.dependencies;return n.directiveDefs=Mr(r,!1),n.pipeDefs=Mr(r,!0),n.id=function Fr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function wr(e){return St(e)||Tn(e)}function qr(e){return null!==e}function Kr(e){return Gt(()=>({type:e.type,bootstrap:e.bootstrap||ze,declarations:e.declarations||ze,imports:e.imports||ze,exports:e.exports||ze,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Jr(e,t){if(null==e)return Ot;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],a=o;Array.isArray(o)&&(a=o[1],o=o[0]),n[o]=r,t&&(t[o]=a)}return n}function Wo(e){return Gt(()=>{const t=Nr(e);return co(t),t})}function Zo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function St(e){return e[un]||null}function Tn(e){return e[an]||null}function Mn(e){return e[bt]||null}function Tr(e){const t=St(e)||Tn(e)||Mn(e);return null!==t&&t.standalone}function In(e,t){const n=e[Cr]||null;if(!n&&!0===t)throw new Error(`Type ${Ne(e)} does not have '\u0275mod' property.`);return n}function Nr(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||ze,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jr(e.inputs,t),outputs:Jr(e.outputs)}}function co(e){e.features?.forEach(t=>t(e))}function Mr(e,t){if(!e)return null;const n=t?Mn:wr;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(qr)}const sn=0,Fe=1,lt=2,Vt=3,An=4,Rn=5,Xt=6,be=7,kt=8,Lr=9,wt=10,Ye=11,Qn=12,Qr=13,zn=14,Ut=15,ur=16,sr=17,Bn=18,jn=19,dr=20,Xn=21,er=22,bo=23,Ir=24,yt=25,Vr=1,lo=2,gn=7,uo=8,_t=9,hn=11;function $n(e){return Array.isArray(e)&&"object"==typeof e[Vr]}function dn(e){return Array.isArray(e)&&!0===e[Vr]}function fo(e){return 0!=(4&e.flags)}function tr(e){return e.componentOffset>-1}function ho(e){return 1==(1&e.flags)}function Fn(e){return!!e.template}function Br(e){return 0!=(512&e[lt])}function i(e,t){return e.hasOwnProperty(Kn)?e[Kn]:null}let R=Qt.WeakRef??class x{constructor(t){this.ref=t}deref(){return this.ref}},oe=0,Ce=null,Ge=!1;function nt(e){const t=Ce;return Ce=e,t}class jt{constructor(){this.id=oe++,this.ref=function H(e){return new R(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=Ge;Ge=!0;try{for(const[n,r]of this.consumers){const o=r.consumerNode.deref();void 0!==o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),o?.producers.delete(this.id))}}finally{Ge=t}}producerAccessed(){if(Ge)throw new Error("");if(null===Ce)return;let t=Ce.producers.get(this.id);void 0===t?(t={consumerNode:Ce.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ce.trackingVersion},Ce.producers.set(this.id,t),this.consumers.set(Ce.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=Ce.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ce?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let ko=null;const Pi=()=>{};class _s extends jt{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=Pi,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=nt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Pi,this.watch(this.registerOnCleanup)}finally{nt(t)}}cleanup(){this.cleanupFn()}}class ya{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function yi(){return xi}function xi(e){return e.type.prototype.ngOnChanges&&(e.setInput=va),vi}function vi(){const e=Ds(this),t=e?.current;if(t){const n=e.previous;if(n===Ot)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function va(e,t,n,r){const o=this.declaredInputs[n],a=Ds(e)||function _a(e,t){return e[Cs]=t}(e,{previous:Ot,current:null}),u=a.current||(a.current={}),p=a.previous,v=p[o];u[o]=new ya(v&&v.currentValue,t,p===Ot),e[r]=t}yi.ngInherit=!0;const Cs="__ngSimpleChanges__";function Ds(e){return e[Cs]||null}const $r=function(e,t,n){};function Zt(e){for(;Array.isArray(e);)e=e[sn];return e}function T(e,t){return Zt(t[e])}function C(e,t){return Zt(t[e.index])}function z(e,t){return e.data[t]}function Ee(e,t){const n=t[e];return $n(n)?n:n[sn]}function It(e){return 128==(128&e[lt])}function Tt(e,t){return null==t?null:e[t]}function Ct(e){e[sr]=0}function cn(e){1024&e[lt]||(e[lt]|=1024,_n(e,1))}function Jt(e){1024&e[lt]&&(e[lt]&=-1025,_n(e,-1))}function _n(e,t){let n=e[Vt];if(null===n)return;n[Rn]+=t;let r=n;for(n=n[Vt];null!==n&&(1===t&&1===r[Rn]||-1===t&&0===r[Rn]);)n[Rn]+=t,r=n,n=n[Vt]}const st={lFrame:Ra(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bs(){return st.bindingsEnabled}function Pe(){return st.lFrame.lView}function Nt(){return st.lFrame.tView}function ba(e){return st.lFrame.contextLView=e,e[kt]}function Ss(e){return st.lFrame.contextLView=null,e}function nr(){let e=Hc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Hc(){return st.lFrame.currentTNode}function Ur(e,t){const n=st.lFrame;n.currentTNode=e,n.isParent=t}function Ni(){return st.lFrame.isParent}function Ko(){return st.lFrame.bindingIndex++}function yo(e){const t=st.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function zc(e,t){const n=st.lFrame;n.bindingIndex=n.bindingRootIndex=e,Fi(t)}function Fi(e){st.lFrame.currentDirectiveIndex=e}function Wc(){return st.lFrame.currentQueryIndex}function Ma(e){st.lFrame.currentQueryIndex=e}function bd(e){const t=e[Fe];return 2===t.type?t.declTNode:1===t.type?e[Xt]:null}function Ia(e,t,n){if(n&Ze.SkipSelf){let o=t,a=e;for(;!(o=o.parent,null!==o||n&Ze.Host||(o=bd(a),null===o||(a=a[zn],10&o.type))););if(null===o)return!1;t=o,e=a}const r=st.lFrame=Ts();return r.currentTNode=t,r.lView=e,!0}function Aa(e){const t=Ts(),n=e[Fe];st.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ts(){const e=st.lFrame,t=null===e?null:e.child;return null===t?Ra(e):t}function Ra(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Pa(){const e=st.lFrame;return st.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const xa=Pa;function Ms(){const e=Pa();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ar(){return st.lFrame.selectedIndex}function Jo(e){st.lFrame.selectedIndex=e}function pn(){const e=st.lFrame;return z(e.tView,e.selectedIndex)}let Jc=!0;function Is(){return Jc}function h(e){Jc=e}function d(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:E,ngOnDestroy:A}=a;u&&(e.contentHooks??=[]).push(-n,u),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),v&&(e.viewHooks??=[]).push(-n,v),E&&((e.viewHooks??=[]).push(n,E),(e.viewCheckHooks??=[]).push(n,E)),null!=A&&(e.destroyHooks??=[]).push(n,A)}}function m(e,t,n){k(e,t,3,n)}function w(e,t,n,r){(3&e[lt])===n&&k(e,t,n,r)}function O(e,t){let n=e[lt];(3&n)===t&&(n&=4095,n+=1,e[lt]=n)}function k(e,t,n,r){const a=r??-1,u=t.length-1;let p=0;for(let v=void 0!==r?65535&e[sr]:0;v<u;v++)if("number"==typeof t[v+1]){if(p=t[v],null!=r&&p>=r)break}else t[v]<0&&(e[sr]+=65536),(p<a||-1==a)&&(Te(e,n,t,v),e[sr]=(4294901760&e[sr])+v+2),v++}function se(e,t){$r(4,e,t);const n=nt(null);try{t.call(e)}finally{nt(n),$r(5,e,t)}}function Te(e,t,n,r){const o=n[r]<0,a=n[r+1],p=e[o?-n[r]:n[r]];o?e[lt]>>12<e[sr]>>16&&(3&e[lt])===t&&(e[lt]+=4096,se(p,a)):se(p,a)}const He=-1;class Ke{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Td(e){return e!==He}function Oa(e){return 32767&e}function ka(e,t){let n=function uy(e){return e>>16}(e),r=t;for(;n>0;)r=r[zn],n--;return r}let Qc=!0;function Na(e){const t=Qc;return Qc=e,t}const Md=255,Id=5;let dy=0;const Vo={};function Fa(e,t){const n=Ad(e,t);if(-1!==n)return n;const r=t[Fe];r.firstCreatePass&&(e.injectorIndex=t.length,Xc(r.data,e),Xc(t,null),Xc(r.blueprint,null));const o=el(e,t),a=e.injectorIndex;if(Td(o)){const u=Oa(o),p=ka(o,t),v=p[Fe].data;for(let E=0;E<8;E++)t[a+E]=p[u+E]|v[u+E]}return t[a+8]=o,a}function Xc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ad(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function el(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Ld(o),null===r)return He;if(n++,o=o[zn],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return He}function tl(e,t,n){!function fy(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(lr)&&(r=n[lr]),null==r&&(r=n[lr]=dy++);const o=r&Md;t.data[e+(o>>Id)]|=1<<o}(e,t,n)}function Rd(e,t,n){if(n&Ze.Optional||void 0!==e)return e;ct()}function Pd(e,t,n,r){if(n&Ze.Optional&&void 0===r&&(r=null),!(n&(Ze.Self|Ze.Host))){const o=e[Lr],a=Mt(void 0);try{return o?o.get(t,r,n&Ze.Optional):oo(t,r,n&Ze.Optional)}finally{Mt(a)}}return Rd(r,0,n)}function xd(e,t,n,r=Ze.Default,o){if(null!==e){if(2048&t[lt]){const u=function yy(e,t,n,r,o){let a=e,u=t;for(;null!==a&&null!==u&&2048&u[lt]&&!(512&u[lt]);){const p=Od(a,u,n,r|Ze.Self,Vo);if(p!==Vo)return p;let v=a.parent;if(!v){const E=u[dr];if(E){const A=E.get(n,Vo,r);if(A!==Vo)return A}v=Ld(u),u=u[zn]}a=v}return o}(e,t,n,r,Vo);if(u!==Vo)return u}const a=Od(e,t,n,r,Vo);if(a!==Vo)return a}return Pd(t,n,r,o)}function Od(e,t,n,r,o){const a=function gy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(lr)?e[lr]:void 0;return"number"==typeof t?t>=0?t&Md:my:t}(n);if("function"==typeof a){if(!Ia(t,e,r))return r&Ze.Host?Rd(o,0,r):Pd(t,n,r,o);try{const u=a(r);if(null!=u||r&Ze.Optional)return u;ct()}finally{xa()}}else if("number"==typeof a){let u=null,p=Ad(e,t),v=He,E=r&Ze.Host?t[Ut][Xt]:null;for((-1===p||r&Ze.SkipSelf)&&(v=-1===p?el(e,t):t[p+8],v!==He&&Nd(r,!1)?(u=t[Fe],p=Oa(v),t=ka(v,t)):p=-1);-1!==p;){const A=t[Fe];if(kd(a,p,A.data)){const V=py(p,t,n,u,r,E);if(V!==Vo)return V}v=t[p+8],v!==He&&Nd(r,t[Fe].data[p+8]===E)&&kd(a,p,t)?(u=A,p=Oa(v),t=ka(v,t)):p=-1}}return o}function py(e,t,n,r,o,a){const u=t[Fe],p=u.data[e+8],A=La(p,u,n,null==r?tr(p)&&Qc:r!=u&&0!=(3&p.type),o&Ze.Host&&a===p);return null!==A?bi(t,u,A,p):Vo}function La(e,t,n,r,o){const a=e.providerIndexes,u=t.data,p=1048575&a,v=e.directiveStart,A=a>>20,te=o?p+A:e.directiveEnd;for(let ue=r?p:p+A;ue<te;ue++){const Ie=u[ue];if(ue<v&&n===Ie||ue>=v&&Ie.type===n)return ue}if(o){const ue=u[v];if(ue&&Fn(ue)&&ue.type===n)return v}return null}function bi(e,t,n,r){let o=e[n];const a=t.data;if(function Lt(e){return e instanceof Ke}(o)){const u=o;u.resolving&&function Se(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Y(-200,`Circular dependency in DI detected for ${e}${n}`)}(function F(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():re(e)}(a[n]));const p=Na(u.canSeeViewProviders);u.resolving=!0;const v=u.injectImpl?Mt(u.injectImpl):null;Ia(e,r,Ze.Default);try{o=e[n]=u.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function g(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:a}=t.type.prototype;if(r){const u=xi(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}o&&(n.preOrderHooks??=[]).push(0-e,o),a&&((n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a))}(n,a[n],t)}finally{null!==v&&Mt(v),Na(p),u.resolving=!1,xa()}}return o}function kd(e,t,n){return!!(n[t+(e>>Id)]&1<<e)}function Nd(e,t){return!(e&Ze.Self||e&Ze.Host&&t)}class Vi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return xd(this._tNode,this._lView,t,ce(r),n)}}function my(){return new Vi(nr(),Pe())}function Fd(e){return Gt(()=>{const t=e.prototype.constructor,n=t[Kn]||nl(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const a=o[Kn]||nl(o);if(a&&a!==n)return a;o=Object.getPrototypeOf(o)}return a=>new a})}function nl(e){return he(e)?()=>{const t=nl(Q(e));return t&&t()}:i(e)}function Ld(e){const t=e[Fe],n=t.type;return 2===n?t.declTNode:1===n?e[Xt]:null}function rl(e){return function hy(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const a=n[o];if(xr(a))break;if(0===a)o+=2;else if("number"==typeof a)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(a===t)return n[o+1];o+=2}}}return null}(nr(),e)}const ji="__parameters__";function Ui(e,t,n){return Gt(()=>{const r=function ol(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...a){if(this instanceof o)return r.apply(this,a),this;const u=new o(...a);return p.annotation=u,p;function p(v,E,A){const V=v.hasOwnProperty(ji)?v[ji]:Object.defineProperty(v,ji,{value:[]})[ji];for(;V.length<=A;)V.push(null);return(V[A]=V[A]||[]).push(u),v}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Os(e,t){e.forEach(n=>Array.isArray(n)?Os(n,t):t(n))}function Bd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Va(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function no(e,t,n){let r=Hi(e,t);return r>=0?e[1|r]=n:(r=~r,function by(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function il(e,t){const n=Hi(e,t);if(n>=0)return e[1|n]}function Hi(e,t){return function jd(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const a=r+(o-r>>1),u=e[a<<n];if(t===u)return a<<n;u>t?o=a:r=a+1}return~(o<<n)}(e,t,1)}const ja=$e(Ui("Optional"),8),$a=$e(Ui("SkipSelf"),4);function za(e){return 128==(128&e.flags)}var Bo=(()=>((Bo=Bo||{})[Bo.Important=1]="Important",Bo[Bo.DashCase=2]="DashCase",Bo))();const dl=new Map;let Wy=0;const hl="__ngContext__";function gr(e,t){$n(t)?(e[hl]=t[jn],function Yy(e){dl.set(e[jn],e)}(t)):e[hl]=t}let pl;function gl(e,t){return pl(e,t)}function Ls(e){const t=e[Vt];return dn(t)?t[Vt]:t}function ml(e){return af(e[Qn])}function yl(e){return af(e[An])}function af(e){for(;null!==e&&!dn(e);)e=e[An];return e}function Wi(e,t,n,r,o){if(null!=r){let a,u=!1;dn(r)?a=r:$n(r)&&(u=!0,r=r[sn]);const p=Zt(r);0===e&&null!==n?null==o?ff(t,n,p):Si(t,n,p,o||null,!0):1===e&&null!==n?Si(t,n,p,o||null,!0):2===e?function Ja(e,t,n){const r=qa(e,t);r&&function hv(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,p,u):3===e&&t.destroyNode(p),null!=a&&function mv(e,t,n,r,o){const a=n[gn];a!==Zt(n)&&Wi(t,e,r,a,o);for(let p=hn;p<n.length;p++){const v=n[p];Bs(v[Fe],v,e,t,r,a)}}(t,e,a,n,o)}}function Ya(e,t,n){return e.createElement(t,n)}function lf(e,t){const n=e[_t],r=n.indexOf(t);Jt(t),n.splice(r,1)}function _l(e,t){if(e.length<=hn)return;const n=hn+t,r=e[n];if(r){const o=r[ur];null!==o&&o!==e&&lf(o,r),t>0&&(e[n-1][An]=r[An]);const a=Va(e,hn+t);!function iv(e,t){Bs(e,t,t[Ye],2,null,null),t[sn]=null,t[Xt]=null}(r[Fe],r);const u=a[Bn];null!==u&&u.detachView(a[Fe]),r[Vt]=null,r[An]=null,r[lt]&=-129}return r}function uf(e,t){if(!(256&t[lt])){const n=t[Ye];t[bo]?.destroy(),t[Ir]?.destroy(),n.destroyNode&&Bs(e,t,n,3,null,null),function cv(e){let t=e[Qn];if(!t)return Cl(e[Fe],e);for(;t;){let n=null;if($n(t))n=t[Qn];else{const r=t[hn];r&&(n=r)}if(!n){for(;t&&!t[An]&&t!==e;)$n(t)&&Cl(t[Fe],t),t=t[Vt];null===t&&(t=e),$n(t)&&Cl(t[Fe],t),n=t&&t[An]}t=n}}(t)}}function Cl(e,t){if(!(256&t[lt])){t[lt]&=-129,t[lt]|=256,function fv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ke)){const a=n[r+1];if(Array.isArray(a))for(let u=0;u<a.length;u+=2){const p=o[a[u]],v=a[u+1];$r(4,p,v);try{v.call(p)}finally{$r(5,p,v)}}else{$r(4,o,a);try{a.call(o)}finally{$r(5,o,a)}}}}}(e,t),function dv(e,t){const n=e.cleanup,r=t[be];if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const u=n[a+3];u>=0?r[u]():r[-u].unsubscribe(),a+=2}else n[a].call(r[n[a+1]]);null!==r&&(t[be]=null);const o=t[Xn];if(null!==o){t[Xn]=null;for(let a=0;a<o.length;a++)(0,o[a])()}}(e,t),1===t[Fe].type&&t[Ye].destroy();const n=t[ur];if(null!==n&&dn(t[Vt])){n!==t[Vt]&&lf(n,t);const r=t[Bn];null!==r&&r.detachView(e)}!function qy(e){dl.delete(e[jn])}(t)}}function Dl(e,t,n){return function df(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[sn];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:a}=e.data[r.directiveStart+o];if(a===fn.None||a===fn.Emulated)return null}return C(r,n)}}(e,t.parent,n)}function Si(e,t,n,r,o){e.insertBefore(t,n,r,o)}function ff(e,t,n){e.appendChild(t,n)}function hf(e,t,n,r,o){null!==r?Si(e,t,n,r,o):ff(e,t,n)}function qa(e,t){return e.parentNode(t)}let bl,Tl,Xa,mf=function gf(e,t,n){return 40&e.type?C(e,n):null};function Ka(e,t,n,r){const o=Dl(e,r,t),a=t[Ye],p=function pf(e,t,n){return mf(e,t,n)}(r.parent||t[Xt],r,t);if(null!=o)if(Array.isArray(n))for(let v=0;v<n.length;v++)hf(a,o,n[v],p,!1);else hf(a,o,n,p,!1);void 0!==bl&&bl(a,r,t,n,o)}function Vs(e,t){if(null!==t){const n=t.type;if(3&n)return C(t,e);if(4&n)return Sl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Vs(e,r);{const o=e[t.index];return dn(o)?Sl(-1,o):Zt(o)}}if(32&n)return gl(t,e)()||Zt(e[t.index]);{const r=vf(e,t);return null!==r?Array.isArray(r)?r[0]:Vs(Ls(e[Ut]),r):Vs(e,t.next)}}return null}function vf(e,t){return null!==t?e[Ut][Xt].projection[t.projection]:null}function Sl(e,t){const n=hn+e+1;if(n<t.length){const r=t[n],o=r[Fe].firstChild;if(null!==o)return Vs(r,o)}return t[gn]}function El(e,t,n,r,o,a,u){for(;null!=n;){const p=r[n.index],v=n.type;if(u&&0===t&&(p&&gr(Zt(p),r),n.flags|=2),32!=(32&n.flags))if(8&v)El(e,t,n.child,r,o,a,!1),Wi(t,e,o,p,a);else if(32&v){const E=gl(n,r);let A;for(;A=E();)Wi(t,e,o,A,a);Wi(t,e,o,p,a)}else 16&v?Cf(e,t,r,n,o,a):Wi(t,e,o,p,a);n=u?n.projectionNext:n.next}}function Bs(e,t,n,r,o,a){El(n,r,e.firstChild,t,o,a,!1)}function Cf(e,t,n,r,o,a){const u=n[Ut],v=u[Xt].projection[r.projection];if(Array.isArray(v))for(let E=0;E<v.length;E++)Wi(t,e,o,v[E],a);else{let E=v;const A=u[Vt];za(r)&&(E.flags|=128),El(e,t,E,A,o,a,!0)}}function Df(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function bf(e,t,n){const{mergedAttrs:r,classes:o,styles:a}=n;null!==r&&Wr(e,t,r),null!==o&&Df(e,t,o),null!==a&&function vv(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}function bv(e){Tl=e}function wf(e){return function Ml(){if(void 0===Xa&&(Xa=null,Qt.trustedTypes))try{Xa=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xa}()?.createScriptURL(e)||e}class Tf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fe})`}}function ai(e){return e instanceof Tf?e.changingThisBreaksApplicationSecurity:e}function $s(e,t){const n=function Iv(e){return e instanceof Tf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${fe})`)}return n===t}const xv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function xl(e){const t=Hs();return t?t.sanitize(Un.URL,e)||"":$s(e,"URL")?ai(e):function Il(e){return(e=String(e)).match(xv)?e:"unsafe:"+e}(re(e))}function Of(e){const t=Hs();if(t)return wf(t.sanitize(Un.RESOURCE_URL,e)||"");if($s(e,"ResourceURL"))return wf(ai(e));throw new Y(904,!1)}function kf(e,t,n){return function Gv(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Of:xl}(t,n)(e)}function Hs(){const e=Pe();return e&&e[wt].sanitizer}class en{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ft({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gs=new en("ENVIRONMENT_INITIALIZER"),Nf=new en("INJECTOR",-1),Ff=new en("INJECTOR_DEF_TYPES");class Lf{get(t,n=ln){if(n===ln){const r=new Error(`NullInjectorError: No provider for ${Ne(t)}!`);throw r.name="NullInjectorError",r}return n}}function zv(...e){return{\u0275providers:Bf(0,e),\u0275fromNgModule:!0}}function Bf(e,...t){const n=[],r=new Set;let o;return Os(t,a=>{const u=a;Ol(u,n,[],r)&&(o||=[],o.push(u))}),void 0!==o&&jf(o,n),n}function jf(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];kl(o,a=>{t.push(a)})}}function Ol(e,t,n,r){if(!(e=Q(e)))return!1;let o=null,a=Hn(e);const u=!a&&St(e);if(a||u){if(u&&!u.standalone)return!1;o=e}else{const v=e.ngModule;if(a=Hn(v),!a)return!1;o=v}const p=r.has(o);if(u){if(p)return!1;if(r.add(o),u.dependencies){const v="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const E of v)Ol(E,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!p){let E;r.add(o);try{Os(a.imports,A=>{Ol(A,t,n,r)&&(E||=[],E.push(A))})}finally{}void 0!==E&&jf(E,t)}if(!p){const E=i(o)||(()=>new o);t.push({provide:o,useFactory:E,deps:ze},{provide:Ff,useValue:o,multi:!0},{provide:Gs,useValue:()=>_e(o),multi:!0})}const v=a.providers;null==v||p||kl(v,A=>{t.push(A)})}}return o!==e&&void 0!==e.providers}function kl(e,t){for(let n of e)pe(n)&&(n=n.\u0275providers),Array.isArray(n)?kl(n,t):t(n)}const Wv=ee({provide:String,useValue:ee});function Nl(e){return null!==e&&"object"==typeof e&&Wv in e}function Ei(e){return"function"==typeof e}const Fl=new en("Set Injector scope."),tc={},Yv={};let Ll;function nc(){return void 0===Ll&&(Ll=new Lf),Ll}class wi{}class Vl extends wi{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jl(t,u=>this.processProvider(u)),this.records.set(Nf,Yi(void 0,this)),o.has("environment")&&this.records.set(wi,Yi(void 0,this));const a=this.records.get(Fl);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Ff.multi,ze,Ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Pt(this),r=Mt(void 0);try{return t()}finally{Pt(n),Mt(r)}}get(t,n=ln,r=Ze.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Dr))return t[Dr](this);r=ce(r);const o=Pt(this),a=Mt(void 0);try{if(!(r&Ze.SkipSelf)){let p=this.records.get(t);if(void 0===p){const v=function Xv(e){return"function"==typeof e||"object"==typeof e&&e instanceof en}(t)&&qe(t);p=v&&this.injectableDefInScope(v)?Yi(Bl(t),tc):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&Ze.Self?nc():this.parent).get(t,n=r&Ze.Optional&&n===ln?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[En]=u[En]||[]).unshift(Ne(t)),o)throw u;return function xt(e,t,n,r){const o=e[En];throw t[xn]&&o.unshift(t[xn]),e.message=function it(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Ne(t);if(Array.isArray(t))o=t.map(Ne).join(" -> ");else if("object"==typeof t){let a=[];for(let u in t)if(t.hasOwnProperty(u)){let p=t[u];a.push(u+":"+("string"==typeof p?JSON.stringify(p):Ne(p)))}o=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(or,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[En]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{Mt(a),Pt(o)}}resolveInjectorInitializers(){const t=Pt(this),n=Mt(void 0);try{const r=this.get(Gs.multi,ze,Ze.Self);for(const o of r)o()}finally{Pt(t),Mt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ne(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(t){let n=Ei(t=Q(t))?t:Q(t&&t.provide);const r=function Kv(e){return Nl(e)?Yi(void 0,e.useValue):Yi(Hf(e),tc)}(t);if(Ei(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Yi(void 0,tc,!0),o.factory=()=>le(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===tc&&(n.value=Yv,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Qv(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Q(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Bl(e){const t=qe(e),n=null!==t?t.factory:i(e);if(null!==n)return n;if(e instanceof en)throw new Y(204,!1);if(e instanceof Function)return function qv(e){const t=e.length;if(t>0)throw function ks(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Y(204,!1);const n=function bn(e){return e&&(e[Kt]||e[ot])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Y(204,!1)}function Hf(e,t,n){let r;if(Ei(e)){const o=Q(e);return i(o)||Bl(o)}if(Nl(e))r=()=>Q(e.useValue);else if(function Uf(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...le(e.deps||[]));else if(function $f(e){return!(!e||!e.useExisting)}(e))r=()=>_e(Q(e.useExisting));else{const o=Q(e&&(e.useClass||e.provide));if(!function Jv(e){return!!e.deps}(e))return i(o)||Bl(o);r=()=>new o(...le(e.deps))}return r}function Yi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function jl(e,t){for(const n of e)Array.isArray(n)?jl(n,t):n&&pe(n)?jl(n.\u0275providers,t):t(n)}const Gf=new en("AppId",{providedIn:"root",factory:()=>e_}),e_="ng",zf=new en("Platform Initializer"),$l=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),t_=new en("CSP nonce",{providedIn:"root",factory:()=>function js(){if(void 0!==Tl)return Tl;if(typeof document<"u")return document;throw new Y(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zf=(e,t)=>null;function Yf(e,t){return Zf(e,t)}class u_{}class Jf{}class f_{resolveComponentFactory(t){throw function d_(e){const t=Error(`No component factory found for ${Ne(e)}.`);return t.ngComponent=e,t}(t)}}let ac=(()=>{class e{}return e.NULL=new f_,e})();function h_(){return qi(nr(),Pe())}function qi(e,t){return new Ys(C(e,t))}let Ys=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=h_,e})();function p_(e){return e instanceof Ys?e.nativeElement:e}class Xf{}let g_=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function m_(){const e=Pe(),n=Ee(nr().index,e);return($n(n)?n:e)[Ye]}(),e})(),y_=(()=>{class e{}return e.\u0275prov=ft({token:e,providedIn:"root",factory:()=>null}),e})();class eh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const v_=new eh("16.0.2"),Ql={};function qs(e){for(;e;){e[lt]|=64;const t=Ls(e);if(Br(e)&&!t)return e;e=t}return null}function Xl(e){return e.ngOriginalError}class Ki{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Xl(t);for(;n&&Xl(n);)n=Xl(n);return n||null}}const rh=new en("",{providedIn:"root",factory:()=>!1});function Xo(e){return e instanceof Function?e():e}class sh extends jt{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){qs(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const o=nt(this);this.trackingVersion++;try{t(n,r)}finally{nt(o)}}destroy(){this.trackingVersion++}}let lc=null;function ah(){return lc??=new sh,lc}function ch(e,t){return e[t]??ah()}function lh(e,t){const n=ah();n.hasReadASignal&&(e[t]=lc,n.lView=e,lc=new sh)}const Dt={};function uh(e){dh(Nt(),Pe(),ar()+e,!1)}function dh(e,t,n,r){if(!r)if(3==(3&t[lt])){const a=e.preOrderCheckHooks;null!==a&&m(t,a,n)}else{const a=e.preOrderHooks;null!==a&&w(t,a,0,n)}Jo(n)}function gh(e,t=null,n=null,r){const o=mh(e,t,n,r);return o.resolveInjectorInitializers(),o}function mh(e,t=null,n=null,r,o=new Set){const a=[n||ze,zv(e)];return r=r||("object"==typeof e?void 0:Ne(e)),new Vl(a,t||nc(),r||null,o)}let ci=(()=>{class e{static create(n,r){if(Array.isArray(n))return gh({name:""},r,n,"");{const o=n.name??"";return gh({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=ln,e.NULL=new Lf,e.\u0275prov=ft({token:e,providedIn:"any",factory:()=>_e(Nf)}),e.__NG_ELEMENT_ID__=-1,e})();function Qi(e,t=Ze.Default){const n=Pe();return null===n?_e(e,t):xd(nr(),n,Q(e),t)}function yh(){throw new Error("invalid")}function uc(e,t,n,r,o,a,u,p,v,E,A){const V=t.blueprint.slice();return V[sn]=o,V[lt]=140|r,(null!==E||e&&2048&e[lt])&&(V[lt]|=2048),Ct(V),V[Vt]=V[zn]=e,V[kt]=n,V[wt]=u||e&&e[wt],V[Ye]=p||e&&e[Ye],V[Lr]=v||e&&e[Lr]||null,V[Xt]=a,V[jn]=function Zy(){return Wy++}(),V[er]=A,V[dr]=E,V[Ut]=2==t.type?e[Ut]:V,V}function Xi(e,t,n,r,o){let a=e.data[t];if(null===a)a=function eu(e,t,n,r,o){const a=Hc(),u=Ni(),v=e.data[t]=function B_(e,t,n,r,o,a){let u=t?t.injectorIndex:-1,p=0;return function si(){return null!==st.skipHydrationRootTNode}()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?a:a&&a.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=v),null!==a&&(u?null==a.child&&null!==v.parent&&(a.child=v):null===a.next&&(a.next=v,v.prev=a)),v}(e,t,n,r,o),function Es(){return st.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=o;const u=function _i(){const e=st.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===u?-1:u.injectorIndex}return Ur(a,!0),a}function Ks(e,t,n,r){if(0===n)return-1;const o=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function vh(e,t,n,r,o){const a=ch(t,bo),u=ar(),p=2&r;try{if(Jo(-1),p&&t.length>yt&&dh(e,t,yt,!1),$r(p?2:0,o),p)a.runInContext(n,r,o);else{const E=nt(null);try{n(r,o)}finally{nt(E)}}}finally{p&&null===t[bo]&&lh(t,bo),Jo(u),$r(p?3:1,o)}}function tu(e,t,n){if(fo(t)){const r=nt(null);try{const a=t.directiveEnd;for(let u=t.directiveStart;u<a;u++){const p=e.data[u];p.contentQueries&&p.contentQueries(1,n[u],u)}}finally{nt(r)}}}function nu(e,t,n){bs()&&(function W_(e,t,n,r){const o=n.directiveStart,a=n.directiveEnd;tr(n)&&function X_(e,t,n){const r=C(t,e),u=dc(e,uc(e,_h(n),null,n.onPush?64:16,r,t,null,e[wt].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=u}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Fa(n,t),gr(r,t);const u=n.initialInputs;for(let p=o;p<a;p++){const v=e.data[p],E=bi(t,e,p,n);gr(E,t),null!==u&&eC(0,p-o,E,v,0,u),Fn(v)&&(Ee(n.index,t)[kt]=bi(t,e,p,n))}}(e,t,n,C(n,t)),64==(64&n.flags)&&Eh(e,t,n))}function ru(e,t,n=C){const r=t.localNames;if(null!==r){let o=t.index+1;for(let a=0;a<r.length;a+=2){const u=r[a+1],p=-1===u?n(t,e):e[u];e[o++]=p}}}function _h(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ou(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ou(e,t,n,r,o,a,u,p,v,E,A){const V=yt+r,te=V+o,ue=function O_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Dt);return n}(V,te),Ie="function"==typeof E?E():E;return ue[Fe]={type:e,blueprint:ue,template:n,queries:null,viewQuery:p,declTNode:t,data:ue.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:v,consts:Ie,incompleteFirstPass:!1,ssrId:A}}let Ch=e=>null;function Dh(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const a=e[o];null===r?bh(n,t,o,a):r.hasOwnProperty(o)&&bh(n,t,r[o],a)}return n}function bh(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function ro(e,t,n,r,o,a,u,p){const v=C(t,n);let A,E=t.inputs;!p&&null!=E&&(A=E[r])?(lu(e,n,A,r,o),tr(t)&&function U_(e,t){const n=Ee(t,e);16&n[lt]||(n[lt]|=64)}(n,t.index)):3&t.type&&(r=function $_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=u?u(o,t.value||"",r):o,a.setProperty(v,r,o))}function iu(e,t,n,r){if(bs()){const o=null===r?null:{"":-1},a=function Y_(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let a=0;a<n.length;a++){const u=n[a];if(Ro(t,u.selectors,!1))if(r||(r=[]),Fn(u))if(null!==u.findHostDirectiveDefs){const p=[];o=o||new Map,u.findHostDirectiveDefs(u,p,o),r.unshift(...p,u),su(e,t,p.length)}else r.unshift(u),su(e,t,0);else o=o||new Map,u.findHostDirectiveDefs?.(u,r,o),r.push(u)}return null===r?null:[r,o]}(e,n);let u,p;null===a?u=p=null:[u,p]=a,null!==u&&Sh(e,t,n,u,o,p),o&&function q_(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const a=n[t[o+1]];if(null==a)throw new Y(-301,!1);r.push(t[o],a)}}}(n,r,o)}n.mergedAttrs=Vn(n.mergedAttrs,n.attrs)}function Sh(e,t,n,r,o,a){for(let E=0;E<r.length;E++)tl(Fa(n,t),e,r[E].type);!function J_(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let E=0;E<r.length;E++){const A=r[E];A.providersResolver&&A.providersResolver(A)}let u=!1,p=!1,v=Ks(e,t,r.length,null);for(let E=0;E<r.length;E++){const A=r[E];n.mergedAttrs=Vn(n.mergedAttrs,A.hostAttrs),Q_(e,n,t,v,A),K_(v,A,o),null!==A.contentQueries&&(n.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=64);const V=A.type.prototype;!u&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!p&&(V.ngOnChanges||V.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),v++}!function j_(e,t,n){const o=t.directiveEnd,a=e.data,u=t.attrs,p=[];let v=null,E=null;for(let A=t.directiveStart;A<o;A++){const V=a[A],te=n?n.get(V):null,Ie=te?te.outputs:null;v=Dh(V.inputs,A,v,te?te.inputs:null),E=Dh(V.outputs,A,E,Ie);const xe=null===v||null===u||Sr(t)?null:tC(v,A,u);p.push(xe)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=v,t.outputs=E}(e,n,a)}function Eh(e,t,n){const r=n.directiveStart,o=n.directiveEnd,a=n.index,u=function Dd(){return st.lFrame.currentDirectiveIndex}();try{Jo(a);for(let p=r;p<o;p++){const v=e.data[p],E=t[p];Fi(p),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&Z_(v,E)}}finally{Jo(-1),Fi(u)}}function Z_(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function su(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function K_(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Fn(t)&&(n[""]=e)}}function Q_(e,t,n,r,o){e.data[r]=o;const a=o.factory||(o.factory=i(o.type)),u=new Ke(a,Fn(o),Qi);e.blueprint[r]=u,n[r]=u,function G_(e,t,n,r,o){const a=o.hostBindings;if(a){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const p=~t.index;(function z_(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=p&&u.push(p),u.push(n,r,a)}}(e,t,r,Ks(e,n,o.hostVars,Dt),o)}function jo(e,t,n,r,o,a){const u=C(e,t);!function au(e,t,n,r,o,a,u){if(null==a)e.removeAttribute(t,o,n);else{const p=null==u?re(a):u(a,r||"",o);e.setAttribute(t,o,p,n)}}(t[Ye],u,a,e.value,n,r,o)}function eC(e,t,n,r,o,a){const u=a[t];if(null!==u)for(let p=0;p<u.length;)wh(r,n,u[p++],u[p++],u[p++])}function wh(e,t,n,r,o){const a=nt(null);try{null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{nt(a)}}function tC(e,t,n){let r=null,o=0;for(;o<n.length;){const a=n[o];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const u=e[a];for(let p=0;p<u.length;p+=2)if(u[p]===t){r.push(a,u[p+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Th(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Mh(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r+1];if(-1!==a){const u=e.data[a];Ma(n[r]),u.contentQueries(2,t[a],a)}}}function dc(e,t){return e[Qn]?e[Qr][An]=t:e[Qn]=t,e[Qr]=t,t}function cu(e,t,n){Ma(0);const r=nt(null);try{t(e,n)}finally{nt(r)}}function Ih(e){return e[be]||(e[be]=[])}function Ah(e){return e.cleanup||(e.cleanup=[])}function Ph(e,t){const n=e[Lr],r=n?n.get(Ki,null):null;r&&r.handleError(t)}function lu(e,t,n,r,o){for(let a=0;a<n.length;){const u=n[a++],p=n[a++];wh(e.data[u],t[u],r,p,o)}}function ei(e,t,n){const r=T(t,e);!function cf(e,t,n){e.setValue(t,n)}(e[Ye],r,n)}function nC(e,t){const n=Ee(t,e),r=n[Fe];!function rC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[sn];null!==o&&null===n[er]&&(n[er]=Yf(o,n[Lr])),uu(r,n,n[kt])}function uu(e,t,n){Aa(t);try{const r=e.viewQuery;null!==r&&cu(1,r,n);const o=e.template;null!==o&&vh(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Mh(e,t),e.staticViewQueries&&cu(2,e.viewQuery,n);const a=e.components;null!==a&&function oC(e,t){for(let n=0;n<t.length;n++)nC(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[lt]&=-5,Ms()}}let xh=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const a=typeof Zone>"u"?null:Zone.current,u=new _s(n,E=>{this.all.has(E)&&this.queue.set(E,a)},o);let p;this.all.add(u),u.notify();const v=()=>{u.cleanup(),p?.(),this.all.delete(u),this.queue.delete(u)};return p=r?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=ft({token:e,providedIn:"root",factory:()=>new e}),e})();function fc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,a=0;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?a=p:1==a?o=L(o,p):2==a&&(r=L(r,p+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Js(e,t,n,r,o=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(Zt(a)),dn(a)){for(let p=hn;p<a.length;p++){const v=a[p],E=v[Fe].firstChild;null!==E&&Js(v[Fe],v,E,r)}a[gn]!==a[sn]&&r.push(a[gn])}const u=n.type;if(8&u)Js(e,t,n.child,r);else if(32&u){const p=gl(n,t);let v;for(;v=p();)r.push(v)}else if(16&u){const p=vf(t,n);if(Array.isArray(p))r.push(...p);else{const v=Ls(t[Ut]);Js(v[Fe],v,p,r,!0)}}n=o?n.projectionNext:n.next}return r}function hc(e,t,n,r=!0){const o=t[wt].rendererFactory;o.begin&&o.begin();try{pc(e,t,e.template,n)}catch(u){throw r&&Ph(t,u),u}finally{o.end&&o.end(),t[wt].effectManager?.flush()}}function pc(e,t,n,r){const o=t[lt];if(256!=(256&o)){t[wt].effectManager?.flush(),Aa(t);try{Ct(t),function Gc(e){return st.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&vh(e,t,n,2,r);const u=3==(3&o);if(u){const E=e.preOrderCheckHooks;null!==E&&m(t,E,null)}else{const E=e.preOrderHooks;null!==E&&w(t,E,0,null),O(t,0)}if(function uC(e){for(let t=ml(e);null!==t;t=yl(t)){if(!t[lo])continue;const n=t[_t];for(let r=0;r<n.length;r++){cn(n[r])}}}(t),function lC(e){for(let t=ml(e);null!==t;t=yl(t))for(let n=hn;n<t.length;n++){const r=t[n],o=r[Fe];It(r)&&pc(o,r,o.template,r[kt])}}(t),null!==e.contentQueries&&Mh(e,t),u){const E=e.contentCheckHooks;null!==E&&m(t,E)}else{const E=e.contentHooks;null!==E&&w(t,E,1),O(t,1)}!function x_(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=ch(t,Ir);try{for(let o=0;o<n.length;o++){const a=n[o];if(a<0)Jo(~a);else{const u=a,p=n[++o],v=n[++o];zc(p,u),r.runInContext(v,2,t[u])}}}finally{null===t[Ir]&&lh(t,Ir),Jo(-1)}}(e,t);const p=e.components;null!==p&&function fC(e,t){for(let n=0;n<t.length;n++)dC(e,t[n])}(t,p);const v=e.viewQuery;if(null!==v&&cu(2,v,r),u){const E=e.viewCheckHooks;null!==E&&m(t,E)}else{const E=e.viewHooks;null!==E&&w(t,E,2),O(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[lt]&=-73,Jt(t)}finally{Ms()}}}function dC(e,t){const n=Ee(t,e);if(It(n)){const r=n[Fe];80&n[lt]?pc(r,n,r.template,n[kt]):n[Rn]>0&&du(n)}}function du(e){for(let r=ml(e);null!==r;r=yl(r))for(let o=hn;o<r.length;o++){const a=r[o];if(It(a))if(1024&a[lt]){const u=a[Fe];pc(u,a,u.template,a[kt])}else a[Rn]>0&&du(a)}const n=e[Fe].components;if(null!==n)for(let r=0;r<n.length;r++){const o=Ee(n[r],e);It(o)&&o[Rn]>0&&du(o)}}class Qs{get rootNodes(){const t=this._lView,n=t[Fe];return Js(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(t){this._lView[kt]=t}get destroyed(){return 256==(256&this._lView[lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Vt];if(dn(t)){const n=t[uo],r=n?n.indexOf(this):-1;r>-1&&(_l(t,r),Va(n,r))}this._attachedToViewContainer=!1}uf(this._lView[Fe],this._lView)}onDestroy(t){!function Xr(e,t){if(256==(256&e[lt]))throw new Y(911,!1);null===e[Xn]&&(e[Xn]=[]),e[Xn].push(t)}(this._lView,t)}markForCheck(){qs(this._cdRefInjectingView||this._lView)}detach(){this._lView[lt]&=-129}reattach(){this._lView[lt]|=128}detectChanges(){hc(this._lView[Fe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function av(e,t){Bs(e,t,t[Ye],2,null,null)}(this._lView[Fe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=t}}class hC extends Qs{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;hc(t[Fe],t,t[kt],!1)}checkNoChanges(){}get context(){return null}}class Oh extends ac{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=St(t);return new Xs(n,this.ngModule)}}function kh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class gC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ce(r);const o=this.injector.get(t,Ql,r);return o!==Ql||n===Ql?o:this.parentInjector.get(t,n,r)}}class Xs extends Jf{get inputs(){return kh(this.componentDef.inputs)}get outputs(){return kh(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Do(e){return e.map(ao).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let a=(o=o||this.ngModule)instanceof wi?o:o?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const u=a?new gC(t,a):t,p=u.get(Xf,null);if(null===p)throw new Y(407,!1);const A={rendererFactory:p,sanitizer:u.get(y_,null),effectManager:u.get(xh,null)},V=p.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",ue=r?function k_(e,t,n,r){const a=r.get(rh,!1)||n===fn.ShadowDom,u=e.selectRootElement(t,a);return function N_(e){Ch(e)}(u),u}(V,r,this.componentDef.encapsulation,u):Ya(V,te,function pC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(te)),Ie=this.componentDef.onPush?576:528,xe=ou(0,null,null,1,0,null,null,null,null,null,null),je=uc(null,xe,null,Ie,null,null,A,V,u,null,null);let Xe,Ae;Aa(je);try{const dt=this.componentDef;let At,on=null;dt.findHostDirectiveDefs?(At=[],on=new Map,dt.findHostDirectiveDefs(dt,At,on),At.push(dt)):At=[dt];const Ao=function yC(e,t){const n=e[Fe],r=yt;return e[r]=t,Xi(n,r,2,"#host",null)}(je,ue),ly=function vC(e,t,n,r,o,a,u){const p=o[Fe];!function _C(e,t,n,r){for(const o of e)t.mergedAttrs=Vn(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(fc(t,t.mergedAttrs,!0),null!==n&&bf(r,n,t))}(r,e,t,u);let v=null;null!==t&&(v=Yf(t,o[Lr]));const E=a.rendererFactory.createRenderer(t,n),A=uc(o,_h(n),null,n.onPush?64:16,o[e.index],e,a,E,null,null,v);return p.firstCreatePass&&su(p,e,r.length-1),dc(o,A),o[e.index]=A}(Ao,ue,dt,At,je,A,V);Ae=z(xe,yt),ue&&function DC(e,t,n,r){if(r)Wr(e,n,["ng-version",v_.full]);else{const{attrs:o,classes:a}=function kr(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===o?""!==a&&t.push(a,e[++r]):8===o&&n.push(a);else{if(!On(o))break;o=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Wr(e,n,o),a&&a.length>0&&Df(e,n,a.join(" "))}}(V,dt,ue,r),void 0!==n&&function bC(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const a=n[o];r.push(null!=a?Array.from(a):null)}}(Ae,this.ngContentSelectors,n),Xe=function CC(e,t,n,r,o,a){const u=nr(),p=o[Fe],v=C(u,o);Sh(p,o,u,n,null,r);for(let A=0;A<n.length;A++)gr(bi(o,p,u.directiveStart+A,u),o);Eh(p,o,u),v&&gr(v,o);const E=bi(o,p,u.directiveStart+u.componentOffset,u);if(e[kt]=o[kt]=E,null!==a)for(const A of a)A(E,t);return tu(p,u,e),E}(ly,dt,At,on,je,[SC]),uu(xe,je,null)}finally{Ms()}return new mC(this.componentType,Xe,qi(Ae,je),je,Ae)}}class mC extends u_{constructor(t,n,r,o,a){super(),this.location=r,this._rootLView=o,this._tNode=a,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new hC(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const a=this._rootLView;lu(a[Fe],a,o,t,n),this.previousInputValues.set(t,n),qs(Ee(this._tNode.index,a))}}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function SC(){const e=nr();d(Pe()[Fe],e)}function fu(e){let t=function Nh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Fn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Y(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const u=e;u.inputs=hu(e.inputs),u.declaredInputs=hu(e.declaredInputs),u.outputs=hu(e.outputs);const p=o.hostBindings;p&&MC(e,p);const v=o.viewQuery,E=o.contentQueries;if(v&&wC(e,v),E&&TC(e,E),Le(e.inputs,o.inputs),Le(e.declaredInputs,o.declaredInputs),Le(e.outputs,o.outputs),Fn(o)&&o.data.animation){const A=e.data;A.animation=(A.animation||[]).concat(o.data.animation)}}const a=o.features;if(a)for(let u=0;u<a.length;u++){const p=a[u];p&&p.ngInherit&&p(e),p===fu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function EC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Vn(o.hostAttrs,n=Vn(n,o.hostAttrs))}}(r)}function hu(e){return e===Ot?{}:e===ze?[]:e}function wC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function TC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,a)=>{t(r,o,a),n(r,o,a)}:t}function MC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function gc(e){return!!pu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function pu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function mr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function gu(e,t,n,r){const o=Pe();return mr(o,Ko(),t)&&(Nt(),jo(pn(),o,e,t,n,r)),gu}function ts(e,t,n,r){return mr(e,Ko(),n)?t+re(n)+r:Dt}function ns(e,t,n,r,o,a){const p=function Ti(e,t,n,r){const o=mr(e,t,n);return mr(e,t+1,r)||o}(e,function Lo(){return st.lFrame.bindingIndex}(),n,o);return yo(2),p?t+re(n)+r+re(o)+a:Dt}function Jh(e,t,n,r,o,a,u,p){const v=Pe(),E=Nt(),A=e+yt,V=E.firstCreatePass?function QC(e,t,n,r,o,a,u,p,v){const E=t.consts,A=Xi(t,e,4,u||null,Tt(E,p));iu(t,n,A,Tt(E,v)),d(t,A);const V=A.tView=ou(2,A,r,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,E,null);return null!==t.queries&&(t.queries.template(t,A),V.queries=t.queries.embeddedTView(A)),A}(A,E,v,t,n,r,o,a,u):E.data[A];Ur(V,!1);const te=Qh(E,v,V,e);Is()&&Ka(E,v,te,V),gr(te,v),dc(v,v[A]=Th(te,v,te,V)),ho(V)&&nu(E,v,V),null!=u&&ru(v,V,p)}let Qh=function Xh(e,t,n,r){return h(!0),t[Ye].createComment("")};function Du(e,t,n){const r=Pe();return mr(r,Ko(),t)&&ro(Nt(),pn(),r,e,t,r[Ye],n,!1),Du}function bu(e,t,n,r,o){const u=o?"class":"style";lu(e,n,t.inputs[u],u,r)}function Cc(e,t,n,r){const o=Pe(),a=Nt(),u=yt+e,p=o[Ye],v=a.firstCreatePass?function rD(e,t,n,r,o,a){const u=t.consts,v=Xi(t,e,2,r,Tt(u,o));return iu(t,n,v,Tt(u,a)),null!==v.attrs&&fc(v,v.attrs,!1),null!==v.mergedAttrs&&fc(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(u,a,o,t,n,r):a.data[u],E=ep(a,o,v,p,t,e);o[u]=E;const A=ho(v);return Ur(v,!0),bf(p,E,v),32!=(32&v.flags)&&Is()&&Ka(a,o,E,v),0===function wo(){return st.lFrame.elementDepthCount}()&&gr(E,o),function No(){st.lFrame.elementDepthCount++}(),A&&(nu(a,o,v),tu(a,v,o)),null!==r&&ru(o,v),Cc}function Dc(){let e=nr();Ni()?function Sa(){st.lFrame.isParent=!1}():(e=e.parent,Ur(e,!1));const t=e;(function Bc(e){return st.skipHydrationRootTNode===e})(t)&&function Uc(){st.skipHydrationRootTNode=null}(),function Ar(){st.lFrame.elementDepthCount--}();const n=Nt();return n.firstCreatePass&&(d(n,e),fo(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Di(e){return 0!=(8&e.flags)}(t)&&bu(n,t,Pe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function As(e){return 0!=(16&e.flags)}(t)&&bu(n,t,Pe(),t.stylesWithoutHost,!1),Dc}function Su(e,t,n,r){return Cc(e,t,n,r),Dc(),Su}let ep=(e,t,n,r,o,a)=>(h(!0),Ya(r,o,function Kc(){return st.lFrame.currentNamespace}()));function rp(){return Pe()}function Tu(e){return!!e&&"function"==typeof e.then}function op(e){return!!e&&"function"==typeof e.subscribe}function Mu(e,t,n,r){const o=Pe(),a=Nt(),u=nr();return function sp(e,t,n,r,o,a,u){const p=ho(r),E=e.firstCreatePass&&Ah(e),A=t[kt],V=Ih(t);let te=!0;if(3&r.type||u){const xe=C(r,t),je=u?u(xe):xe,Xe=V.length,Ae=u?At=>u(Zt(At[r.index])):r.index;let dt=null;if(!u&&p&&(dt=function lD(e,t,n,r){const o=e.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const u=o[a];if(u===n&&o[a+1]===r){const p=t[be],v=o[a+2];return p.length>v?p[v]:null}"string"==typeof u&&(a+=2)}return null}(e,t,o,r.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=a,dt.__ngLastListenerFn__=a,te=!1;else{a=cp(r,t,A,a,!1);const At=n.listen(je,o,a);V.push(a,At),E&&E.push(o,Ae,Xe,Xe+1)}}else a=cp(r,t,A,a,!1);const ue=r.outputs;let Ie;if(te&&null!==ue&&(Ie=ue[o])){const xe=Ie.length;if(xe)for(let je=0;je<xe;je+=2){const on=t[Ie[je]][Ie[je+1]].subscribe(a),Ao=V.length;V.push(a,on),E&&E.push(o,r.index,Ao,-(Ao+1))}}}(a,o,o[Ye],u,e,t,r),Mu}function ap(e,t,n,r){try{return $r(6,t,n),!1!==n(r)}catch(o){return Ph(e,o),!1}finally{$r(7,t,n)}}function cp(e,t,n,r,o){return function a(u){if(u===Function)return r;qs(e.componentOffset>-1?Ee(e.index,t):t);let v=ap(t,n,r,u),E=a.__ngNextListenerFn__;for(;E;)v=ap(t,n,E,u)&&v,E=E.__ngNextListenerFn__;return o&&!1===v&&u.preventDefault(),v}}function lp(e=1){return function Zc(e){return(st.lFrame.contextLView=function Yc(e,t){for(;e>0;)t=t[zn],e--;return t}(e,st.lFrame.contextLView))[kt]}(e)}function bc(e,t,n,r,o){const a=Pe(),u=ts(a,t,n,r);return u!==Dt&&ro(Nt(),pn(),a,e,u,a[Ye],o,!1),bc}function Sc(e,t){return e<<17|t<<2}function li(e){return e>>17&32767}function Iu(e){return 2|e}function Mi(e){return(131068&e)>>2}function Au(e,t){return-131069&e|t<<2}function Ru(e){return 1|e}function _p(e,t,n,r,o){const a=e[n+1],u=null===t;let p=r?li(a):Mi(a),v=!1;for(;0!==p&&(!1===v||u);){const A=e[p+1];vD(e[p],t)&&(v=!0,e[p+1]=r?Ru(A):Iu(A)),p=r?li(A):Mi(A)}v&&(e[n+1]=r?Iu(a):Ru(a))}function vD(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Hi(e,t)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Cp(e){return e.substring(Yn.key,Yn.keyEnd)}function _D(e){return e.substring(Yn.value,Yn.valueEnd)}function Dp(e,t){const n=Yn.textEnd;return n===t?-1:(t=Yn.keyEnd=function bD(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Yn.key=t,n),ls(e,t,n))}function bp(e,t){const n=Yn.textEnd;let r=Yn.key=ls(e,t,n);return n===r?-1:(r=Yn.keyEnd=function SD(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Ep(e,r,n),r=Yn.value=ls(e,r,n),r=Yn.valueEnd=function ED(e,t,n){let r=-1,o=-1,a=-1,u=t,p=u;for(;u<n;){const v=e.charCodeAt(u++);if(59===v)return p;34===v||39===v?p=u=wp(e,v,u,n):t===u-4&&85===a&&82===o&&76===r&&40===v?p=u=wp(e,41,u,n):v>32&&(p=u),a=o,o=r,r=-33&v}return p}(e,r,n),Ep(e,r,n))}function Sp(e){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=e.length}function ls(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ep(e,t,n,r){return(t=ls(e,t,n))<n&&t++,t}function wp(e,t,n,r){let o=-1,a=n;for(;a<r;){const u=e.charCodeAt(a++);if(u==t&&92!==o)return a;o=92==u&&92===o?0:u}throw new Error}function Pu(e,t){return function To(e,t,n,r){const o=Pe(),a=Nt(),u=yo(2);a.firstUpdatePass&&Ap(a,e,u,r),t!==Dt&&mr(o,u,t)&&Pp(a,a.data[ar()],o,o[Ye],e,o[u+1]=function OD(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ne(ai(e)))),e}(t,n),r,u)}(e,t,null,!0),Pu}function wD(e,t){for(let n=function DD(e){return Sp(e),bp(e,ls(e,0,Yn.textEnd))}(t);n>=0;n=bp(t,n))Rp(e,Cp(t),_D(t))}function Mp(e){Mo(PD,Ho,e,!0)}function Ho(e,t){for(let n=function CD(e){return Sp(e),Dp(e,ls(e,0,Yn.textEnd))}(t);n>=0;n=Dp(t,n))no(e,Cp(t),!0)}function Mo(e,t,n,r){const o=Nt(),a=yo(2);o.firstUpdatePass&&Ap(o,null,a,r);const u=Pe();if(n!==Dt&&mr(u,a,n)){const p=o.data[ar()];if(Op(p,r)&&!Ip(o,a)){let v=r?p.classesWithoutHost:p.stylesWithoutHost;null!==v&&(n=L(v,n||"")),bu(o,p,u,n,r)}else!function xD(e,t,n,r,o,a,u,p){o===Dt&&(o=ze);let v=0,E=0,A=0<o.length?o[0]:null,V=0<a.length?a[0]:null;for(;null!==A||null!==V;){const te=v<o.length?o[v+1]:void 0,ue=E<a.length?a[E+1]:void 0;let xe,Ie=null;A===V?(v+=2,E+=2,te!==ue&&(Ie=V,xe=ue)):null===V||null!==A&&A<V?(v+=2,Ie=A):(E+=2,Ie=V,xe=ue),null!==Ie&&Pp(e,t,n,r,Ie,xe,u,p),A=v<o.length?o[v]:null,V=E<a.length?a[E]:null}}(o,p,u,u[Ye],u[a+1],u[a+1]=function RD(e,t,n){if(null==n||""===n)return ze;const r=[],o=ai(n);if(Array.isArray(o))for(let a=0;a<o.length;a++)e(r,o[a],!0);else if("object"==typeof o)for(const a in o)o.hasOwnProperty(a)&&e(r,a,o[a]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,a)}}function Ip(e,t){return t>=e.expandoStartIndex}function Ap(e,t,n,r){const o=e.data;if(null===o[n+1]){const a=o[ar()],u=Ip(e,n);Op(a,r)&&null===t&&!u&&(t=!1),t=function TD(e,t,n,r){const o=function ws(e){const t=st.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=oa(n=xu(null,e,t,n,r),t.attrs,r),a=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==o)if(n=xu(o,e,t,n,r),null===a){let v=function MD(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Mi(r))return e[li(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=xu(null,e,t,v[1],r),v=oa(v,t.attrs,r),function ID(e,t,n,r){e[li(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else a=function AD(e,t,n){let r;const o=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<o;a++)r=oa(r,e[a].hostAttrs,n);return oa(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(o,a,t,r),function mD(e,t,n,r,o,a){let u=a?t.classBindings:t.styleBindings,p=li(u),v=Mi(u);e[r]=n;let A,E=!1;if(Array.isArray(n)?(A=n[1],(null===A||Hi(n,A)>0)&&(E=!0)):A=n,o)if(0!==v){const te=li(e[p+1]);e[r+1]=Sc(te,p),0!==te&&(e[te+1]=Au(e[te+1],r)),e[p+1]=function pD(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=Sc(p,0),0!==p&&(e[p+1]=Au(e[p+1],r)),p=r;else e[r+1]=Sc(v,0),0===p?p=r:e[v+1]=Au(e[v+1],r),v=r;E&&(e[r+1]=Iu(e[r+1])),_p(e,A,r,!0),_p(e,A,r,!1),function yD(e,t,n,r,o){const a=o?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Hi(a,t)>=0&&(n[r+1]=Ru(n[r+1]))}(t,A,e,r,a),u=Sc(p,v),a?t.classBindings=u:t.styleBindings=u}(o,a,t,n,u,r)}}function xu(e,t,n,r,o){let a=null;const u=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<u&&(a=t[p],r=oa(r,a.hostAttrs,o),a!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function oa(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let a=0;a<t.length;a++){const u=t[a];"number"==typeof u?o=u:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),no(e,u,!!n||t[++a]))}return void 0===e?null:e}function Rp(e,t,n){no(e,t,ai(n))}function PD(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&no(e,r,n)}function Pp(e,t,n,r,o,a,u,p){if(!(3&t.type))return;const v=e.data,E=v[p+1],A=function gD(e){return 1==(1&e)}(E)?xp(v,t,n,o,Mi(E),u):void 0;Ec(A)||(Ec(a)||function hD(e){return 2==(2&e)}(E)&&(a=xp(v,null,n,o,p,u)),function yv(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let a=-1===r.indexOf("-")?void 0:Bo.DashCase;null==o?e.removeStyle(n,r,a):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),a|=Bo.Important),e.setStyle(n,r,o,a))}}(r,u,T(ar(),n),o,a))}function xp(e,t,n,r,o,a){const u=null===t;let p;for(;o>0;){const v=e[o],E=Array.isArray(v),A=E?v[1]:v,V=null===A;let te=n[o+1];te===Dt&&(te=V?ze:void 0);let ue=V?il(te,r):A===r?te:void 0;if(E&&!Ec(ue)&&(ue=il(v,r)),Ec(ue)&&(p=ue,u))return p;const Ie=e[o+1];o=u?li(Ie):Mi(Ie)}if(null!==t){let v=a?t.residualClasses:t.residualStyles;null!=v&&(p=il(v,r))}return p}function Ec(e){return void 0!==e}function Op(e,t){return 0!=(e.flags&(t?8:16))}function kp(e,t=""){const n=Pe(),r=Nt(),o=e+yt,a=r.firstCreatePass?Xi(r,o,1,t,null):r.data[o],u=Np(r,n,a,t,e);n[o]=u,Is()&&Ka(r,n,u,a),Ur(a,!1)}let Np=(e,t,n,r,o)=>(h(!0),function Za(e,t){return e.createText(t)}(t[Ye],r));function Ou(e){return wc("",e,""),Ou}function wc(e,t,n){const r=Pe(),o=ts(r,e,t,n);return o!==Dt&&ei(r,ar(),o),wc}function ku(e,t,n,r,o){const a=Pe(),u=ns(a,e,t,n,r,o);return u!==Dt&&ei(a,ar(),u),ku}function Hp(e,t,n){!function Uo(e){Mo(Rp,wD,e,!1)}(ts(Pe(),e,t,n))}const Ii=void 0;var eb=["en",[["a","p"],["AM","PM"],Ii],[["AM","PM"],Ii,Ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ii,"{1} 'at' {0}",Ii],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XD(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let us={};function Nu(e){const t=function tb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ng(t);if(n)return n;const r=t.split("-")[0];if(n=ng(r),n)return n;if("en"===r)return eb;throw new Y(701,!1)}function tg(e){return Nu(e)[ut.PluralCase]}function ng(e){return e in us||(us[e]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[e]),us[e]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const ds="en-US";let rg=ds;function Vu(e,t,n,r,o){if(e=Q(e),Array.isArray(e))for(let a=0;a<e.length;a++)Vu(e[a],t,n,r,o);else{const a=Nt(),u=Pe();let p=Ei(e)?e:Q(e.provide),v=Hf(e);const E=nr(),A=1048575&E.providerIndexes,V=E.directiveStart,te=E.providerIndexes>>20;if(Ei(e)||!e.multi){const ue=new Ke(v,o,Qi),Ie=ju(p,t,o?A:A+te,V);-1===Ie?(tl(Fa(E,u),a,p),Bu(a,e,t.length),t.push(p),E.directiveStart++,E.directiveEnd++,o&&(E.providerIndexes+=1048576),n.push(ue),u.push(ue)):(n[Ie]=ue,u[Ie]=ue)}else{const ue=ju(p,t,A+te,V),Ie=ju(p,t,A,A+te),je=Ie>=0&&n[Ie];if(o&&!je||!o&&!(ue>=0&&n[ue])){tl(Fa(E,u),a,p);const Xe=function Qb(e,t,n,r,o){const a=new Ke(e,n,Qi);return a.multi=[],a.index=t,a.componentProviders=0,Ig(a,o,r&&!n),a}(o?Jb:Kb,n.length,o,r,v);!o&&je&&(n[Ie].providerFactory=Xe),Bu(a,e,t.length,0),t.push(p),E.directiveStart++,E.directiveEnd++,o&&(E.providerIndexes+=1048576),n.push(Xe),u.push(Xe)}else Bu(a,e,ue>-1?ue:Ie,Ig(n[o?Ie:ue],v,!o&&r));!o&&r&&je&&n[Ie].componentProviders++}}}function Bu(e,t,n,r){const o=Ei(t),a=function Zv(e){return!!e.useClass}(t);if(o||a){const v=(a?Q(t.useClass):t).prototype.ngOnDestroy;if(v){const E=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const A=E.indexOf(n);-1===A?E.push(n,[r,v]):E[A+1].push(r,v)}else E.push(n,v)}}}function Ig(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ju(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function Kb(e,t,n,r){return $u(this.multi,[])}function Jb(e,t,n,r){const o=this.multi;let a;if(this.providerFactory){const u=this.providerFactory.componentProviders,p=bi(n,n[Fe],this.providerFactory.index,r);a=p.slice(0,u),$u(o,a);for(let v=u;v<p.length;v++)a.push(p[v])}else a=[],$u(o,a);return a}function $u(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ag(e,t=[]){return n=>{n.providersResolver=(r,o)=>function qb(e,t,n){const r=Nt();if(r.firstCreatePass){const o=Fn(e);Vu(n,r.data,r.blueprint,o,!0),Vu(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class fs{}class Rg{}function Xb(e,t){return new Uu(e,t??null,[])}class Uu extends fs{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Oh(this);const o=In(t);this._bootstrapComponents=Xo(o.bootstrap),this._r3Injector=mh(t,n,[{provide:fs,useValue:this},{provide:ac,useValue:this.componentFactoryResolver},...r],Ne(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Hu extends Rg{constructor(t){super(),this.moduleType=t}create(t){return new Uu(this.moduleType,t,[])}}class Pg extends fs{constructor(t){super(),this.componentFactoryResolver=new Oh(this),this.instance=null;const n=new Vl([...t.providers,{provide:fs,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],t.parent||nc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function xg(e,t,n=null){return new Pg({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let t0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Bf(0,n.type),o=r.length>0?xg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ft({token:e,providedIn:"environment",factory:()=>new e(_e(wi))}),e})();function Og(e){e.getStandaloneInjector=t=>t.get(t0).getOrCreateStandaloneInjector(e)}function zu(e){return t=>{setTimeout(e,void 0,t)}}const Go=class I0 extends l.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,a=n||(()=>null),u=r;if(t&&"object"==typeof t){const v=t;o=v.next?.bind(v),a=v.error?.bind(v),u=v.complete?.bind(v)}this.__isAsync&&(a=zu(a),o&&(o=zu(o)),u&&(u=zu(u)));const p=super.subscribe({next:o,error:a,complete:u});return t instanceof N.w0&&t.add(p),p}};function A0(){return this._results[Symbol.iterator]()}class Wu{get changes(){return this._changes||(this._changes=new Go)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Wu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=A0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function vo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Cy(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r];if(n&&(o=n(o),a=n(a)),a!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fa=(()=>{class e{}return e.__NG_ELEMENT_ID__=x0,e})();const R0=fa,P0=class extends R0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const o=this._declarationTContainer.tView,a=uc(this._declarationLView,o,t,16,null,o.declTNode,null,null,null,n||null,r||null);a[ur]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[Bn];return null!==p&&(a[Bn]=p.createEmbeddedView(o)),uu(o,a,t),new Qs(a)}};function x0(){return Rc(nr(),Pe())}function Rc(e,t){return 4&e.type?new P0(t,e,qi(e,t)):null}let Pc=(()=>{class e{}return e.__NG_ELEMENT_ID__=B0,e})();function B0(){return Kg(nr(),Pe())}const j0=Pc,Yg=class extends j0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return qi(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const t=el(this._hostTNode,this._hostLView);if(Td(t)){const n=ka(t,this._hostLView),r=Oa(t);return new Vi(n[Fe].data[r+8],n)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=qg(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(t,n,r){let o,a;"number"==typeof r?o=r:null!=r&&(o=r.index,a=r.injector);const p=t.createEmbeddedViewImpl(n||{},a,null);return this.insertImpl(p,o,false),p}createComponent(t,n,r,o,a){const u=t&&!function xs(e){return"function"==typeof e}(t);let p;if(u)p=n;else{const xe=n||{};p=xe.index,r=xe.injector,o=xe.projectableNodes,a=xe.environmentInjector||xe.ngModuleRef}const v=u?t:new Xs(St(t)),E=r||this.parentInjector;if(!a&&null==v.ngModule){const je=(u?E:this.parentInjector).get(wi,null);je&&(a=je)}St(v.componentType??{});const ue=v.create(E,o,null,a);return this.insertImpl(ue.hostView,p,false),ue}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView,a=o[Fe];if(function Yt(e){return dn(e[Vt])}(o)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const E=o[Vt],A=new Yg(E,E[Xt],E[Vt]);A.detach(A.indexOf(t))}}const u=this._adjustIndex(n),p=this._lContainer;if(function lv(e,t,n,r){const o=hn+r,a=n.length;r>0&&(n[o-1][An]=t),r<a-hn?(t[An]=n[o],Bd(n,hn+r,t)):(n.push(t),t[An]=null),t[Vt]=n;const u=t[ur];null!==u&&n!==u&&function uv(e,t){const n=e[_t];t[Ut]!==t[Vt][Vt][Ut]&&(e[lo]=!0),null===n?e[_t]=[t]:n.push(t)}(u,t);const p=t[Bn];null!==p&&p.insertView(e),t[lt]|=128}(a,o,p,u),!r){const v=Sl(u,p),E=o[Ye],A=qa(E,p[gn]);null!==A&&function sv(e,t,n,r,o,a){r[sn]=o,r[Xt]=t,Bs(e,r,n,1,o,a)}(a,p[Xt],E,o,A,v)}return t.attachToViewContainerRef(),Bd(Yu(p),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=qg(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=_l(this._lContainer,n);r&&(Va(Yu(this._lContainer),n),uf(r[Fe],r))}detach(t){const n=this._adjustIndex(t,-1),r=_l(this._lContainer,n);return r&&null!=Va(Yu(this._lContainer),n)?new Qs(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function qg(e){return e[uo]}function Yu(e){return e[uo]||(e[uo]=[])}function Kg(e,t){let n;const r=t[e.index];return dn(r)?n=r:(n=Th(r,t,null,e),t[e.index]=n,dc(t,n)),Jg(n,t,e,r),new Yg(n,e,t)}let Jg=function Qg(e,t,n,r){if(e[gn])return;let o;o=8&n.type?Zt(r):function $0(e,t){const n=e[Ye],r=n.createComment(""),o=C(t,e);return Si(n,qa(n,o),r,function pv(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[gn]=o};class qu{constructor(t){this.queryList=t,this.matches=null}clone(){return new qu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ku{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let a=0;a<r;a++){const u=n.getByIndex(a);o.push(this.queries[u.indexInDeclarationView].clone())}return new Ku(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==sm(t,n).matches&&this.queries[n].setDirty()}}class Xg{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Ju{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,o);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new Ju(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Qu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const a=r[o];this.matchTNodeWithReadOption(t,n,G0(n,a)),this.matchTNodeWithReadOption(t,n,La(n,t,a,!1,!1))}else r===fa?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,La(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Ys||o===Pc||o===fa&&4&n.type)this.addMatch(n.index,-2);else{const a=La(n,t,o,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function G0(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function W0(e,t,n,r){return-1===n?function z0(e,t){return 11&e.type?qi(e,t):4&e.type?Rc(e,t):null}(t,e):-2===n?function Z0(e,t,n){return n===Ys?qi(t,e):n===fa?Rc(t,e):n===Pc?Kg(t,e):void 0}(e,t,r):bi(e,e[Fe],n,t)}function em(e,t,n,r){const o=t[Bn].queries[r];if(null===o.matches){const a=e.data,u=n.matches,p=[];for(let v=0;v<u.length;v+=2){const E=u[v];p.push(E<0?null:W0(t,a[E],u[v+1],n.metadata.read))}o.matches=p}return o.matches}function Xu(e,t,n,r){const o=e.queries.getByIndex(n),a=o.matches;if(null!==a){const u=em(e,t,o,n);for(let p=0;p<a.length;p+=2){const v=a[p];if(v>0)r.push(u[p/2]);else{const E=a[p+1],A=t[-v];for(let V=hn;V<A.length;V++){const te=A[V];te[ur]===te[Vt]&&Xu(te[Fe],te,E,r)}if(null!==A[_t]){const V=A[_t];for(let te=0;te<V.length;te++){const ue=V[te];Xu(ue[Fe],ue,E,r)}}}}}return r}function tm(e){const t=Pe(),n=Nt(),r=Wc();Ma(r+1);const o=sm(n,r);if(e.dirty&&function Je(e){return 4==(4&e[lt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const a=o.crossesNgTemplate?Xu(n,t,r,[]):em(n,t,o,r);e.reset(a,p_),e.notifyOnChanges()}return!0}return!1}function nm(e,t,n,r){const o=Nt();if(o.firstCreatePass){const a=nr();(function im(e,t,n){null===e.queries&&(e.queries=new Ju),e.queries.track(new Qu(t,n))})(o,new Xg(t,n,r),a.index),function K0(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}!function om(e,t,n){const r=new Wu(4==(4&n));(function V_(e,t,n,r){const o=Ih(t);o.push(n),e.firstCreatePass&&Ah(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[Bn]&&(t[Bn]=new Ku),t[Bn].queries.push(new qu(r))}(o,Pe(),n)}function rm(){return function q0(e,t){return e[Bn].queries[t].queryList}(Pe(),Wc())}function sm(e,t){return e.queries.getByIndex(t)}function ed(e){return!!In(e)}const Sm=new en("Application Initializer");let id=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=$(Sm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const a=o();if(Tu(a))n.push(a);else if(op(a)){const u=new Promise((p,v)=>{a.subscribe({complete:p,error:v})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Em=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Oc=new en("LocaleId",{providedIn:"root",factory:()=>$(Oc,Ze.Optional|Ze.SkipSelf)||function vS(){return typeof $localize<"u"&&$localize.locale||ds}()}),_S=new en("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CS{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let DS=(()=>{class e{compileModuleSync(n){return new Hu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=Xo(In(n).declarations).reduce((u,p)=>{const v=St(p);return v&&u.push(new Xs(v)),u},[]);return new CS(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ES=(()=>Promise.resolve(0))();function sd(e){typeof Zone>"u"?ES.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function Mm(...e){}class yr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Go(!1),this.onMicrotaskEmpty=new Go(!1),this.onStable=new Go(!1),this.onError=new Go(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function wS(){let e=Qt.requestAnimationFrame,t=Qt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function IS(e){const t=()=>{!function MS(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Qt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,cd(e),e.isCheckStableRunning=!0,ad(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),cd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,a,u,p)=>{try{return Im(e),n.invokeTask(o,a,u,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Am(e)}},onInvoke:(n,r,o,a,u,p,v)=>{try{return Im(e),n.invoke(o,a,u,p,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),Am(e)}},onHasTask:(n,r,o,a)=>{n.hasTask(o,a),r===o&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,cd(e),ad(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,o,a)=>(n.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yr.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(yr.isInAngularZone())throw new Y(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const a=this._inner,u=a.scheduleEventTask("NgZoneEvent: "+o,t,TS,Mm,Mm);try{return a.runTask(u,n,r)}finally{a.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const TS={};function ad(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Im(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Am(e){e._nesting--,ad(e)}class AS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Go,this.onMicrotaskEmpty=new Go,this.onStable=new Go,this.onError=new Go}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Rm=new en("",{providedIn:"root",factory:Pm});function Pm(){const e=$(yr);let t=!0;return function j(...e){const t=(0,I.yG)(e),n=(0,I._6)(e,1/0),r=e;return r.length?1===r.length?(0,q.Xf)(r[0]):(0,ne.J)(n)((0,B.D)(r,t)):we.E}(new J.y(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new J.y(o=>{let a;e.runOutsideAngular(()=>{a=e.onStable.subscribe(()=>{yr.assertNotInAngularZone(),sd(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const u=e.onUnstable.subscribe(()=>{yr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{a.unsubscribe(),u.unsubscribe()}}).pipe(function De(e={}){const{connector:t=(()=>new l.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return a=>{let u,p,v,E=0,A=!1,V=!1;const te=()=>{p?.unsubscribe(),p=void 0},ue=()=>{te(),u=v=void 0,A=V=!1},Ie=()=>{const xe=u;ue(),xe?.unsubscribe()};return(0,ae.e)((xe,je)=>{E++,!V&&!A&&te();const Xe=v=v??t();je.add(()=>{E--,0===E&&!V&&!A&&(p=Ve(Ie,o))}),Xe.subscribe(je),!u&&E>0&&(u=new K.Hp({next:Ae=>Xe.next(Ae),error:Ae=>{V=!0,te(),p=Ve(ue,n,Ae),Xe.error(Ae)},complete:()=>{A=!0,te(),p=Ve(ue,r),Xe.complete()}}),(0,q.Xf)(xe).subscribe(u))})(a)}}()))}const xm=new en(""),Om=new en("");let ld,RS=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ld||(function PS(e){ld=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yr.assertNotInAngularZone(),sd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(_e(yr),_e(km),_e(Om))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})(),km=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ld?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),ui=null;const Nm=new en("AllowMultipleToken"),ud=new en("PlatformDestroyListeners"),dd=new en("appBootstrapListener");class kS{constructor(t,n){this.name=t,this.token=n}}function Vm(e,t,n=[]){const r=`Platform: ${t}`,o=new en(r);return(a=[])=>{let u=fd();if(!u||u.injector.get(Nm,!1)){const p=[...n,...a,{provide:o,useValue:!0}];e?e(p):function NS(e){if(ui&&!ui.get(Nm,!1))throw new Y(400,!1);(function Fm(){!function ga(e){ko=e}(()=>{throw new Y(600,!1)})})(),ui=e;const t=e.get(jm);(function Lm(e){e.get(zf,null)?.forEach(n=>n())})(e)}(function Bm(e=[],t){return ci.create({name:t,providers:[{provide:Fl,useValue:"platform"},{provide:ud,useValue:new Set([()=>ui=null])},...e]})}(p,r))}return function LS(e){const t=fd();if(!t)throw new Y(401,!1);return t}()}}function fd(){return ui?.get(jm)??null}let jm=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function VS(e="zone.js",t){return"noop"===e?new AS:"zone.js"===e?new yr(t):e}(r?.ngZone,function $m(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const a=function e0(e,t,n){return new Uu(e,t,n)}(n.moduleType,this.injector,function Wm(e){return[{provide:yr,useFactory:e},{provide:Gs,multi:!0,useFactory:()=>{const t=$(jS,{optional:!0});return()=>t.initialize()}},{provide:zm,useFactory:BS},{provide:Rm,useFactory:Pm}]}(()=>o)),u=a.injector.get(Ki,null);return o.runOutsideAngular(()=>{const p=o.onError.subscribe({next:v=>{u.handleError(v)}});a.onDestroy(()=>{kc(this._modules,a),p.unsubscribe()})}),function Um(e,t,n){try{const r=n();return Tu(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,o,()=>{const p=a.injector.get(id);return p.runInitializers(),p.donePromise.then(()=>(function og(e){mt(e,"Expected localeId to be defined"),"string"==typeof e&&(rg=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Oc,ds)||ds),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const o=Hm({},r);return function xS(e,t,n){const r=new Hu(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(n){const r=n.injector.get(gs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Y(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Y(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(ud,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(_e(ci))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Hm(e,t){return Array.isArray(t)?t.reduce(Hm,e):{...e,...t}}let gs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(zm),this.componentTypes=[],this.components=[],this.isStable=$(Rm),this._injector=$(wi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Jf;if(!this._injector.get(id).done)throw!o&&Tr(n),new Y(405,!1);let u;u=o?n:this._injector.get(ac).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const p=function OS(e){return e.isBoundToModule}(u)?void 0:this._injector.get(fs),E=u.create(ci.NULL,[],r||u.selector,p),A=E.location.nativeElement,V=E.injector.get(xm,null);return V?.registerApplication(A),E.onDestroy(()=>{this.detachView(E.hostView),kc(this.components,E),V?.unregisterApplication(A)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Y(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;kc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(dd,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>kc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Y(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const zm=new en("",{providedIn:"root",factory:()=>$(Ki).handleError.bind(void 0)});function BS(){const e=$(yr),t=$(Ki);return n=>e.runOutsideAngular(()=>t.handleError(n))}let jS=(()=>{class e{constructor(){this.zone=$(yr),this.applicationRef=$(gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let US=(()=>{class e{}return e.__NG_ELEMENT_ID__=HS,e})();function HS(e){return function GS(e,t,n){if(tr(e)&&!n){const r=Ee(e.index,t);return new Qs(r,r)}return 47&e.type?new Qs(t[Ut],t):null}(nr(),Pe(),16==(16&e))}class Km{constructor(){}supports(t){return gc(t)}create(t){return new KS(t)}}const qS=(e,t)=>t;class KS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||qS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,a=null;for(;n||r;){const u=!r||n&&n.currentIndex<Qm(r,o,a)?n:r,p=Qm(u,o,a),v=u.currentIndex;if(u===r)o--,r=r._nextRemoved;else if(n=n._next,null==u.previousIndex)o++;else{a||(a=[]);const E=p-o,A=v-o;if(E!=A){for(let te=0;te<E;te++){const ue=te<a.length?a[te]:a[te]=0,Ie=ue+te;A<=Ie&&Ie<E&&(a[te]=ue+1)}a[u.previousIndex]=A-E}}p!==v&&t(u,p,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!gc(t))throw new Y(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,a,u,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)a=t[p],u=this._trackByFn(p,a),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,a,u,p)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,u,p),r=!0),n=n._next}else o=0,function kC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,p=>{u=this._trackByFn(o,p),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,p,u,o)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,u,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,o)):t=this._addAfter(new JS(n,r),a,o),t}_verifyReinsertion(t,n,r,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,a=t._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Jm),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jm),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class JS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Jm{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new QS,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qm(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class Xm{constructor(){}supports(t){return t instanceof Map||pu(t)}create(){return new XS}}class XS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||pu(t)))throw new Y(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const a=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const a=o._prev,u=o._next;return a&&(a._next=u),u&&(u._prev=a),o._next=null,o._prev=null,o}const r=new eE(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class eE{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ey(){return new yd([new Km])}let yd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ey()),deps:[[e,new $a,new ja]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Y(901,!1)}}return e.\u0275prov=ft({token:e,providedIn:"root",factory:ey}),e})();function ty(){return new vd([new Xm])}let vd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ty()),deps:[[e,new $a,new ja]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Y(901,!1)}}return e.\u0275prov=ft({token:e,providedIn:"root",factory:ty}),e})();const rE=Vm(null,"core",[]);let oE=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(_e(gs))},e.\u0275mod=Kr({type:e}),e.\u0275inj=qn({}),e})(),ay=(()=>{class e{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=$(yr),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hE(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function gE(e){const t=St(e);if(!t)return null;const n=new Xs(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone}}}},5030:(et,X,M)=>{"use strict";M.d(X,{Wl:()=>L,Fj:()=>he,NI:()=>wn,u:()=>Ut,cw:()=>xt,sg:()=>kt,u5:()=>Ft,JJ:()=>We,JL:()=>ot,YN:()=>dr,eT:()=>Vt,UX:()=>fr,Q7:()=>dn,EJ:()=>jn,kI:()=>re,_Y:()=>In,Kr:()=>Oo});var l=M(3020),N=M(4755),J=M(2076),ne=M(9751),q=M(4742),we=M(8421),I=M(7669),B=M(5403),j=M(3268),K=M(1810),De=M(4004);let Ve=(()=>{class S{constructor(s,i){this._renderer=s,this._elementRef=i,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(s,i){this._renderer.setProperty(this._elementRef.nativeElement,s,i)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.Qsj),l.Y36(l.SBq))},S.\u0275dir=l.lG2({type:S}),S})(),ee=(()=>{class S extends Ve{}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,features:[l.qOj]}),S})();const Le=new l.OlP("NgValueAccessor"),Ne={provide:Le,useExisting:(0,l.Gpc)(()=>L),multi:!0};let L=(()=>{class S extends ee{writeValue(s){this.setProperty("checked",s)}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.checked)})("blur",function(){return i.onTouched()})},features:[l._Bn([Ne]),l.qOj]}),S})();const W={provide:Le,useExisting:(0,l.Gpc)(()=>he),multi:!0},Q=new l.OlP("CompositionEventMode");let he=(()=>{class S extends Ve{constructor(s,i,c){super(s,i),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function me(){const S=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(S.toLowerCase())}())}writeValue(s){this.setProperty("value",s??"")}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Q,8))},S.\u0275dir=l.lG2({type:S,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,i){1&s&&l.NdJ("input",function(f){return i._handleInput(f.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(f){return i._compositionEnd(f.target.value)})},features:[l._Bn([W]),l.qOj]}),S})();function pe(S){return null==S||("string"==typeof S||Array.isArray(S))&&0===S.length}function G(S){return null!=S&&"number"==typeof S.length}const fe=new l.OlP("NgValidators"),Y=new l.OlP("NgAsyncValidators"),Z=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class re{static min(D){return function F(S){return D=>{if(pe(D.value)||pe(S))return null;const s=parseFloat(D.value);return!isNaN(s)&&s<S?{min:{min:S,actual:D.value}}:null}}(D)}static max(D){return function Se(S){return D=>{if(pe(D.value)||pe(S))return null;const s=parseFloat(D.value);return!isNaN(s)&&s>S?{max:{max:S,actual:D.value}}:null}}(D)}static required(D){return Be(D)}static requiredTrue(D){return function Me(S){return!0===S.value?null:{required:!0}}(D)}static email(D){return function ct(S){return pe(S.value)||Z.test(S.value)?null:{email:!0}}(D)}static minLength(D){return function de(S){return D=>pe(D.value)||!G(D.value)?null:D.value.length<S?{minlength:{requiredLength:S,actualLength:D.value.length}}:null}(D)}static maxLength(D){return function ye(S){return D=>G(D.value)&&D.value.length>S?{maxlength:{requiredLength:S,actualLength:D.value.length}}:null}(D)}static pattern(D){return function ge(S){if(!S)return Re;let D,s;return"string"==typeof S?(s="","^"!==S.charAt(0)&&(s+="^"),s+=S,"$"!==S.charAt(S.length-1)&&(s+="$"),D=new RegExp(s)):(s=S.toString(),D=S),i=>{if(pe(i.value))return null;const c=i.value;return D.test(c)?null:{pattern:{requiredPattern:s,actualValue:c}}}}(D)}static nullValidator(D){return null}static compose(D){return ht(D)}static composeAsync(D){return pt(D)}}function Be(S){return pe(S.value)?{required:!0}:null}function Re(S){return null}function ke(S){return null!=S}function Oe(S){return(0,l.QGY)(S)?(0,J.D)(S):S}function Ue(S){let D={};return S.forEach(s=>{D=null!=s?{...D,...s}:D}),0===Object.keys(D).length?null:D}function rt(S,D){return D.map(s=>s(S))}function tt(S){return S.map(D=>function qt(S){return!S.validate}(D)?D:s=>D.validate(s))}function ht(S){if(!S)return null;const D=S.filter(ke);return 0==D.length?null:function(s){return Ue(rt(s,D))}}function Rt(S){return null!=S?ht(tt(S)):null}function pt(S){if(!S)return null;const D=S.filter(ke);return 0==D.length?null:function(s){return function ae(...S){const D=(0,I.jO)(S),{args:s,keys:i}=(0,q.D)(S),c=new ne.y(f=>{const{length:y}=s;if(!y)return void f.complete();const b=new Array(y);let x=y,R=y;for(let H=0;H<y;H++){let U=!1;(0,we.Xf)(s[H]).subscribe((0,B.x)(f,oe=>{U||(U=!0,R--),b[H]=oe},()=>x--,void 0,()=>{(!x||!U)&&(R||f.next(i?(0,K.n)(i,b):b),f.complete())}))}});return D?c.pipe((0,j.Z)(D)):c}(rt(s,D).map(Oe)).pipe((0,De.U)(Ue))}}function mt(S){return null!=S?pt(tt(S)):null}function at(S,D){return null===S?[D]:Array.isArray(S)?[...S,D]:[S,D]}function mn(S){return S._rawValidators}function tn(S){return S._rawAsyncValidators}function Cn(S){return S?Array.isArray(S)?S:[S]:[]}function ft(S,D){return Array.isArray(S)?S.includes(D):S===D}function rr(S,D){const s=Cn(D);return Cn(S).forEach(c=>{ft(s,c)||s.push(c)}),s}function qn(S,D){return Cn(D).filter(s=>!ft(S,s))}class qe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(D){this._rawValidators=D||[],this._composedValidatorFn=Rt(this._rawValidators)}_setAsyncValidators(D){this._rawAsyncValidators=D||[],this._composedAsyncValidatorFn=mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(D){this._onDestroyCallbacks.push(D)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(D=>D()),this._onDestroyCallbacks=[]}reset(D=void 0){this.control&&this.control.reset(D)}hasError(D,s){return!!this.control&&this.control.hasError(D,s)}getError(D,s){return this.control?this.control.getError(D,s):null}}class Ht extends qe{get formDirective(){return null}get path(){return null}}class Dn extends qe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bn{constructor(D){this._cd=D}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let We=(()=>{class S extends bn{constructor(s){super(s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(Dn,2))},S.\u0275dir=l.lG2({type:S,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,i){2&s&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),S})(),ot=(()=>{class S extends bn{constructor(s){super(s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(Ht,10))},S.\u0275dir=l.lG2({type:S,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,i){2&s&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),S})();const xn="VALID",yn="INVALID",cr="PENDING",Pt="DISABLED";function Ln(S){return(ce(S)?S.validators:S)||null}function ie(S,D){return(ce(D)?D.asyncValidators:S)||null}function ce(S){return null!=S&&!Array.isArray(S)&&"object"==typeof S}class Qe{constructor(D,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(D),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(D){this._rawValidators=this._composedValidatorFn=D}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(D){this._rawAsyncValidators=this._composedAsyncValidatorFn=D}get parent(){return this._parent}get valid(){return this.status===xn}get invalid(){return this.status===yn}get pending(){return this.status==cr}get disabled(){return this.status===Pt}get enabled(){return this.status!==Pt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(D){this._assignValidators(D)}setAsyncValidators(D){this._assignAsyncValidators(D)}addValidators(D){this.setValidators(rr(D,this._rawValidators))}addAsyncValidators(D){this.setAsyncValidators(rr(D,this._rawAsyncValidators))}removeValidators(D){this.setValidators(qn(D,this._rawValidators))}removeAsyncValidators(D){this.setAsyncValidators(qn(D,this._rawAsyncValidators))}hasValidator(D){return ft(this._rawValidators,D)}hasAsyncValidator(D){return ft(this._rawAsyncValidators,D)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(D={}){this.touched=!0,this._parent&&!D.onlySelf&&this._parent.markAsTouched(D)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(D=>D.markAllAsTouched())}markAsUntouched(D={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}markAsDirty(D={}){this.pristine=!1,this._parent&&!D.onlySelf&&this._parent.markAsDirty(D)}markAsPristine(D={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}markAsPending(D={}){this.status=cr,!1!==D.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!D.onlySelf&&this._parent.markAsPending(D)}disable(D={}){const s=this._parentMarkedDirty(D.onlySelf);this.status=Pt,this.errors=null,this._forEachChild(i=>{i.disable({...D,onlySelf:!0})}),this._updateValue(),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...D,skipPristineCheck:s}),this._onDisabledChange.forEach(i=>i(!0))}enable(D={}){const s=this._parentMarkedDirty(D.onlySelf);this.status=xn,this._forEachChild(i=>{i.enable({...D,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent}),this._updateAncestors({...D,skipPristineCheck:s}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(D){this._parent&&!D.onlySelf&&(this._parent.updateValueAndValidity(D),D.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(D){this._parent=D}getRawValue(){return this.value}updateValueAndValidity(D={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xn||this.status===cr)&&this._runAsyncValidator(D.emitEvent)),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!D.onlySelf&&this._parent.updateValueAndValidity(D)}_updateTreeValidity(D={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(D)),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pt:xn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(D){if(this.asyncValidator){this.status=cr,this._hasOwnPendingAsyncValidator=!0;const s=Oe(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:D})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(D,s={}){this.errors=D,this._updateControlsErrors(!1!==s.emitEvent)}get(D){let s=D;return null==s||(Array.isArray(s)||(s=s.split(".")),0===s.length)?null:s.reduce((i,c)=>i&&i._find(c),this)}getError(D,s){const i=s?this.get(s):this;return i&&i.errors?i.errors[D]:null}hasError(D,s){return!!this.getError(D,s)}get root(){let D=this;for(;D._parent;)D=D._parent;return D}_updateControlsErrors(D){this.status=this._calculateStatus(),D&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(D)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Pt:this.errors?yn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cr)?cr:this._anyControlsHaveStatus(yn)?yn:xn}_anyControlsHaveStatus(D){return this._anyControls(s=>s.status===D)}_anyControlsDirty(){return this._anyControls(D=>D.dirty)}_anyControlsTouched(){return this._anyControls(D=>D.touched)}_updatePristine(D={}){this.pristine=!this._anyControlsDirty(),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}_updateTouched(D={}){this.touched=this._anyControlsTouched(),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}_registerOnCollectionChange(D){this._onCollectionChange=D}_setUpdateStrategy(D){ce(D)&&null!=D.updateOn&&(this._updateOn=D.updateOn)}_parentMarkedDirty(D){return!D&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(D){return null}_assignValidators(D){this._rawValidators=Array.isArray(D)?D.slice():D,this._composedValidatorFn=function _e(S){return Array.isArray(S)?Rt(S):S||null}(this._rawValidators)}_assignAsyncValidators(D){this._rawAsyncValidators=Array.isArray(D)?D.slice():D,this._composedAsyncValidatorFn=function $(S){return Array.isArray(S)?mt(S):S||null}(this._rawAsyncValidators)}}class xt extends Qe{constructor(D,s,i){super(Ln(s),ie(i,s)),this.controls=D,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(D,s){return this.controls[D]?this.controls[D]:(this.controls[D]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(D,s,i={}){this.registerControl(D,s),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(D,s={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(D,s,i={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],s&&this.registerControl(D,s),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(D){return this.controls.hasOwnProperty(D)&&this.controls[D].enabled}setValue(D,s={}){(function $e(S,D,s){S._forEachChild((i,c)=>{if(void 0===s[c])throw new l.vHH(1002,"")})})(this,0,D),Object.keys(D).forEach(i=>{(function le(S,D,s){const i=S.controls;if(!(D?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[s])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(D[i],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(D,s={}){null!=D&&(Object.keys(D).forEach(i=>{const c=this.controls[i];c&&c.patchValue(D[i],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(D={},s={}){this._forEachChild((i,c)=>{i.reset(D[c],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(D,s,i)=>(D[i]=s.getRawValue(),D))}_syncPendingControls(){let D=this._reduceChildren(!1,(s,i)=>!!i._syncPendingControls()||s);return D&&this.updateValueAndValidity({onlySelf:!0}),D}_forEachChild(D){Object.keys(this.controls).forEach(s=>{const i=this.controls[s];i&&D(i,s)})}_setUpControls(){this._forEachChild(D=>{D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(D){for(const[s,i]of Object.entries(this.controls))if(this.contains(s)&&D(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(s,i,c)=>((i.enabled||this.disabled)&&(s[c]=i.value),s))}_reduceChildren(D,s){let i=D;return this._forEachChild((c,f)=>{i=s(i,c,f)}),i}_allControlsDisabled(){for(const D of Object.keys(this.controls))if(this.controls[D].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(D){return this.controls.hasOwnProperty(D)?this.controls[D]:null}}const Ot=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ze}),ze="always";function an(S,D,s=ze){lr(S,D),D.valueAccessor.writeValue(S.value),(S.disabled||"always"===s)&&D.valueAccessor.setDisabledState?.(S.disabled),function Jn(S,D){D.valueAccessor.registerOnChange(s=>{S._pendingValue=s,S._pendingChange=!0,S._pendingDirty=!0,"change"===S.updateOn&&xr(S,D)})}(S,D),function io(S,D){const s=(i,c)=>{D.valueAccessor.writeValue(i),c&&D.viewToModelUpdate(i)};S.registerOnChange(s),D._registerOnDestroy(()=>{S._unregisterOnChange(s)})}(S,D),function Wr(S,D){D.valueAccessor.registerOnTouched(()=>{S._pendingTouched=!0,"blur"===S.updateOn&&S._pendingChange&&xr(S,D),"submit"!==S.updateOn&&S.markAsTouched()})}(S,D),function Kn(S,D){if(D.valueAccessor.setDisabledState){const s=i=>{D.valueAccessor.setDisabledState(i)};S.registerOnDisabledChange(s),D._registerOnDestroy(()=>{S._unregisterOnDisabledChange(s)})}}(S,D)}function bt(S,D,s=!0){const i=()=>{};D.valueAccessor&&(D.valueAccessor.registerOnChange(i),D.valueAccessor.registerOnTouched(i)),Dr(S,D),S&&(D._invokeOnDestroyCallbacks(),S._registerOnCollectionChange(()=>{}))}function Cr(S,D){S.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(D)})}function lr(S,D){const s=mn(S);null!==D.validator?S.setValidators(at(s,D.validator)):"function"==typeof s&&S.setValidators([s]);const i=tn(S);null!==D.asyncValidator?S.setAsyncValidators(at(i,D.asyncValidator)):"function"==typeof i&&S.setAsyncValidators([i]);const c=()=>S.updateValueAndValidity();Cr(D._rawValidators,c),Cr(D._rawAsyncValidators,c)}function Dr(S,D){let s=!1;if(null!==S){if(null!==D.validator){const c=mn(S);if(Array.isArray(c)&&c.length>0){const f=c.filter(y=>y!==D.validator);f.length!==c.length&&(s=!0,S.setValidators(f))}}if(null!==D.asyncValidator){const c=tn(S);if(Array.isArray(c)&&c.length>0){const f=c.filter(y=>y!==D.asyncValidator);f.length!==c.length&&(s=!0,S.setAsyncValidators(f))}}}const i=()=>{};return Cr(D._rawValidators,i),Cr(D._rawAsyncValidators,i),s}function xr(S,D){S._pendingDirty&&S.markAsDirty(),S.setValue(S._pendingValue,{emitModelToViewChange:!1}),D.viewToModelUpdate(S._pendingValue),S._pendingChange=!1}function Do(S,D){const s=S.indexOf(D);s>-1&&S.splice(s,1)}function kr(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}const wn=class extends Qe{constructor(D=null,s,i){super(Ln(s),ie(i,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(D),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ce(s)&&(s.nonNullable||s.initialValueIsDefault)&&(this.defaultValue=kr(D)?D.value:D)}setValue(D,s={}){this.value=this._pendingValue=D,this._onChange.length&&!1!==s.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==s.emitViewToModelChange)),this.updateValueAndValidity(s)}patchValue(D,s={}){this.setValue(D,s)}reset(D=this.defaultValue,s={}){this._applyFormState(D),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(D){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(D){this._onChange.push(D)}_unregisterOnChange(D){Do(this._onChange,D)}registerOnDisabledChange(D){this._onDisabledChange.push(D)}_unregisterOnDisabledChange(D){Do(this._onDisabledChange,D)}_forEachChild(D){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(D){kr(D)?(this.value=this._pendingValue=D.value,D.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=D}};let In=(()=>{class S{}return S.\u0275fac=function(s){return new(s||S)},S.\u0275dir=l.lG2({type:S,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),S})(),Fr=(()=>{class S{}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({}),S})();const lt={provide:Le,useExisting:(0,l.Gpc)(()=>Vt),multi:!0};let Vt=(()=>{class S extends ee{writeValue(s){this.setProperty("value",parseFloat(s))}registerOnChange(s){this.onChange=i=>{s(""==i?null:parseFloat(i))}}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.value)})("input",function(f){return i.onChange(f.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([lt]),l.qOj]}),S})();const An=new l.OlP("NgModelWithFormControlWarning"),be={provide:Ht,useExisting:(0,l.Gpc)(()=>kt)};let kt=(()=>{class S extends Ht{constructor(s,i,c){super(),this.callSetDisabledState=c,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(s),this._setAsyncValidators(i)}ngOnChanges(s){this._checkFormPresent(),s.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(s){const i=this.form.get(s.path);return an(i,s,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(s),i}getControl(s){return this.form.get(s.path)}removeControl(s){bt(s.control||null,s,!1),function Er(S,D){const s=S.indexOf(D);s>-1&&S.splice(s,1)}(this.directives,s)}addFormGroup(s){this._setUpFormContainer(s)}removeFormGroup(s){this._cleanUpFormContainer(s)}getFormGroup(s){return this.form.get(s.path)}addFormArray(s){this._setUpFormContainer(s)}removeFormArray(s){this._cleanUpFormContainer(s)}getFormArray(s){return this.form.get(s.path)}updateModel(s,i){this.form.get(s.path).setValue(i)}onSubmit(s){return this.submitted=!0,function Ro(S,D){S._syncPendingControls(),D.forEach(s=>{const i=s.control;"submit"===i.updateOn&&i._pendingChange&&(s.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(s),"dialog"===s?.target?.method}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_updateDomValue(){this.directives.forEach(s=>{const i=s.control,c=this.form.get(s.path);i!==c&&(bt(i||null,s),(S=>S instanceof wn)(c)&&(an(c,s,this.callSetDisabledState),s.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(s){const i=this.form.get(s.path);(function Vn(S,D){lr(S,D)})(i,s),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(s){if(this.form){const i=this.form.get(s.path);i&&function Gn(S,D){return Dr(S,D)}(i,s)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lr(this.form,this),this._oldForm&&Dr(this._oldForm,this)}_checkFormPresent(){}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(fe,10),l.Y36(Y,10),l.Y36(Ot,8))},S.\u0275dir=l.lG2({type:S,selectors:[["","formGroup",""]],hostBindings:function(s,i){1&s&&l.NdJ("submit",function(f){return i.onSubmit(f)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([be]),l.qOj,l.TTD]}),S})();const zn={provide:Dn,useExisting:(0,l.Gpc)(()=>Ut)};let Ut=(()=>{class S extends Dn{set isDisabled(s){}constructor(s,i,c,f,y){super(),this._ngModelWarningConfig=y,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=s,this._setValidators(i),this._setAsyncValidators(c),this.valueAccessor=function Or(S,D){if(!D)return null;let s,i,c;return Array.isArray(D),D.forEach(f=>{f.constructor===he?s=f:function Zr(S){return Object.getPrototypeOf(S.constructor)===ee}(f)?i=f:c=f}),c||i||s||null}(0,f)}ngOnChanges(s){this._added||this._setUpControl(),function On(S,D){if(!S.hasOwnProperty("model"))return!1;const s=S.model;return!!s.isFirstChange()||!Object.is(D,s.currentValue)}(s,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}get path(){return function un(S,D){return[...D.path,S]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return S._ngModelWarningSentOnce=!1,S.\u0275fac=function(s){return new(s||S)(l.Y36(Ht,13),l.Y36(fe,10),l.Y36(Y,10),l.Y36(Le,10),l.Y36(An,8))},S.\u0275dir=l.lG2({type:S,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([zn]),l.qOj,l.TTD]}),S})();const ur={provide:Le,useExisting:(0,l.Gpc)(()=>jn),multi:!0};function sr(S,D){return null==S?`${D}`:(D&&"object"==typeof D&&(D="Object"),`${S}: ${D}`.slice(0,50))}let jn=(()=>{class S extends ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){this.value=s;const c=sr(this._getOptionId(s),s);this.setProperty("value",c)}registerOnChange(s){this.onChange=i=>{this.value=this._getOptionValue(i),s(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(s){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),s))return i;return null}_getOptionValue(s){const i=function Bn(S){return S.split(":")[0]}(s);return this._optionMap.has(i)?this._optionMap.get(i):s}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([ur]),l.qOj]}),S})(),dr=(()=>{class S{constructor(s,i,c){this._element=s,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(s){null!=this._select&&(this._select._optionMap.set(this.id,s),this._setElementValue(sr(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._setElementValue(s),this._select&&this._select.writeValue(this._select.value)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(jn,9))},S.\u0275dir=l.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})();const Xn={provide:Le,useExisting:(0,l.Gpc)(()=>yt),multi:!0};function er(S,D){return null==S?`${D}`:("string"==typeof D&&(D=`'${D}'`),D&&"object"==typeof D&&(D="Object"),`${S}: ${D}`.slice(0,50))}let yt=(()=>{class S extends ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){let i;if(this.value=s,Array.isArray(s)){const c=s.map(f=>this._getOptionId(f));i=(f,y)=>{f._setSelected(c.indexOf(y.toString())>-1)}}else i=(c,f)=>{c._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(s){this.onChange=i=>{const c=[],f=i.selectedOptions;if(void 0!==f){const y=f;for(let b=0;b<y.length;b++){const R=this._getOptionValue(y[b].value);c.push(R)}}else{const y=i.options;for(let b=0;b<y.length;b++){const x=y[b];if(x.selected){const R=this._getOptionValue(x.value);c.push(R)}}}this.value=c,s(c)}}_registerOption(s){const i=(this._idCounter++).toString();return this._optionMap.set(i,s),i}_getOptionId(s){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,s))return i;return null}_getOptionValue(s){const i=function bo(S){return S.split(":")[0]}(s);return this._optionMap.has(i)?this._optionMap.get(i)._value:s}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Xn]),l.qOj]}),S})(),Oo=(()=>{class S{constructor(s,i,c){this._element=s,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(s){null!=this._select&&(this._value=s,this._setElementValue(er(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._select?(this._value=s,this._setElementValue(er(this.id,s)),this._select.writeValue(this._select.value)):this._setElementValue(s)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}_setSelected(s){this._renderer.setProperty(this._element.nativeElement,"selected",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(yt,9))},S.\u0275dir=l.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})(),gn=(()=>{class S{constructor(){this._validator=Re}ngOnChanges(s){if(this.inputName in s){const i=this.normalizeInput(s[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Re,this._onChange&&this._onChange()}}validate(s){return this._validator(s)}registerOnValidatorChange(s){this._onChange=s}enabled(s){return null!=s}}return S.\u0275fac=function(s){return new(s||S)},S.\u0275dir=l.lG2({type:S,features:[l.TTD]}),S})();const ni={provide:fe,useExisting:(0,l.Gpc)(()=>dn),multi:!0};let dn=(()=>{class S extends gn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=s=>Be}enabled(s){return s}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,i){2&s&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([ni]),l.qOj]}),S})(),po=(()=>{class S{}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[Fr]}),S})(),Ft=(()=>{class S{static withConfig(s){return{ngModule:S,providers:[{provide:Ot,useValue:s.callSetDisabledState??ze}]}}}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[po]}),S})(),fr=(()=>{class S{static withConfig(s){return{ngModule:S,providers:[{provide:An,useValue:s.warnOnNgModelWithFormControl??"always"},{provide:Ot,useValue:s.callSetDisabledState??ze}]}}}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[po]}),S})()},6550:(et,X,M)=>{"use strict";M.d(X,{Dx:()=>Dn,b2:()=>ft,q6:()=>at});var l=M(3020),N=M(4755);class J extends N.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends J{static makeCurrent(){(0,N.HT)(new ne)}onAndCancel(ie,$,ce){return ie.addEventListener($,ce),()=>{ie.removeEventListener($,ce)}}dispatchEvent(ie,$){ie.dispatchEvent($)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,$){return($=$||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,$){return"window"===$?window:"document"===$?ie:"body"===$?ie.body:null}getBaseHref(ie){const $=function we(){return q=q||document.querySelector("base"),q?q.getAttribute("href"):null}();return null==$?null:function B(_e){I=I||document.createElement("a"),I.setAttribute("href",_e);const ie=I.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}($)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,N.Mx)(document.cookie,ie)}}let I,q=null,K=(()=>{class _e{build(){return new XMLHttpRequest}}return _e.\u0275fac=function($){return new($||_e)},_e.\u0275prov=l.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const ae=new l.OlP("EventManagerPlugins");let De=(()=>{class _e{constructor($,ce){this._zone=ce,this._eventNameToPlugin=new Map,$.forEach(le=>{le.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,ce,le){return this._findPluginFor(ce).addEventListener($,ce,le)}getZone(){return this._zone}_findPluginFor($){let ce=this._eventNameToPlugin.get($);if(ce)return ce;if(ce=this._plugins.find($e=>$e.supports($)),!ce)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set($,ce),ce}}return _e.\u0275fac=function($){return new($||_e)(l.LFG(ae),l.LFG(l.R0b))},_e.\u0275prov=l.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class Ve{constructor(ie){this._doc=ie}}const ee="ng-app-id";let Le=(()=>{class _e{constructor($,ce,le,$e={}){this.doc=$,this.appId=ce,this.nonce=le,this.platformId=$e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,N.PM)($e),this.resetHostNodes()}addStyles($){for(const ce of $)1===this.changeUsageCount(ce,1)&&this.onStyleAdded(ce)}removeStyles($){for(const ce of $)this.changeUsageCount(ce,-1)<=0&&this.onStyleRemoved(ce)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(ce=>ce.remove()),$.clear());for(const ce of this.getAllStyles())this.onStyleRemoved(ce);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const ce of this.getAllStyles())this.addStyleToHost($,ce)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const ce of this.hostNodes)this.addStyleToHost(ce,$)}onStyleRemoved($){const ce=this.styleRef;ce.get($)?.elements?.forEach(le=>le.remove()),ce.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${ee}="${this.appId}"]`);if($?.length){const ce=new Map;return $.forEach(le=>{null!=le.textContent&&ce.set(le.textContent,le)}),ce}return null}changeUsageCount($,ce){const le=this.styleRef;if(le.has($)){const $e=le.get($);return $e.usage+=ce,$e.usage}return le.set($,{usage:ce,elements:[]}),ce}getStyleElement($,ce){const le=this.styleNodesInDOM,$e=le?.get(ce);if($e?.parentNode===$)return le.delete(ce),$e.removeAttribute(ee),$e;{const Qe=this.doc.createElement("style");return this.nonce&&Qe.setAttribute("nonce",this.nonce),Qe.textContent=ce,this.platformIsServer&&Qe.setAttribute(ee,this.appId),Qe}}addStyleToHost($,ce){const le=this.getStyleElement($,ce);$.appendChild(le);const $e=this.styleRef,Qe=$e.get(ce)?.elements;Qe?Qe.push(le):$e.set(ce,{elements:[le],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}}return _e.\u0275fac=function($){return new($||_e)(l.LFG(N.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},_e.\u0275prov=l.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},L=/%COMP%/g,W="%COMP%",me=`_nghost-${W}`,Q=`_ngcontent-${W}`,pe=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Y(_e,ie){return ie.map($=>$.replace(L,_e))}let Z=(()=>{class _e{constructor($,ce,le,$e,Qe,xt,it,Gt=null){this.eventManager=$,this.sharedStylesHost=ce,this.appId=le,this.removeStylesOnCompDestory=$e,this.doc=Qe,this.platformId=xt,this.ngZone=it,this.nonce=Gt,this.rendererByCompId=new Map,this.platformIsServer=(0,N.PM)(xt),this.defaultRenderer=new re($,Qe,it,this.platformIsServer)}createRenderer($,ce){if(!$||!ce)return this.defaultRenderer;this.platformIsServer&&ce.encapsulation===l.ifc.ShadowDom&&(ce={...ce,encapsulation:l.ifc.Emulated});const le=this.getOrCreateRenderer($,ce);return le instanceof de?le.applyToHost($):le instanceof ct&&le.applyStyles(),le}getOrCreateRenderer($,ce){const le=this.rendererByCompId;let $e=le.get(ce.id);if(!$e){const Qe=this.doc,xt=this.ngZone,it=this.eventManager,Gt=this.sharedStylesHost,rn=this.removeStylesOnCompDestory,fn=this.platformIsServer;switch(ce.encapsulation){case l.ifc.Emulated:$e=new de(it,Gt,ce,this.appId,rn,Qe,xt,fn);break;case l.ifc.ShadowDom:return new Me(it,Gt,$,ce,Qe,xt,this.nonce,fn);default:$e=new ct(it,Gt,ce,rn,Qe,xt,fn)}$e.onDestroy=()=>le.delete(ce.id),le.set(ce.id,$e)}return $e}ngOnDestroy(){this.rendererByCompId.clear()}}return _e.\u0275fac=function($){return new($||_e)(l.LFG(De),l.LFG(Le),l.LFG(l.AFp),l.LFG(pe),l.LFG(N.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},_e.\u0275prov=l.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class re{constructor(ie,$,ce,le){this.eventManager=ie,this.doc=$,this.ngZone=ce,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,$){return $?this.doc.createElementNS(Ne[$]||$,ie):this.doc.createElement(ie)}createComment(ie){return this.doc.createComment(ie)}createText(ie){return this.doc.createTextNode(ie)}appendChild(ie,$){(Be(ie)?ie.content:ie).appendChild($)}insertBefore(ie,$,ce){ie&&(Be(ie)?ie.content:ie).insertBefore($,ce)}removeChild(ie,$){ie&&ie.removeChild($)}selectRootElement(ie,$){let ce="string"==typeof ie?this.doc.querySelector(ie):ie;if(!ce)throw new l.vHH(5104,!1);return $||(ce.textContent=""),ce}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,$,ce,le){if(le){$=le+":"+$;const $e=Ne[le];$e?ie.setAttributeNS($e,$,ce):ie.setAttribute($,ce)}else ie.setAttribute($,ce)}removeAttribute(ie,$,ce){if(ce){const le=Ne[ce];le?ie.removeAttributeNS(le,$):ie.removeAttribute(`${ce}:${$}`)}else ie.removeAttribute($)}addClass(ie,$){ie.classList.add($)}removeClass(ie,$){ie.classList.remove($)}setStyle(ie,$,ce,le){le&(l.JOm.DashCase|l.JOm.Important)?ie.style.setProperty($,ce,le&l.JOm.Important?"important":""):ie.style[$]=ce}removeStyle(ie,$,ce){ce&l.JOm.DashCase?ie.style.removeProperty($):ie.style[$]=""}setProperty(ie,$,ce){ie[$]=ce}setValue(ie,$){ie.nodeValue=$}listen(ie,$,ce){if("string"==typeof ie&&!(ie=(0,N.q)().getGlobalEventTarget(this.doc,ie)))throw new Error(`Unsupported event target ${ie} for event ${$}`);return this.eventManager.addEventListener(ie,$,this.decoratePreventDefault(ce))}decoratePreventDefault(ie){return $=>{if("__ngUnwrap__"===$)return ie;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ie($)):ie($))&&$.preventDefault()}}}function Be(_e){return"TEMPLATE"===_e.tagName&&void 0!==_e.content}class Me extends re{constructor(ie,$,ce,le,$e,Qe,xt,it){super(ie,$e,Qe,it),this.sharedStylesHost=$,this.hostEl=ce,this.shadowRoot=ce.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gt=Y(le.id,le.styles);for(const rn of Gt){const fn=document.createElement("style");xt&&fn.setAttribute("nonce",xt),fn.textContent=rn,this.shadowRoot.appendChild(fn)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}appendChild(ie,$){return super.appendChild(this.nodeOrShadowRoot(ie),$)}insertBefore(ie,$,ce){return super.insertBefore(this.nodeOrShadowRoot(ie),$,ce)}removeChild(ie,$){return super.removeChild(this.nodeOrShadowRoot(ie),$)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ct extends re{constructor(ie,$,ce,le,$e,Qe,xt,it){super(ie,$e,Qe,xt),this.sharedStylesHost=$,this.removeStylesOnCompDestory=le,this.rendererUsageCount=0,this.styles=it?Y(it,ce.styles):ce.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class de extends ct{constructor(ie,$,ce,le,$e,Qe,xt,it){const Gt=le+"-"+ce.id;super(ie,$,ce,$e,Qe,xt,it,Gt),this.contentAttr=function G(_e){return Q.replace(L,_e)}(Gt),this.hostAttr=function fe(_e){return me.replace(L,_e)}(Gt)}applyToHost(ie){this.applyStyles(),this.setAttribute(ie,this.hostAttr,"")}createElement(ie,$){const ce=super.createElement(ie,$);return super.setAttribute(ce,this.contentAttr,""),ce}}let ye=(()=>{class _e extends Ve{constructor($){super($)}supports($){return!0}addEventListener($,ce,le){return $.addEventListener(ce,le,!1),()=>this.removeEventListener($,ce,le)}removeEventListener($,ce,le){return $.removeEventListener(ce,le)}}return _e.\u0275fac=function($){return new($||_e)(l.LFG(N.K0))},_e.\u0275prov=l.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const ge=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ke={alt:_e=>_e.altKey,control:_e=>_e.ctrlKey,meta:_e=>_e.metaKey,shift:_e=>_e.shiftKey};let Oe=(()=>{class _e extends Ve{constructor($){super($)}supports($){return null!=_e.parseEventName($)}addEventListener($,ce,le){const $e=_e.parseEventName(ce),Qe=_e.eventCallback($e.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,N.q)().onAndCancel($,$e.domEventName,Qe))}static parseEventName($){const ce=$.toLowerCase().split("."),le=ce.shift();if(0===ce.length||"keydown"!==le&&"keyup"!==le)return null;const $e=_e._normalizeKey(ce.pop());let Qe="",xt=ce.indexOf("code");if(xt>-1&&(ce.splice(xt,1),Qe="code."),ge.forEach(Gt=>{const rn=ce.indexOf(Gt);rn>-1&&(ce.splice(rn,1),Qe+=Gt+".")}),Qe+=$e,0!=ce.length||0===$e.length)return null;const it={};return it.domEventName=le,it.fullKey=Qe,it}static matchEventFullKeyCode($,ce){let le=Re[$.key]||$.key,$e="";return ce.indexOf("code.")>-1&&(le=$.code,$e="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),ge.forEach(Qe=>{Qe!==le&&(0,ke[Qe])($)&&($e+=Qe+".")}),$e+=le,$e===ce)}static eventCallback($,ce,le){return $e=>{_e.matchEventFullKeyCode($e,$)&&le.runGuarded(()=>ce($e))}}static _normalizeKey($){return"esc"===$?"escape":$}}return _e.\u0275fac=function($){return new($||_e)(l.LFG(N.K0))},_e.\u0275prov=l.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const at=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:N.bD},{provide:l.g9A,useValue:function ht(){ne.makeCurrent()},multi:!0},{provide:N.K0,useFactory:function pt(){return(0,l.RDi)(document),document},deps:[]}]),mn=new l.OlP(""),tn=[{provide:l.rWj,useClass:class j{addToWindow(ie){l.dqk.getAngularTestability=(ce,le=!0)=>{const $e=ie.findTestabilityInTree(ce,le);if(null==$e)throw new l.vHH(5103,!1);return $e},l.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(ce=>{const le=l.dqk.getAllAngularTestabilities();let $e=le.length,Qe=!1;const xt=function(it){Qe=Qe||it,$e--,0==$e&&ce(Qe)};le.forEach(function(it){it.whenStable(xt)})})}findTestabilityInTree(ie,$,ce){return null==$?null:ie.getTestability($)??(ce?(0,N.q)().isShadowRoot($)?this.findTestabilityInTree(ie,$.host,!0):this.findTestabilityInTree(ie,$.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Cn=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Rt(){return new l.qLn},deps:[]},{provide:ae,useClass:ye,multi:!0,deps:[N.K0,l.R0b,l.Lbi]},{provide:ae,useClass:Oe,multi:!0,deps:[N.K0]},Z,Le,De,{provide:l.FYo,useExisting:Z},{provide:N.JF,useClass:K,deps:[]},[]];let ft=(()=>{class _e{constructor($){}static withServerTransition($){return{ngModule:_e,providers:[{provide:l.AFp,useValue:$.appId}]}}}return _e.\u0275fac=function($){return new($||_e)(l.LFG(mn,12))},_e.\u0275mod=l.oAB({type:_e}),_e.\u0275inj=l.cJS({providers:[...Cn,...tn],imports:[N.ez,l.hGG]}),_e})(),Dn=(()=>{class _e{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}}return _e.\u0275fac=function($){return new($||_e)(l.LFG(N.K0))},_e.\u0275prov=l.Yz7({token:_e,factory:function($){let ce=null;return ce=$?new $:function Ht(){return new Dn((0,l.LFG)(N.K0))}(),ce},providedIn:"root"}),_e})();typeof window<"u"&&window},1932:(et,X,M)=>{"use strict";M.d(X,{F0:()=>Rr,rH:()=>Pe,Od:()=>Nt,Bz:()=>xa,lC:()=>jn});var l=M(3020),N=M(9751),J=M(576),q=M(2076),we=M(7669);function I(...h){const g=(0,we.yG)(h);return(0,q.D)(h,g)}var B=M(7579);class j extends B.x{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const d=super._subscribe(g);return!d.closed&&g.next(this._value),d}getValue(){const{hasError:g,thrownError:d,_value:m}=this;if(g)throw d;return this._throwIfClosed(),m}next(g){super.next(this._value=g)}}var K=M(4742),ae=M(4671),De=M(3268),Ve=M(1810),ee=M(5403),Le=M(9672);function Ne(...h){const g=(0,we.yG)(h),d=(0,we.jO)(h),{args:m,keys:w}=(0,K.D)(h);if(0===m.length)return(0,q.D)([],g);const O=new N.y(function L(h,g,d=ae.y){return m=>{W(g,()=>{const{length:w}=h,O=new Array(w);let k=w,se=w;for(let Te=0;Te<w;Te++)W(g,()=>{const He=(0,q.D)(h[Te],g);let Ke=!1;He.subscribe((0,ee.x)(m,Lt=>{O[Te]=Lt,Ke||(Ke=!0,se--),se||m.next(d(O.slice()))},()=>{--k||m.complete()}))},m)},m)}}(m,g,w?k=>(0,Ve.n)(w,k):ae.y));return d?O.pipe((0,De.Z)(d)):O}function W(h,g,d){h?(0,Le.f)(d,h,g):g()}const Q=(0,M(3888).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"});var he=M(8189);function G(...h){return function pe(){return(0,he.J)(1)}()((0,q.D)(h,(0,we.yG)(h)))}var fe=M(8421);function Y(h){return new N.y(g=>{(0,fe.Xf)(h()).subscribe(g)})}var Z=M(9635);function re(h,g){const d=(0,J.m)(h)?h:()=>h,m=w=>w.error(d());return new N.y(g?w=>g.schedule(m,0,w):m)}var F=M(515),Se=M(727),Be=M(4482);function Me(){return(0,Be.e)((h,g)=>{let d=null;h._refCount++;const m=(0,ee.x)(g,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(d=null);const w=h._connection,O=d;d=null,w&&(!O||w===O)&&w.unsubscribe(),g.unsubscribe()});h.subscribe(m),m.closed||(d=h.connect())})}class ct extends N.y{constructor(g,d){super(),this.source=g,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,Be.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new Se.w0;const d=this.getSubject();g.add(this.source.subscribe((0,ee.x)(d,void 0,()=>{this._teardown(),d.complete()},m=>{this._teardown(),d.error(m)},()=>this._teardown()))),g.closed&&(this._connection=null,g=Se.w0.EMPTY)}return g}refCount(){return Me()(this)}}var de=M(4755),ye=M(4004);function ge(h,g){return(0,Be.e)((d,m)=>{let w=null,O=0,k=!1;const se=()=>k&&!w&&m.complete();d.subscribe((0,ee.x)(m,Te=>{w?.unsubscribe();let He=0;const Ke=O++;(0,fe.Xf)(h(Te,Ke)).subscribe(w=(0,ee.x)(m,Lt=>m.next(g?g(Te,Lt,Ke,He++):Lt),()=>{w=null,se()}))},()=>{k=!0,se()}))})}function Re(h){return h<=0?()=>F.E:(0,Be.e)((g,d)=>{let m=0;g.subscribe((0,ee.x)(d,w=>{++m<=h&&(d.next(w),h<=m&&d.complete())}))})}function Oe(h,g){return(0,Be.e)((d,m)=>{let w=0;d.subscribe((0,ee.x)(m,O=>h.call(g,O,w++)&&m.next(O)))})}var Ue=M(5577);function rt(h){return(0,Be.e)((g,d)=>{let m=!1;g.subscribe((0,ee.x)(d,w=>{m=!0,d.next(w)},()=>{m||d.next(h),d.complete()}))})}function qt(h=tt){return(0,Be.e)((g,d)=>{let m=!1;g.subscribe((0,ee.x)(d,w=>{m=!0,d.next(w)},()=>m?d.complete():d.error(h())))})}function tt(){return new Q}function ht(h,g){const d=arguments.length>=2;return m=>m.pipe(h?Oe((w,O)=>h(w,O,m)):ae.y,Re(1),d?rt(g):qt(()=>new Q))}function Rt(h,g){return(0,J.m)(g)?(0,Ue.z)(h,g,1):(0,Ue.z)(h,1)}function pt(h,g,d){const m=(0,J.m)(h)||g||d?{next:h,error:g,complete:d}:h;return m?(0,Be.e)((w,O)=>{var k;null===(k=m.subscribe)||void 0===k||k.call(m);let se=!0;w.subscribe((0,ee.x)(O,Te=>{var He;null===(He=m.next)||void 0===He||He.call(m,Te),O.next(Te)},()=>{var Te;se=!1,null===(Te=m.complete)||void 0===Te||Te.call(m),O.complete()},Te=>{var He;se=!1,null===(He=m.error)||void 0===He||He.call(m,Te),O.error(Te)},()=>{var Te,He;se&&(null===(Te=m.unsubscribe)||void 0===Te||Te.call(m)),null===(He=m.finalize)||void 0===He||He.call(m)}))}):ae.y}function mt(h){return(0,Be.e)((g,d)=>{let O,m=null,w=!1;m=g.subscribe((0,ee.x)(d,void 0,void 0,k=>{O=(0,fe.Xf)(h(k,mt(h)(g))),m?(m.unsubscribe(),m=null,O.subscribe(d)):w=!0})),w&&(m.unsubscribe(),m=null,O.subscribe(d))})}function tn(h){return h<=0?()=>F.E:(0,Be.e)((g,d)=>{let m=[];g.subscribe((0,ee.x)(d,w=>{m.push(w),h<m.length&&m.shift()},()=>{for(const w of m)d.next(w);d.complete()},void 0,()=>{m=null}))})}function rr(h){return(0,Be.e)((g,d)=>{try{g.subscribe(d)}finally{d.add(h)}})}var qn=M(6550);const qe="primary",Ht=Symbol("RouteTitle");class Dn{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d[0]:d}return null}getAll(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function bn(h){return new Dn(h)}function Hn(h,g,d){const m=d.path.split("/");if(m.length>h.length||"full"===d.pathMatch&&(g.hasChildren()||m.length<h.length))return null;const w={};for(let O=0;O<m.length;O++){const k=m[O],se=h[O];if(k.startsWith(":"))w[k.substring(1)]=se;else if(k!==se.path)return null}return{consumed:h.slice(0,m.length),posParams:w}}function We(h,g){const d=h?Object.keys(h):void 0,m=g?Object.keys(g):void 0;if(!d||!m||d.length!=m.length)return!1;let w;for(let O=0;O<d.length;O++)if(w=d[O],!ot(h[w],g[w]))return!1;return!0}function ot(h,g){if(Array.isArray(h)&&Array.isArray(g)){if(h.length!==g.length)return!1;const d=[...h].sort(),m=[...g].sort();return d.every((w,O)=>m[O]===w)}return h===g}function vr(h){return h.length>0?h[h.length-1]:null}function Ze(h){return function ne(h){return!!h&&(h instanceof N.y||(0,J.m)(h.lift)&&(0,J.m)(h.subscribe))}(h)?h:(0,l.QGY)(h)?(0,q.D)(Promise.resolve(h)):I(h)}const Sn={exact:function nn(h,g,d){if(!or(h.segments,g.segments)||!_r(h.segments,g.segments,d)||h.numberOfChildren!==g.numberOfChildren)return!1;for(const m in g.children)if(!h.children[m]||!nn(h.children[m],g.children[m],d))return!1;return!0},subset:$t},Nn={exact:function oo(h,g){return We(h,g)},subset:function Qt(h,g){return Object.keys(g).length<=Object.keys(h).length&&Object.keys(g).every(d=>ot(h[d],g[d]))},ignored:()=>!0};function Mt(h,g,d){return Sn[d.paths](h.root,g.root,d.matrixParams)&&Nn[d.queryParams](h.queryParams,g.queryParams)&&!("exact"===d.fragment&&h.fragment!==g.fragment)}function $t(h,g,d){return ti(h,g,g.segments,d)}function ti(h,g,d,m){if(h.segments.length>d.length){const w=h.segments.slice(0,d.length);return!(!or(w,d)||g.hasChildren()||!_r(w,d,m))}if(h.segments.length===d.length){if(!or(h.segments,d)||!_r(h.segments,d,m))return!1;for(const w in g.children)if(!h.children[w]||!$t(h.children[w],g.children[w],m))return!1;return!0}{const w=d.slice(0,h.segments.length),O=d.slice(h.segments.length);return!!(or(h.segments,w)&&_r(h.segments,w,m)&&h.children[qe])&&ti(h.children[qe],g,O,m)}}function _r(h,g,d){return g.every((m,w)=>Nn[d](h[w].parameters,m.parameters))}class ln{constructor(g=new vt([],{}),d={},m=null){this.root=g,this.queryParams=d,this.fragment=m}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return cr.serialize(this)}}class vt{constructor(g,d){this.segments=g,this.children=d,this.parent=null,Object.values(d).forEach(m=>m.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pt(this)}}class En{constructor(g,d){this.path=g,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}toString(){return Qe(this)}}function or(h,g){return h.length===g.length&&h.every((d,m)=>d.path===g[m].path)}let xn=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return new yn},providedIn:"root"}),h})();class yn{parse(g){const d=new Cr(g);return new ln(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(g){const d=`/${Ln(g.root,!0)}`,m=function it(h){const g=Object.keys(h).map(d=>{const m=h[d];return Array.isArray(m)?m.map(w=>`${ie(d)}=${ie(w)}`).join("&"):`${ie(d)}=${ie(m)}`}).filter(d=>!!d);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${d}${m}${"string"==typeof g.fragment?`#${function $(h){return encodeURI(h)}(g.fragment)}`:""}`}}const cr=new yn;function Pt(h){return h.segments.map(g=>Qe(g)).join("/")}function Ln(h,g){if(!h.hasChildren())return Pt(h);if(g){const d=h.children[qe]?Ln(h.children[qe],!1):"",m=[];return Object.entries(h.children).forEach(([w,O])=>{w!==qe&&m.push(`${w}:${Ln(O,!1)}`)}),m.length>0?`${d}(${m.join("//")})`:d}{const d=function Et(h,g){let d=[];return Object.entries(h.children).forEach(([m,w])=>{m===qe&&(d=d.concat(g(w,m)))}),Object.entries(h.children).forEach(([m,w])=>{m!==qe&&(d=d.concat(g(w,m)))}),d}(h,(m,w)=>w===qe?[Ln(h.children[qe],!1)]:[`${w}:${Ln(m,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[qe]?`${Pt(h)}/${d[0]}`:`${Pt(h)}/(${d.join("//")})`}}function _e(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ie(h){return _e(h).replace(/%3B/gi,";")}function ce(h){return _e(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function le(h){return decodeURIComponent(h)}function $e(h){return le(h.replace(/\+/g,"%20"))}function Qe(h){return`${ce(h.path)}${function xt(h){return Object.keys(h).map(g=>`;${ce(g)}=${ce(h[g])}`).join("")}(h.parameters)}`}const Gt=/^[^\/()?;#]+/;function rn(h){const g=h.match(Gt);return g?g[0]:""}const fn=/^[^\/()?;=#]+/,ze=/^[^=?&#]+/,an=/^[^&#]+/;class Cr{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let m={};return this.peekStartsWith("(")&&(m=this.parseParens(!1)),(g.length>0||Object.keys(d).length>0)&&(m[qe]=new vt(g,d)),m}parseSegment(){const g=rn(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(g),new En(le(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const d=function Ot(h){const g=h.match(fn);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let m="";if(this.consumeOptional("=")){const w=rn(this.remaining);w&&(m=w,this.capture(m))}g[le(d)]=le(m)}parseQueryParam(g){const d=function un(h){const g=h.match(ze);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let m="";if(this.consumeOptional("=")){const k=function bt(h){const g=h.match(an);return g?g[0]:""}(this.remaining);k&&(m=k,this.capture(m))}const w=$e(d),O=$e(m);if(g.hasOwnProperty(w)){let k=g[w];Array.isArray(k)||(k=[k],g[w]=k),k.push(O)}else g[w]=O}parseParens(g){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const m=rn(this.remaining),w=this.remaining[m.length];if("/"!==w&&")"!==w&&";"!==w)throw new l.vHH(4010,!1);let O;m.indexOf(":")>-1?(O=m.slice(0,m.indexOf(":")),this.capture(O),this.capture(":")):g&&(O=qe);const k=this.parseChildren();d[O]=1===Object.keys(k).length?k[qe]:new vt([],k),this.consumeOptional("//")}return d}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new l.vHH(4011,!1)}}function Kn(h){return h.segments.length>0?new vt([],{[qe]:h}):h}function lr(h){const g={};for(const m of Object.keys(h.children)){const O=lr(h.children[m]);if(m===qe&&0===O.segments.length&&O.hasChildren())for(const[k,se]of Object.entries(O.children))g[k]=se;else(O.segments.length>0||O.hasChildren())&&(g[m]=O)}return function Dr(h){if(1===h.numberOfChildren&&h.children[qe]){const g=h.children[qe];return new vt(h.segments.concat(g.segments),g.children)}return h}(new vt(h.segments,g))}function Jn(h){return h instanceof ln}function xr(h){let g;const w=Kn(function d(O){const k={};for(const Te of O.children){const He=d(Te);k[Te.outlet]=He}const se=new vt(O.url,k);return O===h&&(g=se),se}(h.root));return g??w}function io(h,g,d,m){let w=h;for(;w.parent;)w=w.parent;if(0===g.length)return br(w,w,w,d,m);const O=function zo(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new Sr(!0,0,h);let g=0,d=!1;const m=h.reduce((w,O,k)=>{if("object"==typeof O&&null!=O){if(O.outlets){const se={};return Object.entries(O.outlets).forEach(([Te,He])=>{se[Te]="string"==typeof He?He.split("/"):He}),[...w,{outlets:se}]}if(O.segmentPath)return[...w,O.segmentPath]}return"string"!=typeof O?[...w,O]:0===k?(O.split("/").forEach((se,Te)=>{0==Te&&"."===se||(0==Te&&""===se?d=!0:".."===se?g++:""!=se&&w.push(se))}),w):[...w,O]},[]);return new Sr(d,g,m)}(g);if(O.toRoot())return br(w,w,new vt([],{}),d,m);const k=function On(h,g,d){if(h.isAbsolute)return new so(g,!0,0);if(!d)return new so(g,!1,NaN);if(null===d.parent)return new so(d,!0,0);const m=Vn(h.commands[0])?0:1;return function Zr(h,g,d){let m=h,w=g,O=d;for(;O>w;){if(O-=w,m=m.parent,!m)throw new l.vHH(4005,!1);w=m.segments.length}return new so(m,!1,w-O)}(d,d.segments.length-1+m,h.numberOfDoubleDots)}(O,w,h),se=k.processChildren?Er(k.segmentGroup,k.index,O.commands):Or(k.segmentGroup,k.index,O.commands);return br(w,k.segmentGroup,se,d,m)}function Vn(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function Gn(h){return"object"==typeof h&&null!=h&&h.outlets}function br(h,g,d,m,w){let k,O={};m&&Object.entries(m).forEach(([Te,He])=>{O[Te]=Array.isArray(He)?He.map(Ke=>`${Ke}`):`${He}`}),k=h===g?d:Co(h,g,d);const se=Kn(lr(k));return new ln(se,O,w)}function Co(h,g,d){const m={};return Object.entries(h.children).forEach(([w,O])=>{m[w]=O===g?d:Co(O,g,d)}),new vt(h.segments,m)}class Sr{constructor(g,d,m){if(this.isAbsolute=g,this.numberOfDoubleDots=d,this.commands=m,g&&m.length>0&&Vn(m[0]))throw new l.vHH(4003,!1);const w=m.find(Gn);if(w&&w!==vr(m))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class so{constructor(g,d,m){this.segmentGroup=g,this.processChildren=d,this.index=m}}function Or(h,g,d){if(h||(h=new vt([],{})),0===h.segments.length&&h.hasChildren())return Er(h,g,d);const m=function Po(h,g,d){let m=0,w=g;const O={match:!1,pathIndex:0,commandIndex:0};for(;w<h.segments.length;){if(m>=d.length)return O;const k=h.segments[w],se=d[m];if(Gn(se))break;const Te=`${se}`,He=m<d.length-1?d[m+1]:null;if(w>0&&void 0===Te)break;if(Te&&He&&"object"==typeof He&&void 0===He.outlets){if(!Do(Te,He,k))return O;m+=2}else{if(!Do(Te,{},k))return O;m++}w++}return{match:!0,pathIndex:w,commandIndex:m}}(h,g,d),w=d.slice(m.commandIndex);if(m.match&&m.pathIndex<h.segments.length){const O=new vt(h.segments.slice(0,m.pathIndex),{});return O.children[qe]=new vt(h.segments.slice(m.pathIndex),h.children),Er(O,0,w)}return m.match&&0===w.length?new vt(h.segments,{}):m.match&&!h.hasChildren()?Yr(h,g,d):m.match?Er(h,0,w):Yr(h,g,d)}function Er(h,g,d){if(0===d.length)return new vt(h.segments,{});{const m=function Ro(h){return Gn(h[0])?h[0].outlets:{[qe]:h}}(d),w={};if(!m[qe]&&h.children[qe]&&1===h.numberOfChildren&&0===h.children[qe].segments.length){const O=Er(h.children[qe],g,d);return new vt(h.segments,O.children)}return Object.entries(m).forEach(([O,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(w[O]=Or(h.children[O],g,k))}),Object.entries(h.children).forEach(([O,k])=>{void 0===m[O]&&(w[O]=k)}),new vt(h.segments,w)}}function Yr(h,g,d){const m=h.segments.slice(0,g);let w=0;for(;w<d.length;){const O=d[w];if(Gn(O)){const Te=ir(O.outlets);return new vt(m,Te)}if(0===w&&Vn(d[0])){m.push(new En(h.segments[g].path,ao(d[0]))),w++;continue}const k=Gn(O)?O.outlets[qe]:`${O}`,se=w<d.length-1?d[w+1]:null;k&&se&&Vn(se)?(m.push(new En(k,ao(se))),w+=2):(m.push(new En(k,{})),w++)}return new vt(m,{})}function ir(h){const g={};return Object.entries(h).forEach(([d,m])=>{"string"==typeof m&&(m=[m]),null!==m&&(g[d]=Yr(new vt([],{}),0,m))}),g}function ao(h){const g={};return Object.entries(h).forEach(([d,m])=>g[d]=`${m}`),g}function Do(h,g,d){return h==d.path&&We(g,d.parameters)}const kr="imperative";class wn{constructor(g,d){this.id=g,this.url=d}}class xo extends wn{constructor(g,d,m="imperative",w=null){super(g,d),this.type=0,this.navigationTrigger=m,this.restoredState=w}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wr extends wn{constructor(g,d,m){super(g,d),this.urlAfterRedirects=m,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qr extends wn{constructor(g,d,m,w){super(g,d),this.reason=m,this.code=w,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kr extends wn{constructor(g,d,m,w){super(g,d),this.reason=m,this.code=w,this.type=16}}class vn extends wn{constructor(g,d,m,w){super(g,d),this.error=m,this.target=w,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jr extends wn{constructor(g,d,m,w){super(g,d),this.urlAfterRedirects=m,this.state=w,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wo extends wn{constructor(g,d,m,w){super(g,d),this.urlAfterRedirects=m,this.state=w,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zo extends wn{constructor(g,d,m,w,O){super(g,d),this.urlAfterRedirects=m,this.state=w,this.shouldActivate=O,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class St extends wn{constructor(g,d,m,w){super(g,d),this.urlAfterRedirects=m,this.state=w,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tn extends wn{constructor(g,d,m,w){super(g,d),this.urlAfterRedirects=m,this.state=w,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mn{constructor(g){this.route=g,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tr{constructor(g){this.route=g,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class In{constructor(g){this.snapshot=g,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(g){this.snapshot=g,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class co{constructor(g){this.snapshot=g,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(g){this.snapshot=g,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yo{constructor(g,d,m){this.routerEvent=g,this.position=d,this.anchor=m,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fe,this.attachRef=null}}let Fe=(()=>{class h{constructor(){this.contexts=new Map}onChildOutletCreated(d,m){const w=this.getOrCreateContext(d);w.outlet=m,this.contexts.set(d,w)}onChildOutletDestroyed(d){const m=this.getContext(d);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const d=this.contexts;return this.contexts=new Map,d}onOutletReAttached(d){this.contexts=d}getOrCreateContext(d){let m=this.getContext(d);return m||(m=new sn,this.contexts.set(d,m)),m}getContext(d){return this.contexts.get(d)||null}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class lt{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const d=this.pathFromRoot(g);return d.length>1?d[d.length-2]:null}children(g){const d=Vt(g,this._root);return d?d.children.map(m=>m.value):[]}firstChild(g){const d=Vt(g,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(g){const d=An(g,this._root);return d.length<2?[]:d[d.length-2].children.map(w=>w.value).filter(w=>w!==g)}pathFromRoot(g){return An(g,this._root).map(d=>d.value)}}function Vt(h,g){if(h===g.value)return g;for(const d of g.children){const m=Vt(h,d);if(m)return m}return null}function An(h,g){if(h===g.value)return[g];for(const d of g.children){const m=An(h,d);if(m.length)return m.unshift(g),m}return[]}class Rn{constructor(g,d){this.value=g,this.children=d}toString(){return`TreeNode(${this.value})`}}function Xt(h){const g={};return h&&h.children.forEach(d=>g[d.value.outlet]=d),g}class be extends lt{constructor(g,d){super(g),this.snapshot=d,Ut(this,g)}toString(){return this.snapshot.toString()}}function kt(h,g){const d=function Lr(h,g){const k=new Qr([],{},{},"",{},qe,g,null,{});return new zn("",new Rn(k,[]))}(0,g),m=new j([new En("",{})]),w=new j({}),O=new j({}),k=new j({}),se=new j(""),Te=new wt(m,w,k,se,O,qe,g,d.root);return Te.snapshot=d.root,new be(new Rn(Te,[]),d)}class wt{constructor(g,d,m,w,O,k,se,Te){this.urlSubject=g,this.paramsSubject=d,this.queryParamsSubject=m,this.fragmentSubject=w,this.dataSubject=O,this.outlet=k,this.component=se,this._futureSnapshot=Te,this.title=this.dataSubject?.pipe((0,ye.U)(He=>He[Ht]))??I(void 0),this.url=g,this.params=d,this.queryParams=m,this.fragment=w,this.data=O}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ye.U)(g=>bn(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ye.U)(g=>bn(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ye(h,g="emptyOnly"){const d=h.pathFromRoot;let m=0;if("always"!==g)for(m=d.length-1;m>=1;){const w=d[m],O=d[m-1];if(w.routeConfig&&""===w.routeConfig.path)m--;else{if(O.component)break;m--}}return function Qn(h){return h.reduce((g,d)=>({params:{...g.params,...d.params},data:{...g.data,...d.data},resolve:{...d.data,...g.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(m))}class Qr{get title(){return this.data?.[Ht]}constructor(g,d,m,w,O,k,se,Te,He){this.url=g,this.params=d,this.queryParams=m,this.fragment=w,this.data=O,this.outlet=k,this.component=se,this.routeConfig=Te,this._resolve=He}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(m=>m.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zn extends lt{constructor(g,d){super(d),this.url=g,Ut(this,d)}toString(){return ur(this._root)}}function Ut(h,g){g.value._routerState=h,g.children.forEach(d=>Ut(h,d))}function ur(h){const g=h.children.length>0?` { ${h.children.map(ur).join(", ")} } `:"";return`${h.value}${g}`}function sr(h){if(h.snapshot){const g=h.snapshot,d=h._futureSnapshot;h.snapshot=d,We(g.queryParams,d.queryParams)||h.queryParamsSubject.next(d.queryParams),g.fragment!==d.fragment&&h.fragmentSubject.next(d.fragment),We(g.params,d.params)||h.paramsSubject.next(d.params),function Kt(h,g){if(h.length!==g.length)return!1;for(let d=0;d<h.length;++d)if(!We(h[d],g[d]))return!1;return!0}(g.url,d.url)||h.urlSubject.next(d.url),We(g.data,d.data)||h.dataSubject.next(d.data)}else h.snapshot=h._futureSnapshot,h.dataSubject.next(h._futureSnapshot.data)}function Bn(h,g){const d=We(h.params,g.params)&&function zr(h,g){return or(h,g)&&h.every((d,m)=>We(d.parameters,g[m].parameters))}(h.url,g.url);return d&&!(!h.parent!=!g.parent)&&(!h.parent||Bn(h.parent,g.parent))}let jn=(()=>{class h{constructor(){this.activated=null,this._activatedRoute=null,this.name=qe,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Fe),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Xn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(d){if(d.name){const{firstChange:m,previousValue:w}=d.name;if(m)return;this.isTrackedInParentContexts(w)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(w)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(d){return this.parentContexts.getContext(d)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const d=this.parentContexts.getContext(this.name);d?.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,m){this.activated=d,this._activatedRoute=m,this.location.insert(d.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,m){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=d;const w=this.location,k=d.snapshot.component,se=this.parentContexts.getOrCreateContext(this.name).children,Te=new dr(d,se,w.injector);this.activated=w.createComponent(k,{index:w.length,injector:Te,environmentInjector:m??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275dir=l.lG2({type:h,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),h})();class dr{constructor(g,d,m){this.route=g,this.childContexts=d,this.parent=m}get(g,d){return g===wt?this.route:g===Fe?this.childContexts:this.parent.get(g,d)}}const Xn=new l.OlP("");let er=(()=>{class h{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(d){this.unsubscribeFromRouteData(d),this.subscribeToRouteData(d)}unsubscribeFromRouteData(d){this.outletDataSubscriptions.get(d)?.unsubscribe(),this.outletDataSubscriptions.delete(d)}subscribeToRouteData(d){const{activatedRoute:m}=d,w=Ne([m.queryParams,m.params,m.data]).pipe(ge(([O,k,se],Te)=>(se={...O,...k,...se},0===Te?I(se):Promise.resolve(se)))).subscribe(O=>{if(!d.isActivated||!d.activatedComponentRef||d.activatedRoute!==m||null===m.component)return void this.unsubscribeFromRouteData(d);const k=(0,l.qFp)(m.component);if(k)for(const{templateName:se}of k.inputs)d.activatedComponentRef.setInput(se,O[se]);else this.unsubscribeFromRouteData(d)});this.outletDataSubscriptions.set(d,w)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})();function Ir(h,g,d){if(d&&h.shouldReuseRoute(g.value,d.value.snapshot)){const m=d.value;m._futureSnapshot=g.value;const w=function yt(h,g,d){return g.children.map(m=>{for(const w of d.children)if(h.shouldReuseRoute(m.value,w.value.snapshot))return Ir(h,m,w);return Ir(h,m)})}(h,g,d);return new Rn(m,w)}{if(h.shouldAttach(g.value)){const O=h.retrieve(g.value);if(null!==O){const k=O.route;return k.value._futureSnapshot=g.value,k.children=g.children.map(se=>Ir(h,se)),k}}const m=function Oo(h){return new wt(new j(h.url),new j(h.params),new j(h.queryParams),new j(h.fragment),new j(h.data),h.outlet,h.component,h)}(g.value),w=g.children.map(O=>Ir(h,O));return new Rn(m,w)}}const Vr="ngNavigationCancelingError";function lo(h,g){const{redirectTo:d,navigationBehaviorOptions:m}=Jn(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,w=gn(!1,0,g);return w.url=d,w.navigationBehaviorOptions=m,w}function gn(h,g,d){const m=new Error("NavigationCancelingError: "+(h||""));return m[Vr]=!0,m.cancellationCode=g,d&&(m.url=d),m}function uo(h){return _t(h)&&Jn(h.url)}function _t(h){return h&&h[Vr]}let zt=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275cmp=l.Xpm({type:h,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(d,m){1&d&&l._UZ(0,"router-outlet")},dependencies:[jn],encapsulation:2}),h})();function Pn(h){const g=h.children&&h.children.map(Pn),d=g?{...h,children:g}:{...h};return!d.component&&!d.loadComponent&&(g||d.loadChildren)&&d.outlet&&d.outlet!==qe&&(d.component=zt),d}function Wn(h){return h.outlet||qe}function jr(h){if(!h)return null;if(h.routeConfig?._injector)return h.routeConfig._injector;for(let g=h.parent;g;g=g.parent){const d=g.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class Bt{constructor(g,d,m,w,O){this.routeReuseStrategy=g,this.futureState=d,this.currState=m,this.forwardEvent=w,this.inputBindingEnabled=O}activate(g){const d=this.futureState._root,m=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,m,g),sr(this.futureState.root),this.activateChildRoutes(d,m,g)}deactivateChildRoutes(g,d,m){const w=Xt(d);g.children.forEach(O=>{const k=O.value.outlet;this.deactivateRoutes(O,w[k],m),delete w[k]}),Object.values(w).forEach(O=>{this.deactivateRouteAndItsChildren(O,m)})}deactivateRoutes(g,d,m){const w=g.value,O=d?d.value:null;if(w===O)if(w.component){const k=m.getContext(w.outlet);k&&this.deactivateChildRoutes(g,d,k.children)}else this.deactivateChildRoutes(g,d,m);else O&&this.deactivateRouteAndItsChildren(d,m)}deactivateRouteAndItsChildren(g,d){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,d):this.deactivateRouteAndOutlet(g,d)}detachAndStoreRouteSubtree(g,d){const m=d.getContext(g.value.outlet),w=m&&g.value.component?m.children:d,O=Xt(g);for(const k of Object.keys(O))this.deactivateRouteAndItsChildren(O[k],w);if(m&&m.outlet){const k=m.outlet.detach(),se=m.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:k,route:g,contexts:se})}}deactivateRouteAndOutlet(g,d){const m=d.getContext(g.value.outlet),w=m&&g.value.component?m.children:d,O=Xt(g);for(const k of Object.keys(O))this.deactivateRouteAndItsChildren(O[k],w);m&&(m.outlet&&(m.outlet.deactivate(),m.children.onOutletDeactivated()),m.attachRef=null,m.route=null)}activateChildRoutes(g,d,m){const w=Xt(d);g.children.forEach(O=>{this.activateRoutes(O,w[O.value.outlet],m),this.forwardEvent(new Mr(O.value.snapshot))}),g.children.length&&this.forwardEvent(new Nr(g.value.snapshot))}activateRoutes(g,d,m){const w=g.value,O=d?d.value:null;if(sr(w),w===O)if(w.component){const k=m.getOrCreateContext(w.outlet);this.activateChildRoutes(g,d,k.children)}else this.activateChildRoutes(g,d,m);else if(w.component){const k=m.getOrCreateContext(w.outlet);if(this.routeReuseStrategy.shouldAttach(w.snapshot)){const se=this.routeReuseStrategy.retrieve(w.snapshot);this.routeReuseStrategy.store(w.snapshot,null),k.children.onOutletReAttached(se.contexts),k.attachRef=se.componentRef,k.route=se.route.value,k.outlet&&k.outlet.attach(se.componentRef,se.route.value),sr(se.route.value),this.activateChildRoutes(g,null,k.children)}else{const se=jr(w.snapshot);k.attachRef=null,k.route=w,k.injector=se,k.outlet&&k.outlet.activateWith(w,k.injector),this.activateChildRoutes(g,null,k.children)}}else this.activateChildRoutes(g,null,m)}}class po{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class So{constructor(g,d){this.component=g,this.route=d}}function Ri(h,g,d){const m=h._root;return Eo(m,g?g._root:null,d,[m.value])}function go(h,g){const d=Symbol(),m=g.get(h,d);return m===d?"function"!=typeof h||(0,l.Z0I)(h)?g.get(h):h:m}function Eo(h,g,d,m,w={canDeactivateChecks:[],canActivateChecks:[]}){const O=Xt(g);return h.children.forEach(k=>{(function hi(h,g,d,m,w={canDeactivateChecks:[],canActivateChecks:[]}){const O=h.value,k=g?g.value:null,se=d?d.getContext(h.value.outlet):null;if(k&&O.routeConfig===k.routeConfig){const Te=function ri(h,g,d){if("function"==typeof d)return d(h,g);switch(d){case"pathParamsChange":return!or(h.url,g.url);case"pathParamsOrQueryParamsChange":return!or(h.url,g.url)||!We(h.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bn(h,g)||!We(h.queryParams,g.queryParams);default:return!Bn(h,g)}}(k,O,O.routeConfig.runGuardsAndResolvers);Te?w.canActivateChecks.push(new po(m)):(O.data=k.data,O._resolvedData=k._resolvedData),Eo(h,g,O.component?se?se.children:null:d,m,w),Te&&se&&se.outlet&&se.outlet.isActivated&&w.canDeactivateChecks.push(new So(se.outlet.component,k))}else k&&mo(g,se,w),w.canActivateChecks.push(new po(m)),Eo(h,null,O.component?se?se.children:null:d,m,w)})(k,O[k.value.outlet],d,m.concat([k.value]),w),delete O[k.value.outlet]}),Object.entries(O).forEach(([k,se])=>mo(se,d.getContext(k),w)),w}function mo(h,g,d){const m=Xt(h),w=h.value;Object.entries(m).forEach(([O,k])=>{mo(k,w.component?g?g.children.getContext(O):null:g,d)}),d.canDeactivateChecks.push(new So(w.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,w))}function Ft(h){return"function"==typeof h}function b(h){return h instanceof Q||"EmptyError"===h?.name}const x=Symbol("INITIAL_VALUE");function R(){return ge(h=>Ne(h.map(g=>g.pipe(Re(1),function ke(...h){const g=(0,we.yG)(h);return(0,Be.e)((d,m)=>{(g?G(h,d,g):G(h,d)).subscribe(m)})}(x)))).pipe((0,ye.U)(g=>{for(const d of g)if(!0!==d){if(d===x)return x;if(!1===d||d instanceof ln)return d}return!0}),Oe(g=>g!==x),Re(1)))}function pi(h){return(0,Z.z)(pt(g=>{if(Jn(g))throw lo(0,g)}),(0,ye.U)(g=>!0===g))}class qo{constructor(g){this.segmentGroup=g||null}}class pa{constructor(g){this.urlTree=g}}function ko(h){return re(new qo(h))}function gi(h){return re(new pa(h))}class ma{constructor(g,d){this.urlSerializer=g,this.urlTree=d}noMatchError(g){return new l.vHH(4002,!1)}lineralizeSegments(g,d){let m=[],w=d.root;for(;;){if(m=m.concat(w.segments),0===w.numberOfChildren)return I(m);if(w.numberOfChildren>1||!w.children[qe])return re(new l.vHH(4e3,!1));w=w.children[qe]}}applyRedirectCommands(g,d,m){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),g,m)}applyRedirectCreateUrlTree(g,d,m,w){const O=this.createSegmentGroup(g,d.root,m,w);return new ln(O,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(g,d){const m={};return Object.entries(g).forEach(([w,O])=>{if("string"==typeof O&&O.startsWith(":")){const se=O.substring(1);m[w]=d[se]}else m[w]=O}),m}createSegmentGroup(g,d,m,w){const O=this.createSegments(g,d.segments,m,w);let k={};return Object.entries(d.children).forEach(([se,Te])=>{k[se]=this.createSegmentGroup(g,Te,m,w)}),new vt(O,k)}createSegments(g,d,m,w){return d.map(O=>O.path.startsWith(":")?this.findPosParam(g,O,w):this.findOrReturn(O,m))}findPosParam(g,d,m){const w=m[d.path.substring(1)];if(!w)throw new l.vHH(4001,!1);return w}findOrReturn(g,d){let m=0;for(const w of d){if(w.path===g.path)return d.splice(m),w;m++}return g}}const ys={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vc(h,g,d,m,w){const O=vs(h,g,d);return O.matched?(m=function hn(h,g){return h.providers&&!h._injector&&(h._injector=(0,l.MMx)(h.providers,g,`Route: ${h.path}`)),h._injector??g}(g,m),function ii(h,g,d,m){const w=g.canMatch;return w&&0!==w.length?I(w.map(k=>{const se=go(k,h);return Ze(function c(h){return h&&Ft(h.canMatch)}(se)?se.canMatch(g,d):h.runInContext(()=>se(g,d)))})).pipe(R(),pi()):I(!0)}(m,g,d).pipe((0,ye.U)(k=>!0===k?O:{...ys}))):I(O)}function vs(h,g,d){if(""===g.path)return"full"===g.pathMatch&&(h.hasChildren()||d.length>0)?{...ys}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const w=(g.matcher||Hn)(d,h,g);if(!w)return{...ys};const O={};Object.entries(w.posParams??{}).forEach(([se,Te])=>{O[se]=Te.path});const k=w.consumed.length>0?{...O,...w.consumed[w.consumed.length-1].parameters}:O;return{matched:!0,consumedSegments:w.consumed,remainingSegments:d.slice(w.consumed.length),parameters:k,positionalParamSegments:w.posParams??{}}}function Pi(h,g,d,m){return d.length>0&&function yi(h,g,d){return d.some(m=>vi(h,g,m)&&Wn(m)!==qe)}(h,d,m)?{segmentGroup:new vt(g,ya(m,new vt(d,h.children))),slicedSegments:[]}:0===d.length&&function xi(h,g,d){return d.some(m=>vi(h,g,m))}(h,d,m)?{segmentGroup:new vt(h.segments,_s(h,0,d,m,h.children)),slicedSegments:d}:{segmentGroup:new vt(h.segments,h.children),slicedSegments:d}}function _s(h,g,d,m,w){const O={};for(const k of m)if(vi(h,d,k)&&!w[Wn(k)]){const se=new vt([],{});O[Wn(k)]=se}return{...w,...O}}function ya(h,g){const d={};d[qe]=g;for(const m of h)if(""===m.path&&Wn(m)!==qe){const w=new vt([],{});d[Wn(m)]=w}return d}function vi(h,g,d){return(!(h.hasChildren()||g.length>0)||"full"!==d.pathMatch)&&""===d.path}class _a{constructor(g,d,m,w,O,k,se){this.injector=g,this.configLoader=d,this.rootComponentType=m,this.config=w,this.urlTree=O,this.paramsInheritanceStrategy=k,this.urlSerializer=se,this.allowRedirects=!0,this.applyRedirects=new ma(this.urlSerializer,this.urlTree)}noMatchError(g){return new l.vHH(4002,!1)}recognize(){const g=Pi(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,g,qe).pipe(mt(d=>{if(d instanceof pa)return this.allowRedirects=!1,this.urlTree=d.urlTree,this.match(d.urlTree);throw d instanceof qo?this.noMatchError(d):d}),(0,ye.U)(d=>{const m=new Qr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qe,this.rootComponentType,null,{}),w=new Rn(m,d),O=new zn("",w),k=function Wr(h,g,d=null,m=null){return io(xr(h),g,d,m)}(m,[],this.urlTree.queryParams,this.urlTree.fragment);return k.queryParams=this.urlTree.queryParams,O.url=this.urlSerializer.serialize(k),this.inheritParamsAndData(O._root),{state:O,tree:k}}))}match(g){return this.processSegmentGroup(this.injector,this.config,g.root,qe).pipe(mt(m=>{throw m instanceof qo?this.noMatchError(m):m}))}inheritParamsAndData(g){const d=g.value,m=Ye(d,this.paramsInheritanceStrategy);d.params=Object.freeze(m.params),d.data=Object.freeze(m.data),g.children.forEach(w=>this.inheritParamsAndData(w))}processSegmentGroup(g,d,m,w){return 0===m.segments.length&&m.hasChildren()?this.processChildren(g,d,m):this.processSegment(g,d,m,m.segments,w,!0)}processChildren(g,d,m){const w=[];for(const O of Object.keys(m.children))"primary"===O?w.unshift(O):w.push(O);return(0,q.D)(w).pipe(Rt(O=>{const k=m.children[O],se=function gt(h,g){const d=h.filter(m=>Wn(m)===g);return d.push(...h.filter(m=>Wn(m)!==g)),d}(d,O);return this.processSegmentGroup(g,se,k,O)}),function mn(h,g){return(0,Be.e)(function at(h,g,d,m,w){return(O,k)=>{let se=d,Te=g,He=0;O.subscribe((0,ee.x)(k,Ke=>{const Lt=He++;Te=se?h(Te,Ke,Lt):(se=!0,Ke),m&&k.next(Te)},w&&(()=>{se&&k.next(Te),k.complete()})))}}(h,g,arguments.length>=2,!0))}((O,k)=>(O.push(...k),O)),rt(null),function Cn(h,g){const d=arguments.length>=2;return m=>m.pipe(h?Oe((w,O)=>h(w,O,m)):ae.y,tn(1),d?rt(g):qt(()=>new Q))}(),(0,Ue.z)(O=>{if(null===O)return ko(m);const k=$r(O);return function Oi(h){h.sort((g,d)=>g.value.outlet===qe?-1:d.value.outlet===qe?1:g.value.outlet.localeCompare(d.value.outlet))}(k),I(k)}))}processSegment(g,d,m,w,O,k){return(0,q.D)(d).pipe(Rt(se=>this.processSegmentAgainstRoute(se._injector??g,d,se,m,w,O,k).pipe(mt(Te=>{if(Te instanceof qo)return I(null);throw Te}))),ht(se=>!!se),mt(se=>{if(b(se))return function Cs(h,g,d){return 0===g.length&&!h.children[d]}(m,w,O)?I([]):ko(m);throw se}))}processSegmentAgainstRoute(g,d,m,w,O,k,se){return function va(h,g,d,m){return!!(Wn(h)===m||m!==qe&&vi(g,d,h))&&("**"===h.path||vs(g,h,d).matched)}(m,w,O,k)?void 0===m.redirectTo?this.matchSegmentAgainstRoute(g,w,m,O,k,se):se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,w,d,m,O,k):ko(w):ko(w)}expandSegmentAgainstRouteUsingRedirect(g,d,m,w,O,k){return"**"===w.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,m,w,k):this.expandRegularSegmentAgainstRouteUsingRedirect(g,d,m,w,O,k)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,d,m,w){const O=this.applyRedirects.applyRedirectCommands([],m.redirectTo,{});return m.redirectTo.startsWith("/")?gi(O):this.applyRedirects.lineralizeSegments(m,O).pipe((0,Ue.z)(k=>{const se=new vt(k,{});return this.processSegment(g,d,se,k,w,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,d,m,w,O,k){const{matched:se,consumedSegments:Te,remainingSegments:He,positionalParamSegments:Ke}=vs(d,w,O);if(!se)return ko(d);const Lt=this.applyRedirects.applyRedirectCommands(Te,w.redirectTo,Ke);return w.redirectTo.startsWith("/")?gi(Lt):this.applyRedirects.lineralizeSegments(w,Lt).pipe((0,Ue.z)(Hr=>this.processSegment(g,m,d,Hr.concat(He),k,!1)))}matchSegmentAgainstRoute(g,d,m,w,O,k){let se;if("**"===m.path){const Te=w.length>0?vr(w).parameters:{};se=I({snapshot:new Qr(w,Te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ki(m),Wn(m),m.component??m._loadedComponent??null,m,Zt(m)),consumedSegments:[],remainingSegments:[]}),d.children={}}else se=Vc(d,m,w,g).pipe((0,ye.U)(({matched:Te,consumedSegments:He,remainingSegments:Ke,parameters:Lt})=>Te?{snapshot:new Qr(He,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ki(m),Wn(m),m.component??m._loadedComponent??null,m,Zt(m)),consumedSegments:He,remainingSegments:Ke}:null));return se.pipe(ge(Te=>null===Te?ko(d):this.getChildConfig(g=m._injector??g,m,w).pipe(ge(({routes:He})=>{const Ke=m._loadedInjector??g,{snapshot:Lt,consumedSegments:Hr,remainingSegments:Ci}=Te,{segmentGroup:Li,slicedSegments:Di}=Pi(d,Hr,Ci,He);if(0===Di.length&&Li.hasChildren())return this.processChildren(Ke,He,Li).pipe((0,ye.U)(Rs=>null===Rs?null:[new Rn(Lt,Rs)]));if(0===He.length&&0===Di.length)return I([new Rn(Lt,[])]);const As=Wn(m)===O;return this.processSegment(Ke,He,Li,Di,As?qe:O,!0).pipe((0,ye.U)(Rs=>[new Rn(Lt,Rs)]))}))))}getChildConfig(g,d,m){return d.children?I({routes:d.children,injector:g}):d.loadChildren?void 0!==d._loadedRoutes?I({routes:d._loadedRoutes,injector:d._loadedInjector}):function oi(h,g,d,m){const w=g.canLoad;return void 0===w||0===w.length?I(!0):I(w.map(k=>{const se=go(k,h);return Ze(function S(h){return h&&Ft(h.canLoad)}(se)?se.canLoad(g,d):h.runInContext(()=>se(g,d)))})).pipe(R(),pi())}(g,d,m).pipe((0,Ue.z)(w=>w?this.configLoader.loadChildren(g,d).pipe(pt(O=>{d._loadedRoutes=O.routes,d._loadedInjector=O.injector})):function mi(h){return re(gn(!1,3))}())):I({routes:[],injector:g})}}function Ca(h){const g=h.value.routeConfig;return g&&""===g.path}function $r(h){const g=[],d=new Set;for(const m of h){if(!Ca(m)){g.push(m);continue}const w=g.find(O=>m.value.routeConfig===O.value.routeConfig);void 0!==w?(w.children.push(...m.children),d.add(w)):g.push(m)}for(const m of d){const w=$r(m.children);g.push(new Rn(m.value,w))}return g.filter(m=>!d.has(m))}function ki(h){return h.data||{}}function Zt(h){return h.resolve||{}}function Ee(h){return"string"==typeof h.title||null===h.title}function Je(h){return ge(g=>{const d=h(g);return d?(0,q.D)(d).pipe((0,ye.U)(()=>g)):I(g)})}const It=new l.OlP("ROUTES");let Yt=(()=>{class h{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(d){if(this.componentLoaders.get(d))return this.componentLoaders.get(d);if(d._loadedComponent)return I(d._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(d);const m=Ze(d.loadComponent()).pipe((0,ye.U)(Ct),pt(O=>{this.onLoadEndListener&&this.onLoadEndListener(d),d._loadedComponent=O}),rr(()=>{this.componentLoaders.delete(d)})),w=new ct(m,()=>new B.x).pipe(Me());return this.componentLoaders.set(d,w),w}loadChildren(d,m){if(this.childrenLoaders.get(m))return this.childrenLoaders.get(m);if(m._loadedRoutes)return I({routes:m._loadedRoutes,injector:m._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(m);const O=this.loadModuleFactoryOrRoutes(m.loadChildren).pipe((0,ye.U)(se=>{this.onLoadEndListener&&this.onLoadEndListener(m);let Te,He;return Array.isArray(se)?He=se:(Te=se.create(d).injector,He=Te.get(It,[],l.XFs.Self|l.XFs.Optional).flat()),{routes:He.map(Pn),injector:Te}}),rr(()=>{this.childrenLoaders.delete(m)})),k=new ct(O,()=>new B.x).pipe(Me());return this.childrenLoaders.set(m,k),k}loadModuleFactoryOrRoutes(d){return Ze(d()).pipe((0,ye.U)(Ct),(0,Ue.z)(m=>m instanceof l.YKP||Array.isArray(m)?I(m):(0,q.D)(this.compiler.compileModuleAsync(m))))}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function Ct(h){return function Tt(h){return h&&"object"==typeof h&&"default"in h}(h)?h.default:h}let cn=(()=>{class h{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new B.x,this.configLoader=(0,l.f3M)(Yt),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(xn),this.rootContexts=(0,l.f3M)(Fe),this.inputBindingEnabled=null!==(0,l.f3M)(Xn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=w=>this.events.next(new Tr(w)),this.configLoader.onLoadStartListener=w=>this.events.next(new Mn(w))}complete(){this.transitions?.complete()}handleNavigationRequest(d){const m=++this.navigationId;this.transitions?.next({...this.transitions.value,...d,id:m})}setupNavigations(d){return this.transitions=new j({id:0,currentUrlTree:d.currentUrlTree,currentRawUrl:d.currentUrlTree,extractedUrl:d.urlHandlingStrategy.extract(d.currentUrlTree),urlAfterRedirects:d.urlHandlingStrategy.extract(d.currentUrlTree),rawUrl:d.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kr,restoredState:null,currentSnapshot:d.routerState.snapshot,targetSnapshot:null,currentRouterState:d.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oe(m=>0!==m.id),(0,ye.U)(m=>({...m,extractedUrl:d.urlHandlingStrategy.extract(m.rawUrl)})),ge(m=>{let w=!1,O=!1;return I(m).pipe(pt(k=>{this.currentNavigation={id:k.id,initialUrl:k.rawUrl,extractedUrl:k.extractedUrl,trigger:k.source,extras:k.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ge(k=>{const se=d.browserUrlTree.toString(),Te=!d.navigated||k.extractedUrl.toString()!==se||se!==d.currentUrlTree.toString();if(!Te&&"reload"!==(k.extras.onSameUrlNavigation??d.onSameUrlNavigation)){const Ke="";return this.events.next(new Kr(k.id,d.serializeUrl(m.rawUrl),Ke,0)),d.rawUrlTree=k.rawUrl,k.resolve(null),F.E}if(d.urlHandlingStrategy.shouldProcessUrl(k.rawUrl))return Jt(k.source)&&(d.browserUrlTree=k.extractedUrl),I(k).pipe(ge(Ke=>{const Lt=this.transitions?.getValue();return this.events.next(new xo(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),Ke.source,Ke.restoredState)),Lt!==this.transitions?.getValue()?F.E:Promise.resolve(Ke)}),function _(h,g,d,m,w,O){return(0,Ue.z)(k=>function Ds(h,g,d,m,w,O,k="emptyOnly"){return new _a(h,g,d,m,w,k,O).recognize()}(h,g,d,m,k.extractedUrl,w,O).pipe((0,ye.U)(({state:se,tree:Te})=>({...k,targetSnapshot:se,urlAfterRedirects:Te}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,d.config,this.urlSerializer,d.paramsInheritanceStrategy),pt(Ke=>{if(m.targetSnapshot=Ke.targetSnapshot,m.urlAfterRedirects=Ke.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ke.urlAfterRedirects},"eager"===d.urlUpdateStrategy){if(!Ke.extras.skipLocationChange){const Hr=d.urlHandlingStrategy.merge(Ke.urlAfterRedirects,Ke.rawUrl);d.setBrowserUrl(Hr,Ke)}d.browserUrlTree=Ke.urlAfterRedirects}const Lt=new Jr(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(Lt)}));if(Te&&d.urlHandlingStrategy.shouldProcessUrl(d.rawUrlTree)){const{id:Ke,extractedUrl:Lt,source:Hr,restoredState:Ci,extras:Li}=k,Di=new xo(Ke,this.urlSerializer.serialize(Lt),Hr,Ci);this.events.next(Di);const As=kt(0,this.rootComponentType).snapshot;return I(m={...k,targetSnapshot:As,urlAfterRedirects:Lt,extras:{...Li,skipLocationChange:!1,replaceUrl:!1}})}{const Ke="";return this.events.next(new Kr(k.id,d.serializeUrl(m.extractedUrl),Ke,1)),d.rawUrlTree=k.rawUrl,k.resolve(null),F.E}}),pt(k=>{const se=new Wo(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(se)}),(0,ye.U)(k=>m={...k,guards:Ri(k.targetSnapshot,k.currentSnapshot,this.rootContexts)}),function H(h,g){return(0,Ue.z)(d=>{const{targetSnapshot:m,currentSnapshot:w,guards:{canActivateChecks:O,canDeactivateChecks:k}}=d;return 0===k.length&&0===O.length?I({...d,guardsResult:!0}):function U(h,g,d,m){return(0,q.D)(h).pipe((0,Ue.z)(w=>function Wt(h,g,d,m,w){const O=g&&g.routeConfig?g.routeConfig.canDeactivate:null;return O&&0!==O.length?I(O.map(se=>{const Te=jr(g)??w,He=go(se,Te);return Ze(function i(h){return h&&Ft(h.canDeactivate)}(He)?He.canDeactivate(h,g,d,m):Te.runInContext(()=>He(h,g,d,m))).pipe(ht())})).pipe(R()):I(!0)}(w.component,w.route,d,g,m)),ht(w=>!0!==w,!0))}(k,m,w,h).pipe((0,Ue.z)(se=>se&&function fr(h){return"boolean"==typeof h}(se)?function oe(h,g,d,m){return(0,q.D)(g).pipe(Rt(w=>G(function Ge(h,g){return null!==h&&g&&g(new In(h)),I(!0)}(w.route.parent,m),function Ce(h,g){return null!==h&&g&&g(new co(h)),I(!0)}(w.route,m),function jt(h,g,d){const m=g[g.length-1],O=g.slice(0,g.length-1).reverse().map(k=>function fi(h){const g=h.routeConfig?h.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:h,guards:g}:null}(k)).filter(k=>null!==k).map(k=>Y(()=>I(k.guards.map(Te=>{const He=jr(k.node)??d,Ke=go(Te,He);return Ze(function s(h){return h&&Ft(h.canActivateChild)}(Ke)?Ke.canActivateChild(m,h):He.runInContext(()=>Ke(m,h))).pipe(ht())})).pipe(R())));return I(O).pipe(R())}(h,w.path,d),function nt(h,g,d){const m=g.routeConfig?g.routeConfig.canActivate:null;if(!m||0===m.length)return I(!0);const w=m.map(O=>Y(()=>{const k=jr(g)??d,se=go(O,k);return Ze(function D(h){return h&&Ft(h.canActivate)}(se)?se.canActivate(g,h):k.runInContext(()=>se(g,h))).pipe(ht())}));return I(w).pipe(R())}(h,w.route,d))),ht(w=>!0!==w,!0))}(m,O,h,g):I(se)),(0,ye.U)(se=>({...d,guardsResult:se})))})}(this.environmentInjector,k=>this.events.next(k)),pt(k=>{if(m.guardsResult=k.guardsResult,Jn(k.guardsResult))throw lo(0,k.guardsResult);const se=new Zo(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot,!!k.guardsResult);this.events.next(se)}),Oe(k=>!!k.guardsResult||(d.restoreHistory(k),this.cancelNavigationTransition(k,"",3),!1)),Je(k=>{if(k.guards.canActivateChecks.length)return I(k).pipe(pt(se=>{const Te=new St(se.id,this.urlSerializer.serialize(se.extractedUrl),this.urlSerializer.serialize(se.urlAfterRedirects),se.targetSnapshot);this.events.next(Te)}),ge(se=>{let Te=!1;return I(se).pipe(function T(h,g){return(0,Ue.z)(d=>{const{targetSnapshot:m,guards:{canActivateChecks:w}}=d;if(!w.length)return I(d);let O=0;return(0,q.D)(w).pipe(Rt(k=>function C(h,g,d,m){const w=h.routeConfig,O=h._resolve;return void 0!==w?.title&&!Ee(w)&&(O[Ht]=w.title),function P(h,g,d,m){const w=function z(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}(h);if(0===w.length)return I({});const O={};return(0,q.D)(w).pipe((0,Ue.z)(k=>function ve(h,g,d,m){const w=jr(g)??m,O=go(h,w);return Ze(O.resolve?O.resolve(g,d):w.runInContext(()=>O(g,d)))}(h[k],g,d,m).pipe(ht(),pt(se=>{O[k]=se}))),tn(1),function ft(h){return(0,ye.U)(()=>h)}(O),mt(k=>b(k)?F.E:re(k)))}(O,h,g,m).pipe((0,ye.U)(k=>(h._resolvedData=k,h.data=Ye(h,d).resolve,w&&Ee(w)&&(h.data[Ht]=w.title),null)))}(k.route,m,h,g)),pt(()=>O++),tn(1),(0,Ue.z)(k=>O===w.length?I(d):F.E))})}(d.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>Te=!0,complete:()=>{Te||(d.restoreHistory(se),this.cancelNavigationTransition(se,"",2))}}))}),pt(se=>{const Te=new Tn(se.id,this.urlSerializer.serialize(se.extractedUrl),this.urlSerializer.serialize(se.urlAfterRedirects),se.targetSnapshot);this.events.next(Te)}))}),Je(k=>{const se=Te=>{const He=[];Te.routeConfig?.loadComponent&&!Te.routeConfig._loadedComponent&&He.push(this.configLoader.loadComponent(Te.routeConfig).pipe(pt(Ke=>{Te.component=Ke}),(0,ye.U)(()=>{})));for(const Ke of Te.children)He.push(...se(Ke));return He};return Ne(se(k.targetSnapshot.root)).pipe(rt(),Re(1))}),Je(()=>this.afterPreactivation()),(0,ye.U)(k=>{const se=function bo(h,g,d){const m=Ir(h,g._root,d?d._root:void 0);return new be(m,g)}(d.routeReuseStrategy,k.targetSnapshot,k.currentRouterState);return m={...k,targetRouterState:se}}),pt(k=>{d.currentUrlTree=k.urlAfterRedirects,d.rawUrlTree=d.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl),d.routerState=k.targetRouterState,"deferred"===d.urlUpdateStrategy&&(k.extras.skipLocationChange||d.setBrowserUrl(d.rawUrlTree,k),d.browserUrlTree=k.urlAfterRedirects)}),((h,g,d,m)=>(0,ye.U)(w=>(new Bt(g,w.targetRouterState,w.currentRouterState,d,m).activate(h),w)))(this.rootContexts,d.routeReuseStrategy,k=>this.events.next(k),this.inputBindingEnabled),Re(1),pt({next:k=>{w=!0,this.lastSuccessfulNavigation=this.currentNavigation,d.navigated=!0,this.events.next(new wr(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(d.currentUrlTree))),d.titleStrategy?.updateTitle(k.targetRouterState.snapshot),k.resolve(!0)},complete:()=>{w=!0}}),rr(()=>{w||O||this.cancelNavigationTransition(m,"",1),this.currentNavigation?.id===m.id&&(this.currentNavigation=null)}),mt(k=>{if(O=!0,_t(k)){uo(k)||(d.navigated=!0,d.restoreHistory(m,!0));const se=new qr(m.id,this.urlSerializer.serialize(m.extractedUrl),k.message,k.cancellationCode);if(this.events.next(se),uo(k)){const Te=d.urlHandlingStrategy.merge(k.url,d.rawUrlTree),He={skipLocationChange:m.extras.skipLocationChange,replaceUrl:"eager"===d.urlUpdateStrategy||Jt(m.source)};d.scheduleNavigation(Te,kr,null,He,{resolve:m.resolve,reject:m.reject,promise:m.promise})}else m.resolve(!1)}else{d.restoreHistory(m,!0);const se=new vn(m.id,this.urlSerializer.serialize(m.extractedUrl),k,m.targetSnapshot??void 0);this.events.next(se);try{m.resolve(d.errorHandler(k))}catch(Te){m.reject(Te)}}return F.E}))}))}cancelNavigationTransition(d,m,w){const O=new qr(d.id,this.urlSerializer.serialize(d.extractedUrl),m,w);this.events.next(O),d.resolve(!1)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function Jt(h){return h!==kr}let _n=(()=>{class h{buildTitle(d){let m,w=d.root;for(;void 0!==w;)m=this.getResolvedTitleForRoute(w)??m,w=w.children.find(O=>O.outlet===qe);return m}getResolvedTitleForRoute(d){return d.data[Ht]}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(Xr)},providedIn:"root"}),h})(),Xr=(()=>{class h extends _n{constructor(d){super(),this.title=d}updateTitle(d){const m=this.buildTitle(d);void 0!==m&&this.title.setTitle(m)}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(qn.Dx))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),eo=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(hr)},providedIn:"root"}),h})();class st{shouldDetach(g){return!1}store(g,d){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,d){return g.routeConfig===d.routeConfig}}let hr=(()=>{class h extends st{}return h.\u0275fac=function(){let g;return function(m){return(g||(g=l.n5z(h)))(m||h)}}(),h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const to=new l.OlP("",{providedIn:"root",factory:()=>({})});let wo=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(No)},providedIn:"root"}),h})(),No=(()=>{class h{shouldProcessUrl(d){return!0}extract(d){return d}merge(d,m){return d}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var Ar=(()=>((Ar=Ar||{})[Ar.COMPLETE=0]="COMPLETE",Ar[Ar.FAILED=1]="FAILED",Ar[Ar.REDIRECTING=2]="REDIRECTING",Ar))();function bs(h,g){h.events.pipe(Oe(d=>d instanceof wr||d instanceof qr||d instanceof vn||d instanceof Kr),(0,ye.U)(d=>d instanceof wr||d instanceof Kr?Ar.COMPLETE:d instanceof qr&&(0===d.code||1===d.code)?Ar.REDIRECTING:Ar.FAILED),Oe(d=>d!==Ar.REDIRECTING),Re(1)).subscribe(()=>{g()})}function si(h){throw h}function Bc(h,g,d){return g.parse("/")}const jc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$c={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rr=(()=>{class h{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(to,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||si,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Bc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(wo),this.routeReuseStrategy=(0,l.f3M)(eo),this.titleStrategy=(0,l.f3M)(_n),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(It,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(cn),this.urlSerializer=(0,l.f3M)(xn),this.location=(0,l.f3M)(de.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(Xn,{optional:!0}),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ln,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kt(0,null),this.navigationTransitions.setupNavigations(this).subscribe(d=>{this.lastSuccessfulId=d.id,this.currentPageId=this.browserPageId??0},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)})}resetRootComponentType(d){this.routerState.root.component=d,this.navigationTransitions.rootComponentType=d}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const d=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kr,d)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const m="popstate"===d.type?"popstate":"hashchange";"popstate"===m&&setTimeout(()=>{this.navigateToSyncWithBrowser(d.url,m,d.state)},0)}))}navigateToSyncWithBrowser(d,m,w){const O={replaceUrl:!0},k=w?.navigationId?w:null;if(w){const Te={...w};delete Te.navigationId,delete Te.\u0275routerPageId,0!==Object.keys(Te).length&&(O.state=Te)}const se=this.parseUrl(d);this.scheduleNavigation(se,m,k,O)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(d){this.config=d.map(Pn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(d,m={}){const{relativeTo:w,queryParams:O,fragment:k,queryParamsHandling:se,preserveFragment:Te}=m,He=Te?this.currentUrlTree.fragment:k;let Lt,Ke=null;switch(se){case"merge":Ke={...this.currentUrlTree.queryParams,...O};break;case"preserve":Ke=this.currentUrlTree.queryParams;break;default:Ke=O||null}null!==Ke&&(Ke=this.removeEmptyProps(Ke));try{Lt=xr(w?w.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof d[0]||!d[0].startsWith("/"))&&(d=[]),Lt=this.currentUrlTree.root}return io(Lt,d,Ke,He??null)}navigateByUrl(d,m={skipLocationChange:!1}){const w=Jn(d)?d:this.parseUrl(d),O=this.urlHandlingStrategy.merge(w,this.rawUrlTree);return this.scheduleNavigation(O,kr,null,m)}navigate(d,m={skipLocationChange:!1}){return function Uc(h){for(let g=0;g<h.length;g++)if(null==h[g])throw new l.vHH(4008,!1)}(d),this.navigateByUrl(this.createUrlTree(d,m),m)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let m;try{m=this.urlSerializer.parse(d)}catch(w){m=this.malformedUriErrorHandler(w,this.urlSerializer,d)}return m}isActive(d,m){let w;if(w=!0===m?{...jc}:!1===m?{...$c}:m,Jn(d))return Mt(this.currentUrlTree,d,w);const O=this.parseUrl(d);return Mt(this.currentUrlTree,O,w)}removeEmptyProps(d){return Object.keys(d).reduce((m,w)=>{const O=d[w];return null!=O&&(m[w]=O),m},{})}scheduleNavigation(d,m,w,O,k){if(this.disposed)return Promise.resolve(!1);let se,Te,He;k?(se=k.resolve,Te=k.reject,He=k.promise):He=new Promise((Lt,Hr)=>{se=Lt,Te=Hr});const Ke=this.pendingTasks.add();return bs(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Ke))}),this.navigationTransitions.handleNavigationRequest({source:m,restoredState:w,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:d,extras:O,resolve:se,reject:Te,promise:He,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),He.catch(Lt=>Promise.reject(Lt))}setBrowserUrl(d,m){const w=this.urlSerializer.serialize(d);if(this.location.isCurrentPathEqualTo(w)||m.extras.replaceUrl){const k={...m.extras.state,...this.generateNgRouterState(m.id,this.browserPageId)};this.location.replaceState(w,"",k)}else{const O={...m.extras.state,...this.generateNgRouterState(m.id,(this.browserPageId??0)+1)};this.location.go(w,"",O)}}restoreHistory(d,m=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-(this.browserPageId??this.currentPageId);0!==O?this.location.historyGo(O):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===O&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(m&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(d,m){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:m}:{navigationId:d}}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Pe=(()=>{class h{constructor(d,m,w,O,k,se){this.router=d,this.route=m,this.tabIndexAttribute=w,this.renderer=O,this.el=k,this.locationStrategy=se,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new B.x;const Te=k.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Te||"area"===Te,this.isAnchorElement?this.subscription=d.events.subscribe(He=>{He instanceof wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(d){this._preserveFragment=(0,l.D6c)(d)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(d){this._skipLocationChange=(0,l.D6c)(d)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(d){this._replaceUrl=(0,l.D6c)(d)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(d){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",d)}ngOnChanges(d){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(d,m,w,O,k){return!!(null===this.urlTree||this.isAnchorElement&&(0!==d||m||w||O||k||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const d=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",d)}applyAttributeValue(d,m){const w=this.renderer,O=this.el.nativeElement;null!==m?w.setAttribute(O,d,m):w.removeAttribute(O,d)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return h.\u0275fac=function(d){return new(d||h)(l.Y36(Rr),l.Y36(wt),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(de.S$))},h.\u0275dir=l.lG2({type:h,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(d,m){1&d&&l.NdJ("click",function(O){return m.onClick(O.button,O.ctrlKey,O.shiftKey,O.altKey,O.metaKey)}),2&d&&l.uIk("target",m.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),h})(),Nt=(()=>{class h{get isActive(){return this._isActive}constructor(d,m,w,O,k){this.router=d,this.element=m,this.renderer=w,this.cdr=O,this.link=k,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=d.events.subscribe(se=>{se instanceof wr&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe((0,he.J)()).subscribe(d=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const d=[...this.links.toArray(),this.link].filter(m=>!!m).map(m=>m.onChanges);this.linkInputChangesSubscription=(0,q.D)(d).pipe((0,he.J)()).subscribe(m=>{this._isActive!==this.isLinkActive(this.router)(m)&&this.update()})}set routerLinkActive(d){const m=Array.isArray(d)?d:d.split(" ");this.classes=m.filter(w=>!!w)}ngOnChanges(d){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const d=this.hasActiveLinks();this._isActive!==d&&(this._isActive=d,this.cdr.markForCheck(),this.classes.forEach(m=>{d?this.renderer.addClass(this.element.nativeElement,m):this.renderer.removeClass(this.element.nativeElement,m)}),d&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(d))})}isLinkActive(d){const m=function ba(h){return!!h.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return w=>!!w.urlTree&&d.isActive(w.urlTree,m)}hasActiveLinks(){const d=this.isLinkActive(this.router);return this.link&&d(this.link)||this.links.some(d)}}return h.\u0275fac=function(d){return new(d||h)(l.Y36(Rr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Pe,8))},h.\u0275dir=l.lG2({type:h,selectors:[["","routerLinkActive",""]],contentQueries:function(d,m,w){if(1&d&&l.Suo(w,Pe,5),2&d){let O;l.iGM(O=l.CRH())&&(m.links=O)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),h})();class Ss{}let _i=(()=>{class h{constructor(d,m,w,O,k){this.router=d,this.injector=w,this.preloadingStrategy=O,this.loader=k}setUpPreloading(){this.subscription=this.router.events.pipe(Oe(d=>d instanceof wr),Rt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,m){const w=[];for(const O of m){O.providers&&!O._injector&&(O._injector=(0,l.MMx)(O.providers,d,`Route: ${O.path}`));const k=O._injector??d,se=O._loadedInjector??k;(O.loadChildren&&!O._loadedRoutes&&void 0===O.canLoad||O.loadComponent&&!O._loadedComponent)&&w.push(this.preloadConfig(k,O)),(O.children||O._loadedRoutes)&&w.push(this.processRoutes(se,O.children??O._loadedRoutes))}return(0,q.D)(w).pipe((0,he.J)())}preloadConfig(d,m){return this.preloadingStrategy.preload(m,()=>{let w;w=m.loadChildren&&void 0===m.canLoad?this.loader.loadChildren(d,m):I(null);const O=w.pipe((0,Ue.z)(k=>null===k?I(void 0):(m._loadedRoutes=k.routes,m._loadedInjector=k.injector,this.processRoutes(k.injector??d,k.routes))));if(m.loadComponent&&!m._loadedComponent){const k=this.loader.loadComponent(m);return(0,q.D)([O,k]).pipe((0,he.J)())}return O})}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(Rr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ss),l.LFG(Yt))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const Ur=new l.OlP("");let Ni=(()=>{class h{constructor(d,m,w,O,k={}){this.urlSerializer=d,this.transitions=m,this.viewportScroller=w,this.zone=O,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof wr?(this.lastId=d.id,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.urlAfterRedirects).fragment)):d instanceof Kr&&0===d.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Yo&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,m){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yo(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,m))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return h.\u0275fac=function(d){l.$Z()},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})();function Fo(h,g){return{\u0275kind:h,\u0275providers:g}}function Ko(){const h=(0,l.f3M)(l.zs3);return g=>{const d=h.get(l.z2F);if(g!==d.components[0])return;const m=h.get(Rr),w=h.get(yo);1===h.get(Es)&&m.initialNavigation(),h.get(Fi,null,l.XFs.Optional)?.setUpPreloading(),h.get(Ur,null,l.XFs.Optional)?.init(),m.resetRootComponentType(d.componentTypes[0]),w.closed||(w.next(),w.complete(),w.unsubscribe())}}const yo=new l.OlP("",{factory:()=>new B.x}),Es=new l.OlP("",{providedIn:"root",factory:()=>1}),Fi=new l.OlP("");function ws(h){return Fo(0,[{provide:Fi,useExisting:_i},{provide:Ss,useExisting:h}])}const Ts=new l.OlP("ROUTER_FORROOT_GUARD"),Ra=[de.Ye,{provide:xn,useClass:yn},Rr,Fe,{provide:wt,useFactory:function Ea(h){return h.routerState.root},deps:[Rr]},Yt,[]];function Pa(){return new l.PXZ("Router",Rr)}let xa=(()=>{class h{constructor(d){}static forRoot(d,m){return{ngModule:h,providers:[Ra,[],{provide:It,multi:!0,useValue:d},{provide:Ts,useFactory:ar,deps:[[Rr,new l.FiY,new l.tp0]]},{provide:to,useValue:m||{}},m?.useHash?{provide:de.S$,useClass:de.Do}:{provide:de.S$,useClass:de.b0},{provide:Ur,useFactory:()=>{const h=(0,l.f3M)(de.EM),g=(0,l.f3M)(l.R0b),d=(0,l.f3M)(to),m=(0,l.f3M)(cn),w=(0,l.f3M)(xn);return d.scrollOffset&&h.setOffset(d.scrollOffset),new Ni(w,m,h,g,d)}},m?.preloadingStrategy?ws(m.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Pa},m?.initialNavigation?Jo(m):[],m?.bindToComponentInputs?Fo(8,[er,{provide:Xn,useExisting:er}]).\u0275providers:[],[{provide:pn,useFactory:Ko},{provide:l.tb,multi:!0,useExisting:pn}]]}}static forChild(d){return{ngModule:h,providers:[{provide:It,multi:!0,useValue:d}]}}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(Ts,8))},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({}),h})();function ar(h){return"guarded"}function Jo(h){return["disabled"===h.initialNavigation?Fo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const g=(0,l.f3M)(Rr);return()=>{g.setUpLocationChangeListener()}}},{provide:Es,useValue:2}]).\u0275providers:[],"enabledBlocking"===h.initialNavigation?Fo(2,[{provide:Es,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:g=>{const d=g.get(de.V_,Promise.resolve());return()=>d.then(()=>new Promise(m=>{const w=g.get(Rr),O=g.get(yo);bs(w,()=>{m(!0)}),g.get(cn).afterPreactivation=()=>(m(!0),O.closed?I(void 0):O),w.initialNavigation()}))}}]).\u0275providers:[]]}const pn=new l.OlP("")},2191:(et,X,M)=>{"use strict";M.d(X,{Z:()=>Q});var l=M(5861);const N=new WeakMap,J=new WeakMap,ne=new WeakMap,q=Symbol("anyProducer"),we=Promise.resolve(),I=Symbol("listenerAdded"),B=Symbol("listenerRemoved");let j=!1,K=!1;function ae(pe){if("string"!=typeof pe&&"symbol"!=typeof pe&&"number"!=typeof pe)throw new TypeError("`eventName` must be a string, symbol, or number")}function De(pe){if("function"!=typeof pe)throw new TypeError("listener must be a function")}function Ve(pe,G){const fe=J.get(pe);if(fe.has(G))return fe.get(G)}function ee(pe,G){const fe="string"==typeof G||"symbol"==typeof G||"number"==typeof G?G:q,Y=ne.get(pe);if(Y.has(fe))return Y.get(fe)}function Ne(pe,G){G=Array.isArray(G)?G:[G];let fe=!1,Y=()=>{},Z=[];const re={enqueue(F){Z.push(F),Y()},finish(){fe=!0,Y()}};for(const F of G){let Se=ee(pe,F);Se||(Se=new Set,ne.get(pe).set(F,Se)),Se.add(re)}return{next(){var F=this;return(0,l.Z)(function*(){return Z?0===Z.length?fe?(Z=void 0,F.next()):(yield new Promise(Se=>{Y=Se}),F.next()):{done:!1,value:yield Z.shift()}:{done:!0}})()},return(F){var Se=arguments;return(0,l.Z)(function*(){Z=void 0;for(const Be of G){const Me=ee(pe,Be);Me&&(Me.delete(re),0===Me.size&&ne.get(pe).delete(Be))}return Y(),Se.length>0?{done:!0,value:yield F}:{done:!0}})()},[Symbol.asyncIterator](){return this}}}function L(pe){if(void 0===pe)return he;if(!Array.isArray(pe))throw new TypeError("`methodNames` must be an array of strings");for(const G of pe)if(!he.includes(G))throw"string"!=typeof G?new TypeError("`methodNames` element must be a string"):new Error(`${G} is not Emittery method`);return pe}const W=pe=>pe===I||pe===B;function me(pe,G,fe){if(W(G))try{j=!0,pe.emit(G,fe)}finally{j=!1}}class Q{static mixin(G,fe){return fe=L(fe),Y=>{if("function"!=typeof Y)throw new TypeError("`target` must be function");for(const F of fe)if(void 0!==Y.prototype[F])throw new Error(`The property \`${F}\` already exists on \`target\``);Object.defineProperty(Y.prototype,G,{enumerable:!1,get:function Z(){return Object.defineProperty(this,G,{enumerable:!1,value:new Q}),this[G]}});const re=F=>function(...Se){return this[G][F](...Se)};for(const F of fe)Object.defineProperty(Y.prototype,F,{enumerable:!1,value:re(F)});return Y}}static get isDebugEnabled(){if("object"!=typeof globalThis.process?.env)return K;const{env:G}=globalThis.process??{env:{}};return"emittery"===G.DEBUG||"*"===G.DEBUG||K}static set isDebugEnabled(G){K=G}constructor(G={}){N.set(this,new Set),J.set(this,new Map),ne.set(this,new Map),ne.get(this).set(q,new Set),this.debug=G.debug??{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(fe,Y,Z,re)=>{try{re=JSON.stringify(re)}catch{re=`Object with the following keys failed to stringify: ${Object.keys(re).join(",")}`}("symbol"==typeof Z||"number"==typeof Z)&&(Z=Z.toString());const F=new Date,Se=`${F.getHours()}:${F.getMinutes()}:${F.getSeconds()}.${F.getMilliseconds()}`;console.log(`[${Se}][emittery:${fe}][${Y}] Event Name: ${Z}\n\tdata: ${re}`)})}logIfDebugEnabled(G,fe,Y){(Q.isDebugEnabled||this.debug.enabled)&&this.debug.logger(G,this.debug.name,fe,Y)}on(G,fe){De(fe),G=Array.isArray(G)?G:[G];for(const Y of G){ae(Y);let Z=Ve(this,Y);Z||(Z=new Set,J.get(this).set(Y,Z)),Z.add(fe),this.logIfDebugEnabled("subscribe",Y,void 0),W(Y)||me(this,I,{eventName:Y,listener:fe})}return this.off.bind(this,G,fe)}off(G,fe){De(fe),G=Array.isArray(G)?G:[G];for(const Y of G){ae(Y);const Z=Ve(this,Y);Z&&(Z.delete(fe),0===Z.size&&J.get(this).delete(Y)),this.logIfDebugEnabled("unsubscribe",Y,void 0),W(Y)||me(this,B,{eventName:Y,listener:fe})}}once(G){let fe;const Y=new Promise(Z=>{fe=this.on(G,re=>{fe(),Z(re)})});return Y.off=fe,Y}events(G){G=Array.isArray(G)?G:[G];for(const fe of G)ae(fe);return Ne(this,G)}emit(G,fe){var Y=this;return(0,l.Z)(function*(){if(ae(G),W(G)&&!j)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");Y.logIfDebugEnabled("emit",G,fe),function Le(pe,G,fe){const Y=ne.get(pe);if(Y.has(G))for(const Z of Y.get(G))Z.enqueue(fe);if(Y.has(q)){const Z=Promise.all([G,fe]);for(const re of Y.get(q))re.enqueue(Z)}}(Y,G,fe);const Z=Ve(Y,G)??new Set,re=N.get(Y),F=[...Z],Se=W(G)?[]:[...re];yield we,yield Promise.all([...F.map(function(){var Be=(0,l.Z)(function*(Me){if(Z.has(Me))return Me(fe)});return function(Me){return Be.apply(this,arguments)}}()),...Se.map(function(){var Be=(0,l.Z)(function*(Me){if(re.has(Me))return Me(G,fe)});return function(Me){return Be.apply(this,arguments)}}())])})()}emitSerial(G,fe){var Y=this;return(0,l.Z)(function*(){if(ae(G),W(G)&&!j)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");Y.logIfDebugEnabled("emitSerial",G,fe);const Z=Ve(Y,G)??new Set,re=N.get(Y),F=[...Z],Se=[...re];yield we;for(const Be of F)Z.has(Be)&&(yield Be(fe));for(const Be of Se)re.has(Be)&&(yield Be(G,fe))})()}onAny(G){return De(G),this.logIfDebugEnabled("subscribeAny",void 0,void 0),N.get(this).add(G),me(this,I,{listener:G}),this.offAny.bind(this,G)}anyEvent(){return Ne(this)}offAny(G){De(G),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),me(this,B,{listener:G}),N.get(this).delete(G)}clearListeners(G){G=Array.isArray(G)?G:[G];for(const fe of G)if(this.logIfDebugEnabled("clear",fe,void 0),"string"==typeof fe||"symbol"==typeof fe||"number"==typeof fe){const Y=Ve(this,fe);Y&&Y.clear();const Z=ee(this,fe);if(Z){for(const re of Z)re.finish();Z.clear()}}else{N.get(this).clear();for(const[Y,Z]of J.get(this).entries())Z.clear(),J.get(this).delete(Y);for(const[Y,Z]of ne.get(this).entries()){for(const re of Z)re.finish();Z.clear(),ne.get(this).delete(Y)}}}listenerCount(G){G=Array.isArray(G)?G:[G];let fe=0;for(const Y of G)if("string"!=typeof Y){typeof Y<"u"&&ae(Y),fe+=N.get(this).size;for(const Z of J.get(this).values())fe+=Z.size;for(const Z of ne.get(this).values())fe+=Z.size}else fe+=N.get(this).size+(Ve(this,Y)?.size??0)+(ee(this,Y)?.size??0)+(ee(this)?.size??0);return fe}bindMethods(G,fe){if("object"!=typeof G||null===G)throw new TypeError("`target` must be an object");fe=L(fe);for(const Y of fe){if(void 0!==G[Y])throw new Error(`The property \`${Y}\` already exists on \`target\``);Object.defineProperty(G,Y,{enumerable:!1,value:this[Y].bind(this)})}}}const he=Object.getOwnPropertyNames(Q.prototype).filter(pe=>"constructor"!==pe);Object.defineProperty(Q,"listenerAdded",{value:I,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Q,"listenerRemoved",{value:B,writable:!1,enumerable:!0,configurable:!1})},5861:(et,X,M)=>{"use strict";function l(J,ne,q,we,I,B,j){try{var K=J[B](j),ae=K.value}catch(De){return void q(De)}K.done?ne(ae):Promise.resolve(ae).then(we,I)}function N(J){return function(){var ne=this,q=arguments;return new Promise(function(we,I){var B=J.apply(ne,q);function j(ae){l(B,we,I,j,K,"next",ae)}function K(ae){l(B,we,I,j,K,"throw",ae)}j(void 0)})}}M.d(X,{Z:()=>N})}},et=>{et(et.s=6821)}]);