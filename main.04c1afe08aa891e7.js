(self.webpackChunkHCApp=self.webpackChunkHCApp||[]).push([[179],{4670:(Xe,K,M)=>{"use strict";M.d(K,{PV:()=>Ee,jQ:()=>c,ok:()=>J,x4:()=>L});class c{constructor(){this.roomId="",this.name="",this.matchType="",this.roomCreatedAt="",this.roomCreatedBy="",this.maxBalls=0,this.totalWickets=0,this.teamA=new k,this.teamB=new k,this.inMatchData=new q,this.isTossStage=!1,this.firstInnings=new Z,this.secondInnings=new Z,this.currentInnings=new Z,this.playerList=[],this.gameOver=!1}}class k{constructor(){this.name="",this.customDisplayName="",this.isBatting=!1,this.isBowling=!1,this.captain=new J,this.onStrike=new J,this.bowling=new J,this.player1=new J,this.player2=new J,this.thisOver=[],this.thisOverDisplay=[],this.players=[]}}class J{constructor(){this.roomId="",this.roomIdString="",this.playerId="",this.currentConnectionId="",this.teamName="",this.name="",this.roomName="",this.number=0,this.runs=0,this.wicketsLeft=0,this.isOnStrike=!1,this.ballsPlayed=0,this.isBatting=!1,this.hasWonToss=!1,this.runRate=0,this.strikeRate=0,this.captainsChoice="",this.isTossing=!1,this.isCaptain=!1,this.isHeads=!1,this.isReady=!1,this.isLocked=!1,this.lockedWith=0,this.hasSelectedNumber=!1}}class Z{constructor(){this.name="1st",this.isOn=!1,this.batting=new J,this.bowling=new J,this.battingTeam=new k,this.bowlingTeam=new k,this.ballsPlayed=0,this.wickets=0,this.runs=0}}class q{constructor(){this.isSameNumber=!1,this.playerWithHeads=new J,this.playerWithTails=new J,this.playerWithTossWin=new J,this.playerWithTossLoss=new J,this.playerWithTossWinId="",this.playerWithTossLossId=""}}var Ee=(()=>((Ee=Ee||{})[Ee.IsDraw=0]="IsDraw",Ee[Ee.WonByRun=1]="WonByRun",Ee[Ee.WonByWicket=2]="WonByWicket",Ee))();class L{constructor(){this.winnerTeam=new k,this.matchWinType=Ee.IsDraw,this.wonByRun=0,this.wonByWicket=0,this.teamA=new k,this.teamB=new k}}},1911:(Xe,K,M)=>{"use strict";M.d(K,{b9:()=>W,YW:()=>He});var c=M(6593),k=M(6814),J=M(95),Z=M(6538),q=M(4946);const pe=[{path:"",redirectTo:"setup",pathMatch:"full"},{path:"",children:[{path:"setup",loadChildren:()=>M.e(802).then(M.bind(M,802)).then(ue=>ue.SetupModule)},{path:"game",loadChildren:()=>M.e(488).then(M.bind(M,4488)).then(ue=>ue.GameModule)},{path:"result",loadChildren:()=>M.e(151).then(M.bind(M,8151)).then(ue=>ue.ResultModule)}]},{path:"**",redirectTo:"game"}];let Ee=(()=>{class ue{}return ue.\u0275fac=function(z){return new(z||ue)},ue.\u0275mod=q.oAB({type:ue}),ue.\u0275inj=q.cJS({imports:[c.b2,J.u5,Z.Bz.forRoot(pe,{useHash:!0}),Z.Bz]}),ue})();var L=M(4274),F=M(8956),Q=M(1982),ie=M(6690);function _e(ue,ge){1&ue&&(q.TgZ(0,"h2"),q._uU(1,"App is working"),q.qZA())}function Oe(ue,ge){1&ue&&(q.TgZ(0,"nav")(1,"ul")(2,"li")(3,"a",1),q._uU(4,"Game"),q.qZA()(),q.TgZ(5,"li")(6,"a",2),q._uU(7,"Setup"),q.qZA()(),q.TgZ(8,"li")(9,"a",3),q._uU(10,"Result"),q.qZA()()()())}let me=(()=>{class ue{constructor(z,he,B){this.socketService=z,this.localStorageService=he,this.router=B,this.title="HCApp",this.developmentMode=F.Lc!=F.EH.Production,z.Emitter.on(L.f.InitialFormSubmit,Y=>{F.GG.invoke(L.f.InitialFormSubmit,Y)}),F.GG.on(L.f.FirstPlayerJoined,Y=>{z.CurrentPlayer=Y.playerList.find(re=>re.currentConnectionId==F.GG.connectionId),z.MatchData=Y,z.Emitter.emit(L.f.LOADGAMESCREEN,Y),this.localStorageService.setData("matchData",Y)}),F.GG.on(L.f.PLAYERJOINED,Y=>{""==z.CurrentPlayer.playerId&&(z.CurrentPlayer=Y.playerList.find(re=>re.currentConnectionId==F.GG.connectionId)),Y.playerList.forEach(re=>{z.CurrentPlayer.teamName==re.teamName?z.isTeamMate(re.playerId)||z.Teammates.push(re):z.isOpponent(re.playerId)||z.OppoPlayers.push(re)}),z.MatchData=Y,z.Emitter.emit(L.f.LOADGAMESCREEN,Y),z.Emitter.emit(L.f.PLAYERJOINED,Y),this.localStorageService.setData("matchData",Y)}),F.GG.on(L.f.AllPlayersJoined,Y=>{z.MatchData=Y,this.localStorageService.setData("matchData",Y),setTimeout(()=>{z.Emitter.emit(L.p.InitiateTossStage,z.MatchData)},1e3)}),z.Emitter.on(L.f.PlayerReady,()=>{""!=z.CurrentPlayer.roomId?F.GG.invoke(L.f.PlayerReady,z.CurrentPlayer?.roomId,z.CurrentPlayer):console.error("room id not found on current player")}),F.GG.on(L.f.PlayerReadyReceived,Y=>{Y.currentConnectionId!=this.socketService.CurrentPlayer.currentConnectionId&&z.Emitter.emit(L.f.PlayerReadyReceived,Y)}),z.Emitter.on(L.f.PlayerConfirmed,Y=>{z.CurrentPlayer.isLocked=!0,z.CurrentPlayer.lockedWith=parseInt(Y),""!=z.CurrentPlayer.roomId?F.GG.invoke(L.f.PlayerConfirmed,z.CurrentPlayer.roomId,z.CurrentPlayer):console.log("room id not found")}),F.GG.on(L.f.PlayerConfirmedReceived,Y=>{this.socketService.isTeamMate(Y.currentInnings.batting.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",Y.currentInnings.batting.lockedWith):this.socketService.isTeamMate(Y.currentInnings.bowling.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",Y.currentInnings.bowling.lockedWith):this.socketService.Emitter.emit("ShowOppoisLocked")}),F.GG.on(L.f.TossDecision,Y=>{let re=this.socketService.CurrentPlayer.playerId,X=Y.inMatchData.playerWithTossWin.playerId,le=Y.inMatchData.playerWithTossLoss.playerId;re==X||this.socketService.isTeamMate(X)?this.socketService.Emitter.emit(L.f.TossDecision,{tosswinner:!0,msg:"You have won the toss",myNumber:Y.inMatchData.playerWithTossWin.lockedWith,oppoNumber:Y.inMatchData.playerWithTossLoss.lockedWith}):(re==le||this.socketService.isTeamMate(le))&&this.socketService.Emitter.emit(L.f.TossDecision,{tosswinner:!1,msg:"You have lost the toss",myNumber:Y.inMatchData.playerWithTossLoss.lockedWith,oppoNumber:Y.inMatchData.playerWithTossWin.lockedWith})}),z.Emitter.on(L.f.CaptainsChoice,Y=>{z.CurrentPlayer.captainsChoice=Y,F.GG.invoke(L.f.CaptainsChoice,z.CurrentPlayer.roomId,z.CurrentPlayer)}),F.GG.on(L.f.StartMatch,Y=>{console.info("after receiving start match event from server : ",Y),Y.currentInnings.batting.playerId==z.CurrentPlayer.playerId&&(z.CurrentPlayer.isOnStrike=!0),Y.currentInnings.bowling.playerId==z.CurrentPlayer.playerId&&(z.CurrentPlayer.isOnStrike=!0),z.Emitter.emit(L.f.StartMatch,Y),z.MatchData=Y,this.localStorageService.setData("matchData",Y)}),F.GG.on(L.f.UpdateScore,Y=>{console.info("update score event : ",Y),Y.currentInnings.batting.playerId==z.CurrentPlayer.playerId&&(z.CurrentPlayer.isOnStrike=!0),Y.currentInnings.bowling.playerId==z.CurrentPlayer.playerId&&(z.CurrentPlayer.isOnStrike=!0),z.Emitter.emit(L.f.UpdateScore,Y),z.MatchData=Y,this.localStorageService.setData("matchData",Y)}),F.GG.on(L.f.GameOver,Y=>{console.info("game over event : ",Y),this.socketService.MatchResult=Y,this.socketService.Emitter.emit(L.p.ShowMatchWinLose,Y)}),this.socketService.Emitter.on(L.f.DeleteRoom,Y=>{F.GG.invoke(L.f.DeleteRoom,Y)}),F.GG.on(L.f.RoomDeleted,Y=>{console.log("previous room deleted")})}}return ue.\u0275fac=function(z){return new(z||ue)(q.Y36(Q.$),q.Y36(ie.J),q.Y36(Z.F0))},ue.\u0275cmp=q.Xpm({type:ue,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],["routerLink","/game","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/setup","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/result","routerLinkActive","active","ariaCurrentWhenActive","page"]],template:function(z,he){1&z&&(q.YNc(0,_e,2,0,"h2",0),q.YNc(1,Oe,11,0,"nav",0),q._UZ(2,"router-outlet")),2&z&&(q.Q6J("ngIf",he.developmentMode),q.xp6(1),q.Q6J("ngIf",he.developmentMode))},dependencies:[k.O5,Z.lC,Z.rH,Z.Od],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,900;1,300;1,400;1,500;1,700;1,900&display=swap";@font-face{font-family:SunnySpells;src:url(SunnySpells.d4013c07149a7a90.ttf)}@font-face{font-family:FredokaOne;src:url(FredokaOne-Regular.818774f549fcbdf1.ttf)}@font-face{font-family:LedBoard;src:url(LedBoard.b6a4846da22262bc.TTF)}@font-face{font-family:LedBoardR;src:url(LEDBDREV.b992883ab656f374.TTF)}@font-face{font-family:LCD2N;src:url(LCD2N___.3422a3060eb00dc0.TTF)}@font-face{font-family:LCDN;src:url(LCD-N___.2924199b10f46e6a.TTF)}[_ngcontent-%COMP%]:root{--notification-font: SunnySpells;--scoreboard-font: LCDN;--this-over-font: LedBoardR}']}),ue})();var Ne=M(9659);const He=new q.OlP("EmitteryInstance"),$={provide:He,useClass:Ne.Z};let W=(()=>{class ue{}return ue.\u0275fac=function(z){return new(z||ue)},ue.\u0275mod=q.oAB({type:ue,bootstrap:[me]}),ue.\u0275inj=q.cJS({providers:[{provide:k.S$,useClass:k.Do},$],imports:[c.b2,Ee]}),ue})()},6690:(Xe,K,M)=>{"use strict";M.d(K,{J:()=>k});var c=M(4946);let k=(()=>{class J{constructor(){}loadData(q){return localStorage.getItem(q)?JSON.parse(localStorage.getItem(q)):null}setData(q,pe){localStorage.setItem(q,JSON.stringify(pe))}deleteData(q){localStorage.removeItem(q)}}return J.\u0275fac=function(q){return new(q||J)},J.\u0275prov=c.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},4274:(Xe,K,M)=>{"use strict";M.d(K,{f:()=>c,p:()=>k});var c=(()=>((c=c||{}).GamePageLoaded="gamepageLoaded",c.InitialFormSubmit="initialFormSubmit",c.FirstPlayerJoined="FirstPlayerJoined",c.PLAYERJOINED="PLAYERJOINED",c.AllPlayersJoined="AllPlayersJoined",c.PlayerReady="PlayerReady",c.PlayerReadyReceived="PlayerReadyReceived",c.PlayerConfirmed="PlayerConfirmed",c.PlayerConfirmedReceived="PlayerConfirmedReceived",c.LOADGAMESCREEN="LOADGAMESCREEN",c.TossDecision="TossDecision",c.CaptainsChoice="CaptainsChoice",c.StartMatch="StartMatch",c.UpdateScore="UpdateScore",c.GameOver="GameOver",c.DeleteRoom="DeleteMatchRoom",c.RoomDeleted="RoomDeleted",c))(),k=(()=>((k=k||{}).InitiateTossStage="InitiateTossStage",k.ShowTheLockedNumber="ShowTheLockedNumber",k.ShowOppoisLocked="ShowOppoisLocked",k.ShowMatchWinLose="ShowMatchWinLose",k))()},1982:(Xe,K,M)=>{"use strict";M.d(K,{$:()=>pe});var c=M(9659),k=M(1911),J=M(4670),Z=M(4946),q=M(6690);let pe=(()=>{class Ee{constructor(F,Q){this.emittery=F,this.localStorageService=Q,this.CurrentPlayer=new J.ok,this.OppoPlayers=[],this.Teammates=[],this.MatchData=new J.jQ,this.MatchResult=new J.x4,F=new c.Z,c.Z.isDebugEnabled=!1}TurnOffDebugger(){c.Z.isDebugEnabled=!1}get Emitter(){return this.emittery}isTeamMate(F){return this.Teammates.some(Q=>Q.playerId==F)}isOpponent(F){return this.OppoPlayers.some(Q=>Q.playerId==F)}}return Ee.\u0275fac=function(F){return new(F||Ee)(Z.LFG(k.YW),Z.LFG(q.J))},Ee.\u0275prov=Z.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},8956:(Xe,K,M)=>{"use strict";M.d(K,{Lc:()=>To,EH:()=>ri,GG:()=>oi});var c={};M.r(c),M.d(c,{fixNegotiationNeeded:()=>ye,shimAddTrackRemoveTrack:()=>Ct,shimAddTrackRemoveTrackWithNative:()=>ot,shimGetDisplayMedia:()=>Y,shimGetSendersWithDtmf:()=>le,shimGetStats:()=>Se,shimGetUserMedia:()=>B,shimMediaStream:()=>re,shimOnTrack:()=>X,shimPeerConnection:()=>ke,shimSenderReceiverGetStats:()=>We});var k={};M.r(k),M.d(k,{shimGetDisplayMedia:()=>Pe,shimGetUserMedia:()=>Le,shimPeerConnection:()=>Ve,shimReplaceTrack:()=>Ze});var J={};M.r(J),M.d(J,{shimAddTransceiver:()=>tn,shimCreateAnswer:()=>sr,shimCreateOffer:()=>Yt,shimGetDisplayMedia:()=>tt,shimGetParameters:()=>Tn,shimGetUserMedia:()=>Kt,shimOnTrack:()=>ht,shimPeerConnection:()=>Dt,shimRTCDataChannel:()=>_n,shimReceiverGetStats:()=>Vt,shimRemoveStream:()=>vn,shimSenderGetStats:()=>pt});var Z={};M.r(Z),M.d(Z,{shimAudioContext:()=>nt,shimCallbacksAPI:()=>Jt,shimConstraints:()=>Rn,shimCreateOfferLegacy:()=>Ye,shimGetUserMedia:()=>Nn,shimLocalStreamsAPI:()=>dn,shimRTCIceServerUrls:()=>Nt,shimRemoteStreamsAPI:()=>Fe,shimTrackEventTransceiver:()=>an});var q={};M.r(q),M.d(q,{removeExtmapAllowMixed:()=>Qt,shimAddIceCandidateNullOrEmpty:()=>no,shimConnectionState:()=>Gr,shimMaxMessageSize:()=>Fn,shimRTCIceCandidate:()=>kn,shimSendThrowTypeError:()=>on});var pe=M(5861),Ee=M(6593),L=M(2264);let F=!0,Q=!0;function ie(a,s,l){const h=a.match(s);return h&&h.length>=l&&parseInt(h[l],10)}function _e(a,s,l){if(!a.RTCPeerConnection)return;const h=a.RTCPeerConnection.prototype,y=h.addEventListener;h.addEventListener=function(P,x){if(P!==s)return y.apply(this,arguments);const U=j=>{const ne=l(j);ne&&(x.handleEvent?x.handleEvent(ne):x(ne))};return this._eventMap=this._eventMap||{},this._eventMap[s]||(this._eventMap[s]=new Map),this._eventMap[s].set(x,U),y.apply(this,[P,U])};const E=h.removeEventListener;h.removeEventListener=function(P,x){if(P!==s||!this._eventMap||!this._eventMap[s])return E.apply(this,arguments);if(!this._eventMap[s].has(x))return E.apply(this,arguments);const U=this._eventMap[s].get(x);return this._eventMap[s].delete(x),0===this._eventMap[s].size&&delete this._eventMap[s],0===Object.keys(this._eventMap).length&&delete this._eventMap,E.apply(this,[P,U])},Object.defineProperty(h,"on"+s,{get(){return this["_on"+s]},set(P){this["_on"+s]&&(this.removeEventListener(s,this["_on"+s]),delete this["_on"+s]),P&&this.addEventListener(s,this["_on"+s]=P)},enumerable:!0,configurable:!0})}function Oe(a){return"boolean"!=typeof a?new Error("Argument type: "+typeof a+". Please use a boolean."):(F=a,a?"adapter.js logging disabled":"adapter.js logging enabled")}function me(a){return"boolean"!=typeof a?new Error("Argument type: "+typeof a+". Please use a boolean."):(Q=!a,"adapter.js deprecation warnings "+(a?"disabled":"enabled"))}function Ne(){if("object"==typeof window){if(F)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function He(a,s){Q&&console.warn(a+" is deprecated, please use "+s+" instead.")}function W(a){return"[object Object]"===Object.prototype.toString.call(a)}function ue(a){return W(a)?Object.keys(a).reduce(function(s,l){const h=W(a[l]),y=h?ue(a[l]):a[l],E=h&&!Object.keys(y).length;return void 0===y||E?s:Object.assign(s,{[l]:y})},{}):a}function ge(a,s,l){!s||l.has(s.id)||(l.set(s.id,s),Object.keys(s).forEach(h=>{h.endsWith("Id")?ge(a,a.get(s[h]),l):h.endsWith("Ids")&&s[h].forEach(y=>{ge(a,a.get(y),l)})}))}function z(a,s,l){const h=l?"outbound-rtp":"inbound-rtp",y=new Map;if(null===s)return y;const E=[];return a.forEach(P=>{"track"===P.type&&P.trackIdentifier===s.id&&E.push(P)}),E.forEach(P=>{a.forEach(x=>{x.type===h&&x.trackId===P.id&&ge(a,x,y)})}),y}const he=Ne;function B(a,s){const l=a&&a.navigator;if(!l.mediaDevices)return;const h=function(x){if("object"!=typeof x||x.mandatory||x.optional)return x;const U={};return Object.keys(x).forEach(j=>{if("require"===j||"advanced"===j||"mediaSource"===j)return;const ne="object"==typeof x[j]?x[j]:{ideal:x[j]};void 0!==ne.exact&&"number"==typeof ne.exact&&(ne.min=ne.max=ne.exact);const De=function(Ge,St){return Ge?Ge+St.charAt(0).toUpperCase()+St.slice(1):"deviceId"===St?"sourceId":St};if(void 0!==ne.ideal){U.optional=U.optional||[];let Ge={};"number"==typeof ne.ideal?(Ge[De("min",j)]=ne.ideal,U.optional.push(Ge),Ge={},Ge[De("max",j)]=ne.ideal,U.optional.push(Ge)):(Ge[De("",j)]=ne.ideal,U.optional.push(Ge))}void 0!==ne.exact&&"number"!=typeof ne.exact?(U.mandatory=U.mandatory||{},U.mandatory[De("",j)]=ne.exact):["min","max"].forEach(Ge=>{void 0!==ne[Ge]&&(U.mandatory=U.mandatory||{},U.mandatory[De(Ge,j)]=ne[Ge])})}),x.advanced&&(U.optional=(U.optional||[]).concat(x.advanced)),U},y=function(x,U){if(s.version>=61)return U(x);if((x=JSON.parse(JSON.stringify(x)))&&"object"==typeof x.audio){const j=function(ne,De,Ge){De in ne&&!(Ge in ne)&&(ne[Ge]=ne[De],delete ne[De])};j((x=JSON.parse(JSON.stringify(x))).audio,"autoGainControl","googAutoGainControl"),j(x.audio,"noiseSuppression","googNoiseSuppression"),x.audio=h(x.audio)}if(x&&"object"==typeof x.video){let j=x.video.facingMode;j=j&&("object"==typeof j?j:{ideal:j});const ne=s.version<66;if(j&&("user"===j.exact||"environment"===j.exact||"user"===j.ideal||"environment"===j.ideal)&&(!l.mediaDevices.getSupportedConstraints||!l.mediaDevices.getSupportedConstraints().facingMode||ne)){let De;if(delete x.video.facingMode,"environment"===j.exact||"environment"===j.ideal?De=["back","rear"]:("user"===j.exact||"user"===j.ideal)&&(De=["front"]),De)return l.mediaDevices.enumerateDevices().then(Ge=>{let St=(Ge=Ge.filter(Wt=>"videoinput"===Wt.kind)).find(Wt=>De.some(en=>Wt.label.toLowerCase().includes(en)));return!St&&Ge.length&&De.includes("back")&&(St=Ge[Ge.length-1]),St&&(x.video.deviceId=j.exact?{exact:St.deviceId}:{ideal:St.deviceId}),x.video=h(x.video),he("chrome: "+JSON.stringify(x)),U(x)})}x.video=h(x.video)}return he("chrome: "+JSON.stringify(x)),U(x)},E=function(x){return s.version>=64?x:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[x.name]||x.name,message:x.message,constraint:x.constraint||x.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(l.getUserMedia=function(x,U,j){y(x,ne=>{l.webkitGetUserMedia(ne,U,De=>{j&&j(E(De))})})}.bind(l),l.mediaDevices.getUserMedia){const x=l.mediaDevices.getUserMedia.bind(l.mediaDevices);l.mediaDevices.getUserMedia=function(U){return y(U,j=>x(j).then(ne=>{if(j.audio&&!ne.getAudioTracks().length||j.video&&!ne.getVideoTracks().length)throw ne.getTracks().forEach(De=>{De.stop()}),new DOMException("","NotFoundError");return ne},ne=>Promise.reject(E(ne))))}}}function Y(a,s){if((!a.navigator.mediaDevices||!("getDisplayMedia"in a.navigator.mediaDevices))&&a.navigator.mediaDevices){if("function"!=typeof s)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");a.navigator.mediaDevices.getDisplayMedia=function(h){return s(h).then(y=>{const E=h.video&&h.video.width,P=h.video&&h.video.height;return h.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:y,maxFrameRate:h.video&&h.video.frameRate||3}},E&&(h.video.mandatory.maxWidth=E),P&&(h.video.mandatory.maxHeight=P),a.navigator.mediaDevices.getUserMedia(h)})}}}function re(a){a.MediaStream=a.MediaStream||a.webkitMediaStream}function X(a){if("object"==typeof a&&a.RTCPeerConnection&&!("ontrack"in a.RTCPeerConnection.prototype)){Object.defineProperty(a.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(l){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=l)},enumerable:!0,configurable:!0});const s=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=h=>{h.stream.addEventListener("addtrack",y=>{let E;E=a.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(x=>x.track&&x.track.id===y.track.id):{track:y.track};const P=new Event("track");P.track=y.track,P.receiver=E,P.transceiver={receiver:E},P.streams=[h.stream],this.dispatchEvent(P)}),h.stream.getTracks().forEach(y=>{let E;E=a.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(x=>x.track&&x.track.id===y.id):{track:y};const P=new Event("track");P.track=y,P.receiver=E,P.transceiver={receiver:E},P.streams=[h.stream],this.dispatchEvent(P)})},this.addEventListener("addstream",this._ontrackpoly)),s.apply(this,arguments)}}else _e(a,"track",s=>(s.transceiver||Object.defineProperty(s,"transceiver",{value:{receiver:s.receiver}}),s))}function le(a){if("object"==typeof a&&a.RTCPeerConnection&&!("getSenders"in a.RTCPeerConnection.prototype)&&"createDTMFSender"in a.RTCPeerConnection.prototype){const s=function(y,E){return{track:E,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===E.kind?y.createDTMFSender(E):null),this._dtmf},_pc:y}};if(!a.RTCPeerConnection.prototype.getSenders){a.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const y=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(x,U){let j=y.apply(this,arguments);return j||(j=s(this,x),this._senders.push(j)),j};const E=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(x){E.apply(this,arguments);const U=this._senders.indexOf(x);-1!==U&&this._senders.splice(U,1)}}const l=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(E){this._senders=this._senders||[],l.apply(this,[E]),E.getTracks().forEach(P=>{this._senders.push(s(this,P))})};const h=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(E){this._senders=this._senders||[],h.apply(this,[E]),E.getTracks().forEach(P=>{const x=this._senders.find(U=>U.track===P);x&&this._senders.splice(this._senders.indexOf(x),1)})}}else if("object"==typeof a&&a.RTCPeerConnection&&"getSenders"in a.RTCPeerConnection.prototype&&"createDTMFSender"in a.RTCPeerConnection.prototype&&a.RTCRtpSender&&!("dtmf"in a.RTCRtpSender.prototype)){const s=a.RTCPeerConnection.prototype.getSenders;a.RTCPeerConnection.prototype.getSenders=function(){const h=s.apply(this,[]);return h.forEach(y=>y._pc=this),h},Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function Se(a){if(!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){const[h,y,E]=arguments;if(arguments.length>0&&"function"==typeof h)return s.apply(this,arguments);if(0===s.length&&(0===arguments.length||"function"!=typeof h))return s.apply(this,[]);const P=function(U){const j={};return U.result().forEach(De=>{const Ge={id:De.id,timestamp:De.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[De.type]||De.type};De.names().forEach(St=>{Ge[St]=De.stat(St)}),j[Ge.id]=Ge}),j},x=function(U){return new Map(Object.keys(U).map(j=>[j,U[j]]))};return arguments.length>=2?s.apply(this,[function(j){y(x(P(j)))},h]):new Promise((U,j)=>{s.apply(this,[function(ne){U(x(P(ne)))},j])}).then(y,E)}}function We(a){if(!("object"==typeof a&&a.RTCPeerConnection&&a.RTCRtpSender&&a.RTCRtpReceiver))return;if(!("getStats"in a.RTCRtpSender.prototype)){const l=a.RTCPeerConnection.prototype.getSenders;l&&(a.RTCPeerConnection.prototype.getSenders=function(){const E=l.apply(this,[]);return E.forEach(P=>P._pc=this),E});const h=a.RTCPeerConnection.prototype.addTrack;h&&(a.RTCPeerConnection.prototype.addTrack=function(){const E=h.apply(this,arguments);return E._pc=this,E}),a.RTCRtpSender.prototype.getStats=function(){const E=this;return this._pc.getStats().then(P=>z(P,E.track,!0))}}if(!("getStats"in a.RTCRtpReceiver.prototype)){const l=a.RTCPeerConnection.prototype.getReceivers;l&&(a.RTCPeerConnection.prototype.getReceivers=function(){const y=l.apply(this,[]);return y.forEach(E=>E._pc=this),y}),_e(a,"track",h=>(h.receiver._pc=h.srcElement,h)),a.RTCRtpReceiver.prototype.getStats=function(){const y=this;return this._pc.getStats().then(E=>z(E,y.track,!1))}}if(!("getStats"in a.RTCRtpSender.prototype)||!("getStats"in a.RTCRtpReceiver.prototype))return;const s=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof a.MediaStreamTrack){const h=arguments[0];let y,E,P;return this.getSenders().forEach(x=>{x.track===h&&(y?P=!0:y=x)}),this.getReceivers().forEach(x=>(x.track===h&&(E?P=!0:E=x),x.track===h)),P||y&&E?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):y?y.getStats():E?E.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return s.apply(this,arguments)}}function ot(a){a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(P=>this._shimmedLocalStreams[P][0])};const s=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(P,x){if(!x)return s.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const U=s.apply(this,arguments);return this._shimmedLocalStreams[x.id]?-1===this._shimmedLocalStreams[x.id].indexOf(U)&&this._shimmedLocalStreams[x.id].push(U):this._shimmedLocalStreams[x.id]=[x,U],U};const l=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(P){this._shimmedLocalStreams=this._shimmedLocalStreams||{},P.getTracks().forEach(j=>{if(this.getSenders().find(De=>De.track===j))throw new DOMException("Track already exists.","InvalidAccessError")});const x=this.getSenders();l.apply(this,arguments);const U=this.getSenders().filter(j=>-1===x.indexOf(j));this._shimmedLocalStreams[P.id]=[P].concat(U)};const h=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(P){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[P.id],h.apply(this,arguments)};const y=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(P){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},P&&Object.keys(this._shimmedLocalStreams).forEach(x=>{const U=this._shimmedLocalStreams[x].indexOf(P);-1!==U&&this._shimmedLocalStreams[x].splice(U,1),1===this._shimmedLocalStreams[x].length&&delete this._shimmedLocalStreams[x]}),y.apply(this,arguments)}}function Ct(a,s){if(!a.RTCPeerConnection)return;if(a.RTCPeerConnection.prototype.addTrack&&s.version>=65)return ot(a);const l=a.RTCPeerConnection.prototype.getLocalStreams;a.RTCPeerConnection.prototype.getLocalStreams=function(){const ne=l.apply(this);return this._reverseStreams=this._reverseStreams||{},ne.map(De=>this._reverseStreams[De.id])};const h=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(ne){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},ne.getTracks().forEach(De=>{if(this.getSenders().find(St=>St.track===De))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[ne.id]){const De=new a.MediaStream(ne.getTracks());this._streams[ne.id]=De,this._reverseStreams[De.id]=ne,ne=De}h.apply(this,[ne])};const y=a.RTCPeerConnection.prototype.removeStream;function E(j,ne){let De=ne.sdp;return Object.keys(j._reverseStreams||[]).forEach(Ge=>{const St=j._reverseStreams[Ge];De=De.replace(new RegExp(j._streams[St.id].id,"g"),St.id)}),new RTCSessionDescription({type:ne.type,sdp:De})}a.RTCPeerConnection.prototype.removeStream=function(ne){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.apply(this,[this._streams[ne.id]||ne]),delete this._reverseStreams[this._streams[ne.id]?this._streams[ne.id].id:ne.id],delete this._streams[ne.id]},a.RTCPeerConnection.prototype.addTrack=function(ne,De){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const Ge=[].slice.call(arguments,1);if(1!==Ge.length||!Ge[0].getTracks().find(en=>en===ne))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(en=>en.track===ne))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const Wt=this._streams[De.id];if(Wt)Wt.addTrack(ne),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const en=new a.MediaStream([ne]);this._streams[De.id]=en,this._reverseStreams[en.id]=De,this.addStream(en)}return this.getSenders().find(en=>en.track===ne)},["createOffer","createAnswer"].forEach(function(j){const ne=a.RTCPeerConnection.prototype[j],De={[j](){const Ge=arguments;return arguments.length&&"function"==typeof arguments[0]?ne.apply(this,[Wt=>{const en=E(this,Wt);Ge[0].apply(null,[en])},Wt=>{Ge[1]&&Ge[1].apply(null,Wt)},arguments[2]]):ne.apply(this,arguments).then(Wt=>E(this,Wt))}};a.RTCPeerConnection.prototype[j]=De[j]});const x=a.RTCPeerConnection.prototype.setLocalDescription;a.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function P(j,ne){let De=ne.sdp;return Object.keys(j._reverseStreams||[]).forEach(Ge=>{const St=j._reverseStreams[Ge],Wt=j._streams[St.id];De=De.replace(new RegExp(St.id,"g"),Wt.id)}),new RTCSessionDescription({type:ne.type,sdp:De})}(this,arguments[0]),x.apply(this,arguments)):x.apply(this,arguments)};const U=Object.getOwnPropertyDescriptor(a.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(a.RTCPeerConnection.prototype,"localDescription",{get(){const j=U.get.apply(this);return""===j.type?j:E(this,j)}}),a.RTCPeerConnection.prototype.removeTrack=function(ne){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!ne._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(ne._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let Ge;this._streams=this._streams||{},Object.keys(this._streams).forEach(St=>{this._streams[St].getTracks().find(en=>ne.track===en)&&(Ge=this._streams[St])}),Ge&&(1===Ge.getTracks().length?this.removeStream(this._reverseStreams[Ge.id]):Ge.removeTrack(ne.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ke(a,s){!a.RTCPeerConnection&&a.webkitRTCPeerConnection&&(a.RTCPeerConnection=a.webkitRTCPeerConnection),a.RTCPeerConnection&&s.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(l){const h=a.RTCPeerConnection.prototype[l],y={[l](){return arguments[0]=new("addIceCandidate"===l?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),h.apply(this,arguments)}};a.RTCPeerConnection.prototype[l]=y[l]})}function ye(a,s){_e(a,"negotiationneeded",l=>{const h=l.target;if(!(s.version<72||h.getConfiguration&&"plan-b"===h.getConfiguration().sdpSemantics)||"stable"===h.signalingState)return l})}var ce=M(4191),Ae=M.n(ce);function Le(a){const s=a&&a.navigator,h=s.mediaDevices.getUserMedia.bind(s.mediaDevices);s.mediaDevices.getUserMedia=function(y){return h(y).catch(E=>Promise.reject(function(y){return{name:{PermissionDeniedError:"NotAllowedError"}[y.name]||y.name,message:y.message,constraint:y.constraint,toString(){return this.name}}}(E)))}}function Pe(a){"getDisplayMedia"in a.navigator&&a.navigator.mediaDevices&&(a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||(a.navigator.mediaDevices.getDisplayMedia=a.navigator.getDisplayMedia.bind(a.navigator)))}function Ve(a,s){if(a.RTCIceGatherer&&(a.RTCIceCandidate||(a.RTCIceCandidate=function(y){return y}),a.RTCSessionDescription||(a.RTCSessionDescription=function(y){return y}),s.version<15025)){const h=Object.getOwnPropertyDescriptor(a.MediaStreamTrack.prototype,"enabled");Object.defineProperty(a.MediaStreamTrack.prototype,"enabled",{set(y){h.set.call(this,y);const E=new Event("enabled");E.enabled=y,this.dispatchEvent(E)}})}a.RTCRtpSender&&!("dtmf"in a.RTCRtpSender.prototype)&&Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new a.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),a.RTCDtmfSender&&!a.RTCDTMFSender&&(a.RTCDTMFSender=a.RTCDtmfSender);const l=Ae()(a,s.version);a.RTCPeerConnection=function(y){return y&&y.iceServers&&(y.iceServers=function te(a,s){let l=!1;return(a=JSON.parse(JSON.stringify(a))).filter(h=>{if(h&&(h.urls||h.url)){let y=h.urls||h.url;h.url&&!h.urls&&He("RTCIceServer.url","RTCIceServer.urls");const E="string"==typeof y;return E&&(y=[y]),y=y.filter(P=>{if(0===P.indexOf("stun:"))return!1;const x=P.startsWith("turn")&&!P.startsWith("turn:[")&&P.includes("transport=udp");return x&&!l?(l=!0,!0):x&&!l}),delete h.url,h.urls=E?y[0]:y,!!y.length}})}(y.iceServers),Ne("ICE servers after filtering:",y.iceServers)),new l(y)},a.RTCPeerConnection.prototype=l.prototype}function Ze(a){a.RTCRtpSender&&!("replaceTrack"in a.RTCRtpSender.prototype)&&(a.RTCRtpSender.prototype.replaceTrack=a.RTCRtpSender.prototype.setTrack)}function Kt(a,s){const l=a&&a.navigator,h=a&&a.MediaStreamTrack;if(l.getUserMedia=function(y,E,P){He("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),l.mediaDevices.getUserMedia(y).then(E,P)},!(s.version>55&&"autoGainControl"in l.mediaDevices.getSupportedConstraints())){const y=function(P,x,U){x in P&&!(U in P)&&(P[U]=P[x],delete P[x])},E=l.mediaDevices.getUserMedia.bind(l.mediaDevices);if(l.mediaDevices.getUserMedia=function(P){return"object"==typeof P&&"object"==typeof P.audio&&(P=JSON.parse(JSON.stringify(P)),y(P.audio,"autoGainControl","mozAutoGainControl"),y(P.audio,"noiseSuppression","mozNoiseSuppression")),E(P)},h&&h.prototype.getSettings){const P=h.prototype.getSettings;h.prototype.getSettings=function(){const x=P.apply(this,arguments);return y(x,"mozAutoGainControl","autoGainControl"),y(x,"mozNoiseSuppression","noiseSuppression"),x}}if(h&&h.prototype.applyConstraints){const P=h.prototype.applyConstraints;h.prototype.applyConstraints=function(x){return"audio"===this.kind&&"object"==typeof x&&(x=JSON.parse(JSON.stringify(x)),y(x,"autoGainControl","mozAutoGainControl"),y(x,"noiseSuppression","mozNoiseSuppression")),P.apply(this,[x])}}}}function tt(a,s){a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||a.navigator.mediaDevices&&(a.navigator.mediaDevices.getDisplayMedia=function(h){if(!h||!h.video){const y=new DOMException("getDisplayMedia without video constraints is undefined");return y.name="NotFoundError",y.code=8,Promise.reject(y)}return!0===h.video?h.video={mediaSource:s}:h.video.mediaSource=s,a.navigator.mediaDevices.getUserMedia(h)})}function ht(a){"object"==typeof a&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Dt(a,s){if("object"!=typeof a||!a.RTCPeerConnection&&!a.mozRTCPeerConnection)return;!a.RTCPeerConnection&&a.mozRTCPeerConnection&&(a.RTCPeerConnection=a.mozRTCPeerConnection),s.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(y){const E=a.RTCPeerConnection.prototype[y],P={[y](){return arguments[0]=new("addIceCandidate"===y?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),E.apply(this,arguments)}};a.RTCPeerConnection.prototype[y]=P[y]});const l={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},h=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){const[E,P,x]=arguments;return h.apply(this,[E||null]).then(U=>{if(s.version<53&&!P)try{U.forEach(j=>{j.type=l[j.type]||j.type})}catch(j){if("TypeError"!==j.name)throw j;U.forEach((ne,De)=>{U.set(De,Object.assign({},ne,{type:l[ne.type]||ne.type}))})}return U}).then(P,x)}}function pt(a){if("object"!=typeof a||!a.RTCPeerConnection||!a.RTCRtpSender||a.RTCRtpSender&&"getStats"in a.RTCRtpSender.prototype)return;const s=a.RTCPeerConnection.prototype.getSenders;s&&(a.RTCPeerConnection.prototype.getSenders=function(){const y=s.apply(this,[]);return y.forEach(E=>E._pc=this),y});const l=a.RTCPeerConnection.prototype.addTrack;l&&(a.RTCPeerConnection.prototype.addTrack=function(){const y=l.apply(this,arguments);return y._pc=this,y}),a.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Vt(a){if("object"!=typeof a||!a.RTCPeerConnection||!a.RTCRtpSender||a.RTCRtpSender&&"getStats"in a.RTCRtpReceiver.prototype)return;const s=a.RTCPeerConnection.prototype.getReceivers;s&&(a.RTCPeerConnection.prototype.getReceivers=function(){const h=s.apply(this,[]);return h.forEach(y=>y._pc=this),h}),_e(a,"track",l=>(l.receiver._pc=l.srcElement,l)),a.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function vn(a){!a.RTCPeerConnection||"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(l){He("removeStream","removeTrack"),this.getSenders().forEach(h=>{h.track&&l.getTracks().includes(h.track)&&this.removeTrack(h)})})}function _n(a){a.DataChannel&&!a.RTCDataChannel&&(a.RTCDataChannel=a.DataChannel)}function tn(a){if("object"!=typeof a||!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype.addTransceiver;s&&(a.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const h=arguments[1],y=h&&"sendEncodings"in h;y&&h.sendEncodings.forEach(P=>{if("rid"in P&&!/^[a-z0-9]{0,16}$/i.test(P.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in P&&!(parseFloat(P.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in P&&!(parseFloat(P.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const E=s.apply(this,arguments);if(y){const{sender:P}=E,x=P.getParameters();(!("encodings"in x)||1===x.encodings.length&&0===Object.keys(x.encodings[0]).length)&&(x.encodings=h.sendEncodings,P.sendEncodings=h.sendEncodings,this.setParametersPromises.push(P.setParameters(x).then(()=>{delete P.sendEncodings}).catch(()=>{delete P.sendEncodings})))}return E})}function Tn(a){if("object"!=typeof a||!a.RTCRtpSender)return;const s=a.RTCRtpSender.prototype.getParameters;s&&(a.RTCRtpSender.prototype.getParameters=function(){const h=s.apply(this,arguments);return"encodings"in h||(h.encodings=[].concat(this.sendEncodings||[{}])),h})}function Yt(a){if("object"!=typeof a||!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>s.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):s.apply(this,arguments)}}function sr(a){if("object"!=typeof a||!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype.createAnswer;a.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>s.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):s.apply(this,arguments)}}function dn(a){if("object"==typeof a&&a.RTCPeerConnection){if("getLocalStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in a.RTCPeerConnection.prototype)){const s=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addStream=function(h){this._localStreams||(this._localStreams=[]),this._localStreams.includes(h)||this._localStreams.push(h),h.getAudioTracks().forEach(y=>s.call(this,y,h)),h.getVideoTracks().forEach(y=>s.call(this,y,h))},a.RTCPeerConnection.prototype.addTrack=function(h,...y){return y&&y.forEach(E=>{this._localStreams?this._localStreams.includes(E)||this._localStreams.push(E):this._localStreams=[E]}),s.apply(this,arguments)}}"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(l){this._localStreams||(this._localStreams=[]);const h=this._localStreams.indexOf(l);if(-1===h)return;this._localStreams.splice(h,1);const y=l.getTracks();this.getSenders().forEach(E=>{y.includes(E.track)&&this.removeTrack(E)})})}}function Fe(a){if("object"==typeof a&&a.RTCPeerConnection&&("getRemoteStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in a.RTCPeerConnection.prototype))){Object.defineProperty(a.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(l){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=l),this.addEventListener("track",this._onaddstreampoly=h=>{h.streams.forEach(y=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(y))return;this._remoteStreams.push(y);const E=new Event("addstream");E.stream=y,this.dispatchEvent(E)})})}});const s=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){const h=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(y){y.streams.forEach(E=>{if(h._remoteStreams||(h._remoteStreams=[]),h._remoteStreams.indexOf(E)>=0)return;h._remoteStreams.push(E);const P=new Event("addstream");P.stream=E,h.dispatchEvent(P)})}),s.apply(h,arguments)}}}function Jt(a){if("object"!=typeof a||!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype,l=s.createOffer,h=s.createAnswer,y=s.setLocalDescription,E=s.setRemoteDescription,P=s.addIceCandidate;s.createOffer=function(j,ne){const Ge=l.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return ne?(Ge.then(j,ne),Promise.resolve()):Ge},s.createAnswer=function(j,ne){const Ge=h.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return ne?(Ge.then(j,ne),Promise.resolve()):Ge};let x=function(U,j,ne){const De=y.apply(this,[U]);return ne?(De.then(j,ne),Promise.resolve()):De};s.setLocalDescription=x,x=function(U,j,ne){const De=E.apply(this,[U]);return ne?(De.then(j,ne),Promise.resolve()):De},s.setRemoteDescription=x,x=function(U,j,ne){const De=P.apply(this,[U]);return ne?(De.then(j,ne),Promise.resolve()):De},s.addIceCandidate=x}function Nn(a){const s=a&&a.navigator;if(s.mediaDevices&&s.mediaDevices.getUserMedia){const l=s.mediaDevices,h=l.getUserMedia.bind(l);s.mediaDevices.getUserMedia=y=>h(Rn(y))}!s.getUserMedia&&s.mediaDevices&&s.mediaDevices.getUserMedia&&(s.getUserMedia=function(h,y,E){s.mediaDevices.getUserMedia(h).then(y,E)}.bind(s))}function Rn(a){return a&&void 0!==a.video?Object.assign({},a,{video:ue(a.video)}):a}function Nt(a){if(!a.RTCPeerConnection)return;const s=a.RTCPeerConnection;a.RTCPeerConnection=function(h,y){if(h&&h.iceServers){const E=[];for(let P=0;P<h.iceServers.length;P++){let x=h.iceServers[P];!x.hasOwnProperty("urls")&&x.hasOwnProperty("url")?(He("RTCIceServer.url","RTCIceServer.urls"),x=JSON.parse(JSON.stringify(x)),x.urls=x.url,delete x.url,E.push(x)):E.push(h.iceServers[P])}h.iceServers=E}return new s(h,y)},a.RTCPeerConnection.prototype=s.prototype,"generateCertificate"in s&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:()=>s.generateCertificate})}function an(a){"object"==typeof a&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ye(a){const s=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(h){if(h){typeof h.offerToReceiveAudio<"u"&&(h.offerToReceiveAudio=!!h.offerToReceiveAudio);const y=this.getTransceivers().find(P=>"audio"===P.receiver.track.kind);!1===h.offerToReceiveAudio&&y?"sendrecv"===y.direction?y.setDirection?y.setDirection("sendonly"):y.direction="sendonly":"recvonly"===y.direction&&(y.setDirection?y.setDirection("inactive"):y.direction="inactive"):!0===h.offerToReceiveAudio&&!y&&this.addTransceiver("audio"),typeof h.offerToReceiveVideo<"u"&&(h.offerToReceiveVideo=!!h.offerToReceiveVideo);const E=this.getTransceivers().find(P=>"video"===P.receiver.track.kind);!1===h.offerToReceiveVideo&&E?"sendrecv"===E.direction?E.setDirection?E.setDirection("sendonly"):E.direction="sendonly":"recvonly"===E.direction&&(E.setDirection?E.setDirection("inactive"):E.direction="inactive"):!0===h.offerToReceiveVideo&&!E&&this.addTransceiver("video")}return s.apply(this,arguments)}}function nt(a){"object"!=typeof a||a.AudioContext||(a.AudioContext=a.webkitAudioContext)}var Mr=M(2917),cn=M.n(Mr);function kn(a){if(!a.RTCIceCandidate||a.RTCIceCandidate&&"foundation"in a.RTCIceCandidate.prototype)return;const s=a.RTCIceCandidate;a.RTCIceCandidate=function(h){if("object"==typeof h&&h.candidate&&0===h.candidate.indexOf("a=")&&((h=JSON.parse(JSON.stringify(h))).candidate=h.candidate.substr(2)),h.candidate&&h.candidate.length){const y=new s(h),E=cn().parseCandidate(h.candidate),P=Object.assign(y,E);return P.toJSON=function(){return{candidate:P.candidate,sdpMid:P.sdpMid,sdpMLineIndex:P.sdpMLineIndex,usernameFragment:P.usernameFragment}},P}return new s(h)},a.RTCIceCandidate.prototype=s.prototype,_e(a,"icecandidate",l=>(l.candidate&&Object.defineProperty(l,"candidate",{value:new a.RTCIceCandidate(l.candidate),writable:"false"}),l))}function Fn(a,s){if(!a.RTCPeerConnection)return;"sctp"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const P=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===s.browser&&s.version>=76){const{sdpSemantics:U}=this.getConfiguration();"plan-b"===U&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(function(x){if(!x||!x.sdp)return!1;const U=cn().splitSections(x.sdp);return U.shift(),U.some(j=>{const ne=cn().parseMLine(j);return ne&&"application"===ne.kind&&-1!==ne.protocol.indexOf("SCTP")})}(arguments[0])){const U=function(x){const U=x.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===U||U.length<2)return-1;const j=parseInt(U[1],10);return j!=j?-1:j}(arguments[0]),j=function(x){let U=65536;return"firefox"===s.browser&&(U=s.version<57?-1===x?16384:2147483637:s.version<60?57===s.version?65535:65536:2147483637),U}(U),ne=function(x,U){let j=65536;"firefox"===s.browser&&57===s.version&&(j=65535);const ne=cn().matchPrefix(x.sdp,"a=max-message-size:");return ne.length>0?j=parseInt(ne[0].substr(19),10):"firefox"===s.browser&&-1!==U&&(j=2147483637),j}(arguments[0],U);let De;De=0===j&&0===ne?Number.POSITIVE_INFINITY:0===j||0===ne?Math.max(j,ne):Math.min(j,ne);const Ge={};Object.defineProperty(Ge,"maxMessageSize",{get:()=>De}),this._sctp=Ge}return P.apply(this,arguments)}}function on(a){if(!a.RTCPeerConnection||!("createDataChannel"in a.RTCPeerConnection.prototype))return;function s(h,y){const E=h.send;h.send=function(){const x=arguments[0];if("open"===h.readyState&&y.sctp&&(x.length||x.size||x.byteLength)>y.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+y.sctp.maxMessageSize+" bytes)");return E.apply(h,arguments)}}const l=a.RTCPeerConnection.prototype.createDataChannel;a.RTCPeerConnection.prototype.createDataChannel=function(){const y=l.apply(this,arguments);return s(y,this),y},_e(a,"datachannel",h=>(s(h.channel,h.target),h))}function Gr(a){if(!a.RTCPeerConnection||"connectionState"in a.RTCPeerConnection.prototype)return;const s=a.RTCPeerConnection.prototype;Object.defineProperty(s,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(s,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(l){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),l&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=l)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(l=>{const h=s[l];s[l]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=y=>{const E=y.target;if(E._lastConnectionState!==E.connectionState){E._lastConnectionState=E.connectionState;const P=new Event("connectionstatechange",y);E.dispatchEvent(P)}return y},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),h.apply(this,arguments)}})}function Qt(a,s){if(!a.RTCPeerConnection||"chrome"===s.browser&&s.version>=71||"safari"===s.browser&&s.version>=605)return;const l=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(y){if(y&&y.sdp&&-1!==y.sdp.indexOf("\na=extmap-allow-mixed")){const E=y.sdp.split("\n").filter(P=>"a=extmap-allow-mixed"!==P.trim()).join("\n");a.RTCSessionDescription&&y instanceof a.RTCSessionDescription?arguments[0]=new a.RTCSessionDescription({type:y.type,sdp:E}):y.sdp=E}return l.apply(this,arguments)}}function no(a,s){if(!a.RTCPeerConnection||!a.RTCPeerConnection.prototype)return;const l=a.RTCPeerConnection.prototype.addIceCandidate;!l||0===l.length||(a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===s.browser&&s.version<78||"firefox"===s.browser&&s.version<68||"safari"===s.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():l.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const ar=function Be({window:a}={},s={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const l=Ne,h=function $(a){const s={browser:null,version:null};if(typeof a>"u"||!a.navigator)return s.browser="Not a browser.",s;const{navigator:l}=a;if(l.mozGetUserMedia)s.browser="firefox",s.version=ie(l.userAgent,/Firefox\/(\d+)\./,1);else if(l.webkitGetUserMedia||!1===a.isSecureContext&&a.webkitRTCPeerConnection&&!a.RTCIceGatherer)s.browser="chrome",s.version=ie(l.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(l.mediaDevices&&l.userAgent.match(/Edge\/(\d+).(\d+)$/))s.browser="edge",s.version=ie(l.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!a.RTCPeerConnection||!l.userAgent.match(/AppleWebKit\/(\d+)\./))return s.browser="Not a supported browser.",s;s.browser="safari",s.version=ie(l.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=a.RTCRtpTransceiver&&"currentDirection"in a.RTCRtpTransceiver.prototype}return s}(a),y={browserDetails:h,commonShim:q,extractVersion:ie,disableLog:Oe,disableWarnings:me};switch(h.browser){case"chrome":if(!c||!ke||!s.shimChrome)return l("Chrome shim is not included in this adapter release."),y;if(null===h.version)return l("Chrome shim can not determine version, not shimming."),y;l("adapter.js shimming chrome."),y.browserShim=c,no(a,h),B(a,h),re(a),ke(a,h),X(a),Ct(a,h),le(a),Se(a),We(a),ye(a,h),kn(a),Gr(a),Fn(a,h),on(a),Qt(a,h);break;case"firefox":if(!J||!Dt||!s.shimFirefox)return l("Firefox shim is not included in this adapter release."),y;l("adapter.js shimming firefox."),y.browserShim=J,no(a,h),Kt(a,h),Dt(a,h),ht(a),vn(a),pt(a),Vt(a),_n(a),tn(a),Tn(a),Yt(a),sr(a),kn(a),Gr(a),Fn(a,h),on(a);break;case"edge":if(!k||!Ve||!s.shimEdge)return l("MS edge shim is not included in this adapter release."),y;l("adapter.js shimming edge."),y.browserShim=k,Le(a),Pe(a),Ve(a,h),Ze(a),Fn(a,h),on(a);break;case"safari":if(!Z||!s.shimSafari)return l("Safari shim is not included in this adapter release."),y;l("adapter.js shimming safari."),y.browserShim=Z,no(a,h),Nt(a),Ye(a),Jt(a),dn(a),Fe(a),an(a),Nn(a),nt(a),kn(a),Fn(a,h),on(a),Qt(a,h);break;default:l("Unsupported browser!")}return y}({window:typeof window>"u"?void 0:window});function kt(a,s,l,h){Object.defineProperty(a,s,{get:l,set:h,enumerable:!0,configurable:!0})}var Et=ar.default||ar,zn=new(function(){function a(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return a.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},a.prototype.isBrowserSupported=function(){var s=this.getBrowser(),l=this.getVersion();return!!this.supportedBrowsers.includes(s)&&("chrome"===s?l>=this.minChromeVersion:"firefox"===s?l>=this.minFirefoxVersion:"safari"===s&&!this.isIOS&&l>=this.minSafariVersion)},a.prototype.getBrowser=function(){return Et.browserDetails.browser},a.prototype.getVersion=function(){return Et.browserDetails.version||0},a.prototype.isUnifiedPlanSupported=function(){var s=this.getBrowser(),l=Et.browserDetails.version||0;if("chrome"===s&&l<this.minChromeVersion)return!1;if("firefox"===s&&l>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var h,y=!1;try{(h=new RTCPeerConnection).addTransceiver("audio"),y=!0}catch{}finally{h&&h.close()}return y},a.prototype.toString=function(){return"Supports:\n    browser:".concat(this.getBrowser(),"\n    version:").concat(this.getVersion(),"\n    isIOS:").concat(this.isIOS,"\n    isWebRTCSupported:").concat(this.isWebRTCSupported(),"\n    isBrowserSupported:").concat(this.isBrowserSupported(),"\n    isUnifiedPlanSupported:").concat(this.isUnifiedPlanSupported())},a}()),Xt={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},fr=function(){function a(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Xt,this.browser=zn.getBrowser(),this.browserVersion=zn.getVersion(),this.supports=function(){var l,s={browser:zn.isBrowserSupported(),webRTC:zn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!s.webRTC)return s;try{l=new RTCPeerConnection(Xt),s.audioVideo=!0;var h=void 0;try{h=l.createDataChannel("_PEERJSTEST",{ordered:!0}),s.data=!0,s.reliable=!!h.ordered;try{h.binaryType="blob",s.binaryBlob=!zn.isIOS}catch{}}catch{}finally{h&&h.close()}}catch{}finally{l&&l.close()}return s}(),this.pack=L.pack,this.unpack=L.unpack,this._dataCount=1}return a.prototype.noop=function(){},a.prototype.validateId=function(s){return!s||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(s)},a.prototype.chunk=function(s){for(var l=[],h=s.size,y=Math.ceil(h/It.chunkedMTU),E=0,P=0;P<h;){var x=Math.min(h,P+It.chunkedMTU),U=s.slice(P,x);l.push({__peerData:this._dataCount,n:E,data:U,total:y}),P=x,E++}return this._dataCount++,l},a.prototype.blobToArrayBuffer=function(s,l){var h=new FileReader;return h.onload=function(y){y.target&&l(y.target.result)},h.readAsArrayBuffer(s),h},a.prototype.binaryStringToArrayBuffer=function(s){for(var l=new Uint8Array(s.length),h=0;h<s.length;h++)l[h]=255&s.charCodeAt(h);return l.buffer},a.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},a.prototype.isSecure=function(){return"https:"===location.protocol},a}(),It=new fr;kt({},"Peer",()=>co,a=>co=a);var Mn,Qn=Object.prototype.hasOwnProperty,Ut="~";function $n(){}function be(a,s,l){this.fn=a,this.context=s,this.once=l||!1}function oe(a,s,l,h,y){if("function"!=typeof l)throw new TypeError("The listener must be a function");var E=new be(l,h||a,y),P=Ut?Ut+s:s;return a._events[P]?a._events[P].fn?a._events[P]=[a._events[P],E]:a._events[P].push(E):(a._events[P]=E,a._eventsCount++),a}function H(a,s){0==--a._eventsCount?a._events=new $n:delete a._events[s]}function se(){this._events=new $n,this._eventsCount=0}Object.create&&($n.prototype=Object.create(null),(new $n).__proto__||(Ut=!1)),se.prototype.eventNames=function(){var l,h,s=[];if(0===this._eventsCount)return s;for(h in l=this._events)Qn.call(l,h)&&s.push(Ut?h.slice(1):h);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(l)):s},se.prototype.listeners=function(s){var h=this._events[Ut?Ut+s:s];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,E=h.length,P=new Array(E);y<E;y++)P[y]=h[y].fn;return P},se.prototype.listenerCount=function(s){var h=this._events[Ut?Ut+s:s];return h?h.fn?1:h.length:0},se.prototype.emit=function(s,l,h,y,E,P){var x=Ut?Ut+s:s;if(!this._events[x])return!1;var ne,De,U=this._events[x],j=arguments.length;if(U.fn){switch(U.once&&this.removeListener(s,U.fn,void 0,!0),j){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,l),!0;case 3:return U.fn.call(U.context,l,h),!0;case 4:return U.fn.call(U.context,l,h,y),!0;case 5:return U.fn.call(U.context,l,h,y,E),!0;case 6:return U.fn.call(U.context,l,h,y,E,P),!0}for(De=1,ne=new Array(j-1);De<j;De++)ne[De-1]=arguments[De];U.fn.apply(U.context,ne)}else{var St,Ge=U.length;for(De=0;De<Ge;De++)switch(U[De].once&&this.removeListener(s,U[De].fn,void 0,!0),j){case 1:U[De].fn.call(U[De].context);break;case 2:U[De].fn.call(U[De].context,l);break;case 3:U[De].fn.call(U[De].context,l,h);break;case 4:U[De].fn.call(U[De].context,l,h,y);break;default:if(!ne)for(St=1,ne=new Array(j-1);St<j;St++)ne[St-1]=arguments[St];U[De].fn.apply(U[De].context,ne)}}return!0},se.prototype.on=function(s,l,h){return oe(this,s,l,h,!1)},se.prototype.once=function(s,l,h){return oe(this,s,l,h,!0)},se.prototype.removeListener=function(s,l,h,y){var E=Ut?Ut+s:s;if(!this._events[E])return this;if(!l)return H(this,E),this;var P=this._events[E];if(P.fn)P.fn===l&&(!y||P.once)&&(!h||P.context===h)&&H(this,E);else{for(var x=0,U=[],j=P.length;x<j;x++)(P[x].fn!==l||y&&!P[x].once||h&&P[x].context!==h)&&U.push(P[x]);U.length?this._events[E]=1===U.length?U[0]:U:H(this,E)}return this},se.prototype.removeAllListeners=function(s){var l;return s?this._events[l=Ut?Ut+s:s]&&H(this,l):(this._events=new $n,this._eventsCount=0),this},se.prototype.off=se.prototype.removeListener,se.prototype.addListener=se.prototype.on,se.prefixed=Ut,se.EventEmitter=se,Mn=se;var de={};kt(de,"LogLevel",()=>rt,a=>rt=a),kt(de,"default",()=>Cn,a=>Cn=a);var je=function(a,s){var l="function"==typeof Symbol&&a[Symbol.iterator];if(!l)return a;var y,P,h=l.call(a),E=[];try{for(;(void 0===s||s-- >0)&&!(y=h.next()).done;)E.push(y.value)}catch(x){P={error:x}}finally{try{y&&!y.done&&(l=h.return)&&l.call(h)}finally{if(P)throw P.error}}return E},qe=function(a,s,l){if(l||2===arguments.length)for(var E,h=0,y=s.length;h<y;h++)(E||!(h in s))&&(E||(E=Array.prototype.slice.call(s,0,h)),E[h]=s[h]);return a.concat(E||Array.prototype.slice.call(s))},rt=(()=>((rt=rt||{})[rt.Disabled=0]="Disabled",rt[rt.Errors=1]="Errors",rt[rt.Warnings=2]="Warnings",rt[rt.All=3]="All",rt))(),gt=function(){function a(){this._logLevel=rt.Disabled}return Object.defineProperty(a.prototype,"logLevel",{get:function(){return this._logLevel},set:function(s){this._logLevel=s},enumerable:!1,configurable:!0}),a.prototype.log=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._logLevel>=rt.All&&this._print.apply(this,qe([rt.All],je(s),!1))},a.prototype.warn=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._logLevel>=rt.Warnings&&this._print.apply(this,qe([rt.Warnings],je(s),!1))},a.prototype.error=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._logLevel>=rt.Errors&&this._print.apply(this,qe([rt.Errors],je(s),!1))},a.prototype.setLogFunction=function(s){this._print=s},a.prototype._print=function(s){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];var y=qe(["PeerJS: "],je(l),!1);for(var E in y)y[E]instanceof Error&&(y[E]="("+y[E].name+") "+y[E].message);s>=rt.All?console.log.apply(console,qe([],je(y),!1)):s>=rt.Warnings?console.warn.apply(console,qe(["WARNING"],je(y),!1)):s>=rt.Errors&&console.error.apply(console,qe(["ERROR"],je(y),!1))},a}(),Cn=new gt,Wn={};kt(Wn,"Socket",()=>zr,a=>zr=a);var In,Ht=(()=>((Ht=Ht||{}).Data="data",Ht.Media="media",Ht))(),vt=(()=>((vt=vt||{}).BrowserIncompatible="browser-incompatible",vt.Disconnected="disconnected",vt.InvalidID="invalid-id",vt.InvalidKey="invalid-key",vt.Network="network",vt.PeerUnavailable="peer-unavailable",vt.SslUnavailable="ssl-unavailable",vt.ServerError="server-error",vt.SocketError="socket-error",vt.SocketClosed="socket-closed",vt.UnavailableID="unavailable-id",vt.WebRTC="webrtc",vt))(),Dn=(()=>((Dn=Dn||{}).Binary="binary",Dn.BinaryUTF8="binary-utf8",Dn.JSON="json",Dn))(),fn=(()=>((fn=fn||{}).Message="message",fn.Disconnected="disconnected",fn.Error="error",fn.Close="close",fn))(),mt=(()=>((mt=mt||{}).Heartbeat="HEARTBEAT",mt.Candidate="CANDIDATE",mt.Offer="OFFER",mt.Answer="ANSWER",mt.Open="OPEN",mt.Error="ERROR",mt.IdTaken="ID-TAKEN",mt.InvalidKey="INVALID-KEY",mt.Leave="LEAVE",mt.Expire="EXPIRE",mt))();In=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var a,Yn=(a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(h[E]=y[E])})(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}),zr=function(a){function s(l,h,y,E,P,x){void 0===x&&(x=5e3);var U=a.call(this)||this;return U.pingInterval=x,U._disconnected=!0,U._messagesQueue=[],U._baseUrl=(l?"wss://":"ws://")+h+":"+y+E+"peerjs?key="+P,U}return Yn(s,a),s.prototype.start=function(l,h){var y=this;this._id=l;var E="".concat(this._baseUrl,"&id=").concat(l,"&token=").concat(h);this._socket||!this._disconnected||(this._socket=new WebSocket(E+"&version="+In.version),this._disconnected=!1,this._socket.onmessage=function(P){var x;try{x=JSON.parse(P.data),de.default.log("Server message received:",x)}catch{return void de.default.log("Invalid server message",P.data)}y.emit(fn.Message,x)},this._socket.onclose=function(P){y._disconnected||(de.default.log("Socket closed.",P),y._cleanup(),y._disconnected=!0,y.emit(fn.Disconnected))},this._socket.onopen=function(){y._disconnected||(y._sendQueuedMessages(),de.default.log("Socket open"),y._scheduleHeartbeat())})},s.prototype._scheduleHeartbeat=function(){var l=this;this._wsPingTimer=setTimeout(function(){l._sendHeartbeat()},this.pingInterval)},s.prototype._sendHeartbeat=function(){if(this._wsOpen()){var l=JSON.stringify({type:mt.Heartbeat});this._socket.send(l),this._scheduleHeartbeat()}else de.default.log("Cannot send heartbeat, because socket closed")},s.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},s.prototype._sendQueuedMessages=function(){var l,h,y=function(a,s,l){if(l||2===arguments.length)for(var E,h=0,y=s.length;h<y;h++)(E||!(h in s))&&(E||(E=Array.prototype.slice.call(s,0,h)),E[h]=s[h]);return a.concat(E||Array.prototype.slice.call(s))}([],function(a,s){var l="function"==typeof Symbol&&a[Symbol.iterator];if(!l)return a;var y,P,h=l.call(a),E=[];try{for(;(void 0===s||s-- >0)&&!(y=h.next()).done;)E.push(y.value)}catch(x){P={error:x}}finally{try{y&&!y.done&&(l=h.return)&&l.call(h)}finally{if(P)throw P.error}}return E}(this._messagesQueue),!1);this._messagesQueue=[];try{for(var E=function(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],h=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(y),P=E.next();!P.done;P=E.next())this.send(P.value)}catch(U){l={error:U}}finally{try{P&&!P.done&&(h=E.return)&&h.call(E)}finally{if(l)throw l.error}}},s.prototype.send=function(l){if(!this._disconnected){if(!this._id)return void this._messagesQueue.push(l);if(!l.type)return void this.emit(fn.Error,"Invalid message");if(this._wsOpen()){var h=JSON.stringify(l);this._socket.send(h)}}},s.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},s.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},s}(Mn.EventEmitter),Ir={};kt(Ir,"MediaConnection",()=>Lr,a=>Lr=a);var ro={};kt(ro,"Negotiator",()=>oo,a=>oo=a);var bn=function(){return bn=Object.assign||function(a){for(var s,l=1,h=arguments.length;l<h;l++)for(var y in s=arguments[l])Object.prototype.hasOwnProperty.call(s,y)&&(a[y]=s[y]);return a},bn.apply(this,arguments)},Pn=function(a,s,l,h){return new(l||(l=Promise))(function(E,P){function x(ne){try{j(h.next(ne))}catch(De){P(De)}}function U(ne){try{j(h.throw(ne))}catch(De){P(De)}}function j(ne){ne.done?E(ne.value):function y(E){return E instanceof l?E:new l(function(P){P(E)})}(ne.value).then(x,U)}j((h=h.apply(a,s||[])).next())})},Ar=function(a,s){var h,y,E,P,l={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return P={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(P[Symbol.iterator]=function(){return this}),P;function x(j){return function(ne){return function U(j){if(h)throw new TypeError("Generator is already executing.");for(;l;)try{if(h=1,y&&(E=2&j[0]?y.return:j[0]?y.throw||((E=y.return)&&E.call(y),0):y.next)&&!(E=E.call(y,j[1])).done)return E;switch(y=0,E&&(j=[2&j[0],E.value]),j[0]){case 0:case 1:E=j;break;case 4:return l.label++,{value:j[1],done:!1};case 5:l.label++,y=j[1],j=[0];continue;case 7:j=l.ops.pop(),l.trys.pop();continue;default:if(!(E=(E=l.trys).length>0&&E[E.length-1])&&(6===j[0]||2===j[0])){l=0;continue}if(3===j[0]&&(!E||j[1]>E[0]&&j[1]<E[3])){l.label=j[1];break}if(6===j[0]&&l.label<E[1]){l.label=E[1],E=j;break}if(E&&l.label<E[2]){l.label=E[2],l.ops.push(j);break}E[2]&&l.ops.pop(),l.trys.pop();continue}j=s.call(a,l)}catch(ne){j=[6,ne],y=0}finally{h=E=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([j,ne])}}},oo=function(){function a(s){this.connection=s}return a.prototype.startConnection=function(s){var l=this._startPeerConnection();if(this.connection.peerConnection=l,this.connection.type===Ht.Media&&s._stream&&this._addTracksToConnection(s._stream,l),s.originator){if(this.connection.type===Ht.Data){var h=this.connection,E=l.createDataChannel(h.label,{ordered:!!s.reliable});h.initialize(E)}this._makeOffer()}else this.handleSDP("OFFER",s.sdp)},a.prototype._startPeerConnection=function(){de.default.log("Creating RTCPeerConnection.");var s=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(s),s},a.prototype._setupListeners=function(s){var l=this,h=this.connection.peer,y=this.connection.connectionId,E=this.connection.type,P=this.connection.provider;de.default.log("Listening for ICE candidates."),s.onicecandidate=function(x){!x.candidate||!x.candidate.candidate||(de.default.log("Received ICE candidates for ".concat(h,":"),x.candidate),P.socket.send({type:mt.Candidate,payload:{candidate:x.candidate,type:E,connectionId:y},dst:h}))},s.oniceconnectionstatechange=function(){switch(s.iceConnectionState){case"failed":de.default.log("iceConnectionState is failed, closing connections to "+h),l.connection.emit("error",new Error("Negotiation of connection to "+h+" failed.")),l.connection.close();break;case"closed":de.default.log("iceConnectionState is closed, closing connections to "+h),l.connection.emit("error",new Error("Connection to "+h+" closed.")),l.connection.close();break;case"disconnected":de.default.log("iceConnectionState changed to disconnected on the connection with "+h);break;case"completed":s.onicecandidate=It.noop}l.connection.emit("iceStateChanged",s.iceConnectionState)},de.default.log("Listening for data channel"),s.ondatachannel=function(x){de.default.log("Received data channel");var U=x.channel;P.getConnection(h,y).initialize(U)},de.default.log("Listening for remote stream"),s.ontrack=function(x){de.default.log("Received remote stream");var U=x.streams[0],j=P.getConnection(h,y);j.type===Ht.Media&&l._addStreamToMediaConnection(U,j)}},a.prototype.cleanup=function(){de.default.log("Cleaning up PeerConnection to "+this.connection.peer);var s=this.connection.peerConnection;if(s){this.connection.peerConnection=null,s.onicecandidate=s.oniceconnectionstatechange=s.ondatachannel=s.ontrack=function(){};var h=!1;if(this.connection.type===Ht.Data){var E=this.connection.dataChannel;E&&(h=!!E.readyState&&"closed"!==E.readyState)}("closed"!==s.signalingState||h)&&s.close()}},a.prototype._makeOffer=function(){return Pn(this,void 0,Promise,function(){var s,l,h,y,E,P,x;return Ar(this,function(U){switch(U.label){case 0:s=this.connection.peerConnection,l=this.connection.provider,U.label=1;case 1:return U.trys.push([1,7,,8]),[4,s.createOffer(this.connection.options.constraints)];case 2:h=U.sent(),de.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp),U.label=3;case 3:return U.trys.push([3,5,,6]),[4,s.setLocalDescription(h)];case 4:return U.sent(),de.default.log("Set localDescription:",h,"for:".concat(this.connection.peer)),y={sdp:h,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:It.browser},this.connection.type===Ht.Data&&(E=this.connection,y=bn(bn({},y),{label:E.label,reliable:E.reliable,serialization:E.serialization})),l.socket.send({type:mt.Offer,payload:y,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(P=U.sent())&&(l.emitError(vt.WebRTC,P),de.default.log("Failed to setLocalDescription, ",P)),[3,6];case 6:return[3,8];case 7:return x=U.sent(),l.emitError(vt.WebRTC,x),de.default.log("Failed to createOffer, ",x),[3,8];case 8:return[2]}})})},a.prototype._makeAnswer=function(){return Pn(this,void 0,Promise,function(){var s,l,h,y,E;return Ar(this,function(P){switch(P.label){case 0:s=this.connection.peerConnection,l=this.connection.provider,P.label=1;case 1:return P.trys.push([1,7,,8]),[4,s.createAnswer()];case 2:h=P.sent(),de.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp),P.label=3;case 3:return P.trys.push([3,5,,6]),[4,s.setLocalDescription(h)];case 4:return P.sent(),de.default.log("Set localDescription:",h,"for:".concat(this.connection.peer)),l.socket.send({type:mt.Answer,payload:{sdp:h,type:this.connection.type,connectionId:this.connection.connectionId,browser:It.browser},dst:this.connection.peer}),[3,6];case 5:return y=P.sent(),l.emitError(vt.WebRTC,y),de.default.log("Failed to setLocalDescription, ",y),[3,6];case 6:return[3,8];case 7:return E=P.sent(),l.emitError(vt.WebRTC,E),de.default.log("Failed to create answer, ",E),[3,8];case 8:return[2]}})})},a.prototype.handleSDP=function(s,l){return Pn(this,void 0,Promise,function(){var h,y,E,P;return Ar(this,function(x){switch(x.label){case 0:l=new RTCSessionDescription(l),h=this.connection.peerConnection,y=this.connection.provider,de.default.log("Setting remote description",l),E=this,x.label=1;case 1:return x.trys.push([1,5,,6]),[4,h.setRemoteDescription(l)];case 2:return x.sent(),de.default.log("Set remoteDescription:".concat(s," for:").concat(this.connection.peer)),"OFFER"!==s?[3,4]:[4,E._makeAnswer()];case 3:x.sent(),x.label=4;case 4:return[3,6];case 5:return P=x.sent(),y.emitError(vt.WebRTC,P),de.default.log("Failed to setRemoteDescription, ",P),[3,6];case 6:return[2]}})})},a.prototype.handleCandidate=function(s){return Pn(this,void 0,Promise,function(){var l,h,y,E,P,x;return Ar(this,function(U){switch(U.label){case 0:de.default.log("handleCandidate:",s),l=s.candidate,h=s.sdpMLineIndex,y=s.sdpMid,E=this.connection.peerConnection,P=this.connection.provider,U.label=1;case 1:return U.trys.push([1,3,,4]),[4,E.addIceCandidate(new RTCIceCandidate({sdpMid:y,sdpMLineIndex:h,candidate:l}))];case 2:return U.sent(),de.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return x=U.sent(),P.emitError(vt.WebRTC,x),de.default.log("Failed to handleCandidate, ",x),[3,4];case 4:return[2]}})})},a.prototype._addTracksToConnection=function(s,l){if(de.default.log("add tracks from stream ".concat(s.id," to peer connection")),!l.addTrack)return de.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");s.getTracks().forEach(function(h){l.addTrack(h,s)})},a.prototype._addStreamToMediaConnection=function(s,l){de.default.log("add stream ".concat(s.id," to media connection ").concat(l.connectionId)),l.addStream(s)},a}(),hr={};kt(hr,"BaseConnection",()=>Wr,a=>Wr=a);var Oo=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(h[E]=y[E])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),Wr=function(a){function s(l,h,y){var E=a.call(this)||this;return E.peer=l,E.provider=h,E.options=y,E._open=!1,E.metadata=y.metadata,E}return Oo(s,a),Object.defineProperty(s.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),s}(Mn.EventEmitter),pr=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(h[E]=y[E])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),Fr=function(){return Fr=Object.assign||function(a){for(var s,l=1,h=arguments.length;l<h;l++)for(var y in s=arguments[l])Object.prototype.hasOwnProperty.call(s,y)&&(a[y]=s[y]);return a},Fr.apply(this,arguments)},Lr=function(a){function s(l,h,y){var E=a.call(this,l,h,y)||this;return E._localStream=E.options._stream,E.connectionId=E.options.connectionId||s.ID_PREFIX+It.randomToken(),E._negotiator=new ro.Negotiator(E),E._localStream&&E._negotiator.startConnection({_stream:E._localStream,originator:!0}),E}return pr(s,a),Object.defineProperty(s.prototype,"type",{get:function(){return Ht.Media},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),s.prototype.addStream=function(l){de.default.log("Receiving stream",l),this._remoteStream=l,a.prototype.emit.call(this,"stream",l)},s.prototype.handleMessage=function(l){var h=l.type,y=l.payload;switch(l.type){case mt.Answer:this._negotiator.handleSDP(h,y.sdp),this._open=!0;break;case mt.Candidate:this._negotiator.handleCandidate(y.candidate);break;default:de.default.warn("Unrecognized message type:".concat(h," from peer:").concat(this.peer))}},s.prototype.answer=function(l,h){var y,E;if(void 0===h&&(h={}),this._localStream)de.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=l,h&&h.sdpTransform&&(this.options.sdpTransform=h.sdpTransform),this._negotiator.startConnection(Fr(Fr({},this.options._payload),{_stream:l}));var P=this.provider._getMessages(this.connectionId);try{for(var x=function(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],h=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(P),U=x.next();!U.done;U=x.next())this.handleMessage(U.value)}catch(ne){y={error:ne}}finally{try{U&&!U.done&&(E=x.return)&&E.call(x)}finally{if(y)throw y.error}}this._open=!0}},s.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,a.prototype.emit.call(this,"close"))},s.ID_PREFIX="mc_",s}(hr.BaseConnection),gr={};kt(gr,"DataConnection",()=>Vr,a=>Vr=a);var ko={};kt(ko,"EncodingQueue",()=>hn,a=>hn=a);var Yr=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(h[E]=y[E])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),hn=function(a){function s(){var l=a.call(this)||this;return l.fileReader=new FileReader,l._queue=[],l._processing=!1,l.fileReader.onload=function(h){l._processing=!1,h.target&&l.emit("done",h.target.result),l.doNextTask()},l.fileReader.onerror=function(h){de.default.error("EncodingQueue error:",h),l._processing=!1,l.destroy(),l.emit("error",h)},l}return Yr(s,a),Object.defineProperty(s.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),s.prototype.enque=function(l){this.queue.push(l),!this.processing&&this.doNextTask()},s.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},s.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},s}(Mn.EventEmitter),io=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(h[E]=y[E])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),Vr=function(a){function s(l,h,y){var E=a.call(this,l,h,y)||this;return E.stringify=JSON.stringify,E.parse=JSON.parse,E._buffer=[],E._bufferSize=0,E._buffering=!1,E._chunkedData={},E._encodingQueue=new ko.EncodingQueue,E.connectionId=E.options.connectionId||s.ID_PREFIX+It.randomToken(),E.label=E.options.label||E.connectionId,E.serialization=E.options.serialization||Dn.Binary,E.reliable=!!E.options.reliable,E._encodingQueue.on("done",function(P){E._bufferedSend(P)}),E._encodingQueue.on("error",function(){de.default.error("DC#".concat(E.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),E.close()}),E._negotiator=new ro.Negotiator(E),E._negotiator.startConnection(E.options._payload||{originator:!0}),E}return io(s,a),Object.defineProperty(s.prototype,"type",{get:function(){return Ht.Data},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),s.prototype.initialize=function(l){this._dc=l,this._configureDataChannel()},s.prototype._configureDataChannel=function(){var l=this;(!It.supports.binaryBlob||It.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){de.default.log("DC#".concat(l.connectionId," dc connection success")),l._open=!0,l.emit("open")},this.dataChannel.onmessage=function(h){de.default.log("DC#".concat(l.connectionId," dc onmessage:"),h.data),l._handleDataMessage(h)},this.dataChannel.onclose=function(){de.default.log("DC#".concat(l.connectionId," dc closed for:"),l.peer),l.close()}},s.prototype._handleDataMessage=function(l){var h=this,y=l.data,E=y.constructor,x=y;if(this.serialization===Dn.Binary||this.serialization===Dn.BinaryUTF8){if(E===Blob)return void It.blobToArrayBuffer(y,function(j){var ne=It.unpack(j);h.emit("data",ne)});if(E===ArrayBuffer)x=It.unpack(y);else if(E===String){var U=It.binaryStringToArrayBuffer(y);x=It.unpack(U)}}else this.serialization===Dn.JSON&&(x=this.parse(y));x.__peerData?this._handleChunk(x):a.prototype.emit.call(this,"data",x)},s.prototype._handleChunk=function(l){var h=l.__peerData,y=this._chunkedData[h]||{data:[],count:0,total:l.total};if(y.data[l.n]=l.data,y.count++,this._chunkedData[h]=y,y.total===y.count){delete this._chunkedData[h];var E=new Blob(y.data);this._handleDataMessage({data:E})}},s.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,a.prototype.emit.call(this,"close"))},s.prototype.send=function(l,h){if(this.open)if(this.serialization===Dn.JSON)this._bufferedSend(this.stringify(l));else if(this.serialization===Dn.Binary||this.serialization===Dn.BinaryUTF8){var y=It.pack(l);if(!h&&y.size>It.chunkedMTU)return void this._sendChunks(y);It.supports.binaryBlob?this._bufferedSend(y):this._encodingQueue.enque(y)}else this._bufferedSend(l);else a.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."))},s.prototype._bufferedSend=function(l){(this._buffering||!this._trySend(l))&&(this._buffer.push(l),this._bufferSize=this._buffer.length)},s.prototype._trySend=function(l){var h=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>s.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){h._buffering=!1,h._tryBuffer()},50),!1;try{this.dataChannel.send(l)}catch(y){return de.default.error("DC#:".concat(this.connectionId," Error when sending:"),y),this._buffering=!0,this.close(),!1}return!0},s.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},s.prototype._sendChunks=function(l){var h,y,E=It.chunk(l);de.default.log("DC#".concat(this.connectionId," Try to send ").concat(E.length," chunks..."));try{for(var P=function(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],h=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(E),x=P.next();!x.done;x=P.next())this.send(x.value,!0)}catch(j){h={error:j}}finally{try{x&&!x.done&&(y=P.return)&&y.call(P)}finally{if(h)throw h.error}}},s.prototype.handleMessage=function(l){var h=l.payload;switch(l.type){case mt.Answer:this._negotiator.handleSDP(l.type,h.sdp);break;case mt.Candidate:this._negotiator.handleCandidate(h.candidate);break;default:de.default.warn("Unrecognized message type:",l.type,"from peer:",this.peer)}},s.ID_PREFIX="dc_",s.MAX_BUFFERED_AMOUNT=8388608,s}(hr.BaseConnection),xn={};kt(xn,"API",()=>jr,a=>jr=a);var Fo=function(a,s,l,h){return new(l||(l=Promise))(function(E,P){function x(ne){try{j(h.next(ne))}catch(De){P(De)}}function U(ne){try{j(h.throw(ne))}catch(De){P(De)}}function j(ne){ne.done?E(ne.value):function y(E){return E instanceof l?E:new l(function(P){P(E)})}(ne.value).then(x,U)}j((h=h.apply(a,s||[])).next())})},Rr=function(a,s){var h,y,E,P,l={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return P={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(P[Symbol.iterator]=function(){return this}),P;function x(j){return function(ne){return function U(j){if(h)throw new TypeError("Generator is already executing.");for(;l;)try{if(h=1,y&&(E=2&j[0]?y.return:j[0]?y.throw||((E=y.return)&&E.call(y),0):y.next)&&!(E=E.call(y,j[1])).done)return E;switch(y=0,E&&(j=[2&j[0],E.value]),j[0]){case 0:case 1:E=j;break;case 4:return l.label++,{value:j[1],done:!1};case 5:l.label++,y=j[1],j=[0];continue;case 7:j=l.ops.pop(),l.trys.pop();continue;default:if(!(E=(E=l.trys).length>0&&E[E.length-1])&&(6===j[0]||2===j[0])){l=0;continue}if(3===j[0]&&(!E||j[1]>E[0]&&j[1]<E[3])){l.label=j[1];break}if(6===j[0]&&l.label<E[1]){l.label=E[1],E=j;break}if(E&&l.label<E[2]){l.label=E[2],l.ops.push(j);break}E[2]&&l.ops.pop(),l.trys.pop();continue}j=s.call(a,l)}catch(ne){j=[6,ne],y=0}finally{h=E=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([j,ne])}}},jr=function(){function a(s){this._options=s}return a.prototype._buildRequest=function(s){var h=this._options,y=h.host,E=h.port,P=h.path,x=h.key,U=new URL("".concat(this._options.secure?"https":"http","://").concat(y,":").concat(E).concat(P).concat(x,"/").concat(s));return U.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),U.searchParams.set("version",In.version),fetch(U.href,{referrerPolicy:this._options.referrerPolicy})},a.prototype.retrieveId=function(){return Fo(this,void 0,Promise,function(){var s,l,h;return Rr(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(200!==(s=y.sent()).status)throw new Error("Error. Status:".concat(s.status));return[2,s.text()];case 2:throw l=y.sent(),de.default.error("Error retrieving ID",l),h="","/"===this._options.path&&this._options.host!==It.CLOUD_HOST&&(h=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+h);case 3:return[2]}})})},a.prototype.listAllPeers=function(){return Fo(this,void 0,Promise,function(){var s,l,h;return Rr(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(200!==(s=y.sent()).status)throw 401===s.status?("",l=this._options.host===It.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+l)):new Error("Error. Status:".concat(s.status));return[2,s.json()];case 2:throw h=y.sent(),de.default.error("Error retrieving list peers",h),new Error("Could not get list peers from the server."+h);case 3:return[2]}})})},a}(),bo=function(){var a=function(s,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(h[E]=y[E])})(s,l)};return function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=s}a(s,l),s.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}(),En=function(){return En=Object.assign||function(a){for(var s,l=1,h=arguments.length;l<h;l++)for(var y in s=arguments[l])Object.prototype.hasOwnProperty.call(s,y)&&(a[y]=s[y]);return a},En.apply(this,arguments)},ao=function(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],h=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},Yo=function(a,s){var l="function"==typeof Symbol&&a[Symbol.iterator];if(!l)return a;var y,P,h=l.call(a),E=[];try{for(;(void 0===s||s-- >0)&&!(y=h.next()).done;)E.push(y.value)}catch(x){P={error:x}}finally{try{y&&!y.done&&(l=h.return)&&l.call(h)}finally{if(P)throw P.error}}return E},co=function(a){function s(l,h){var E,y=a.call(this)||this;return y._id=null,y._lastServerId=null,y._destroyed=!1,y._disconnected=!1,y._open=!1,y._connections=new Map,y._lostMessages=new Map,l&&l.constructor==Object?h=l:l&&(E=l.toString()),h=En({debug:0,host:It.CLOUD_HOST,port:It.CLOUD_PORT,path:"/",key:s.DEFAULT_KEY,token:It.randomToken(),config:It.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},h),y._options=h,"/"===y._options.host&&(y._options.host=window.location.hostname),y._options.path&&("/"!==y._options.path[0]&&(y._options.path="/"+y._options.path),"/"!==y._options.path[y._options.path.length-1]&&(y._options.path+="/")),void 0===y._options.secure&&y._options.host!==It.CLOUD_HOST?y._options.secure=It.isSecure():y._options.host==It.CLOUD_HOST&&(y._options.secure=!0),y._options.logFunction&&de.default.setLogFunction(y._options.logFunction),de.default.logLevel=y._options.debug||0,y._api=new xn.API(h),y._socket=y._createServerConnection(),It.supports.audioVideo||It.supports.data?E&&!It.validateId(E)?(y._delayedAbort(vt.InvalidID,'ID "'.concat(E,'" is invalid')),y):(E?y._initialize(E):y._api.retrieveId().then(function(P){return y._initialize(P)}).catch(function(P){return y._abort(vt.ServerError,P)}),y):(y._delayedAbort(vt.BrowserIncompatible,"The current browser does not support WebRTC"),y)}return bo(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connections",{get:function(){var l,h,y=Object.create(null);try{for(var E=ao(this._connections),P=E.next();!P.done;P=E.next()){var x=Yo(P.value,2);y[x[0]]=x[1]}}catch(ne){l={error:ne}}finally{try{P&&!P.done&&(h=E.return)&&h.call(E)}finally{if(l)throw l.error}}return y},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),s.prototype._createServerConnection=function(){var l=this,h=new Wn.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return h.on(fn.Message,function(y){l._handleMessage(y)}),h.on(fn.Error,function(y){l._abort(vt.SocketError,y)}),h.on(fn.Disconnected,function(){l.disconnected||(l.emitError(vt.Network,"Lost connection to server."),l.disconnect())}),h.on(fn.Close,function(){l.disconnected||l._abort(vt.SocketClosed,"Underlying socket is already closed.")}),h},s.prototype._initialize=function(l){this._id=l,this.socket.start(l,this._options.token)},s.prototype._handleMessage=function(l){var h,y,E=l.type,P=l.payload,x=l.src;switch(E){case mt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case mt.Error:this._abort(vt.ServerError,P.msg);break;case mt.IdTaken:this._abort(vt.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case mt.InvalidKey:this._abort(vt.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case mt.Leave:de.default.log("Received leave message from ".concat(x)),this._cleanupPeer(x),this._connections.delete(x);break;case mt.Expire:this.emitError(vt.PeerUnavailable,"Could not connect to peer ".concat(x));break;case mt.Offer:if((en=this.getConnection(x,Wt=P.connectionId))&&(en.close(),de.default.warn("Offer received for existing Connection ID:".concat(Wt))),P.type===Ht.Media){var U=new Ir.MediaConnection(x,this,{connectionId:Wt,_payload:P,metadata:P.metadata});this._addConnection(x,en=U),this.emit("call",U)}else{if(P.type!==Ht.Data)return void de.default.warn("Received malformed connection type:".concat(P.type));var j=new gr.DataConnection(x,this,{connectionId:Wt,_payload:P,metadata:P.metadata,label:P.label,serialization:P.serialization,reliable:P.reliable});this._addConnection(x,en=j),this.emit("connection",j)}var ne=this._getMessages(Wt);try{for(var De=ao(ne),Ge=De.next();!Ge.done;Ge=De.next())en.handleMessage(Ge.value)}catch(Ri){h={error:Ri}}finally{try{Ge&&!Ge.done&&(y=De.return)&&y.call(De)}finally{if(h)throw h.error}}break;default:if(!P)return void de.default.warn("You received a malformed message from ".concat(x," of type ").concat(E));var Wt,en;(en=this.getConnection(x,Wt=P.connectionId))&&en.peerConnection?en.handleMessage(l):Wt?this._storeMessage(Wt,l):de.default.warn("You received an unrecognized message:",l)}},s.prototype._storeMessage=function(l,h){this._lostMessages.has(l)||this._lostMessages.set(l,[]),this._lostMessages.get(l).push(h)},s.prototype._getMessages=function(l){var h=this._lostMessages.get(l);return h?(this._lostMessages.delete(l),h):[]},s.prototype.connect=function(l,h){if(void 0===h&&(h={}),this.disconnected)return de.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var y=new gr.DataConnection(l,this,h);return this._addConnection(l,y),y},s.prototype.call=function(l,h,y){if(void 0===y&&(y={}),this.disconnected)return de.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(h){var E=new Ir.MediaConnection(l,this,En(En({},y),{_stream:h}));return this._addConnection(l,E),E}de.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},s.prototype._addConnection=function(l,h){de.default.log("add connection ".concat(h.type,":").concat(h.connectionId," to peerId:").concat(l)),this._connections.has(l)||this._connections.set(l,[]),this._connections.get(l).push(h)},s.prototype._removeConnection=function(l){var h=this._connections.get(l.peer);if(h){var y=h.indexOf(l);-1!==y&&h.splice(y,1)}this._lostMessages.delete(l.connectionId)},s.prototype.getConnection=function(l,h){var y,E,P=this._connections.get(l);if(!P)return null;try{for(var x=ao(P),U=x.next();!U.done;U=x.next()){var j=U.value;if(j.connectionId===h)return j}}catch(ne){y={error:ne}}finally{try{U&&!U.done&&(E=x.return)&&E.call(x)}finally{if(y)throw y.error}}return null},s.prototype._delayedAbort=function(l,h){var y=this;setTimeout(function(){y._abort(l,h)},0)},s.prototype._abort=function(l,h){de.default.error("Aborting!"),this.emitError(l,h),this._lastServerId?this.disconnect():this.destroy()},s.prototype.emitError=function(l,h){var y;de.default.error("Error:",h),(y="string"==typeof h?new Error(h):h).type=l,this.emit("error",y)},s.prototype.destroy=function(){this.destroyed||(de.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},s.prototype._cleanup=function(){var l,h;try{for(var y=ao(this._connections.keys()),E=y.next();!E.done;E=y.next()){var P=E.value;this._cleanupPeer(P),this._connections.delete(P)}}catch(x){l={error:x}}finally{try{E&&!E.done&&(h=y.return)&&h.call(y)}finally{if(l)throw l.error}}this.socket.removeAllListeners()},s.prototype._cleanupPeer=function(l){var h,y,E=this._connections.get(l);if(E)try{for(var P=ao(E),x=P.next();!x.done;x=P.next())x.value.close()}catch(j){h={error:j}}finally{try{x&&!x.done&&(y=P.return)&&y.call(P)}finally{if(h)throw h.error}}},s.prototype.disconnect=function(){if(!this.disconnected){var l=this.id;de.default.log("Disconnect peer with ID:".concat(l)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=l,this._id=null,this.emit("disconnected",l)}},s.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)de.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"));de.default.error("In a hurry? We're still trying to make the initial connection!")}},s.prototype.listAllPeers=function(l){var h=this;void 0===l&&(l=function(y){}),this._api.listAllPeers().then(function(y){return l(y)}).catch(function(y){return h._abort(vt.ServerError,y)})},s.DEFAULT_KEY="peerjs",s}(Mn.EventEmitter),lo=M(1911);const Lo=[0,2e3,1e4,3e4,null];class uo{constructor(s){this._retryDelays=void 0!==s?[...s,null]:Lo}nextRetryDelayInMilliseconds(s){return this._retryDelays[s.previousRetryCount]}}let $r=(()=>{class a{}return a.Authorization="Authorization",a.Cookie="Cookie",a})();class fo{constructor(s,l,h){this.statusCode=s,this.statusText=l,this.content=h}}class Tt{get(s,l){return this.send({...l,method:"GET",url:s})}post(s,l){return this.send({...l,method:"POST",url:s})}delete(s,l){return this.send({...l,method:"DELETE",url:s})}getCookieString(s){return""}}class Sn extends Tt{constructor(s,l){super(),this._innerClient=s,this._accessTokenFactory=l}send(s){var l=this;return(0,pe.Z)(function*(){let h=!0;l._accessTokenFactory&&(!l._accessToken||s.url&&s.url.indexOf("/negotiate?")>0)&&(h=!1,l._accessToken=yield l._accessTokenFactory()),l._setAuthorizationHeader(s);const y=yield l._innerClient.send(s);return h&&401===y.statusCode&&l._accessTokenFactory?(l._accessToken=yield l._accessTokenFactory(),l._setAuthorizationHeader(s),yield l._innerClient.send(s)):y})()}_setAuthorizationHeader(s){s.headers||(s.headers={}),this._accessToken?s.headers[$r.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&s.headers[$r.Authorization]&&delete s.headers[$r.Authorization]}getCookieString(s){return this._innerClient.getCookieString(s)}}class ln extends Error{constructor(s,l){const h=new.target.prototype;super(`${s}: Status code '${l}'`),this.statusCode=l,this.__proto__=h}}class mr extends Error{constructor(s="A timeout occurred."){const l=new.target.prototype;super(s),this.__proto__=l}}class Ft extends Error{constructor(s="An abort occurred."){const l=new.target.prototype;super(s),this.__proto__=l}}class Eo extends Error{constructor(s,l){const h=new.target.prototype;super(s),this.transport=l,this.errorType="UnsupportedTransportError",this.__proto__=h}}class Br extends Error{constructor(s,l){const h=new.target.prototype;super(s),this.transport=l,this.errorType="DisabledTransportError",this.__proto__=h}}class yr extends Error{constructor(s,l){const h=new.target.prototype;super(s),this.transport=l,this.errorType="FailedToStartTransportError",this.__proto__=h}}class cr extends Error{constructor(s){const l=new.target.prototype;super(s),this.errorType="FailedToNegotiateWithServerError",this.__proto__=l}}class vr extends Error{constructor(s,l){const h=new.target.prototype;super(s),this.innerErrors=l,this.__proto__=h}}var ve=(()=>((ve=ve||{})[ve.Trace=0]="Trace",ve[ve.Debug=1]="Debug",ve[ve.Information=2]="Information",ve[ve.Warning=3]="Warning",ve[ve.Error=4]="Error",ve[ve.Critical=5]="Critical",ve[ve.None=6]="None",ve))();class $e{constructor(){}log(s,l){}}$e.instance=new $e;const lt="7.0.7";class it{static isRequired(s,l){if(null==s)throw new Error(`The '${l}' argument is required.`)}static isNotEmpty(s,l){if(!s||s.match(/^\s*$/))throw new Error(`The '${l}' argument should not be empty.`)}static isIn(s,l,h){if(!(s in l))throw new Error(`Unknown ${h} value: ${s}.`)}}class At{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Xn(a,s){let l="";return Zn(a)?(l=`Binary data of length ${a.byteLength}`,s&&(l+=`. Content: '${function un(a){const s=new Uint8Array(a);let l="";return s.forEach(h=>{l+=`0x${h<16?"0":""}${h.toString(16)} `}),l.substr(0,l.length-1)}(a)}'`)):"string"==typeof a&&(l=`String data of length ${a.length}`,s&&(l+=`. Content: '${a}'`)),l}function Zn(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&"ArrayBuffer"===a.constructor.name)}function Gt(a,s,l,h,y,E){return lr.apply(this,arguments)}function lr(){return lr=(0,pe.Z)(function*(a,s,l,h,y,E){const P={},[x,U]=_r();P[x]=U,a.log(ve.Trace,`(${s} transport) sending data. ${Xn(y,E.logMessageContent)}.`);const j=Zn(y)?"arraybuffer":"text",ne=yield l.post(h,{content:y,headers:{...P,...E.headers},responseType:j,timeout:E.timeout,withCredentials:E.withCredentials});a.log(ve.Trace,`(${s} transport) request complete. Response status: ${ne.statusCode}.`)}),lr.apply(this,arguments)}class at{constructor(s,l){this._subject=s,this._observer=l}dispose(){const s=this._subject.observers.indexOf(this._observer);s>-1&&this._subject.observers.splice(s,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(l=>{})}}class Un{constructor(s){this._minLevel=s,this.out=console}log(s,l){if(s>=this._minLevel){const h=`[${(new Date).toISOString()}] ${ve[s]}: ${l}`;switch(s){case ve.Critical:case ve.Error:this.out.error(h);break;case ve.Warning:this.out.warn(h);break;case ve.Information:this.out.info(h);break;default:this.out.log(h)}}}}function _r(){let a="X-SignalR-User-Agent";return At.isNode&&(a="User-Agent"),[a,Cr(lt,sn(),At.isNode?"NodeJS":"Browser",ho())]}function Cr(a,s,l,h){let y="Microsoft SignalR/";const E=a.split(".");return y+=`${E[0]}.${E[1]}`,y+=` (${a}; `,y+=s&&""!==s?`${s}; `:"Unknown OS; ",y+=`${l}`,y+=h?`; ${h}`:"; Unknown Runtime Version",y+=")",y}function sn(){if(!At.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function ho(){if(At.isNode)return process.versions.node}function Vn(a){return a.stack?a.stack:a.message?a.message:`${a}`}class Zr extends Tt{constructor(s){if(super(),this._logger=s,typeof fetch>"u"){const l=require;this._jar=new(l("tough-cookie").CookieJar),this._fetchType=l("node-fetch"),this._fetchType=l("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Pr(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const l=require;this._abortControllerType=l("abort-controller")}else this._abortControllerType=AbortController}send(s){var l=this;return(0,pe.Z)(function*(){if(s.abortSignal&&s.abortSignal.aborted)throw new Ft;if(!s.method)throw new Error("No method defined.");if(!s.url)throw new Error("No url defined.");const h=new l._abortControllerType;let y;s.abortSignal&&(s.abortSignal.onabort=()=>{h.abort(),y=new Ft});let P,E=null;s.timeout&&(E=setTimeout(()=>{h.abort(),l._logger.log(ve.Warning,"Timeout from HTTP request."),y=new mr},s.timeout)),""===s.content&&(s.content=void 0),s.content&&(s.headers=s.headers||{},s.headers["Content-Type"]=Zn(s.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{P=yield l._fetchType(s.url,{body:s.content,cache:"no-cache",credentials:!0===s.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...s.headers},method:s.method,mode:"cors",redirect:"follow",signal:h.signal})}catch(j){throw y||(l._logger.log(ve.Warning,`Error from HTTP request. ${j}.`),j)}finally{E&&clearTimeout(E),s.abortSignal&&(s.abortSignal.onabort=null)}if(!P.ok){const j=yield tr(P,"text");throw new ln(j||P.statusText,P.status)}const U=yield tr(P,s.responseType);return new fo(P.status,P.statusText,U)})()}getCookieString(s){let l="";return At.isNode&&this._jar&&this._jar.getCookies(s,(h,y)=>l=y.join("; ")),l}}function tr(a,s){let l;switch(s){case"arraybuffer":l=a.arrayBuffer();break;case"text":default:l=a.text();break;case"blob":case"document":case"json":throw new Error(`${s} is not supported.`)}return l}class wn extends Tt{constructor(s){super(),this._logger=s}send(s){return s.abortSignal&&s.abortSignal.aborted?Promise.reject(new Ft):s.method?s.url?new Promise((l,h)=>{const y=new XMLHttpRequest;y.open(s.method,s.url,!0),y.withCredentials=void 0===s.withCredentials||s.withCredentials,y.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===s.content&&(s.content=void 0),s.content&&(Zn(s.content)?y.setRequestHeader("Content-Type","application/octet-stream"):y.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const E=s.headers;E&&Object.keys(E).forEach(P=>{y.setRequestHeader(P,E[P])}),s.responseType&&(y.responseType=s.responseType),s.abortSignal&&(s.abortSignal.onabort=()=>{y.abort(),h(new Ft)}),s.timeout&&(y.timeout=s.timeout),y.onload=()=>{s.abortSignal&&(s.abortSignal.onabort=null),y.status>=200&&y.status<300?l(new fo(y.status,y.statusText,y.response||y.responseText)):h(new ln(y.response||y.responseText||y.statusText,y.status))},y.onerror=()=>{this._logger.log(ve.Warning,`Error from HTTP request. ${y.status}: ${y.statusText}.`),h(new ln(y.statusText,y.status))},y.ontimeout=()=>{this._logger.log(ve.Warning,"Timeout from HTTP request."),h(new mr)},y.send(s.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class po extends Tt{constructor(s){if(super(),typeof fetch<"u"||At.isNode)this._httpClient=new Zr(s);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new wn(s)}}send(s){return s.abortSignal&&s.abortSignal.aborted?Promise.reject(new Ft):s.method?s.url?this._httpClient.send(s):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(s){return this._httpClient.getCookieString(s)}}var Mt=(()=>((Mt=Mt||{})[Mt.None=0]="None",Mt[Mt.WebSockets=1]="WebSockets",Mt[Mt.ServerSentEvents=2]="ServerSentEvents",Mt[Mt.LongPolling=4]="LongPolling",Mt))(),et=(()=>((et=et||{})[et.Text=1]="Text",et[et.Binary=2]="Binary",et))();class Zo{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class So{constructor(s,l,h){this._httpClient=s,this._logger=l,this._pollAbort=new Zo,this._options=h,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(s,l){var h=this;return(0,pe.Z)(function*(){if(it.isRequired(s,"url"),it.isRequired(l,"transferFormat"),it.isIn(l,et,"transferFormat"),h._url=s,h._logger.log(ve.Trace,"(LongPolling transport) Connecting."),l===et.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[y,E]=_r(),P={[y]:E,...h._options.headers},x={abortSignal:h._pollAbort.signal,headers:P,timeout:1e5,withCredentials:h._options.withCredentials};l===et.Binary&&(x.responseType="arraybuffer");const U=`${s}&_=${Date.now()}`;h._logger.log(ve.Trace,`(LongPolling transport) polling: ${U}.`);const j=yield h._httpClient.get(U,x);200!==j.statusCode?(h._logger.log(ve.Error,`(LongPolling transport) Unexpected response code: ${j.statusCode}.`),h._closeError=new ln(j.statusText||"",j.statusCode),h._running=!1):h._running=!0,h._receiving=h._poll(h._url,x)})()}_poll(s,l){var h=this;return(0,pe.Z)(function*(){try{for(;h._running;)try{const y=`${s}&_=${Date.now()}`;h._logger.log(ve.Trace,`(LongPolling transport) polling: ${y}.`);const E=yield h._httpClient.get(y,l);204===E.statusCode?(h._logger.log(ve.Information,"(LongPolling transport) Poll terminated by server."),h._running=!1):200!==E.statusCode?(h._logger.log(ve.Error,`(LongPolling transport) Unexpected response code: ${E.statusCode}.`),h._closeError=new ln(E.statusText||"",E.statusCode),h._running=!1):E.content?(h._logger.log(ve.Trace,`(LongPolling transport) data received. ${Xn(E.content,h._options.logMessageContent)}.`),h.onreceive&&h.onreceive(E.content)):h._logger.log(ve.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(y){h._running?y instanceof mr?h._logger.log(ve.Trace,"(LongPolling transport) Poll timed out, reissuing."):(h._closeError=y,h._running=!1):h._logger.log(ve.Trace,`(LongPolling transport) Poll errored after shutdown: ${y.message}`)}}finally{h._logger.log(ve.Trace,"(LongPolling transport) Polling complete."),h.pollAborted||h._raiseOnClose()}})()}send(s){var l=this;return(0,pe.Z)(function*(){return l._running?Gt(l._logger,"LongPolling",l._httpClient,l._url,s,l._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var s=this;return(0,pe.Z)(function*(){s._logger.log(ve.Trace,"(LongPolling transport) Stopping polling."),s._running=!1,s._pollAbort.abort();try{yield s._receiving,s._logger.log(ve.Trace,`(LongPolling transport) sending DELETE request to ${s._url}.`);const l={},[h,y]=_r();l[h]=y;const E={headers:{...l,...s._options.headers},timeout:s._options.timeout,withCredentials:s._options.withCredentials};yield s._httpClient.delete(s._url,E),s._logger.log(ve.Trace,"(LongPolling transport) DELETE request sent.")}finally{s._logger.log(ve.Trace,"(LongPolling transport) Stop finished."),s._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let s="(LongPolling transport) Firing onclose event.";this._closeError&&(s+=" Error: "+this._closeError),this._logger.log(ve.Trace,s),this.onclose(this._closeError)}}}class qo{constructor(s,l,h,y){this._httpClient=s,this._accessToken=l,this._logger=h,this._options=y,this.onreceive=null,this.onclose=null}connect(s,l){var h=this;return(0,pe.Z)(function*(){return it.isRequired(s,"url"),it.isRequired(l,"transferFormat"),it.isIn(l,et,"transferFormat"),h._logger.log(ve.Trace,"(SSE transport) Connecting."),h._url=s,h._accessToken&&(s+=(s.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(h._accessToken)}`),new Promise((y,E)=>{let x,P=!1;if(l===et.Text){if(At.isBrowser||At.isWebWorker)x=new h._options.EventSource(s,{withCredentials:h._options.withCredentials});else{const U=h._httpClient.getCookieString(s),j={};j.Cookie=U;const[ne,De]=_r();j[ne]=De,x=new h._options.EventSource(s,{withCredentials:h._options.withCredentials,headers:{...j,...h._options.headers}})}try{x.onmessage=U=>{if(h.onreceive)try{h._logger.log(ve.Trace,`(SSE transport) data received. ${Xn(U.data,h._options.logMessageContent)}.`),h.onreceive(U.data)}catch(j){return void h._close(j)}},x.onerror=U=>{P?h._close():E(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},x.onopen=()=>{h._logger.log(ve.Information,`SSE connected to ${h._url}`),h._eventSource=x,P=!0,y()}}catch(U){return void E(U)}}else E(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(s){var l=this;return(0,pe.Z)(function*(){return l._eventSource?Gt(l._logger,"SSE",l._httpClient,l._url,s,l._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(s){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(s))}}class An{constructor(s,l,h,y,E,P){this._logger=h,this._accessTokenFactory=l,this._logMessageContent=y,this._webSocketConstructor=E,this._httpClient=s,this.onreceive=null,this.onclose=null,this._headers=P}connect(s,l){var h=this;return(0,pe.Z)(function*(){let y;return it.isRequired(s,"url"),it.isRequired(l,"transferFormat"),it.isIn(l,et,"transferFormat"),h._logger.log(ve.Trace,"(WebSockets transport) Connecting."),h._accessTokenFactory&&(y=yield h._accessTokenFactory()),new Promise((E,P)=>{let x;s=s.replace(/^http/,"ws");const U=h._httpClient.getCookieString(s);let j=!1;if(At.isNode||At.isReactNative){const ne={},[De,Ge]=_r();ne[De]=Ge,y&&(ne[$r.Authorization]=`Bearer ${y}`),U&&(ne[$r.Cookie]=U),x=new h._webSocketConstructor(s,void 0,{headers:{...ne,...h._headers}})}else y&&(s+=(s.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(y)}`);x||(x=new h._webSocketConstructor(s)),l===et.Binary&&(x.binaryType="arraybuffer"),x.onopen=ne=>{h._logger.log(ve.Information,`WebSocket connected to ${s}.`),h._webSocket=x,j=!0,E()},x.onerror=ne=>{let De=null;De=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"There was an error with the transport",h._logger.log(ve.Information,`(WebSockets transport) ${De}.`)},x.onmessage=ne=>{if(h._logger.log(ve.Trace,`(WebSockets transport) data received. ${Xn(ne.data,h._logMessageContent)}.`),h.onreceive)try{h.onreceive(ne.data)}catch(De){return void h._close(De)}},x.onclose=ne=>{if(j)h._close(ne);else{let De=null;De=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",P(new Error(De))}}})})()}send(s){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(ve.Trace,`(WebSockets transport) sending data. ${Xn(s,this._logMessageContent)}.`),this._webSocket.send(s),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(s){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(ve.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(s)||!1!==s.wasClean&&1e3===s.code?s instanceof Error?this.onclose(s):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${s.code} (${s.reason||"no reason given"}).`)))}_isCloseEvent(s){return s&&"boolean"==typeof s.wasClean&&"number"==typeof s.code}}class Kr{constructor(s,l={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,it.isRequired(s,"url"),this._logger=function er(a){return void 0===a?new Un(ve.Information):null===a?$e.instance:void 0!==a.log?a:new Un(a)}(l.logger),this.baseUrl=this._resolveUrl(s),(l=l||{}).logMessageContent=void 0!==l.logMessageContent&&l.logMessageContent,"boolean"!=typeof l.withCredentials&&void 0!==l.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");l.withCredentials=void 0===l.withCredentials||l.withCredentials,l.timeout=void 0===l.timeout?1e5:l.timeout;let h=null,y=null;if(At.isNode){const E=require;h=E("ws"),y=E("eventsource")}!At.isNode&&typeof WebSocket<"u"&&!l.WebSocket?l.WebSocket=WebSocket:At.isNode&&!l.WebSocket&&h&&(l.WebSocket=h),!At.isNode&&typeof EventSource<"u"&&!l.EventSource?l.EventSource=EventSource:At.isNode&&!l.EventSource&&typeof y<"u"&&(l.EventSource=y),this._httpClient=new Sn(l.httpClient||new po(this._logger),l.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=l,this.onreceive=null,this.onclose=null}start(s){var l=this;return(0,pe.Z)(function*(){if(it.isIn(s=s||et.Binary,et,"transferFormat"),l._logger.log(ve.Debug,`Starting connection with transfer format '${et[s]}'.`),"Disconnected"!==l._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(l._connectionState="Connecting",l._startInternalPromise=l._startInternal(s),yield l._startInternalPromise,"Disconnecting"===l._connectionState){const h="Failed to start the HttpConnection before stop() was called.";return l._logger.log(ve.Error,h),yield l._stopPromise,Promise.reject(new Ft(h))}if("Connected"!==l._connectionState){const h="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return l._logger.log(ve.Error,h),Promise.reject(new Ft(h))}l._connectionStarted=!0})()}send(s){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new pn(this.transport)),this._sendQueue.send(s))}stop(s){var l=this;return(0,pe.Z)(function*(){return"Disconnected"===l._connectionState?(l._logger.log(ve.Debug,`Call to HttpConnection.stop(${s}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===l._connectionState?(l._logger.log(ve.Debug,`Call to HttpConnection.stop(${s}) ignored because the connection is already in the disconnecting state.`),l._stopPromise):(l._connectionState="Disconnecting",l._stopPromise=new Promise(h=>{l._stopPromiseResolver=h}),yield l._stopInternal(s),void(yield l._stopPromise))})()}_stopInternal(s){var l=this;return(0,pe.Z)(function*(){l._stopError=s;try{yield l._startInternalPromise}catch{}if(l.transport){try{yield l.transport.stop()}catch(h){l._logger.log(ve.Error,`HttpConnection.transport.stop() threw error '${h}'.`),l._stopConnection()}l.transport=void 0}else l._logger.log(ve.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(s){var l=this;return(0,pe.Z)(function*(){let h=l.baseUrl;l._accessTokenFactory=l._options.accessTokenFactory,l._httpClient._accessTokenFactory=l._accessTokenFactory;try{if(l._options.skipNegotiation){if(l._options.transport!==Mt.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");l.transport=l._constructTransport(Mt.WebSockets),yield l._startTransport(h,s)}else{let y=null,E=0;do{if(y=yield l._getNegotiationResponse(h),"Disconnecting"===l._connectionState||"Disconnected"===l._connectionState)throw new Ft("The connection was stopped during negotiation.");if(y.error)throw new Error(y.error);if(y.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(y.url&&(h=y.url),y.accessToken){const P=y.accessToken;l._accessTokenFactory=()=>P,l._httpClient._accessToken=P,l._httpClient._accessTokenFactory=void 0}E++}while(y.url&&E<100);if(100===E&&y.url)throw new Error("Negotiate redirection limit exceeded.");yield l._createTransport(h,l._options.transport,y,s)}l.transport instanceof So&&(l.features.inherentKeepAlive=!0),"Connecting"===l._connectionState&&(l._logger.log(ve.Debug,"The HttpConnection connected successfully."),l._connectionState="Connected")}catch(y){return l._logger.log(ve.Error,"Failed to start the connection: "+y),l._connectionState="Disconnected",l.transport=void 0,l._stopPromiseResolver(),Promise.reject(y)}})()}_getNegotiationResponse(s){var l=this;return(0,pe.Z)(function*(){const h={},[y,E]=_r();h[y]=E;const P=l._resolveNegotiateUrl(s);l._logger.log(ve.Debug,`Sending negotiation request: ${P}.`);try{const x=yield l._httpClient.post(P,{content:"",headers:{...h,...l._options.headers},timeout:l._options.timeout,withCredentials:l._options.withCredentials});if(200!==x.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${x.statusCode}'`));const U=JSON.parse(x.content);return(!U.negotiateVersion||U.negotiateVersion<1)&&(U.connectionToken=U.connectionId),U}catch(x){let U="Failed to complete negotiation with the server: "+x;return x instanceof ln&&404===x.statusCode&&(U+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),l._logger.log(ve.Error,U),Promise.reject(new cr(U))}})()}_createConnectUrl(s,l){return l?s+(-1===s.indexOf("?")?"?":"&")+`id=${l}`:s}_createTransport(s,l,h,y){var E=this;return(0,pe.Z)(function*(){let P=E._createConnectUrl(s,h.connectionToken);if(E._isITransport(l))return E._logger.log(ve.Debug,"Connection was provided an instance of ITransport, using that directly."),E.transport=l,yield E._startTransport(P,y),void(E.connectionId=h.connectionId);const x=[],U=h.availableTransports||[];let j=h;for(const ne of U){const De=E._resolveTransportOrError(ne,l,y);if(De instanceof Error)x.push(`${ne.transport} failed:`),x.push(De);else if(E._isITransport(De)){if(E.transport=De,!j){try{j=yield E._getNegotiationResponse(s)}catch(Ge){return Promise.reject(Ge)}P=E._createConnectUrl(s,j.connectionToken)}try{return yield E._startTransport(P,y),void(E.connectionId=j.connectionId)}catch(Ge){if(E._logger.log(ve.Error,`Failed to start the transport '${ne.transport}': ${Ge}`),j=void 0,x.push(new yr(`${ne.transport} failed: ${Ge}`,Mt[ne.transport])),"Connecting"!==E._connectionState){const St="Failed to select transport before stop() was called.";return E._logger.log(ve.Debug,St),Promise.reject(new Ft(St))}}}}return Promise.reject(x.length>0?new vr(`Unable to connect to the server with any of the available transports. ${x.join(" ")}`,x):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(s){switch(s){case Mt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new An(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Mt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new qo(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Mt.LongPolling:return new So(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${s}.`)}}_startTransport(s,l){return this.transport.onreceive=this.onreceive,this.transport.onclose=h=>this._stopConnection(h),this.transport.connect(s,l)}_resolveTransportOrError(s,l,h){const y=Mt[s.transport];if(null==y)return this._logger.log(ve.Debug,`Skipping transport '${s.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${s.transport}' because it is not supported by this client.`);if(!function Jr(a,s){return!a||0!=(s&a)}(l,y))return this._logger.log(ve.Debug,`Skipping transport '${Mt[y]}' because it was disabled by the client.`),new Br(`'${Mt[y]}' is disabled by the client.`,y);if(!(s.transferFormats.map(P=>et[P]).indexOf(h)>=0))return this._logger.log(ve.Debug,`Skipping transport '${Mt[y]}' because it does not support the requested transfer format '${et[h]}'.`),new Error(`'${Mt[y]}' does not support ${et[h]}.`);if(y===Mt.WebSockets&&!this._options.WebSocket||y===Mt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(ve.Debug,`Skipping transport '${Mt[y]}' because it is not supported in your environment.'`),new Eo(`'${Mt[y]}' is not supported in your environment.`,y);this._logger.log(ve.Debug,`Selecting transport '${Mt[y]}'.`);try{return this._constructTransport(y)}catch(P){return P}}_isITransport(s){return s&&"object"==typeof s&&"connect"in s}_stopConnection(s){if(this._logger.log(ve.Debug,`HttpConnection.stopConnection(${s}) called while in state ${this._connectionState}.`),this.transport=void 0,s=this._stopError||s,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(ve.Warning,`Call to HttpConnection.stopConnection(${s}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${s}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),s?this._logger.log(ve.Error,`Connection disconnected with error '${s}'.`):this._logger.log(ve.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(l=>{this._logger.log(ve.Error,`TransportSendQueue.stop() threw error '${l}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(s)}catch(l){this._logger.log(ve.Error,`HttpConnection.onclose(${s}) threw error '${l}'.`)}}}else this._logger.log(ve.Debug,`Call to HttpConnection.stopConnection(${s}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(s){if(0===s.lastIndexOf("https://",0)||0===s.lastIndexOf("http://",0))return s;if(!At.isBrowser)throw new Error(`Cannot resolve '${s}'.`);const l=window.document.createElement("a");return l.href=s,this._logger.log(ve.Information,`Normalizing '${s}' to '${l.href}'.`),l.href}_resolveNegotiateUrl(s){const l=s.indexOf("?");let h=s.substring(0,-1===l?s.length:l);return"/"!==h[h.length-1]&&(h+="/"),h+="negotiate",h+=-1===l?"":s.substring(l),-1===h.indexOf("negotiateVersion")&&(h+=-1===l?"?":"&",h+="negotiateVersion="+this._negotiateVersion),h}}class pn{constructor(s){this._transport=s,this._buffer=[],this._executing=!0,this._sendBufferedData=new wo,this._transportResult=new wo,this._sendLoopPromise=this._sendLoop()}send(s){return this._bufferData(s),this._transportResult||(this._transportResult=new wo),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(s){if(this._buffer.length&&typeof this._buffer[0]!=typeof s)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof s}`);this._buffer.push(s),this._sendBufferedData.resolve()}_sendLoop(){var s=this;return(0,pe.Z)(function*(){for(;;){if(yield s._sendBufferedData.promise,!s._executing){s._transportResult&&s._transportResult.reject("Connection stopped.");break}s._sendBufferedData=new wo;const l=s._transportResult;s._transportResult=void 0;const h="string"==typeof s._buffer[0]?s._buffer.join(""):pn._concatBuffers(s._buffer);s._buffer.length=0;try{yield s._transport.send(h),l.resolve()}catch(y){l.reject(y)}}})()}static _concatBuffers(s){const l=s.map(E=>E.byteLength).reduce((E,P)=>E+P),h=new Uint8Array(l);let y=0;for(const E of s)h.set(new Uint8Array(E),y),y+=E.byteLength;return h.buffer}}class wo{constructor(){this.promise=new Promise((s,l)=>[this._resolver,this._rejecter]=[s,l])}resolve(){this._resolver()}reject(s){this._rejecter(s)}}class zt{static write(s){return`${s}${zt.RecordSeparator}`}static parse(s){if(s[s.length-1]!==zt.RecordSeparator)throw new Error("Message is incomplete.");const l=s.split(zt.RecordSeparator);return l.pop(),l}}zt.RecordSeparatorCode=30,zt.RecordSeparator=String.fromCharCode(zt.RecordSeparatorCode);class Zt{writeHandshakeRequest(s){return zt.write(JSON.stringify(s))}parseHandshakeResponse(s){let l,h;if(Zn(s)){const x=new Uint8Array(s),U=x.indexOf(zt.RecordSeparatorCode);if(-1===U)throw new Error("Message is incomplete.");const j=U+1;l=String.fromCharCode.apply(null,Array.prototype.slice.call(x.slice(0,j))),h=x.byteLength>j?x.slice(j).buffer:null}else{const x=s,U=x.indexOf(zt.RecordSeparator);if(-1===U)throw new Error("Message is incomplete.");const j=U+1;l=x.substring(0,j),h=x.length>j?x.substring(j):null}const y=zt.parse(l),E=JSON.parse(y[0]);if(E.type)throw new Error("Expected a handshake response from the server.");return[h,E]}}var dt=(()=>((dt=dt||{})[dt.Invocation=1]="Invocation",dt[dt.StreamItem=2]="StreamItem",dt[dt.Completion=3]="Completion",dt[dt.StreamInvocation=4]="StreamInvocation",dt[dt.CancelInvocation=5]="CancelInvocation",dt[dt.Ping=6]="Ping",dt[dt.Close=7]="Close",dt))();class Hn{constructor(){this.observers=[]}next(s){for(const l of this.observers)l.next(s)}error(s){for(const l of this.observers)l.error&&l.error(s)}complete(){for(const s of this.observers)s.complete&&s.complete()}subscribe(s){return this.observers.push(s),new at(this,s)}}var Pt=(()=>((Pt=Pt||{}).Disconnected="Disconnected",Pt.Connecting="Connecting",Pt.Connected="Connected",Pt.Disconnecting="Disconnecting",Pt.Reconnecting="Reconnecting",Pt))();class Qr{constructor(s,l,h,y){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(ve.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},it.isRequired(s,"connection"),it.isRequired(l,"logger"),it.isRequired(h,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=l,this._protocol=h,this.connection=s,this._reconnectPolicy=y,this._handshakeProtocol=new Zt,this.connection.onreceive=E=>this._processIncomingData(E),this.connection.onclose=E=>this._connectionClosed(E),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Pt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:dt.Ping})}static create(s,l,h,y){return new Qr(s,l,h,y)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(s){if(this._connectionState!==Pt.Disconnected&&this._connectionState!==Pt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!s)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=s}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var s=this;return(0,pe.Z)(function*(){if(s._connectionState!==Pt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));s._connectionState=Pt.Connecting,s._logger.log(ve.Debug,"Starting HubConnection.");try{yield s._startInternal(),At.isBrowser&&window.document.addEventListener("freeze",s._freezeEventListener),s._connectionState=Pt.Connected,s._connectionStarted=!0,s._logger.log(ve.Debug,"HubConnection connected successfully.")}catch(l){return s._connectionState=Pt.Disconnected,s._logger.log(ve.Debug,`HubConnection failed to start successfully because of error '${l}'.`),Promise.reject(l)}})()}_startInternal(){var s=this;return(0,pe.Z)(function*(){s._stopDuringStartError=void 0,s._receivedHandshakeResponse=!1;const l=new Promise((h,y)=>{s._handshakeResolver=h,s._handshakeRejecter=y});yield s.connection.start(s._protocol.transferFormat);try{const h={protocol:s._protocol.name,version:s._protocol.version};if(s._logger.log(ve.Debug,"Sending handshake request."),yield s._sendMessage(s._handshakeProtocol.writeHandshakeRequest(h)),s._logger.log(ve.Information,`Using HubProtocol '${s._protocol.name}'.`),s._cleanupTimeout(),s._resetTimeoutPeriod(),s._resetKeepAliveInterval(),yield l,s._stopDuringStartError)throw s._stopDuringStartError;s.connection.features.inherentKeepAlive||(yield s._sendMessage(s._cachedPingMessage))}catch(h){throw s._logger.log(ve.Debug,`Hub handshake failed with error '${h}' during start(). Stopping HubConnection.`),s._cleanupTimeout(),s._cleanupPingTimer(),yield s.connection.stop(h),h}})()}stop(){var s=this;return(0,pe.Z)(function*(){const l=s._startPromise;s._stopPromise=s._stopInternal(),yield s._stopPromise;try{yield l}catch{}})()}_stopInternal(s){return this._connectionState===Pt.Disconnected?(this._logger.log(ve.Debug,`Call to HubConnection.stop(${s}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Pt.Disconnecting?(this._logger.log(ve.Debug,`Call to HttpConnection.stop(${s}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Pt.Disconnecting,this._logger.log(ve.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(ve.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=s||new Ft("The connection was stopped before the hub handshake could complete."),this.connection.stop(s)))}stream(s,...l){const[h,y]=this._replaceStreamingParams(l),E=this._createStreamInvocation(s,l,y);let P;const x=new Hn;return x.cancelCallback=()=>{const U=this._createCancelInvocation(E.invocationId);return delete this._callbacks[E.invocationId],P.then(()=>this._sendWithProtocol(U))},this._callbacks[E.invocationId]=(U,j)=>{j?x.error(j):U&&(U.type===dt.Completion?U.error?x.error(new Error(U.error)):x.complete():x.next(U.item))},P=this._sendWithProtocol(E).catch(U=>{x.error(U),delete this._callbacks[E.invocationId]}),this._launchStreams(h,P),x}_sendMessage(s){return this._resetKeepAliveInterval(),this.connection.send(s)}_sendWithProtocol(s){return this._sendMessage(this._protocol.writeMessage(s))}send(s,...l){const[h,y]=this._replaceStreamingParams(l),E=this._sendWithProtocol(this._createInvocation(s,l,!0,y));return this._launchStreams(h,E),E}invoke(s,...l){const[h,y]=this._replaceStreamingParams(l),E=this._createInvocation(s,l,!1,y);return new Promise((x,U)=>{this._callbacks[E.invocationId]=(ne,De)=>{De?U(De):ne&&(ne.type===dt.Completion?ne.error?U(new Error(ne.error)):x(ne.result):U(new Error(`Unexpected message type: ${ne.type}`)))};const j=this._sendWithProtocol(E).catch(ne=>{U(ne),delete this._callbacks[E.invocationId]});this._launchStreams(h,j)})}on(s,l){!s||!l||(s=s.toLowerCase(),this._methods[s]||(this._methods[s]=[]),-1===this._methods[s].indexOf(l)&&this._methods[s].push(l))}off(s,l){if(!s)return;s=s.toLowerCase();const h=this._methods[s];if(h)if(l){const y=h.indexOf(l);-1!==y&&(h.splice(y,1),0===h.length&&delete this._methods[s])}else delete this._methods[s]}onclose(s){s&&this._closedCallbacks.push(s)}onreconnecting(s){s&&this._reconnectingCallbacks.push(s)}onreconnected(s){s&&this._reconnectedCallbacks.push(s)}_processIncomingData(s){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(s=this._processHandshakeResponse(s),this._receivedHandshakeResponse=!0),s){const l=this._protocol.parseMessages(s,this._logger);for(const h of l)switch(h.type){case dt.Invocation:this._invokeClientMethod(h);break;case dt.StreamItem:case dt.Completion:{const y=this._callbacks[h.invocationId];if(y){h.type===dt.Completion&&delete this._callbacks[h.invocationId];try{y(h)}catch(E){this._logger.log(ve.Error,`Stream callback threw error: ${Vn(E)}`)}}break}case dt.Ping:break;case dt.Close:{this._logger.log(ve.Information,"Close message received from server.");const y=h.error?new Error("Server returned an error on close: "+h.error):void 0;!0===h.allowReconnect?this.connection.stop(y):this._stopPromise=this._stopInternal(y);break}default:this._logger.log(ve.Warning,`Invalid message type: ${h.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(s){let l,h;try{[h,l]=this._handshakeProtocol.parseHandshakeResponse(s)}catch(y){const E="Error parsing handshake response: "+y;this._logger.log(ve.Error,E);const P=new Error(E);throw this._handshakeRejecter(P),P}if(l.error){const y="Server returned handshake error: "+l.error;this._logger.log(ve.Error,y);const E=new Error(y);throw this._handshakeRejecter(E),E}return this._logger.log(ve.Debug,"Server handshake complete."),this._handshakeResolver(),h}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var s=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let l=this._nextKeepAlive-(new Date).getTime();l<0&&(l=0),this._pingServerHandle=setTimeout((0,pe.Z)(function*(){if(s._connectionState===Pt.Connected)try{yield s._sendMessage(s._cachedPingMessage)}catch{s._cleanupPingTimer()}}),l)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(s){var l=this;return(0,pe.Z)(function*(){const h=s.target.toLowerCase(),y=l._methods[h];if(!y)return l._logger.log(ve.Warning,`No client method with the name '${h}' found.`),void(s.invocationId&&(l._logger.log(ve.Warning,`No result given for '${h}' method and invocation ID '${s.invocationId}'.`),yield l._sendWithProtocol(l._createCompletionMessage(s.invocationId,"Client didn't provide a result.",null))));const E=y.slice(),P=!!s.invocationId;let x,U,j;for(const ne of E)try{const De=x;x=yield ne.apply(l,s.arguments),P&&x&&De&&(l._logger.log(ve.Error,`Multiple results provided for '${h}'. Sending error to server.`),j=l._createCompletionMessage(s.invocationId,"Client provided multiple results.",null)),U=void 0}catch(De){U=De,l._logger.log(ve.Error,`A callback for the method '${h}' threw error '${De}'.`)}j?yield l._sendWithProtocol(j):P?(U?j=l._createCompletionMessage(s.invocationId,`${U}`,null):void 0!==x?j=l._createCompletionMessage(s.invocationId,null,x):(l._logger.log(ve.Warning,`No result given for '${h}' method and invocation ID '${s.invocationId}'.`),j=l._createCompletionMessage(s.invocationId,"Client didn't provide a result.",null)),yield l._sendWithProtocol(j)):x&&l._logger.log(ve.Error,`Result given for '${h}' method but server is not expecting a result.`)})()}_connectionClosed(s){this._logger.log(ve.Debug,`HubConnection.connectionClosed(${s}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||s||new Ft("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(s||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Pt.Disconnecting?this._completeClose(s):this._connectionState===Pt.Connected&&this._reconnectPolicy?this._reconnect(s):this._connectionState===Pt.Connected&&this._completeClose(s)}_completeClose(s){if(this._connectionStarted){this._connectionState=Pt.Disconnected,this._connectionStarted=!1,At.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(l=>l.apply(this,[s]))}catch(l){this._logger.log(ve.Error,`An onclose callback called with error '${s}' threw error '${l}'.`)}}}_reconnect(s){var l=this;return(0,pe.Z)(function*(){const h=Date.now();let y=0,E=void 0!==s?s:new Error("Attempting to reconnect due to a unknown error."),P=l._getNextRetryDelay(y++,0,E);if(null===P)return l._logger.log(ve.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void l._completeClose(s);if(l._connectionState=Pt.Reconnecting,l._logger.log(ve.Information,s?`Connection reconnecting because of error '${s}'.`:"Connection reconnecting."),0!==l._reconnectingCallbacks.length){try{l._reconnectingCallbacks.forEach(x=>x.apply(l,[s]))}catch(x){l._logger.log(ve.Error,`An onreconnecting callback called with error '${s}' threw error '${x}'.`)}if(l._connectionState!==Pt.Reconnecting)return void l._logger.log(ve.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==P;){if(l._logger.log(ve.Information,`Reconnect attempt number ${y} will start in ${P} ms.`),yield new Promise(x=>{l._reconnectDelayHandle=setTimeout(x,P)}),l._reconnectDelayHandle=void 0,l._connectionState!==Pt.Reconnecting)return void l._logger.log(ve.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield l._startInternal(),l._connectionState=Pt.Connected,l._logger.log(ve.Information,"HubConnection reconnected successfully."),0!==l._reconnectedCallbacks.length)try{l._reconnectedCallbacks.forEach(x=>x.apply(l,[l.connection.connectionId]))}catch(x){l._logger.log(ve.Error,`An onreconnected callback called with connectionId '${l.connection.connectionId}; threw error '${x}'.`)}return}catch(x){if(l._logger.log(ve.Information,`Reconnect attempt failed because of error '${x}'.`),l._connectionState!==Pt.Reconnecting)return l._logger.log(ve.Debug,`Connection moved to the '${l._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(l._connectionState===Pt.Disconnecting&&l._completeClose());E=x instanceof Error?x:new Error(x.toString()),P=l._getNextRetryDelay(y++,Date.now()-h,E)}}l._logger.log(ve.Information,`Reconnect retries have been exhausted after ${Date.now()-h} ms and ${y} failed attempts. Connection disconnecting.`),l._completeClose()})()}_getNextRetryDelay(s,l,h){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:l,previousRetryCount:s,retryReason:h})}catch(y){return this._logger.log(ve.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${s}, ${l}) threw error '${y}'.`),null}}_cancelCallbacksWithError(s){const l=this._callbacks;this._callbacks={},Object.keys(l).forEach(h=>{const y=l[h];try{y(null,s)}catch(E){this._logger.log(ve.Error,`Stream 'error' callback called with '${s}' threw error: ${Vn(E)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(s,l,h,y){if(h)return 0!==y.length?{arguments:l,streamIds:y,target:s,type:dt.Invocation}:{arguments:l,target:s,type:dt.Invocation};{const E=this._invocationId;return this._invocationId++,0!==y.length?{arguments:l,invocationId:E.toString(),streamIds:y,target:s,type:dt.Invocation}:{arguments:l,invocationId:E.toString(),target:s,type:dt.Invocation}}}_launchStreams(s,l){if(0!==s.length){l||(l=Promise.resolve());for(const h in s)s[h].subscribe({complete:()=>{l=l.then(()=>this._sendWithProtocol(this._createCompletionMessage(h)))},error:y=>{let E;E=y instanceof Error?y.message:y&&y.toString?y.toString():"Unknown error",l=l.then(()=>this._sendWithProtocol(this._createCompletionMessage(h,E)))},next:y=>{l=l.then(()=>this._sendWithProtocol(this._createStreamItemMessage(h,y)))}})}}_replaceStreamingParams(s){const l=[],h=[];for(let y=0;y<s.length;y++){const E=s[y];if(this._isObservable(E)){const P=this._invocationId;this._invocationId++,l[P]=E,h.push(P.toString()),s.splice(y,1)}}return[l,h]}_isObservable(s){return s&&s.subscribe&&"function"==typeof s.subscribe}_createStreamInvocation(s,l,h){const y=this._invocationId;return this._invocationId++,0!==h.length?{arguments:l,invocationId:y.toString(),streamIds:h,target:s,type:dt.StreamInvocation}:{arguments:l,invocationId:y.toString(),target:s,type:dt.StreamInvocation}}_createCancelInvocation(s){return{invocationId:s,type:dt.CancelInvocation}}_createStreamItemMessage(s,l){return{invocationId:s,item:l,type:dt.StreamItem}}_createCompletionMessage(s,l,h){return l?{error:l,invocationId:s,type:dt.Completion}:{invocationId:s,result:h,type:dt.Completion}}}class Ai{constructor(){this.name="json",this.version=1,this.transferFormat=et.Text}parseMessages(s,l){if("string"!=typeof s)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!s)return[];null===l&&(l=$e.instance);const h=zt.parse(s),y=[];for(const E of h){const P=JSON.parse(E);if("number"!=typeof P.type)throw new Error("Invalid payload.");switch(P.type){case dt.Invocation:this._isInvocationMessage(P);break;case dt.StreamItem:this._isStreamItemMessage(P);break;case dt.Completion:this._isCompletionMessage(P);break;case dt.Ping:case dt.Close:break;default:l.log(ve.Information,"Unknown message type '"+P.type+"' ignored.");continue}y.push(P)}return y}writeMessage(s){return zt.write(JSON.stringify(s))}_isInvocationMessage(s){this._assertNotEmptyString(s.target,"Invalid payload for Invocation message."),void 0!==s.invocationId&&this._assertNotEmptyString(s.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(s){if(this._assertNotEmptyString(s.invocationId,"Invalid payload for StreamItem message."),void 0===s.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(s){if(s.result&&s.error)throw new Error("Invalid payload for Completion message.");!s.result&&s.error&&this._assertNotEmptyString(s.error,"Invalid payload for Completion message."),this._assertNotEmptyString(s.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(s,l){if("string"!=typeof s||""===s)throw new Error(l)}}const pi={trace:ve.Trace,debug:ve.Debug,info:ve.Information,information:ve.Information,warn:ve.Warning,warning:ve.Warning,error:ve.Error,critical:ve.Critical,none:ve.None};class mo{configureLogging(s){if(it.isRequired(s,"logging"),function gi(a){return void 0!==a.log}(s))this.logger=s;else if("string"==typeof s){const l=function Xr(a){const s=pi[a.toLowerCase()];if(typeof s<"u")return s;throw new Error(`Unknown log level: ${a}`)}(s);this.logger=new Un(l)}else this.logger=new Un(s);return this}withUrl(s,l){return it.isRequired(s,"url"),it.isNotEmpty(s,"url"),this.url=s,this.httpConnectionOptions="object"==typeof l?{...this.httpConnectionOptions,...l}:{...this.httpConnectionOptions,transport:l},this}withHubProtocol(s){return it.isRequired(s,"protocol"),this.protocol=s,this}withAutomaticReconnect(s){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=s?Array.isArray(s)?new uo(s):s:new uo,this}build(){const s=this.httpConnectionOptions||{};if(void 0===s.logger&&(s.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const l=new Kr(this.url,s);return Qr.create(l,this.logger||$e.instance,this.protocol||new Ai,this.reconnectPolicy)}}const ri={Development:"Development",Production:"Production"},To=ri.Production;let jt="";jt=To==ri.Production?"https://hc220230626063443.azurewebsites.net":"https://localhost:44383";const oi=(new mo).withUrl(`${jt}/gamehub`).build(),S=(new mo).withUrl(`${jt}/chathub`).build();let b=null;(new co).on("open",a=>{!function(){var l=(0,pe.Z)(function*(){b=a,yield oi.start(),yield S.start(),yield S.invoke("JoinRoom","FIRST_LOBBY",b)});return function(){return l.apply(this,arguments)}}()()}),Ee.q6().bootstrapModule(lo.b9).catch(a=>console.error(a))},2264:(Xe,K,M)=>{var c=M(2162).MY,k=M(2162).cx;function Z(L){this.index=0,this.dataBuffer=L,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function q(){this.bufferBuilder=new c}function pe(L){var F=L.charCodeAt(0);return F<=2047?"00":F<=65535?"000":F<=2097151?"0000":F<=67108863?"00000":"000000"}Xe.exports={unpack:function(L){return new Z(L).unpack()},pack:function(L){var F=new q;return F.pack(L),F.getBuffer()}},Z.prototype.unpack=function(){var F,L=this.unpack_uint8();if(L<128)return L;if((224^L)<32)return(224^L)-32;if((F=160^L)<=15)return this.unpack_raw(F);if((F=176^L)<=15)return this.unpack_string(F);if((F=144^L)<=15)return this.unpack_array(F);if((F=128^L)<=15)return this.unpack_map(F);switch(L){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return F=this.unpack_uint16(),this.unpack_string(F);case 217:return F=this.unpack_uint32(),this.unpack_string(F);case 218:return F=this.unpack_uint16(),this.unpack_raw(F);case 219:return F=this.unpack_uint32(),this.unpack_raw(F);case 220:return F=this.unpack_uint16(),this.unpack_array(F);case 221:return F=this.unpack_uint32(),this.unpack_array(F);case 222:return F=this.unpack_uint16(),this.unpack_map(F);case 223:return F=this.unpack_uint32(),this.unpack_map(F)}},Z.prototype.unpack_uint8=function(){var L=255&this.dataView[this.index];return this.index++,L},Z.prototype.unpack_uint16=function(){var L=this.read(2),F=256*(255&L[0])+(255&L[1]);return this.index+=2,F},Z.prototype.unpack_uint32=function(){var L=this.read(4),F=256*(256*(256*L[0]+L[1])+L[2])+L[3];return this.index+=4,F},Z.prototype.unpack_uint64=function(){var L=this.read(8),F=256*(256*(256*(256*(256*(256*(256*L[0]+L[1])+L[2])+L[3])+L[4])+L[5])+L[6])+L[7];return this.index+=8,F},Z.prototype.unpack_int8=function(){var L=this.unpack_uint8();return L<128?L:L-256},Z.prototype.unpack_int16=function(){var L=this.unpack_uint16();return L<32768?L:L-65536},Z.prototype.unpack_int32=function(){var L=this.unpack_uint32();return L<Math.pow(2,31)?L:L-Math.pow(2,32)},Z.prototype.unpack_int64=function(){var L=this.unpack_uint64();return L<Math.pow(2,63)?L:L-Math.pow(2,64)},Z.prototype.unpack_raw=function(L){if(this.length<this.index+L)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+L+" "+this.length);var F=this.dataBuffer.slice(this.index,this.index+L);return this.index+=L,F},Z.prototype.unpack_string=function(L){for(var _e,Oe,F=this.read(L),Q=0,ie="";Q<L;)(_e=F[Q])<128?(ie+=String.fromCharCode(_e),Q++):(192^_e)<32?(Oe=(192^_e)<<6|63&F[Q+1],ie+=String.fromCharCode(Oe),Q+=2):(Oe=(15&_e)<<12|(63&F[Q+1])<<6|63&F[Q+2],ie+=String.fromCharCode(Oe),Q+=3);return this.index+=L,ie},Z.prototype.unpack_array=function(L){for(var F=new Array(L),Q=0;Q<L;Q++)F[Q]=this.unpack();return F},Z.prototype.unpack_map=function(L){for(var F={},Q=0;Q<L;Q++){var ie=this.unpack(),_e=this.unpack();F[ie]=_e}return F},Z.prototype.unpack_float=function(){var L=this.unpack_uint32();return(0==L>>31?1:-1)*(8388607&L|8388608)*Math.pow(2,(L>>23&255)-127-23)},Z.prototype.unpack_double=function(){var L=this.unpack_uint32(),F=this.unpack_uint32(),ie=(L>>20&2047)-1023;return(0==L>>31?1:-1)*((1048575&L|1048576)*Math.pow(2,ie-20)+F*Math.pow(2,ie-52))},Z.prototype.read=function(L){var F=this.index;if(F+L<=this.length)return this.dataView.subarray(F,F+L);throw new Error("BinaryPackFailure: read index out of range")},q.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},q.prototype.pack=function(L){var F=typeof L;if("string"===F)this.pack_string(L);else if("number"===F)Math.floor(L)===L?this.pack_integer(L):this.pack_double(L);else if("boolean"===F)!0===L?this.bufferBuilder.append(195):!1===L&&this.bufferBuilder.append(194);else if("undefined"===F)this.bufferBuilder.append(192);else{if("object"!==F)throw new Error('Type "'+F+'" not yet supported');if(null===L)this.bufferBuilder.append(192);else{var Q=L.constructor;if(Q==Array)this.pack_array(L);else if(Q==Blob||Q==File||L instanceof Blob||L instanceof File)this.pack_bin(L);else if(Q==ArrayBuffer)this.pack_bin(k.useArrayBufferView?new Uint8Array(L):L);else if("BYTES_PER_ELEMENT"in L)this.pack_bin(k.useArrayBufferView?new Uint8Array(L.buffer):L.buffer);else if(Q==Object||Q.toString().startsWith("class"))this.pack_object(L);else if(Q==Date)this.pack_string(L.toString());else{if("function"!=typeof L.toBinaryPack)throw new Error('Type "'+Q.toString()+'" not yet supported');this.bufferBuilder.append(L.toBinaryPack())}}}this.bufferBuilder.flush()},q.prototype.pack_bin=function(L){var F=L.length||L.byteLength||L.size;if(F<=15)this.pack_uint8(160+F);else if(F<=65535)this.bufferBuilder.append(218),this.pack_uint16(F);else{if(!(F<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(F)}this.bufferBuilder.append(L)},q.prototype.pack_string=function(L){var F=function Ee(L){return L.length>600?new Blob([L]).size:L.replace(/[^\u0000-\u007F]/g,pe).length}(L);if(F<=15)this.pack_uint8(176+F);else if(F<=65535)this.bufferBuilder.append(216),this.pack_uint16(F);else{if(!(F<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(F)}this.bufferBuilder.append(L)},q.prototype.pack_array=function(L){var F=L.length;if(F<=15)this.pack_uint8(144+F);else if(F<=65535)this.bufferBuilder.append(220),this.pack_uint16(F);else{if(!(F<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(F)}for(var Q=0;Q<F;Q++)this.pack(L[Q])},q.prototype.pack_integer=function(L){if(L>=-32&&L<=127)this.bufferBuilder.append(255&L);else if(L>=0&&L<=255)this.bufferBuilder.append(204),this.pack_uint8(L);else if(L>=-128&&L<=127)this.bufferBuilder.append(208),this.pack_int8(L);else if(L>=0&&L<=65535)this.bufferBuilder.append(205),this.pack_uint16(L);else if(L>=-32768&&L<=32767)this.bufferBuilder.append(209),this.pack_int16(L);else if(L>=0&&L<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(L);else if(L>=-2147483648&&L<=2147483647)this.bufferBuilder.append(210),this.pack_int32(L);else if(L>=-0x8000000000000000&&L<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(L);else{if(!(L>=0&&L<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(L)}},q.prototype.pack_double=function(L){var F=0;L<0&&(F=1,L=-L);var Q=Math.floor(Math.log(L)/Math.LN2),ie=L/Math.pow(2,Q)-1,_e=Math.floor(ie*Math.pow(2,52)),Oe=Math.pow(2,32),me=F<<31|Q+1023<<20|_e/Oe&1048575,Ne=_e%Oe;this.bufferBuilder.append(203),this.pack_int32(me),this.pack_int32(Ne)},q.prototype.pack_object=function(L){var Q=Object.keys(L).length;if(Q<=15)this.pack_uint8(128+Q);else if(Q<=65535)this.bufferBuilder.append(222),this.pack_uint16(Q);else{if(!(Q<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(Q)}for(var ie in L)L.hasOwnProperty(ie)&&(this.pack(ie),this.pack(L[ie]))},q.prototype.pack_uint8=function(L){this.bufferBuilder.append(L)},q.prototype.pack_uint16=function(L){this.bufferBuilder.append(L>>8),this.bufferBuilder.append(255&L)},q.prototype.pack_uint32=function(L){var F=4294967295&L;this.bufferBuilder.append((4278190080&F)>>>24),this.bufferBuilder.append((16711680&F)>>>16),this.bufferBuilder.append((65280&F)>>>8),this.bufferBuilder.append(255&F)},q.prototype.pack_uint64=function(L){var F=L/Math.pow(2,32),Q=L%Math.pow(2,32);this.bufferBuilder.append((4278190080&F)>>>24),this.bufferBuilder.append((16711680&F)>>>16),this.bufferBuilder.append((65280&F)>>>8),this.bufferBuilder.append(255&F),this.bufferBuilder.append((4278190080&Q)>>>24),this.bufferBuilder.append((16711680&Q)>>>16),this.bufferBuilder.append((65280&Q)>>>8),this.bufferBuilder.append(255&Q)},q.prototype.pack_int8=function(L){this.bufferBuilder.append(255&L)},q.prototype.pack_int16=function(L){this.bufferBuilder.append((65280&L)>>8),this.bufferBuilder.append(255&L)},q.prototype.pack_int32=function(L){this.bufferBuilder.append(L>>>24&255),this.bufferBuilder.append((16711680&L)>>>16),this.bufferBuilder.append((65280&L)>>>8),this.bufferBuilder.append(255&L)},q.prototype.pack_int64=function(L){var F=Math.floor(L/Math.pow(2,32)),Q=L%Math.pow(2,32);this.bufferBuilder.append((4278190080&F)>>>24),this.bufferBuilder.append((16711680&F)>>>16),this.bufferBuilder.append((65280&F)>>>8),this.bufferBuilder.append(255&F),this.bufferBuilder.append((4278190080&Q)>>>24),this.bufferBuilder.append((16711680&Q)>>>16),this.bufferBuilder.append((65280&Q)>>>8),this.bufferBuilder.append(255&Q)}},2162:Xe=>{var K={};K.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),K.useArrayBufferView=!K.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch{return!0}}(),Xe.exports.cx=K;var M=Xe.exports.xE;function c(){this._pieces=[],this._parts=[]}typeof window<"u"&&(M=Xe.exports.xE=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),c.prototype.append=function(k){"number"==typeof k?this._pieces.push(k):(this.flush(),this._parts.push(k))},c.prototype.flush=function(){if(this._pieces.length>0){var k=new Uint8Array(this._pieces);K.useArrayBufferView||(k=k.buffer),this._parts.push(k),this._pieces=[]}},c.prototype.getBuffer=function(){if(this.flush(),K.useBlobBuilder){for(var k=new M,J=0,Z=this._parts.length;J<Z;J++)k.append(this._parts[J]);return k.getBlob()}return new Blob(this._parts)},Xe.exports.MY=c},4191:(Xe,K,M)=>{"use strict";var c=M(2917);function J(F,Q,ie,_e,Oe){var me=c.writeRtpDescription(F.kind,Q);if(me+=c.writeIceParameters(F.iceGatherer.getLocalParameters()),me+=c.writeDtlsParameters(F.dtlsTransport.getLocalParameters(),"offer"===ie?"actpass":Oe||"active"),me+="a=mid:"+F.mid+"\r\n",me+=F.rtpSender&&F.rtpReceiver?"a=sendrecv\r\n":F.rtpSender?"a=sendonly\r\n":F.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",F.rtpSender){var Ne=F.rtpSender._initialTrackId||F.rtpSender.track.id;F.rtpSender._initialTrackId=Ne;var He="msid:"+(_e?_e.id:"-")+" "+Ne+"\r\n";me+="a="+He,me+="a=ssrc:"+F.sendEncodingParameters[0].ssrc+" "+He,F.sendEncodingParameters[0].rtx&&(me+="a=ssrc:"+F.sendEncodingParameters[0].rtx.ssrc+" "+He,me+="a=ssrc-group:FID "+F.sendEncodingParameters[0].ssrc+" "+F.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return me+="a=ssrc:"+F.sendEncodingParameters[0].ssrc+" cname:"+c.localCName+"\r\n",F.rtpSender&&F.sendEncodingParameters[0].rtx&&(me+="a=ssrc:"+F.sendEncodingParameters[0].rtx.ssrc+" cname:"+c.localCName+"\r\n"),me}function q(F,Q){var ie={codecs:[],headerExtensions:[],fecMechanisms:[]},_e=function(me,Ne){me=parseInt(me,10);for(var He=0;He<Ne.length;He++)if(Ne[He].payloadType===me||Ne[He].preferredPayloadType===me)return Ne[He]},Oe=function(me,Ne,He,$){var W=_e(me.parameters.apt,He),ue=_e(Ne.parameters.apt,$);return W&&ue&&W.name.toLowerCase()===ue.name.toLowerCase()};return F.codecs.forEach(function(me){for(var Ne=0;Ne<Q.codecs.length;Ne++){var He=Q.codecs[Ne];if(me.name.toLowerCase()===He.name.toLowerCase()&&me.clockRate===He.clockRate){if("rtx"===me.name.toLowerCase()&&me.parameters&&He.parameters.apt&&!Oe(me,He,F.codecs,Q.codecs))continue;(He=JSON.parse(JSON.stringify(He))).numChannels=Math.min(me.numChannels,He.numChannels),ie.codecs.push(He),He.rtcpFeedback=He.rtcpFeedback.filter(function($){for(var W=0;W<me.rtcpFeedback.length;W++)if(me.rtcpFeedback[W].type===$.type&&me.rtcpFeedback[W].parameter===$.parameter)return!0;return!1});break}}}),F.headerExtensions.forEach(function(me){for(var Ne=0;Ne<Q.headerExtensions.length;Ne++){var He=Q.headerExtensions[Ne];if(me.uri===He.uri){ie.headerExtensions.push(He);break}}}),ie}function pe(F,Q,ie){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[Q][F].indexOf(ie)}function Ee(F,Q){var ie=F.getRemoteCandidates().find(function(_e){return Q.foundation===_e.foundation&&Q.ip===_e.ip&&Q.port===_e.port&&Q.priority===_e.priority&&Q.protocol===_e.protocol&&Q.type===_e.type});return ie||F.addRemoteCandidate(Q),!ie}function L(F,Q){var ie=new Error(Q);return ie.name=F,ie.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[F],ie}Xe.exports=function(F,Q){function ie($,W){W.addTrack($),W.dispatchEvent(new F.MediaStreamTrackEvent("addtrack",{track:$}))}function Oe($,W,ue,ge){var z=new Event("track");z.track=W,z.receiver=ue,z.transceiver={receiver:ue},z.streams=ge,F.setTimeout(function(){$._dispatchEvent("track",z)})}var me=function($){var W=this,ue=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(z){W[z]=ue[z].bind(ue)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",$=JSON.parse(JSON.stringify($||{})),this.usingBundle="max-bundle"===$.bundlePolicy,"negotiate"===$.rtcpMuxPolicy)throw L("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch($.rtcpMuxPolicy||($.rtcpMuxPolicy="require"),$.iceTransportPolicy){case"all":case"relay":break;default:$.iceTransportPolicy="all"}switch($.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:$.bundlePolicy="balanced"}if($.iceServers=function Z(F,Q){var ie=!1;return(F=JSON.parse(JSON.stringify(F))).filter(function(_e){if(_e&&(_e.urls||_e.url)){var Oe=_e.urls||_e.url;_e.url&&!_e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var me="string"==typeof Oe;return me&&(Oe=[Oe]),Oe=Oe.filter(function(Ne){return 0!==Ne.indexOf("turn:")||-1===Ne.indexOf("transport=udp")||-1!==Ne.indexOf("turn:[")||ie?0===Ne.indexOf("stun:")&&Q>=14393&&-1===Ne.indexOf("?transport=udp"):(ie=!0,!0)}),delete _e.url,_e.urls=me?Oe[0]:Oe,!!Oe.length}})}($.iceServers||[],Q),this._iceGatherers=[],$.iceCandidatePoolSize)for(var ge=$.iceCandidatePoolSize;ge>0;ge--)this._iceGatherers.push(new F.RTCIceGatherer({iceServers:$.iceServers,gatherPolicy:$.iceTransportPolicy}));else $.iceCandidatePoolSize=0;this._config=$,this.transceivers=[],this._sdpSessionId=c.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(me.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(me.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),me.prototype.onicecandidate=null,me.prototype.onaddstream=null,me.prototype.ontrack=null,me.prototype.onremovestream=null,me.prototype.onsignalingstatechange=null,me.prototype.oniceconnectionstatechange=null,me.prototype.onconnectionstatechange=null,me.prototype.onicegatheringstatechange=null,me.prototype.onnegotiationneeded=null,me.prototype.ondatachannel=null,me.prototype._dispatchEvent=function($,W){this._isClosed||(this.dispatchEvent(W),"function"==typeof this["on"+$]&&this["on"+$](W))},me.prototype._emitGatheringStateChange=function(){var $=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",$)},me.prototype.getConfiguration=function(){return this._config},me.prototype.getLocalStreams=function(){return this.localStreams},me.prototype.getRemoteStreams=function(){return this.remoteStreams},me.prototype._createTransceiver=function($,W){var ge={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:$,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)ge.iceTransport=this.transceivers[0].iceTransport,ge.dtlsTransport=this.transceivers[0].dtlsTransport;else{var z=this._createIceAndDtlsTransports();ge.iceTransport=z.iceTransport,ge.dtlsTransport=z.dtlsTransport}return W||this.transceivers.push(ge),ge},me.prototype.addTrack=function($,W){if(this._isClosed)throw L("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(he){return he.track===$}))throw L("InvalidAccessError","Track already exists.");for(var ge,z=0;z<this.transceivers.length;z++)!this.transceivers[z].track&&this.transceivers[z].kind===$.kind&&(ge=this.transceivers[z]);return ge||(ge=this._createTransceiver($.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(W)&&this.localStreams.push(W),ge.track=$,ge.stream=W,ge.rtpSender=new F.RTCRtpSender($,ge.dtlsTransport),ge.rtpSender},me.prototype.addStream=function($){var W=this;if(Q>=15025)$.getTracks().forEach(function(ge){W.addTrack(ge,$)});else{var ue=$.clone();$.getTracks().forEach(function(ge,z){var he=ue.getTracks()[z];ge.addEventListener("enabled",function(B){he.enabled=B.enabled})}),ue.getTracks().forEach(function(ge){W.addTrack(ge,ue)})}},me.prototype.removeTrack=function($){if(this._isClosed)throw L("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!($ instanceof F.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var W=this.transceivers.find(function(z){return z.rtpSender===$});if(!W)throw L("InvalidAccessError","Sender was not created by this connection.");var ue=W.stream;W.rtpSender.stop(),W.rtpSender=null,W.track=null,W.stream=null,-1===this.transceivers.map(function(z){return z.stream}).indexOf(ue)&&this.localStreams.indexOf(ue)>-1&&this.localStreams.splice(this.localStreams.indexOf(ue),1),this._maybeFireNegotiationNeeded()},me.prototype.removeStream=function($){var W=this;$.getTracks().forEach(function(ue){var ge=W.getSenders().find(function(z){return z.track===ue});ge&&W.removeTrack(ge)})},me.prototype.getSenders=function(){return this.transceivers.filter(function($){return!!$.rtpSender}).map(function($){return $.rtpSender})},me.prototype.getReceivers=function(){return this.transceivers.filter(function($){return!!$.rtpReceiver}).map(function($){return $.rtpReceiver})},me.prototype._createIceGatherer=function($,W){var ue=this;if(W&&$>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var ge=new F.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(ge,"state",{value:"new",writable:!0}),this.transceivers[$].bufferedCandidateEvents=[],this.transceivers[$].bufferCandidates=function(z){var he=!z.candidate||0===Object.keys(z.candidate).length;ge.state=he?"completed":"gathering",null!==ue.transceivers[$].bufferedCandidateEvents&&ue.transceivers[$].bufferedCandidateEvents.push(z)},ge.addEventListener("localcandidate",this.transceivers[$].bufferCandidates),ge},me.prototype._gather=function($,W){var ue=this,ge=this.transceivers[W].iceGatherer;if(!ge.onlocalcandidate){var z=this.transceivers[W].bufferedCandidateEvents;this.transceivers[W].bufferedCandidateEvents=null,ge.removeEventListener("localcandidate",this.transceivers[W].bufferCandidates),ge.onlocalcandidate=function(he){if(!(ue.usingBundle&&W>0)){var B=new Event("icecandidate");B.candidate={sdpMid:$,sdpMLineIndex:W};var Y=he.candidate,re=!Y||0===Object.keys(Y).length;if(re)("new"===ge.state||"gathering"===ge.state)&&(ge.state="completed");else{"new"===ge.state&&(ge.state="gathering"),Y.component=1,Y.ufrag=ge.getLocalParameters().usernameFragment;var X=c.writeCandidate(Y);B.candidate=Object.assign(B.candidate,c.parseCandidate(X)),B.candidate.candidate=X,B.candidate.toJSON=function(){return{candidate:B.candidate.candidate,sdpMid:B.candidate.sdpMid,sdpMLineIndex:B.candidate.sdpMLineIndex,usernameFragment:B.candidate.usernameFragment}}}var le=c.getMediaSections(ue._localDescription.sdp);le[B.candidate.sdpMLineIndex]+=re?"a=end-of-candidates\r\n":"a="+B.candidate.candidate+"\r\n",ue._localDescription.sdp=c.getDescription(ue._localDescription.sdp)+le.join("");var Se=ue.transceivers.every(function(We){return We.iceGatherer&&"completed"===We.iceGatherer.state});"gathering"!==ue.iceGatheringState&&(ue.iceGatheringState="gathering",ue._emitGatheringStateChange()),re||ue._dispatchEvent("icecandidate",B),Se&&(ue._dispatchEvent("icecandidate",new Event("icecandidate")),ue.iceGatheringState="complete",ue._emitGatheringStateChange())}},F.setTimeout(function(){z.forEach(function(he){ge.onlocalcandidate(he)})},0)}},me.prototype._createIceAndDtlsTransports=function(){var $=this,W=new F.RTCIceTransport(null);W.onicestatechange=function(){$._updateIceConnectionState(),$._updateConnectionState()};var ue=new F.RTCDtlsTransport(W);return ue.ondtlsstatechange=function(){$._updateConnectionState()},ue.onerror=function(){Object.defineProperty(ue,"state",{value:"failed",writable:!0}),$._updateConnectionState()},{iceTransport:W,dtlsTransport:ue}},me.prototype._disposeIceAndDtlsTransports=function($){var W=this.transceivers[$].iceGatherer;W&&(delete W.onlocalcandidate,delete this.transceivers[$].iceGatherer);var ue=this.transceivers[$].iceTransport;ue&&(delete ue.onicestatechange,delete this.transceivers[$].iceTransport);var ge=this.transceivers[$].dtlsTransport;ge&&(delete ge.ondtlsstatechange,delete ge.onerror,delete this.transceivers[$].dtlsTransport)},me.prototype._transceive=function($,W,ue){var ge=q($.localCapabilities,$.remoteCapabilities);W&&$.rtpSender&&(ge.encodings=$.sendEncodingParameters,ge.rtcp={cname:c.localCName,compound:$.rtcpParameters.compound},$.recvEncodingParameters.length&&(ge.rtcp.ssrc=$.recvEncodingParameters[0].ssrc),$.rtpSender.send(ge)),ue&&$.rtpReceiver&&ge.codecs.length>0&&("video"===$.kind&&$.recvEncodingParameters&&Q<15019&&$.recvEncodingParameters.forEach(function(z){delete z.rtx}),ge.encodings=$.recvEncodingParameters.length?$.recvEncodingParameters:[{}],ge.rtcp={compound:$.rtcpParameters.compound},$.rtcpParameters.cname&&(ge.rtcp.cname=$.rtcpParameters.cname),$.sendEncodingParameters.length&&(ge.rtcp.ssrc=$.sendEncodingParameters[0].ssrc),$.rtpReceiver.receive(ge))},me.prototype.setLocalDescription=function($){var ue,ge,W=this;if(-1===["offer","answer"].indexOf($.type))return Promise.reject(L("TypeError",'Unsupported type "'+$.type+'"'));if(!pe("setLocalDescription",$.type,W.signalingState)||W._isClosed)return Promise.reject(L("InvalidStateError","Can not set local "+$.type+" in state "+W.signalingState));if("offer"===$.type)ue=c.splitSections($.sdp),ge=ue.shift(),ue.forEach(function(he,B){var Y=c.parseRtpParameters(he);W.transceivers[B].localCapabilities=Y}),W.transceivers.forEach(function(he,B){W._gather(he.mid,B)});else if("answer"===$.type){ue=c.splitSections(W._remoteDescription.sdp),ge=ue.shift();var z=c.matchPrefix(ge,"a=ice-lite").length>0;ue.forEach(function(he,B){var Y=W.transceivers[B],re=Y.iceGatherer,X=Y.iceTransport,le=Y.dtlsTransport,Se=Y.localCapabilities,We=Y.remoteCapabilities;if(!(c.isRejected(he)&&0===c.matchPrefix(he,"a=bundle-only").length||Y.rejected)){var Ct=c.getIceParameters(he,ge),ke=c.getDtlsParameters(he,ge);z&&(ke.role="server"),(!W.usingBundle||0===B)&&(W._gather(Y.mid,B),"new"===X.state&&X.start(re,Ct,z?"controlling":"controlled"),"new"===le.state&&le.start(ke));var ye=q(Se,We);W._transceive(Y,ye.codecs.length>0,!1)}})}return W._localDescription={type:$.type,sdp:$.sdp},W._updateSignalingState("offer"===$.type?"have-local-offer":"stable"),Promise.resolve()},me.prototype.setRemoteDescription=function($){var W=this;if(-1===["offer","answer"].indexOf($.type))return Promise.reject(L("TypeError",'Unsupported type "'+$.type+'"'));if(!pe("setRemoteDescription",$.type,W.signalingState)||W._isClosed)return Promise.reject(L("InvalidStateError","Can not set remote "+$.type+" in state "+W.signalingState));var ue={};W.remoteStreams.forEach(function(X){ue[X.id]=X});var ge=[],z=c.splitSections($.sdp),he=z.shift(),B=c.matchPrefix(he,"a=ice-lite").length>0,Y=c.matchPrefix(he,"a=group:BUNDLE ").length>0;W.usingBundle=Y;var re=c.matchPrefix(he,"a=ice-options:")[0];return W.canTrickleIceCandidates=!!re&&re.substr(14).split(" ").indexOf("trickle")>=0,z.forEach(function(X,le){var Se=c.splitLines(X),We=c.getKind(X),ot=c.isRejected(X)&&0===c.matchPrefix(X,"a=bundle-only").length,Ct=Se[0].substr(2).split(" ")[2],ke=c.getDirection(X,he),ye=c.parseMsid(X),te=c.getMid(X)||c.generateIdentifier();if(ot||"application"===We&&("DTLS/SCTP"===Ct||"UDP/DTLS/SCTP"===Ct))W.transceivers[le]={mid:te,kind:We,protocol:Ct,rejected:!0};else{!ot&&W.transceivers[le]&&W.transceivers[le].rejected&&(W.transceivers[le]=W._createTransceiver(We,!0));var ce,Ae,Le,Pe,Ve,Ze,Kt,tt,ht,pt,Vt,Dt=c.parseRtpParameters(X);ot||(pt=c.getIceParameters(X,he),(Vt=c.getDtlsParameters(X,he)).role="client"),Kt=c.parseRtpEncodingParameters(X);var vn=c.parseRtcpParameters(X),_n=c.matchPrefix(X,"a=end-of-candidates",he).length>0,tn=c.matchPrefix(X,"a=candidate:").map(function(Fe){return c.parseCandidate(Fe)}).filter(function(Fe){return 1===Fe.component});if(("offer"===$.type||"answer"===$.type)&&!ot&&Y&&le>0&&W.transceivers[le]&&(W._disposeIceAndDtlsTransports(le),W.transceivers[le].iceGatherer=W.transceivers[0].iceGatherer,W.transceivers[le].iceTransport=W.transceivers[0].iceTransport,W.transceivers[le].dtlsTransport=W.transceivers[0].dtlsTransport,W.transceivers[le].rtpSender&&W.transceivers[le].rtpSender.setTransport(W.transceivers[0].dtlsTransport),W.transceivers[le].rtpReceiver&&W.transceivers[le].rtpReceiver.setTransport(W.transceivers[0].dtlsTransport)),"offer"!==$.type||ot)"answer"!==$.type||ot||(Ae=(ce=W.transceivers[le]).iceGatherer,Le=ce.iceTransport,Pe=ce.dtlsTransport,Ve=ce.rtpReceiver,Ze=ce.sendEncodingParameters,tt=ce.localCapabilities,W.transceivers[le].recvEncodingParameters=Kt,W.transceivers[le].remoteCapabilities=Dt,W.transceivers[le].rtcpParameters=vn,tn.length&&"new"===Le.state&&(!B&&!_n||Y&&0!==le?tn.forEach(function(Fe){Ee(ce.iceTransport,Fe)}):Le.setRemoteCandidates(tn)),(!Y||0===le)&&("new"===Le.state&&Le.start(Ae,pt,"controlling"),"new"===Pe.state&&Pe.start(Vt)),!q(ce.localCapabilities,ce.remoteCapabilities).codecs.filter(function(Fe){return"rtx"===Fe.name.toLowerCase()}).length&&ce.sendEncodingParameters[0].rtx&&delete ce.sendEncodingParameters[0].rtx,W._transceive(ce,"sendrecv"===ke||"recvonly"===ke,"sendrecv"===ke||"sendonly"===ke),!Ve||"sendrecv"!==ke&&"sendonly"!==ke?delete ce.rtpReceiver:(ht=Ve.track,ye?(ue[ye.stream]||(ue[ye.stream]=new F.MediaStream),ie(ht,ue[ye.stream]),ge.push([ht,Ve,ue[ye.stream]])):(ue.default||(ue.default=new F.MediaStream),ie(ht,ue.default),ge.push([ht,Ve,ue.default]))));else{(ce=W.transceivers[le]||W._createTransceiver(We)).mid=te,ce.iceGatherer||(ce.iceGatherer=W._createIceGatherer(le,Y)),tn.length&&"new"===ce.iceTransport.state&&(!_n||Y&&0!==le?tn.forEach(function(Fe){Ee(ce.iceTransport,Fe)}):ce.iceTransport.setRemoteCandidates(tn)),tt=F.RTCRtpReceiver.getCapabilities(We),Q<15019&&(tt.codecs=tt.codecs.filter(function(Fe){return"rtx"!==Fe.name})),Ze=ce.sendEncodingParameters||[{ssrc:1001*(2*le+2)}];var Yt,Tn=!1;"sendrecv"===ke||"sendonly"===ke?(Tn=!ce.rtpReceiver,Ve=ce.rtpReceiver||new F.RTCRtpReceiver(ce.dtlsTransport,We),Tn&&(ht=Ve.track,ye&&"-"===ye.stream||(ye?(ue[ye.stream]||(ue[ye.stream]=new F.MediaStream,Object.defineProperty(ue[ye.stream],"id",{get:function(){return ye.stream}})),Object.defineProperty(ht,"id",{get:function(){return ye.track}}),Yt=ue[ye.stream]):(ue.default||(ue.default=new F.MediaStream),Yt=ue.default)),Yt&&(ie(ht,Yt),ce.associatedRemoteMediaStreams.push(Yt)),ge.push([ht,Ve,Yt]))):ce.rtpReceiver&&ce.rtpReceiver.track&&(ce.associatedRemoteMediaStreams.forEach(function(Fe){var Jt=Fe.getTracks().find(function(Nn){return Nn.id===ce.rtpReceiver.track.id});Jt&&function _e($,W){W.removeTrack($),W.dispatchEvent(new F.MediaStreamTrackEvent("removetrack",{track:$}))}(Jt,Fe)}),ce.associatedRemoteMediaStreams=[]),ce.localCapabilities=tt,ce.remoteCapabilities=Dt,ce.rtpReceiver=Ve,ce.rtcpParameters=vn,ce.sendEncodingParameters=Ze,ce.recvEncodingParameters=Kt,W._transceive(W.transceivers[le],!1,Tn)}}}),void 0===W._dtlsRole&&(W._dtlsRole="offer"===$.type?"active":"passive"),W._remoteDescription={type:$.type,sdp:$.sdp},W._updateSignalingState("offer"===$.type?"have-remote-offer":"stable"),Object.keys(ue).forEach(function(X){var le=ue[X];if(le.getTracks().length){if(-1===W.remoteStreams.indexOf(le)){W.remoteStreams.push(le);var Se=new Event("addstream");Se.stream=le,F.setTimeout(function(){W._dispatchEvent("addstream",Se)})}ge.forEach(function(We){le.id===We[2].id&&Oe(W,We[0],We[1],[le])})}}),ge.forEach(function(X){X[2]||Oe(W,X[0],X[1],[])}),F.setTimeout(function(){W&&W.transceivers&&W.transceivers.forEach(function(X){X.iceTransport&&"new"===X.iceTransport.state&&X.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),X.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},me.prototype.close=function(){this.transceivers.forEach(function($){$.iceTransport&&$.iceTransport.stop(),$.dtlsTransport&&$.dtlsTransport.stop(),$.rtpSender&&$.rtpSender.stop(),$.rtpReceiver&&$.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},me.prototype._updateSignalingState=function($){this.signalingState=$;var W=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",W)},me.prototype._maybeFireNegotiationNeeded=function(){var $=this;"stable"!==this.signalingState||!0===this.needNegotiation||(this.needNegotiation=!0,F.setTimeout(function(){if($.needNegotiation){$.needNegotiation=!1;var W=new Event("negotiationneeded");$._dispatchEvent("negotiationneeded",W)}},0))},me.prototype._updateIceConnectionState=function(){var $,W={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ge){ge.iceTransport&&!ge.rejected&&W[ge.iceTransport.state]++}),$="new",W.failed>0?$="failed":W.checking>0?$="checking":W.disconnected>0?$="disconnected":W.new>0?$="new":W.connected>0?$="connected":W.completed>0&&($="completed"),$!==this.iceConnectionState){this.iceConnectionState=$;var ue=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",ue)}},me.prototype._updateConnectionState=function(){var $,W={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ge){ge.iceTransport&&ge.dtlsTransport&&!ge.rejected&&(W[ge.iceTransport.state]++,W[ge.dtlsTransport.state]++)}),W.connected+=W.completed,$="new",W.failed>0?$="failed":W.connecting>0?$="connecting":W.disconnected>0?$="disconnected":W.new>0?$="new":W.connected>0&&($="connected"),$!==this.connectionState){this.connectionState=$;var ue=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",ue)}},me.prototype.createOffer=function(){var $=this;if($._isClosed)return Promise.reject(L("InvalidStateError","Can not call createOffer after close"));var W=$.transceivers.filter(function(B){return"audio"===B.kind}).length,ue=$.transceivers.filter(function(B){return"video"===B.kind}).length,ge=arguments[0];if(ge){if(ge.mandatory||ge.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==ge.offerToReceiveAudio&&(W=!0===ge.offerToReceiveAudio?1:!1===ge.offerToReceiveAudio?0:ge.offerToReceiveAudio),void 0!==ge.offerToReceiveVideo&&(ue=!0===ge.offerToReceiveVideo?1:!1===ge.offerToReceiveVideo?0:ge.offerToReceiveVideo)}for($.transceivers.forEach(function(B){"audio"===B.kind?--W<0&&(B.wantReceive=!1):"video"===B.kind&&--ue<0&&(B.wantReceive=!1)});W>0||ue>0;)W>0&&($._createTransceiver("audio"),W--),ue>0&&($._createTransceiver("video"),ue--);var z=c.writeSessionBoilerplate($._sdpSessionId,$._sdpSessionVersion++);$.transceivers.forEach(function(B,Y){var re=B.track,X=B.kind,le=B.mid||c.generateIdentifier();B.mid=le,B.iceGatherer||(B.iceGatherer=$._createIceGatherer(Y,$.usingBundle));var Se=F.RTCRtpSender.getCapabilities(X);Q<15019&&(Se.codecs=Se.codecs.filter(function(ot){return"rtx"!==ot.name})),Se.codecs.forEach(function(ot){"H264"===ot.name&&void 0===ot.parameters["level-asymmetry-allowed"]&&(ot.parameters["level-asymmetry-allowed"]="1"),B.remoteCapabilities&&B.remoteCapabilities.codecs&&B.remoteCapabilities.codecs.forEach(function(Ct){ot.name.toLowerCase()===Ct.name.toLowerCase()&&ot.clockRate===Ct.clockRate&&(ot.preferredPayloadType=Ct.payloadType)})}),Se.headerExtensions.forEach(function(ot){(B.remoteCapabilities&&B.remoteCapabilities.headerExtensions||[]).forEach(function(ke){ot.uri===ke.uri&&(ot.id=ke.id)})});var We=B.sendEncodingParameters||[{ssrc:1001*(2*Y+1)}];re&&Q>=15019&&"video"===X&&!We[0].rtx&&(We[0].rtx={ssrc:We[0].ssrc+1}),B.wantReceive&&(B.rtpReceiver=new F.RTCRtpReceiver(B.dtlsTransport,X)),B.localCapabilities=Se,B.sendEncodingParameters=We}),"max-compat"!==$._config.bundlePolicy&&(z+="a=group:BUNDLE "+$.transceivers.map(function(B){return B.mid}).join(" ")+"\r\n"),z+="a=ice-options:trickle\r\n",$.transceivers.forEach(function(B,Y){z+=J(B,B.localCapabilities,"offer",B.stream,$._dtlsRole),z+="a=rtcp-rsize\r\n",B.iceGatherer&&"new"!==$.iceGatheringState&&(0===Y||!$.usingBundle)&&(B.iceGatherer.getLocalCandidates().forEach(function(re){re.component=1,z+="a="+c.writeCandidate(re)+"\r\n"}),"completed"===B.iceGatherer.state&&(z+="a=end-of-candidates\r\n"))});var he=new F.RTCSessionDescription({type:"offer",sdp:z});return Promise.resolve(he)},me.prototype.createAnswer=function(){var $=this;if($._isClosed)return Promise.reject(L("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==$.signalingState&&"have-local-pranswer"!==$.signalingState)return Promise.reject(L("InvalidStateError","Can not call createAnswer in signalingState "+$.signalingState));var W=c.writeSessionBoilerplate($._sdpSessionId,$._sdpSessionVersion++);$.usingBundle&&(W+="a=group:BUNDLE "+$.transceivers.map(function(z){return z.mid}).join(" ")+"\r\n"),W+="a=ice-options:trickle\r\n";var ue=c.getMediaSections($._remoteDescription.sdp).length;$.transceivers.forEach(function(z,he){if(!(he+1>ue)){if(z.rejected)return"application"===z.kind?W+="DTLS/SCTP"===z.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+z.protocol+" webrtc-datachannel\r\n":"audio"===z.kind?W+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===z.kind&&(W+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(W+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+z.mid+"\r\n");var B;z.stream&&("audio"===z.kind?B=z.stream.getAudioTracks()[0]:"video"===z.kind&&(B=z.stream.getVideoTracks()[0]),B&&Q>=15019&&"video"===z.kind&&!z.sendEncodingParameters[0].rtx&&(z.sendEncodingParameters[0].rtx={ssrc:z.sendEncodingParameters[0].ssrc+1}));var Y=q(z.localCapabilities,z.remoteCapabilities);!Y.codecs.filter(function(X){return"rtx"===X.name.toLowerCase()}).length&&z.sendEncodingParameters[0].rtx&&delete z.sendEncodingParameters[0].rtx,W+=J(z,Y,"answer",z.stream,$._dtlsRole),z.rtcpParameters&&z.rtcpParameters.reducedSize&&(W+="a=rtcp-rsize\r\n")}});var ge=new F.RTCSessionDescription({type:"answer",sdp:W});return Promise.resolve(ge)},me.prototype.addIceCandidate=function($){var ue,W=this;return $&&void 0===$.sdpMLineIndex&&!$.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(ge,z){if(!W._remoteDescription)return z(L("InvalidStateError","Can not add ICE candidate without a remote description"));if($&&""!==$.candidate){var B=$.sdpMLineIndex;if($.sdpMid)for(var Y=0;Y<W.transceivers.length;Y++)if(W.transceivers[Y].mid===$.sdpMid){B=Y;break}var re=W.transceivers[B];if(!re)return z(L("OperationError","Can not add ICE candidate"));if(re.rejected)return ge();var X=Object.keys($.candidate).length>0?c.parseCandidate($.candidate):{};if("tcp"===X.protocol&&(0===X.port||9===X.port)||X.component&&1!==X.component)return ge();if((0===B||B>0&&re.iceTransport!==W.transceivers[0].iceTransport)&&!Ee(re.iceTransport,X))return z(L("OperationError","Can not add ICE candidate"));var le=$.candidate.trim();0===le.indexOf("a=")&&(le=le.substr(2)),(ue=c.getMediaSections(W._remoteDescription.sdp))[B]+="a="+(X.type?le:"end-of-candidates")+"\r\n",W._remoteDescription.sdp=c.getDescription(W._remoteDescription.sdp)+ue.join("")}else for(var he=0;he<W.transceivers.length&&(W.transceivers[he].rejected||(W.transceivers[he].iceTransport.addRemoteCandidate({}),(ue=c.getMediaSections(W._remoteDescription.sdp))[he]+="a=end-of-candidates\r\n",W._remoteDescription.sdp=c.getDescription(W._remoteDescription.sdp)+ue.join(""),!W.usingBundle));he++);ge()})},me.prototype.getStats=function($){if($&&$ instanceof F.MediaStreamTrack){var W=null;if(this.transceivers.forEach(function(ge){ge.rtpSender&&ge.rtpSender.track===$?W=ge.rtpSender:ge.rtpReceiver&&ge.rtpReceiver.track===$&&(W=ge.rtpReceiver)}),!W)throw L("InvalidAccessError","Invalid selector.");return W.getStats()}var ue=[];return this.transceivers.forEach(function(ge){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(z){ge[z]&&ue.push(ge[z].getStats())})}),Promise.all(ue).then(function(ge){var z=new Map;return ge.forEach(function(he){he.forEach(function(B){z.set(B.id,B)})}),z})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function($){var W=F[$];if(W&&W.prototype&&W.prototype.getStats){var ue=W.prototype.getStats;W.prototype.getStats=function(){return ue.apply(this).then(function(ge){var z=new Map;return Object.keys(ge).forEach(function(he){ge[he].type=function k(F){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[F.type]||F.type}(ge[he]),z.set(he,ge[he])}),z})}}});var He=["createOffer","createAnswer"];return He.forEach(function($){var W=me.prototype[$];me.prototype[$]=function(){var ue=arguments;return"function"==typeof ue[0]||"function"==typeof ue[1]?W.apply(this,[arguments[2]]).then(function(ge){"function"==typeof ue[0]&&ue[0].apply(null,[ge])},function(ge){"function"==typeof ue[1]&&ue[1].apply(null,[ge])}):W.apply(this,arguments)}}),(He=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function($){var W=me.prototype[$];me.prototype[$]=function(){var ue=arguments;return"function"==typeof ue[1]||"function"==typeof ue[2]?W.apply(this,arguments).then(function(){"function"==typeof ue[1]&&ue[1].apply(null)},function(ge){"function"==typeof ue[2]&&ue[2].apply(null,[ge])}):W.apply(this,arguments)}}),["getStats"].forEach(function($){var W=me.prototype[$];me.prototype[$]=function(){var ue=arguments;return"function"==typeof ue[1]?W.apply(this,arguments).then(function(){"function"==typeof ue[1]&&ue[1].apply(null)}):W.apply(this,arguments)}}),me}},5619:(Xe,K,M)=>{"use strict";M.d(K,{X:()=>k});var c=M(8645);class k extends c.x{constructor(Z){super(),this._value=Z}get value(){return this.getValue()}_subscribe(Z){const q=super._subscribe(Z);return!q.closed&&Z.next(this._value),q}getValue(){const{hasError:Z,thrownError:q,_value:pe}=this;if(Z)throw q;return this._throwIfClosed(),pe}next(Z){super.next(this._value=Z)}}},5592:(Xe,K,M)=>{"use strict";M.d(K,{y:()=>L});var c=M(1887),k=M(7394),J=M(4850),Z=M(8407),q=M(2653),pe=M(4674),Ee=M(1441);let L=(()=>{class _e{constructor(me){me&&(this._subscribe=me)}lift(me){const Ne=new _e;return Ne.source=this,Ne.operator=me,Ne}subscribe(me,Ne,He){const $=function ie(_e){return _e&&_e instanceof c.Lv||function Q(_e){return _e&&(0,pe.m)(_e.next)&&(0,pe.m)(_e.error)&&(0,pe.m)(_e.complete)}(_e)&&(0,k.Nn)(_e)}(me)?me:new c.Hp(me,Ne,He);return(0,Ee.x)(()=>{const{operator:W,source:ue}=this;$.add(W?W.call($,ue):ue?this._subscribe($):this._trySubscribe($))}),$}_trySubscribe(me){try{return this._subscribe(me)}catch(Ne){me.error(Ne)}}forEach(me,Ne){return new(Ne=F(Ne))((He,$)=>{const W=new c.Hp({next:ue=>{try{me(ue)}catch(ge){$(ge),W.unsubscribe()}},error:$,complete:He});this.subscribe(W)})}_subscribe(me){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(me)}[J.L](){return this}pipe(...me){return(0,Z.U)(me)(this)}toPromise(me){return new(me=F(me))((Ne,He)=>{let $;this.subscribe(W=>$=W,W=>He(W),()=>Ne($))})}}return _e.create=Oe=>new _e(Oe),_e})();function F(_e){var Oe;return null!==(Oe=_e??q.config.Promise)&&void 0!==Oe?Oe:Promise}},8645:(Xe,K,M)=>{"use strict";M.d(K,{x:()=>Ee});var c=M(5592),k=M(7394);const Z=(0,M(2306).d)(F=>function(){F(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=M(9039),pe=M(1441);let Ee=(()=>{class F extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const _e=new L(this,this);return _e.operator=ie,_e}_throwIfClosed(){if(this.closed)throw new Z}next(ie){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(ie)}})}error(ie){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:_e}=this;for(;_e.length;)_e.shift().error(ie)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:_e,isStopped:Oe,observers:me}=this;return _e||Oe?k.Lc:(this.currentObservers=null,me.push(ie),new k.w0(()=>{this.currentObservers=null,(0,q.P)(me,ie)}))}_checkFinalizedStatuses(ie){const{hasError:_e,thrownError:Oe,isStopped:me}=this;_e?ie.error(Oe):me&&ie.complete()}asObservable(){const ie=new c.y;return ie.source=this,ie}}return F.create=(Q,ie)=>new L(Q,ie),F})();class L extends Ee{constructor(Q,ie){super(),this.destination=Q,this.source=ie}next(Q){var ie,_e;null===(_e=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===_e||_e.call(ie,Q)}error(Q){var ie,_e;null===(_e=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===_e||_e.call(ie,Q)}complete(){var Q,ie;null===(ie=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===ie||ie.call(Q)}_subscribe(Q){var ie,_e;return null!==(_e=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(Q))&&void 0!==_e?_e:k.Lc}}},1887:(Xe,K,M)=>{"use strict";M.d(K,{Hp:()=>He,Lv:()=>_e});var c=M(4674),k=M(7394),J=M(2653),Z=M(3894);function q(){}const pe=F("C",void 0,void 0);function F(z,he,B){return{kind:z,value:he,error:B}}var Q=M(7599),ie=M(1441);class _e extends k.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,k.Nn)(he)&&he.add(this)):this.destination=ge}static create(he,B,Y){return new He(he,B,Y)}next(he){this.isStopped?ue(function L(z){return F("N",z,void 0)}(he),this):this._next(he)}error(he){this.isStopped?ue(function Ee(z){return F("E",void 0,z)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?ue(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function me(z,he){return Oe.call(z,he)}class Ne{constructor(he){this.partialObserver=he}next(he){const{partialObserver:B}=this;if(B.next)try{B.next(he)}catch(Y){$(Y)}}error(he){const{partialObserver:B}=this;if(B.error)try{B.error(he)}catch(Y){$(Y)}else $(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(B){$(B)}}}class He extends _e{constructor(he,B,Y){let re;if(super(),(0,c.m)(he)||!he)re={next:he??void 0,error:B??void 0,complete:Y??void 0};else{let X;this&&J.config.useDeprecatedNextContext?(X=Object.create(he),X.unsubscribe=()=>this.unsubscribe(),re={next:he.next&&me(he.next,X),error:he.error&&me(he.error,X),complete:he.complete&&me(he.complete,X)}):re=he}this.destination=new Ne(re)}}function $(z){J.config.useDeprecatedSynchronousErrorHandling?(0,ie.O)(z):(0,Z.h)(z)}function ue(z,he){const{onStoppedNotification:B}=J.config;B&&Q.z.setTimeout(()=>B(z,he))}const ge={closed:!0,next:q,error:function W(z){throw z},complete:q}},7394:(Xe,K,M)=>{"use strict";M.d(K,{Lc:()=>pe,w0:()=>q,Nn:()=>Ee});var c=M(4674);const J=(0,M(2306).d)(F=>function(ie){F(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((_e,Oe)=>`${Oe+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var Z=M(9039);class q{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const me of ie)me.remove(this);else ie.remove(this);const{initialTeardown:_e}=this;if((0,c.m)(_e))try{_e()}catch(me){Q=me instanceof J?me.errors:[me]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const me of Oe)try{L(me)}catch(Ne){Q=Q??[],Ne instanceof J?Q=[...Q,...Ne.errors]:Q.push(Ne)}}if(Q)throw new J(Q)}}add(Q){var ie;if(Q&&Q!==this)if(this.closed)L(Q);else{if(Q instanceof q){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(Q)}}_hasParent(Q){const{_parentage:ie}=this;return ie===Q||Array.isArray(ie)&&ie.includes(Q)}_addParent(Q){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(Q),ie):ie?[ie,Q]:Q}_removeParent(Q){const{_parentage:ie}=this;ie===Q?this._parentage=null:Array.isArray(ie)&&(0,Z.P)(ie,Q)}remove(Q){const{_finalizers:ie}=this;ie&&(0,Z.P)(ie,Q),Q instanceof q&&Q._removeParent(this)}}q.EMPTY=(()=>{const F=new q;return F.closed=!0,F})();const pe=q.EMPTY;function Ee(F){return F instanceof q||F&&"closed"in F&&(0,c.m)(F.remove)&&(0,c.m)(F.add)&&(0,c.m)(F.unsubscribe)}function L(F){(0,c.m)(F)?F():F.unsubscribe()}},2653:(Xe,K,M)=>{"use strict";M.d(K,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Xe,K,M)=>{"use strict";M.d(K,{E:()=>k});const k=new(M(5592).y)(q=>q.complete())},7715:(Xe,K,M)=>{"use strict";M.d(K,{D:()=>Y});var c=M(4829),k=M(7103),J=M(9360),Z=M(8251);function q(re,X=0){return(0,J.e)((le,Se)=>{le.subscribe((0,Z.x)(Se,We=>(0,k.f)(Se,re,()=>Se.next(We),X),()=>(0,k.f)(Se,re,()=>Se.complete(),X),We=>(0,k.f)(Se,re,()=>Se.error(We),X)))})}function pe(re,X=0){return(0,J.e)((le,Se)=>{Se.add(re.schedule(()=>le.subscribe(Se),X))})}var F=M(5592),ie=M(4971),_e=M(4674);function me(re,X){if(!re)throw new Error("Iterable cannot be null");return new F.y(le=>{(0,k.f)(le,X,()=>{const Se=re[Symbol.asyncIterator]();(0,k.f)(le,X,()=>{Se.next().then(We=>{We.done?le.complete():le.next(We.value)})},0,!0)})})}var Ne=M(8382),He=M(4026),$=M(4266),W=M(3664),ue=M(5726),ge=M(9853),z=M(541);function Y(re,X){return X?function B(re,X){if(null!=re){if((0,Ne.c)(re))return function Ee(re,X){return(0,c.Xf)(re).pipe(pe(X),q(X))}(re,X);if((0,$.z)(re))return function Q(re,X){return new F.y(le=>{let Se=0;return X.schedule(function(){Se===re.length?le.complete():(le.next(re[Se++]),le.closed||this.schedule())})})}(re,X);if((0,He.t)(re))return function L(re,X){return(0,c.Xf)(re).pipe(pe(X),q(X))}(re,X);if((0,ue.D)(re))return me(re,X);if((0,W.T)(re))return function Oe(re,X){return new F.y(le=>{let Se;return(0,k.f)(le,X,()=>{Se=re[ie.h](),(0,k.f)(le,X,()=>{let We,ot;try{({value:We,done:ot}=Se.next())}catch(Ct){return void le.error(Ct)}ot?le.complete():le.next(We)},0,!0)}),()=>(0,_e.m)(Se?.return)&&Se.return()})}(re,X);if((0,z.L)(re))return function he(re,X){return me((0,z.Q)(re),X)}(re,X)}throw(0,ge.z)(re)}(re,X):(0,c.Xf)(re)}},4829:(Xe,K,M)=>{"use strict";M.d(K,{Xf:()=>Oe});var c=M(7582),k=M(4266),J=M(4026),Z=M(5592),q=M(8382),pe=M(5726),Ee=M(9853),L=M(3664),F=M(541),Q=M(4674),ie=M(3894),_e=M(4850);function Oe(z){if(z instanceof Z.y)return z;if(null!=z){if((0,q.c)(z))return function me(z){return new Z.y(he=>{const B=z[_e.L]();if((0,Q.m)(B.subscribe))return B.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(z);if((0,k.z)(z))return function Ne(z){return new Z.y(he=>{for(let B=0;B<z.length&&!he.closed;B++)he.next(z[B]);he.complete()})}(z);if((0,J.t)(z))return function He(z){return new Z.y(he=>{z.then(B=>{he.closed||(he.next(B),he.complete())},B=>he.error(B)).then(null,ie.h)})}(z);if((0,pe.D)(z))return W(z);if((0,L.T)(z))return function $(z){return new Z.y(he=>{for(const B of z)if(he.next(B),he.closed)return;he.complete()})}(z);if((0,F.L)(z))return function ue(z){return W((0,F.Q)(z))}(z)}throw(0,Ee.z)(z)}function W(z){return new Z.y(he=>{(function ge(z,he){var B,Y,re,X;return(0,c.mG)(this,void 0,void 0,function*(){try{for(B=(0,c.KL)(z);!(Y=yield B.next()).done;)if(he.next(Y.value),he.closed)return}catch(le){re={error:le}}finally{try{Y&&!Y.done&&(X=B.return)&&(yield X.call(B))}finally{if(re)throw re.error}}he.complete()})})(z,he).catch(B=>he.error(B))})}},2096:(Xe,K,M)=>{"use strict";M.d(K,{of:()=>J});var c=M(4564),k=M(7715);function J(...Z){const q=(0,c.yG)(Z);return(0,k.D)(Z,q)}},8251:(Xe,K,M)=>{"use strict";M.d(K,{x:()=>k});var c=M(1887);function k(Z,q,pe,Ee,L){return new J(Z,q,pe,Ee,L)}class J extends c.Lv{constructor(q,pe,Ee,L,F,Q){super(q),this.onFinalize=F,this.shouldUnsubscribe=Q,this._next=pe?function(ie){try{pe(ie)}catch(_e){q.error(_e)}}:super._next,this._error=L?function(ie){try{L(ie)}catch(_e){q.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(ie){q.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},7398:(Xe,K,M)=>{"use strict";M.d(K,{U:()=>J});var c=M(9360),k=M(8251);function J(Z,q){return(0,c.e)((pe,Ee)=>{let L=0;pe.subscribe((0,k.x)(Ee,F=>{Ee.next(Z.call(q,F,L++))}))})}},7537:(Xe,K,M)=>{"use strict";M.d(K,{J:()=>J});var c=M(1631),k=M(2737);function J(Z=1/0){return(0,c.z)(k.y,Z)}},1631:(Xe,K,M)=>{"use strict";M.d(K,{z:()=>L});var c=M(7398),k=M(4829),J=M(9360),Z=M(7103),q=M(8251),Ee=M(4674);function L(F,Q,ie=1/0){return(0,Ee.m)(Q)?L((_e,Oe)=>(0,c.U)((me,Ne)=>Q(_e,me,Oe,Ne))((0,k.Xf)(F(_e,Oe))),ie):("number"==typeof Q&&(ie=Q),(0,J.e)((_e,Oe)=>function pe(F,Q,ie,_e,Oe,me,Ne,He){const $=[];let W=0,ue=0,ge=!1;const z=()=>{ge&&!$.length&&!W&&Q.complete()},he=Y=>W<_e?B(Y):$.push(Y),B=Y=>{me&&Q.next(Y),W++;let re=!1;(0,k.Xf)(ie(Y,ue++)).subscribe((0,q.x)(Q,X=>{Oe?.(X),me?he(X):Q.next(X)},()=>{re=!0},void 0,()=>{if(re)try{for(W--;$.length&&W<_e;){const X=$.shift();Ne?(0,Z.f)(Q,Ne,()=>B(X)):B(X)}z()}catch(X){Q.error(X)}}))};return F.subscribe((0,q.x)(Q,he,()=>{ge=!0,z()})),()=>{He?.()}}(_e,Oe,F,ie)))}},4664:(Xe,K,M)=>{"use strict";M.d(K,{w:()=>Z});var c=M(4829),k=M(9360),J=M(8251);function Z(q,pe){return(0,k.e)((Ee,L)=>{let F=null,Q=0,ie=!1;const _e=()=>ie&&!F&&L.complete();Ee.subscribe((0,J.x)(L,Oe=>{F?.unsubscribe();let me=0;const Ne=Q++;(0,c.Xf)(q(Oe,Ne)).subscribe(F=(0,J.x)(L,He=>L.next(pe?pe(Oe,He,Ne,me++):He),()=>{F=null,_e()}))},()=>{ie=!0,_e()}))})}},7599:(Xe,K,M)=>{"use strict";M.d(K,{z:()=>c});const c={setTimeout(k,J,...Z){const{delegate:q}=c;return q?.setTimeout?q.setTimeout(k,J,...Z):setTimeout(k,J,...Z)},clearTimeout(k){const{delegate:J}=c;return(J?.clearTimeout||clearTimeout)(k)},delegate:void 0}},4971:(Xe,K,M)=>{"use strict";M.d(K,{h:()=>k});const k=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Xe,K,M)=>{"use strict";M.d(K,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Xe,K,M)=>{"use strict";M.d(K,{_6:()=>pe,jO:()=>Z,yG:()=>q});var c=M(4674);function J(Ee){return Ee[Ee.length-1]}function Z(Ee){return(0,c.m)(J(Ee))?Ee.pop():void 0}function q(Ee){return function k(Ee){return Ee&&(0,c.m)(Ee.schedule)}(J(Ee))?Ee.pop():void 0}function pe(Ee,L){return"number"==typeof J(Ee)?Ee.pop():L}},7453:(Xe,K,M)=>{"use strict";M.d(K,{D:()=>q});const{isArray:c}=Array,{getPrototypeOf:k,prototype:J,keys:Z}=Object;function q(Ee){if(1===Ee.length){const L=Ee[0];if(c(L))return{args:L,keys:null};if(function pe(Ee){return Ee&&"object"==typeof Ee&&k(Ee)===J}(L)){const F=Z(L);return{args:F.map(Q=>L[Q]),keys:F}}}return{args:Ee,keys:null}}},9039:(Xe,K,M)=>{"use strict";function c(k,J){if(k){const Z=k.indexOf(J);0<=Z&&k.splice(Z,1)}}M.d(K,{P:()=>c})},2306:(Xe,K,M)=>{"use strict";function c(k){const Z=k(q=>{Error.call(q),q.stack=(new Error).stack});return Z.prototype=Object.create(Error.prototype),Z.prototype.constructor=Z,Z}M.d(K,{d:()=>c})},2714:(Xe,K,M)=>{"use strict";function c(k,J){return k.reduce((Z,q,pe)=>(Z[q]=J[pe],Z),{})}M.d(K,{n:()=>c})},1441:(Xe,K,M)=>{"use strict";M.d(K,{O:()=>Z,x:()=>J});var c=M(2653);let k=null;function J(q){if(c.config.useDeprecatedSynchronousErrorHandling){const pe=!k;if(pe&&(k={errorThrown:!1,error:null}),q(),pe){const{errorThrown:Ee,error:L}=k;if(k=null,Ee)throw L}}else q()}function Z(q){c.config.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=q)}},7103:(Xe,K,M)=>{"use strict";function c(k,J,Z,q=0,pe=!1){const Ee=J.schedule(function(){Z(),pe?k.add(this.schedule(null,q)):this.unsubscribe()},q);if(k.add(Ee),!pe)return Ee}M.d(K,{f:()=>c})},2737:(Xe,K,M)=>{"use strict";function c(k){return k}M.d(K,{y:()=>c})},4266:(Xe,K,M)=>{"use strict";M.d(K,{z:()=>c});const c=k=>k&&"number"==typeof k.length&&"function"!=typeof k},5726:(Xe,K,M)=>{"use strict";M.d(K,{D:()=>k});var c=M(4674);function k(J){return Symbol.asyncIterator&&(0,c.m)(J?.[Symbol.asyncIterator])}},4674:(Xe,K,M)=>{"use strict";function c(k){return"function"==typeof k}M.d(K,{m:()=>c})},8382:(Xe,K,M)=>{"use strict";M.d(K,{c:()=>J});var c=M(4850),k=M(4674);function J(Z){return(0,k.m)(Z[c.L])}},3664:(Xe,K,M)=>{"use strict";M.d(K,{T:()=>J});var c=M(4971),k=M(4674);function J(Z){return(0,k.m)(Z?.[c.h])}},4026:(Xe,K,M)=>{"use strict";M.d(K,{t:()=>k});var c=M(4674);function k(J){return(0,c.m)(J?.then)}},541:(Xe,K,M)=>{"use strict";M.d(K,{L:()=>Z,Q:()=>J});var c=M(7582),k=M(4674);function J(q){return(0,c.FC)(this,arguments,function*(){const Ee=q.getReader();try{for(;;){const{value:L,done:F}=yield(0,c.qq)(Ee.read());if(F)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(L)}}finally{Ee.releaseLock()}})}function Z(q){return(0,k.m)(q?.getReader)}},9360:(Xe,K,M)=>{"use strict";M.d(K,{A:()=>k,e:()=>J});var c=M(4674);function k(Z){return(0,c.m)(Z?.lift)}function J(Z){return q=>{if(k(q))return q.lift(function(pe){try{return Z(pe,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Xe,K,M)=>{"use strict";M.d(K,{Z:()=>Z});var c=M(7398);const{isArray:k}=Array;function Z(q){return(0,c.U)(pe=>function J(q,pe){return k(pe)?q(...pe):q(pe)}(q,pe))}},8407:(Xe,K,M)=>{"use strict";M.d(K,{U:()=>J,z:()=>k});var c=M(2737);function k(...Z){return J(Z)}function J(Z){return 0===Z.length?c.y:1===Z.length?Z[0]:function(pe){return Z.reduce((Ee,L)=>L(Ee),pe)}}},3894:(Xe,K,M)=>{"use strict";M.d(K,{h:()=>J});var c=M(2653),k=M(7599);function J(Z){k.z.setTimeout(()=>{const{onUnhandledError:q}=c.config;if(!q)throw Z;q(Z)})}},9853:(Xe,K,M)=>{"use strict";function c(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(K,{z:()=>c})},2917:Xe=>{"use strict";var K={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};K.localCName=K.generateIdentifier(),K.splitLines=function(M){return M.trim().split("\n").map(function(c){return c.trim()})},K.splitSections=function(M){return M.split("\nm=").map(function(k,J){return(J>0?"m="+k:k).trim()+"\r\n"})},K.getDescription=function(M){var c=K.splitSections(M);return c&&c[0]},K.getMediaSections=function(M){var c=K.splitSections(M);return c.shift(),c},K.matchPrefix=function(M,c){return K.splitLines(M).filter(function(k){return 0===k.indexOf(c)})},K.parseCandidate=function(M){for(var c,k={foundation:(c=0===M.indexOf("a=candidate:")?M.substring(12).split(" "):M.substring(10).split(" "))[0],component:parseInt(c[1],10),protocol:c[2].toLowerCase(),priority:parseInt(c[3],10),ip:c[4],address:c[4],port:parseInt(c[5],10),type:c[7]},J=8;J<c.length;J+=2)switch(c[J]){case"raddr":k.relatedAddress=c[J+1];break;case"rport":k.relatedPort=parseInt(c[J+1],10);break;case"tcptype":k.tcpType=c[J+1];break;case"ufrag":k.ufrag=c[J+1],k.usernameFragment=c[J+1];break;default:k[c[J]]=c[J+1]}return k},K.writeCandidate=function(M){var c=[];c.push(M.foundation),c.push(M.component),c.push(M.protocol.toUpperCase()),c.push(M.priority),c.push(M.address||M.ip),c.push(M.port);var k=M.type;return c.push("typ"),c.push(k),"host"!==k&&M.relatedAddress&&M.relatedPort&&(c.push("raddr"),c.push(M.relatedAddress),c.push("rport"),c.push(M.relatedPort)),M.tcpType&&"tcp"===M.protocol.toLowerCase()&&(c.push("tcptype"),c.push(M.tcpType)),(M.usernameFragment||M.ufrag)&&(c.push("ufrag"),c.push(M.usernameFragment||M.ufrag)),"candidate:"+c.join(" ")},K.parseIceOptions=function(M){return M.substr(14).split(" ")},K.parseRtpMap=function(M){var c=M.substr(9).split(" "),k={payloadType:parseInt(c.shift(),10)};return c=c[0].split("/"),k.name=c[0],k.clockRate=parseInt(c[1],10),k.channels=3===c.length?parseInt(c[2],10):1,k.numChannels=k.channels,k},K.writeRtpMap=function(M){var c=M.payloadType;void 0!==M.preferredPayloadType&&(c=M.preferredPayloadType);var k=M.channels||M.numChannels||1;return"a=rtpmap:"+c+" "+M.name+"/"+M.clockRate+(1!==k?"/"+k:"")+"\r\n"},K.parseExtmap=function(M){var c=M.substr(9).split(" ");return{id:parseInt(c[0],10),direction:c[0].indexOf("/")>0?c[0].split("/")[1]:"sendrecv",uri:c[1]}},K.writeExtmap=function(M){return"a=extmap:"+(M.id||M.preferredId)+(M.direction&&"sendrecv"!==M.direction?"/"+M.direction:"")+" "+M.uri+"\r\n"},K.parseFmtp=function(M){for(var k,c={},J=M.substr(M.indexOf(" ")+1).split(";"),Z=0;Z<J.length;Z++)c[(k=J[Z].trim().split("="))[0].trim()]=k[1];return c},K.writeFmtp=function(M){var c="",k=M.payloadType;if(void 0!==M.preferredPayloadType&&(k=M.preferredPayloadType),M.parameters&&Object.keys(M.parameters).length){var J=[];Object.keys(M.parameters).forEach(function(Z){J.push(M.parameters[Z]?Z+"="+M.parameters[Z]:Z)}),c+="a=fmtp:"+k+" "+J.join(";")+"\r\n"}return c},K.parseRtcpFb=function(M){var c=M.substr(M.indexOf(" ")+1).split(" ");return{type:c.shift(),parameter:c.join(" ")}},K.writeRtcpFb=function(M){var c="",k=M.payloadType;return void 0!==M.preferredPayloadType&&(k=M.preferredPayloadType),M.rtcpFeedback&&M.rtcpFeedback.length&&M.rtcpFeedback.forEach(function(J){c+="a=rtcp-fb:"+k+" "+J.type+(J.parameter&&J.parameter.length?" "+J.parameter:"")+"\r\n"}),c},K.parseSsrcMedia=function(M){var c=M.indexOf(" "),k={ssrc:parseInt(M.substr(7,c-7),10)},J=M.indexOf(":",c);return J>-1?(k.attribute=M.substr(c+1,J-c-1),k.value=M.substr(J+1)):k.attribute=M.substr(c+1),k},K.parseSsrcGroup=function(M){var c=M.substr(13).split(" ");return{semantics:c.shift(),ssrcs:c.map(function(k){return parseInt(k,10)})}},K.getMid=function(M){var c=K.matchPrefix(M,"a=mid:")[0];if(c)return c.substr(6)},K.parseFingerprint=function(M){var c=M.substr(14).split(" ");return{algorithm:c[0].toLowerCase(),value:c[1]}},K.getDtlsParameters=function(M,c){return{role:"auto",fingerprints:K.matchPrefix(M+c,"a=fingerprint:").map(K.parseFingerprint)}},K.writeDtlsParameters=function(M,c){var k="a=setup:"+c+"\r\n";return M.fingerprints.forEach(function(J){k+="a=fingerprint:"+J.algorithm+" "+J.value+"\r\n"}),k},K.parseCryptoLine=function(M){var c=M.substr(9).split(" ");return{tag:parseInt(c[0],10),cryptoSuite:c[1],keyParams:c[2],sessionParams:c.slice(3)}},K.writeCryptoLine=function(M){return"a=crypto:"+M.tag+" "+M.cryptoSuite+" "+("object"==typeof M.keyParams?K.writeCryptoKeyParams(M.keyParams):M.keyParams)+(M.sessionParams?" "+M.sessionParams.join(" "):"")+"\r\n"},K.parseCryptoKeyParams=function(M){if(0!==M.indexOf("inline:"))return null;var c=M.substr(7).split("|");return{keyMethod:"inline",keySalt:c[0],lifeTime:c[1],mkiValue:c[2]?c[2].split(":")[0]:void 0,mkiLength:c[2]?c[2].split(":")[1]:void 0}},K.writeCryptoKeyParams=function(M){return M.keyMethod+":"+M.keySalt+(M.lifeTime?"|"+M.lifeTime:"")+(M.mkiValue&&M.mkiLength?"|"+M.mkiValue+":"+M.mkiLength:"")},K.getCryptoParameters=function(M,c){return K.matchPrefix(M+c,"a=crypto:").map(K.parseCryptoLine)},K.getIceParameters=function(M,c){var k=K.matchPrefix(M+c,"a=ice-ufrag:")[0],J=K.matchPrefix(M+c,"a=ice-pwd:")[0];return k&&J?{usernameFragment:k.substr(12),password:J.substr(10)}:null},K.writeIceParameters=function(M){return"a=ice-ufrag:"+M.usernameFragment+"\r\na=ice-pwd:"+M.password+"\r\n"},K.parseRtpParameters=function(M){for(var c={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},J=K.splitLines(M)[0].split(" "),Z=3;Z<J.length;Z++){var q=J[Z],pe=K.matchPrefix(M,"a=rtpmap:"+q+" ")[0];if(pe){var Ee=K.parseRtpMap(pe),L=K.matchPrefix(M,"a=fmtp:"+q+" ");switch(Ee.parameters=L.length?K.parseFmtp(L[0]):{},Ee.rtcpFeedback=K.matchPrefix(M,"a=rtcp-fb:"+q+" ").map(K.parseRtcpFb),c.codecs.push(Ee),Ee.name.toUpperCase()){case"RED":case"ULPFEC":c.fecMechanisms.push(Ee.name.toUpperCase())}}}return K.matchPrefix(M,"a=extmap:").forEach(function(F){c.headerExtensions.push(K.parseExtmap(F))}),c},K.writeRtpDescription=function(M,c){var k="";k+="m="+M+" ",k+=c.codecs.length>0?"9":"0",k+=" UDP/TLS/RTP/SAVPF ",k+=c.codecs.map(function(Z){return void 0!==Z.preferredPayloadType?Z.preferredPayloadType:Z.payloadType}).join(" ")+"\r\n",k+="c=IN IP4 0.0.0.0\r\n",k+="a=rtcp:9 IN IP4 0.0.0.0\r\n",c.codecs.forEach(function(Z){k+=K.writeRtpMap(Z),k+=K.writeFmtp(Z),k+=K.writeRtcpFb(Z)});var J=0;return c.codecs.forEach(function(Z){Z.maxptime>J&&(J=Z.maxptime)}),J>0&&(k+="a=maxptime:"+J+"\r\n"),k+="a=rtcp-mux\r\n",c.headerExtensions&&c.headerExtensions.forEach(function(Z){k+=K.writeExtmap(Z)}),k},K.parseRtpEncodingParameters=function(M){var Ee,c=[],k=K.parseRtpParameters(M),J=-1!==k.fecMechanisms.indexOf("RED"),Z=-1!==k.fecMechanisms.indexOf("ULPFEC"),q=K.matchPrefix(M,"a=ssrc:").map(function(Q){return K.parseSsrcMedia(Q)}).filter(function(Q){return"cname"===Q.attribute}),pe=q.length>0&&q[0].ssrc,L=K.matchPrefix(M,"a=ssrc-group:FID").map(function(Q){return Q.substr(17).split(" ").map(function(_e){return parseInt(_e,10)})});L.length>0&&L[0].length>1&&L[0][0]===pe&&(Ee=L[0][1]),k.codecs.forEach(function(Q){if("RTX"===Q.name.toUpperCase()&&Q.parameters.apt){var ie={ssrc:pe,codecPayloadType:parseInt(Q.parameters.apt,10)};pe&&Ee&&(ie.rtx={ssrc:Ee}),c.push(ie),J&&((ie=JSON.parse(JSON.stringify(ie))).fec={ssrc:pe,mechanism:Z?"red+ulpfec":"red"},c.push(ie))}}),0===c.length&&pe&&c.push({ssrc:pe});var F=K.matchPrefix(M,"b=");return F.length&&(F=0===F[0].indexOf("b=TIAS:")?parseInt(F[0].substr(7),10):0===F[0].indexOf("b=AS:")?1e3*parseInt(F[0].substr(5),10)*.95-16e3:void 0,c.forEach(function(Q){Q.maxBitrate=F})),c},K.parseRtcpParameters=function(M){var c={},k=K.matchPrefix(M,"a=ssrc:").map(function(q){return K.parseSsrcMedia(q)}).filter(function(q){return"cname"===q.attribute})[0];k&&(c.cname=k.value,c.ssrc=k.ssrc);var J=K.matchPrefix(M,"a=rtcp-rsize");c.reducedSize=J.length>0,c.compound=0===J.length;var Z=K.matchPrefix(M,"a=rtcp-mux");return c.mux=Z.length>0,c},K.parseMsid=function(M){var c,k=K.matchPrefix(M,"a=msid:");if(1===k.length)return{stream:(c=k[0].substr(7).split(" "))[0],track:c[1]};var J=K.matchPrefix(M,"a=ssrc:").map(function(Z){return K.parseSsrcMedia(Z)}).filter(function(Z){return"msid"===Z.attribute});return J.length>0?{stream:(c=J[0].value.split(" "))[0],track:c[1]}:void 0},K.parseSctpDescription=function(M){var J,c=K.parseMLine(M),k=K.matchPrefix(M,"a=max-message-size:");k.length>0&&(J=parseInt(k[0].substr(19),10)),isNaN(J)&&(J=65536);var Z=K.matchPrefix(M,"a=sctp-port:");if(Z.length>0)return{port:parseInt(Z[0].substr(12),10),protocol:c.fmt,maxMessageSize:J};if(K.matchPrefix(M,"a=sctpmap:").length>0){var pe=K.matchPrefix(M,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(pe[0],10),protocol:pe[1],maxMessageSize:J}}},K.writeSctpDescription=function(M,c){var k=[];return k="DTLS/SCTP"!==M.protocol?["m="+M.kind+" 9 "+M.protocol+" "+c.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+c.port+"\r\n"]:["m="+M.kind+" 9 "+M.protocol+" "+c.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+c.port+" "+c.protocol+" 65535\r\n"],void 0!==c.maxMessageSize&&k.push("a=max-message-size:"+c.maxMessageSize+"\r\n"),k.join("")},K.generateSessionId=function(){return Math.random().toString().substr(2,21)},K.writeSessionBoilerplate=function(M,c,k){var Z=void 0!==c?c:2;return"v=0\r\no="+(k||"thisisadapterortc")+" "+(M||K.generateSessionId())+" "+Z+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},K.writeMediaSection=function(M,c,k,J){var Z=K.writeRtpDescription(M.kind,c);if(Z+=K.writeIceParameters(M.iceGatherer.getLocalParameters()),Z+=K.writeDtlsParameters(M.dtlsTransport.getLocalParameters(),"offer"===k?"actpass":"active"),Z+="a=mid:"+M.mid+"\r\n",Z+=M.direction?"a="+M.direction+"\r\n":M.rtpSender&&M.rtpReceiver?"a=sendrecv\r\n":M.rtpSender?"a=sendonly\r\n":M.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",M.rtpSender){var q="msid:"+J.id+" "+M.rtpSender.track.id+"\r\n";Z+="a="+q,Z+="a=ssrc:"+M.sendEncodingParameters[0].ssrc+" "+q,M.sendEncodingParameters[0].rtx&&(Z+="a=ssrc:"+M.sendEncodingParameters[0].rtx.ssrc+" "+q,Z+="a=ssrc-group:FID "+M.sendEncodingParameters[0].ssrc+" "+M.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return Z+="a=ssrc:"+M.sendEncodingParameters[0].ssrc+" cname:"+K.localCName+"\r\n",M.rtpSender&&M.sendEncodingParameters[0].rtx&&(Z+="a=ssrc:"+M.sendEncodingParameters[0].rtx.ssrc+" cname:"+K.localCName+"\r\n"),Z},K.getDirection=function(M,c){for(var k=K.splitLines(M),J=0;J<k.length;J++)switch(k[J]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return k[J].substr(2)}return c?K.getDirection(c):"sendrecv"},K.getKind=function(M){return K.splitLines(M)[0].split(" ")[0].substr(2)},K.isRejected=function(M){return"0"===M.split(" ",2)[1]},K.parseMLine=function(M){var k=K.splitLines(M)[0].substr(2).split(" ");return{kind:k[0],port:parseInt(k[1],10),protocol:k[2],fmt:k.slice(3).join(" ")}},K.parseOLine=function(M){var k=K.matchPrefix(M,"o=")[0].substr(2).split(" ");return{username:k[0],sessionId:k[1],sessionVersion:parseInt(k[2],10),netType:k[3],addressType:k[4],address:k[5]}},K.isValidSDP=function(M){if("string"!=typeof M||0===M.length)return!1;for(var c=K.splitLines(M),k=0;k<c.length;k++)if(c[k].length<2||"="!==c[k].charAt(1))return!1;return!0},Xe.exports=K},6814:(Xe,K,M)=>{"use strict";M.d(K,{Do:()=>He,EM:()=>ur,HT:()=>Z,JF:()=>wn,K0:()=>pe,Mx:()=>bn,O5:()=>Lr,PM:()=>_r,S$:()=>Oe,V_:()=>L,Ye:()=>$,b0:()=>Ne,bD:()=>Gt,ez:()=>Zn,q:()=>J,sg:()=>pr,w_:()=>q});var c=M(4946);let k=null;function J(){return k}function Z(_){k||(k=_)}class q{}const pe=new c.OlP("DocumentToken");let Ee=(()=>{class _{historyGo(D){throw new Error("Not implemented")}}return _.\u0275fac=function(D){return new(D||_)},_.\u0275prov=c.Yz7({token:_,factory:function(){return(0,c.f3M)(F)},providedIn:"platform"}),_})();const L=new c.OlP("Location Initialized");let F=(()=>{class _ extends Ee{constructor(){super(),this._doc=(0,c.f3M)(pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(D){const R=J().getGlobalEventTarget(this._doc,"window");return R.addEventListener("popstate",D,!1),()=>R.removeEventListener("popstate",D)}onHashChange(D){const R=J().getGlobalEventTarget(this._doc,"window");return R.addEventListener("hashchange",D,!1),()=>R.removeEventListener("hashchange",D)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(D){this._location.pathname=D}pushState(D,R,G){this._history.pushState(D,R,G)}replaceState(D,R,G){this._history.replaceState(D,R,G)}forward(){this._history.forward()}back(){this._history.back()}historyGo(D=0){this._history.go(D)}getState(){return this._history.state}}return _.\u0275fac=function(D){return new(D||_)},_.\u0275prov=c.Yz7({token:_,factory:function(){return new _},providedIn:"platform"}),_})();function Q(_,I){if(0==_.length)return I;if(0==I.length)return _;let D=0;return _.endsWith("/")&&D++,I.startsWith("/")&&D++,2==D?_+I.substring(1):1==D?_+I:_+"/"+I}function ie(_){const I=_.match(/#|\?|$/),D=I&&I.index||_.length;return _.slice(0,D-("/"===_[D-1]?1:0))+_.slice(D)}function _e(_){return _&&"?"!==_[0]?"?"+_:_}let Oe=(()=>{class _{historyGo(D){throw new Error("Not implemented")}}return _.\u0275fac=function(D){return new(D||_)},_.\u0275prov=c.Yz7({token:_,factory:function(){return(0,c.f3M)(Ne)},providedIn:"root"}),_})();const me=new c.OlP("appBaseHref");let Ne=(()=>{class _ extends Oe{constructor(D,R){super(),this._platformLocation=D,this._removeListenerFns=[],this._baseHref=R??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(D){this._removeListenerFns.push(this._platformLocation.onPopState(D),this._platformLocation.onHashChange(D))}getBaseHref(){return this._baseHref}prepareExternalUrl(D){return Q(this._baseHref,D)}path(D=!1){const R=this._platformLocation.pathname+_e(this._platformLocation.search),G=this._platformLocation.hash;return G&&D?`${R}${G}`:R}pushState(D,R,G,Ce){const we=this.prepareExternalUrl(G+_e(Ce));this._platformLocation.pushState(D,R,we)}replaceState(D,R,G,Ce){const we=this.prepareExternalUrl(G+_e(Ce));this._platformLocation.replaceState(D,R,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(D=0){this._platformLocation.historyGo?.(D)}}return _.\u0275fac=function(D){return new(D||_)(c.LFG(Ee),c.LFG(me,8))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),He=(()=>{class _ extends Oe{constructor(D,R){super(),this._platformLocation=D,this._baseHref="",this._removeListenerFns=[],null!=R&&(this._baseHref=R)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(D){this._removeListenerFns.push(this._platformLocation.onPopState(D),this._platformLocation.onHashChange(D))}getBaseHref(){return this._baseHref}path(D=!1){let R=this._platformLocation.hash;return null==R&&(R="#"),R.length>0?R.substring(1):R}prepareExternalUrl(D){const R=Q(this._baseHref,D);return R.length>0?"#"+R:R}pushState(D,R,G,Ce){let we=this.prepareExternalUrl(G+_e(Ce));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.pushState(D,R,we)}replaceState(D,R,G,Ce){let we=this.prepareExternalUrl(G+_e(Ce));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.replaceState(D,R,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(D=0){this._platformLocation.historyGo?.(D)}}return _.\u0275fac=function(D){return new(D||_)(c.LFG(Ee),c.LFG(me,8))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac}),_})(),$=(()=>{class _{constructor(D){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=D;const R=this._locationStrategy.getBaseHref();this._basePath=function z(_){if(new RegExp("^(https?:)?//").test(_)){const[,D]=_.split(/\/\/[^\/]+/);return D}return _}(ie(ge(R))),this._locationStrategy.onPopState(G=>{this._subject.emit({url:this.path(!0),pop:!0,state:G.state,type:G.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(D=!1){return this.normalize(this._locationStrategy.path(D))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(D,R=""){return this.path()==this.normalize(D+_e(R))}normalize(D){return _.stripTrailingSlash(function ue(_,I){if(!_||!I.startsWith(_))return I;const D=I.substring(_.length);return""===D||["/",";","?","#"].includes(D[0])?D:I}(this._basePath,ge(D)))}prepareExternalUrl(D){return D&&"/"!==D[0]&&(D="/"+D),this._locationStrategy.prepareExternalUrl(D)}go(D,R="",G=null){this._locationStrategy.pushState(G,"",D,R),this._notifyUrlChangeListeners(this.prepareExternalUrl(D+_e(R)),G)}replaceState(D,R="",G=null){this._locationStrategy.replaceState(G,"",D,R),this._notifyUrlChangeListeners(this.prepareExternalUrl(D+_e(R)),G)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(D=0){this._locationStrategy.historyGo?.(D)}onUrlChange(D){return this._urlChangeListeners.push(D),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(R=>{this._notifyUrlChangeListeners(R.url,R.state)})),()=>{const R=this._urlChangeListeners.indexOf(D);this._urlChangeListeners.splice(R,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(D="",R){this._urlChangeListeners.forEach(G=>G(D,R))}subscribe(D,R,G){return this._subject.subscribe({next:D,error:R,complete:G})}}return _.normalizeQueryParams=_e,_.joinWithSlash=Q,_.stripTrailingSlash=ie,_.\u0275fac=function(D){return new(D||_)(c.LFG(Oe))},_.\u0275prov=c.Yz7({token:_,factory:function(){return function W(){return new $((0,c.LFG)(Oe))}()},providedIn:"root"}),_})();function ge(_){return _.replace(/\/index.html$/,"")}function bn(_,I){I=encodeURIComponent(I);for(const D of _.split(";")){const R=D.indexOf("="),[G,Ce]=-1==R?[D,""]:[D.slice(0,R),D.slice(R+1)];if(G.trim()===I)return decodeURIComponent(Ce)}return null}class Wr{constructor(I,D,R,G){this.$implicit=I,this.ngForOf=D,this.index=R,this.count=G}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pr=(()=>{class _{set ngForOf(D){this._ngForOf=D,this._ngForOfDirty=!0}set ngForTrackBy(D){this._trackByFn=D}get ngForTrackBy(){return this._trackByFn}constructor(D,R,G){this._viewContainer=D,this._template=R,this._differs=G,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(D){D&&(this._template=D)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const D=this._ngForOf;!this._differ&&D&&(this._differ=this._differs.find(D).create(this.ngForTrackBy))}if(this._differ){const D=this._differ.diff(this._ngForOf);D&&this._applyChanges(D)}}_applyChanges(D){const R=this._viewContainer;D.forEachOperation((G,Ce,we)=>{if(null==G.previousIndex)R.createEmbeddedView(this._template,new Wr(G.item,this._ngForOf,-1,-1),null===we?void 0:we);else if(null==we)R.remove(null===Ce?void 0:Ce);else if(null!==Ce){const Ke=R.get(Ce);R.move(Ke,we),Fr(Ke,G)}});for(let G=0,Ce=R.length;G<Ce;G++){const Ke=R.get(G).context;Ke.index=G,Ke.count=Ce,Ke.ngForOf=this._ngForOf}D.forEachIdentityChange(G=>{Fr(R.get(G.currentIndex),G)})}static ngTemplateContextGuard(D,R){return!0}}return _.\u0275fac=function(D){return new(D||_)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},_.\u0275dir=c.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),_})();function Fr(_,I){_.context.$implicit=I.item}let Lr=(()=>{class _{constructor(D,R){this._viewContainer=D,this._context=new gr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=R}set ngIf(D){this._context.$implicit=this._context.ngIf=D,this._updateView()}set ngIfThen(D){ko("ngIfThen",D),this._thenTemplateRef=D,this._thenViewRef=null,this._updateView()}set ngIfElse(D){ko("ngIfElse",D),this._elseTemplateRef=D,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(D,R){return!0}}return _.\u0275fac=function(D){return new(D||_)(c.Y36(c.s_b),c.Y36(c.Rgc))},_.\u0275dir=c.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),_})();class gr{constructor(){this.$implicit=null,this.ngIf=null}}function ko(_,I){if(I&&!I.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,c.AaK)(I)}'.`)}let Zn=(()=>{class _{}return _.\u0275fac=function(D){return new(D||_)},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({}),_})();const Gt="browser",lr="server";function _r(_){return _===lr}let ur=(()=>{class _{}return _.\u0275prov=(0,c.Yz7)({token:_,providedIn:"root",factory:()=>new Vn((0,c.LFG)(pe),window)}),_})();class Vn{constructor(I,D){this.document=I,this.window=D,this.offset=()=>[0,0]}setOffset(I){this.offset=Array.isArray(I)?()=>I:I}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(I){this.supportsScrolling()&&this.window.scrollTo(I[0],I[1])}scrollToAnchor(I){if(!this.supportsScrolling())return;const D=function Zr(_,I){const D=_.getElementById(I)||_.getElementsByName(I)[0];if(D)return D;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const R=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let G=R.currentNode;for(;G;){const Ce=G.shadowRoot;if(Ce){const we=Ce.getElementById(I)||Ce.querySelector(`[name="${I}"]`);if(we)return we}G=R.nextNode()}}return null}(this.document,I);D&&(this.scrollToElement(D),D.focus())}setHistoryScrollRestoration(I){if(this.supportScrollRestoration()){const D=this.window.history;D&&D.scrollRestoration&&(D.scrollRestoration=I)}}scrollToElement(I){const D=I.getBoundingClientRect(),R=D.left+this.window.pageXOffset,G=D.top+this.window.pageYOffset,Ce=this.offset();this.window.scrollTo(R-Ce[0],G-Ce[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const I=Pr(this.window.history)||Pr(Object.getPrototypeOf(this.window.history));return!(!I||!I.writable&&!I.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Pr(_){return Object.getOwnPropertyDescriptor(_,"scrollRestoration")}class wn{}},4946:(Xe,K,M)=>{"use strict";M.d(K,{tb:()=>sd,AFp:()=>zf,ip1:()=>Rm,hGG:()=>dS,z2F:()=>Cs,Ojb:()=>u_,sBO:()=>qE,Sil:()=>AE,EJc:()=>ME,Xts:()=>qs,SBq:()=>Xs,lqb:()=>Si,qLn:()=>ts,vpe:()=>Wo,XFs:()=>Be,OlP:()=>rn,zs3:()=>di,ZZ4:()=>fd,aQg:()=>hd,soG:()=>Fc,YKP:()=>Lg,h0i:()=>ys,PXZ:()=>BE,R0b:()=>kr,FiY:()=>Ha,Lbi:()=>jl,g9A:()=>Wf,Qsj:()=>S_,FYo:()=>eh,JOm:()=>Bo,tp0:()=>Ga,Rgc:()=>ya,dDg:()=>LE,eoX:()=>Um,GfV:()=>th,s_b:()=>Nc,ifc:()=>Yn,VuI:()=>CS,MMx:()=>jg,Lck:()=>c0,eFA:()=>Wm,Gpc:()=>X,f3M:()=>gt,$WT:()=>mr,_c5:()=>uS,qFp:()=>bS,rg0:()=>Da,c2e:()=>Pm,zSh:()=>Nl,HDt:()=>xm,wAp:()=>ut,vHH:()=>ke,lri:()=>$m,rWj:()=>Bm,cg1:()=>Pu,kL8:()=>cg,dqk:()=>Xt,Z0I:()=>Mr,eJc:()=>Ku,QGY:()=>bu,F4k:()=>fp,RDi:()=>Pv,AaK:()=>B,qOj:()=>lu,Xq5:()=>Wh,TTD:()=>Li,_Bn:()=>Fg,jDz:()=>$g,xp6:()=>hh,uIk:()=>du,ekj:()=>Mu,Suo:()=>lm,Xpm:()=>Yo,lG2:()=>$r,Yz7:()=>Nt,cJS:()=>Ye,oAB:()=>lo,Yjl:()=>fo,Y36:()=>rs,_UZ:()=>_u,qZA:()=>Sc,TgZ:()=>Ec,EpF:()=>dp,n5z:()=>Nd,LFG:()=>ct,$8M:()=>rl,$Z:()=>Ch,NdJ:()=>Eu,CRH:()=>um,oxw:()=>yp,Q6J:()=>yu,MGl:()=>wc,iGM:()=>cm,KtG:()=>yo,CHM:()=>Ms,LSH:()=>Rl,P3R:()=>kf,Jzz:()=>Kp,YNc:()=>ip,_uU:()=>Bp,Oqu:()=>Au,hij:()=>Ic,AsE:()=>Ru});var c=M(8645),k=M(7394),J=M(5619),Z=M(5592),q=M(7537),pe=M(4829),Ee=M(6232),L=M(4564),F=M(7715),ie=M(2096),_e=M(1887),Oe=M(9360);function me(e={}){const{connector:t=(()=>new c.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let u,p,v,w=0,A=!1,V=!1;const ee=()=>{p?.unsubscribe(),p=void 0},fe=()=>{ee(),u=v=void 0,A=V=!1},Me=()=>{const xe=u;fe(),xe?.unsubscribe()};return(0,Oe.e)((xe,Ue)=>{w++,!V&&!A&&ee();const Qe=v=v??t();Ue.add(()=>{w--,0===w&&!V&&!A&&(p=Ne(Me,o))}),Qe.subscribe(Ue),!u&&w>0&&(u=new _e.Hp({next:Ie=>Qe.next(Ie),error:Ie=>{V=!0,ee(),p=Ne(fe,n,Ie),Qe.error(Ie)},complete:()=>{A=!0,ee(),p=Ne(fe,r),Qe.complete()}}),(0,pe.Xf)(xe).subscribe(u))})(i)}}function Ne(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new _e.Hp({next:()=>{r.unsubscribe(),e()}});return(0,pe.Xf)(t(...n)).subscribe(r)}var He=M(4664),$=M(2737),W=M(8251);function ge(e,t){return e===t}function z(e){for(let t in e)if(e[t]===z)return t;throw Error("Could not find renamed property on target object.")}function he(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function B(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(B).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Y(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const re=z({__forward_ref__:z});function X(e){return e.__forward_ref__=X,e.toString=function(){return B(this())},e}function le(e){return Se(e)?e():e}function Se(e){return"function"==typeof e&&e.hasOwnProperty(re)&&e.__forward_ref__===X}function We(e){return e&&!!e.\u0275providers}const Ct="https://g.co/ng/security#xss";class ke extends Error{constructor(t,n){super(function ye(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function te(e){return"string"==typeof e?e:null==e?"":String(e)}function Ve(e,t){throw new ke(-201,!1)}function dn(e,t){null==e&&function Fe(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Nt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ye(e){return{providers:e.providers||[],imports:e.imports||[]}}function nt(e){return cn(e,on)||cn(e,Qt)}function Mr(e){return null!==nt(e)}function cn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Fn(e){return e&&(e.hasOwnProperty(Gr)||e.hasOwnProperty(no))?e[Gr]:null}const on=z({\u0275prov:z}),Gr=z({\u0275inj:z}),Qt=z({ngInjectableDef:z}),no=z({ngInjectorDef:z});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let Do;function kt(e){const t=Do;return Do=e,t}function Et(e,t,n){const r=nt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Be.Optional?null:void 0!==t?t:void Ve(B(e))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Mn={},Qn="__NG_DI_FLAG__",Ut="ngTempTokenPath",be=/\n/gm,H="__source";let se;function je(e){const t=se;return se=e,t}function qe(e,t=Be.Default){if(void 0===se)throw new ke(-203,!1);return null===se?Et(e,void 0,t):se.get(e,t&Be.Optional?null:void 0,t)}function ct(e,t=Be.Default){return(function ar(){return Do}()||qe)(le(e),t)}function gt(e,t=Be.Default){return ct(e,Cn(t))}function Cn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Wn(e){const t=[];for(let n=0;n<e.length;n++){const r=le(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ke(900,!1);let o,i=Be.Default;for(let u=0;u<r.length;u++){const p=r[u],v=vt(p);"number"==typeof v?-1===v?o=p.token:i|=v:o=p}t.push(ct(o,i))}else t.push(ct(r))}return t}function Ht(e,t){return e[Qn]=t,e.prototype[Qn]=t,e}function vt(e){return e[Qn]}function mt(e){return{toString:e}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),Yn=(()=>{return(e=Yn||(Yn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Yn;var e})();const Ln={},bt=[],Bn=z({\u0275cmp:z}),zr=z({\u0275dir:z}),Ir=z({\u0275pipe:z}),ro=z({\u0275mod:z}),bn=z({\u0275fac:z}),Pn=z({__NG_ELEMENT_ID__:z}),Ar=z({__NG_ENV_ID__:z});function oo(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function hr(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],u=n[r++],p=n[r++];e.setAttribute(t,u,p,i)}else{const i=o,u=n[++r];Wr(i)?e.setProperty(t,i,u):e.setAttribute(t,i,u),r++}}return r}function Oo(e){return 3===e||4===e||6===e}function Wr(e){return 64===e.charCodeAt(0)}function pr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Fr(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Fr(e,t,n,r,o){let i=0,u=e.length;if(-1===t)u=-1;else for(;i<e.length;){const p=e[i++];if("number"==typeof p){if(p===t){u=-1;break}if(p>t){u=i-1;break}}}for(;i<e.length;){const p=e[i];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==u&&(e.splice(u,0,t),i=u+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}const No="ng-template";function Lr(e,t,n){let r=0,o=!0;for(;r<e.length;){let i=e[r++];if("string"==typeof i&&o){const u=e[r++];if(n&&"class"===i&&-1!==oo(u.toLowerCase(),t,0))return!0}else{if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function gr(e){return 4===e.type&&e.value!==No}function ko(e,t,n){return t===(4!==e.type||n?e.value:No)}function Yr(e,t,n){let r=4;const o=e.attrs||[],i=function xn(e){for(let t=0;t<e.length;t++)if(Oo(e[t]))return t;return e.length}(o);let u=!1;for(let p=0;p<t.length;p++){const v=t[p];if("number"!=typeof v){if(!u)if(4&r){if(r=2|1&r,""!==v&&!ko(e,v,n)||""===v&&1===t.length){if(hn(r))return!1;u=!0}}else{const w=8&r?v:t[++p];if(8&r&&null!==e.attrs){if(!Lr(e.attrs,w,n)){if(hn(r))return!1;u=!0}continue}const V=io(8&r?"class":v,o,gr(e),n);if(-1===V){if(hn(r))return!1;u=!0;continue}if(""!==w){let ee;ee=V>i?"":o[V+1].toLowerCase();const fe=8&r?ee:null;if(fe&&-1!==oo(fe,w,0)||2&r&&w!==ee){if(hn(r))return!1;u=!0}}}}else{if(!u&&!hn(r)&&!hn(v))return!1;if(u&&hn(v))continue;u=!1,r=v|1&r}}return hn(r)||u}function hn(e){return 0==(1&e)}function io(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const u=t[o];if(u===e)return o;if(3===u||6===u)i=!0;else{if(1===u||2===u){let p=t[++o];for(;"string"==typeof p;)p=t[++o];continue}if(4===u)break;if(0===u){o+=4;continue}}o+=i?1:2}return-1}return function Fo(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function so(e,t,n=!1){for(let r=0;r<t.length;r++)if(Yr(e,t[r],n))return!0;return!1}function jr(e,t){return e?":not("+t.trim()+")":t}function bo(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const p=e[++n];o+="["+u+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?o+="."+u:4&r&&(o+=" "+u);else""!==o&&!hn(u)&&(t+=jr(i,o),o=""),r=u,i=i||!hn(r);n++}return""!==o&&(t+=jr(i,o)),t}function Yo(e){return mt(()=>{const t=Eo(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Yn.Emulated,styles:e.styles||bt,_:null,schemas:e.schemas||null,tView:null,id:""};Br(n);const r=e.dependencies;return n.directiveDefs=yr(r,!1),n.pipeDefs=yr(r,!0),n.id=function vr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function co(e){return Tt(e)||Sn(e)}function ni(e){return null!==e}function lo(e){return mt(()=>({type:e.type,bootstrap:e.bootstrap||bt,declarations:e.declarations||bt,imports:e.imports||bt,exports:e.exports||bt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function uo(e,t){if(null==e)return Ln;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}function $r(e){return mt(()=>{const t=Eo(e);return Br(t),t})}function fo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Tt(e){return e[Bn]||null}function Sn(e){return e[zr]||null}function ln(e){return e[Ir]||null}function mr(e){const t=Tt(e)||Sn(e)||ln(e);return null!==t&&t.standalone}function Ft(e,t){const n=e[ro]||null;if(!n&&!0===t)throw new Error(`Type ${B(e)} does not have '\u0275mod' property.`);return n}function Eo(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ln,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||bt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:uo(e.inputs,t),outputs:uo(e.outputs)}}function Br(e){e.features?.forEach(t=>t(e))}function yr(e,t){if(!e)return null;const n=t?ln:co;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(ni)}const ve=0,$e=1,lt=2,it=3,At=4,Xn=5,un=6,Zn=7,Gt=8,lr=9,er=10,at=11,Un=12,_r=13,Cr=14,sn=15,ho=16,ur=17,Vn=18,Pr=19,Zr=20,tr=21,wn=22,po=23,Mt=24,et=25,So=1,qo=2,An=7,Kr=9,pn=11;function zt(e){return Array.isArray(e)&&"object"==typeof e[So]}function Zt(e){return Array.isArray(e)&&!0===e[So]}function dt(e){return 0!=(4&e.flags)}function Hn(e){return e.componentOffset>-1}function Ko(e){return 1==(1&e.flags)}function dr(e){return!!e.template}function Pt(e){return 0!=(512&e[lt])}function U(e,t){return e.hasOwnProperty(bn)?e[bn]:null}let Wt=Xt.WeakRef??class St{constructor(t){this.ref=t}deref(){return this.ref}},Ds=0,nr=null,ii=!1;function gn(e){const t=nr;return nr=e,t}class Pi{constructor(){this.id=Ds++,this.ref=function en(e){return new Wt(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=ii;ii=!0;try{for(const[n,r]of this.consumers){const o=r.consumerNode.deref();void 0!==o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),o?.producers.delete(this.id))}}finally{ii=t}}producerAccessed(){if(ii)throw new Error("");if(null===nr)return;let t=nr.producers.get(this.id);void 0===t?(t={consumerNode:nr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:nr.trackingVersion},nr.producers.set(this.id,t),this.consumers.set(nr.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=nr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==nr?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let ki=null;function Da(e){const t=gn(null);try{return e()}finally{gn(t)}}const Es=()=>{};class ba extends Pi{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=Es,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=gn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Es,this.watch(this.registerOnCleanup)}finally{gn(t)}}cleanup(){this.cleanupFn()}}class Ea{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Li(){return Vi}function Vi(e){return e.type.prototype.ngOnChanges&&(e.setInput=_),vi}function vi(){const e=D(this),t=e?.current;if(t){const n=e.previous;if(n===Ln)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function _(e,t,n,r){const o=this.declaredInputs[n],i=D(e)||function R(e,t){return e[I]=t}(e,{previous:Ln,current:null}),u=i.current||(i.current={}),p=i.previous,v=p[o];u[o]=new Ea(v&&v.currentValue,t,p===Ln),e[r]=t}Li.ngInherit=!0;const I="__ngSimpleChanges__";function D(e){return e[I]||null}const we=function(e,t,n){};function st(e){for(;Array.isArray(e);)e=e[ve];return e}function yt(e,t){return st(t[e])}function xt(e,t){return st(t[e.index])}function mn(e,t){return e.data[t]}function yn(e,t){const n=t[e];return zt(n)?n:n[ve]}function or(e,t){return null==t?null:e[t]}function Ur(e){e[ur]=0}function Gc(e){1024&e[lt]||(e[lt]|=1024,Dr(e,1))}function Sa(e){1024&e[lt]&&(e[lt]&=-1025,Dr(e,-1))}function Dr(e,t){let n=e[it];if(null===n)return;n[Xn]+=t;let r=n;for(n=n[it];null!==n&&(1===t&&1===r[Xn]||-1===t&&0===r[Xn]);)n[Xn]+=t,r=n,n=n[it]}const ft={lFrame:Os(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ws(){return ft.bindingsEnabled}function Re(){return ft.lFrame.lView}function $t(){return ft.lFrame.tView}function Ms(e){return ft.lFrame.contextLView=e,e[Gt]}function yo(e){return ft.lFrame.contextLView=null,e}function qn(){let e=Zc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Zc(){return ft.lFrame.currentTNode}function Io(e,t){const n=ft.lFrame;n.currentTNode=e,n.isParent=t}function Bi(){return ft.lFrame.isParent}function _i(){return ft.lFrame.bindingIndex++}function jo(e){const t=ft.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Dd(e,t){const n=ft.lFrame;n.bindingIndex=n.bindingRootIndex=e,As(t)}function As(e){ft.lFrame.currentDirectiveIndex=e}function Pa(){return ft.lFrame.currentQueryIndex}function Ps(e){ft.lFrame.currentQueryIndex=e}function qc(e){const t=e[$e];return 2===t.type?t.declTNode:1===t.type?e[un]:null}function xa(e,t,n){if(n&Be.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&Be.Host||(o=qc(i),null===o||(i=i[Cr],10&o.type))););if(null===o)return!1;t=o,e=i}const r=ft.lFrame=Oa();return r.currentTNode=t,r.lView=e,!0}function xs(e){const t=Oa(),n=e[$e];ft.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Oa(){const e=ft.lFrame,t=null===e?null:e.child;return null===t?Os(e):t}function Os(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Na(){const e=ft.lFrame;return ft.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Kc=Na;function ka(){const e=Na();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Er(){return ft.lFrame.selectedIndex}function ai(e){ft.lFrame.selectedIndex=e}function f(){const e=ft.lFrame;return mn(e.tView,e.selectedIndex)}let N=!0;function ae(){return N}function Te(e){N=e}function Je(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:w,ngOnDestroy:A}=i;u&&(e.contentHooks??=[]).push(-n,u),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),v&&(e.viewHooks??=[]).push(-n,v),w&&((e.viewHooks??=[]).push(n,w),(e.viewCheckHooks??=[]).push(n,w)),null!=A&&(e.destroyHooks??=[]).push(n,A)}}function Lt(e,t,n){ci(e,t,3,n)}function ir(e,t,n,r){(3&e[lt])===n&&ci(e,t,n,r)}function Ci(e,t){let n=e[lt];(3&n)===t&&(n&=8191,n+=1,e[lt]=n)}function ci(e,t,n,r){const i=r??-1,u=t.length-1;let p=0;for(let v=void 0!==r?65535&e[ur]:0;v<u;v++)if("number"==typeof t[v+1]){if(p=t[v],null!=r&&p>=r)break}else t[v]<0&&(e[ur]+=65536),(p<i||-1==i)&&(Ns(e,n,t,v),e[ur]=(4294901760&e[ur])+v+2),v++}function li(e,t){we(4,e,t);const n=gn(null);try{t.call(e)}finally{gn(n),we(5,e,t)}}function Ns(e,t,n,r){const o=n[r]<0,i=n[r+1],p=e[o?-n[r]:n[r]];o?e[lt]>>13<e[ur]>>16&&(3&e[lt])===t&&(e[lt]+=8192,li(p,i)):li(p,i)}const Ao=-1;class ks{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Sd(e){return e!==Ao}function Fa(e){return 32767&e}function La(e,t){let n=function _y(e){return e>>16}(e),r=t;for(;n>0;)r=r[Cr],n--;return r}let Qc=!0;function Va(e){const t=Qc;return Qc=e,t}const wd=255,Td=5;let Cy=0;const $o={};function ja(e,t){const n=Md(e,t);if(-1!==n)return n;const r=t[$e];r.firstCreatePass&&(e.injectorIndex=t.length,Xc(r.data,e),Xc(t,null),Xc(r.blueprint,null));const o=el(e,t),i=e.injectorIndex;if(Sd(o)){const u=Fa(o),p=La(o,t),v=p[$e].data;for(let w=0;w<8;w++)t[i+w]=p[u+w]|v[u+w]}return t[i+8]=o,i}function Xc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Md(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function el(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=kd(o),null===r)return Ao;if(n++,o=o[Cr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ao}function tl(e,t,n){!function Dy(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pn)&&(r=n[Pn]),null==r&&(r=n[Pn]=Cy++);const o=r&wd;t.data[e+(o>>Td)]|=1<<o}(e,t,n)}function Id(e,t,n){if(n&Be.Optional||void 0!==e)return e;Ve()}function Ad(e,t,n,r){if(n&Be.Optional&&void 0===r&&(r=null),!(n&(Be.Self|Be.Host))){const o=e[lr],i=kt(void 0);try{return o?o.get(t,r,n&Be.Optional):Et(t,r,n&Be.Optional)}finally{kt(i)}}return Id(r,0,n)}function Rd(e,t,n,r=Be.Default,o){if(null!==e){if(2048&t[lt]&&!(r&Be.Self)){const u=function Ty(e,t,n,r,o){let i=e,u=t;for(;null!==i&&null!==u&&2048&u[lt]&&!(512&u[lt]);){const p=Pd(i,u,n,r|Be.Self,$o);if(p!==$o)return p;let v=i.parent;if(!v){const w=u[Zr];if(w){const A=w.get(n,$o,r);if(A!==$o)return A}v=kd(u),u=u[Cr]}i=v}return o}(e,t,n,r,$o);if(u!==$o)return u}const i=Pd(e,t,n,r,$o);if(i!==$o)return i}return Ad(t,n,r,o)}function Pd(e,t,n,r,o){const i=function Sy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Pn)?e[Pn]:void 0;return"number"==typeof t?t>=0?t&wd:wy:t}(n);if("function"==typeof i){if(!xa(t,e,r))return r&Be.Host?Id(o,0,r):Ad(t,n,r,o);try{const u=i(r);if(null!=u||r&Be.Optional)return u;Ve()}finally{Kc()}}else if("number"==typeof i){let u=null,p=Md(e,t),v=Ao,w=r&Be.Host?t[sn][un]:null;for((-1===p||r&Be.SkipSelf)&&(v=-1===p?el(e,t):t[p+8],v!==Ao&&Od(r,!1)?(u=t[$e],p=Fa(v),t=La(v,t)):p=-1);-1!==p;){const A=t[$e];if(xd(i,p,A.data)){const V=Ey(p,t,n,u,r,w);if(V!==$o)return V}v=t[p+8],v!==Ao&&Od(r,t[$e].data[p+8]===w)&&xd(i,p,t)?(u=A,p=Fa(v),t=La(v,t)):p=-1}}return o}function Ey(e,t,n,r,o,i){const u=t[$e],p=u.data[e+8],A=$a(p,u,n,null==r?Hn(p)&&Qc:r!=u&&0!=(3&p.type),o&Be.Host&&i===p);return null!==A?Di(t,u,A,p):$o}function $a(e,t,n,r,o){const i=e.providerIndexes,u=t.data,p=1048575&i,v=e.directiveStart,A=i>>20,ee=o?p+A:e.directiveEnd;for(let fe=r?p:p+A;fe<ee;fe++){const Me=u[fe];if(fe<v&&n===Me||fe>=v&&Me.type===n)return fe}if(o){const fe=u[v];if(fe&&dr(fe)&&fe.type===n)return v}return null}function Di(e,t,n,r){let o=e[n];const i=t.data;if(function my(e){return e instanceof ks}(o)){const u=o;u.resolving&&function Ae(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ke(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ce(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():te(e)}(i[n]));const p=Va(u.canSeeViewProviders);u.resolving=!0;const v=u.injectImpl?kt(u.injectImpl):null;xa(e,r,Be.Default);try{o=e[n]=u.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ze(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const u=Vi(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==v&&kt(v),Va(p),u.resolving=!1,Kc()}}return o}function xd(e,t,n){return!!(n[t+(e>>Td)]&1<<e)}function Od(e,t){return!(e&Be.Self||e&Be.Host&&t)}class Hi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Rd(this._tNode,this._lView,t,Cn(r),n)}}function wy(){return new Hi(qn(),Re())}function Nd(e){return mt(()=>{const t=e.prototype.constructor,n=t[bn]||nl(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[bn]||nl(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function nl(e){return Se(e)?()=>{const t=nl(le(e));return t&&t()}:U(e)}function kd(e){const t=e[$e],n=t.type;return 2===n?t.declTNode:1===n?e[un]:null}function rl(e){return function by(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(Oo(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(qn(),e)}const zi="__parameters__";function Yi(e,t,n){return mt(()=>{const r=function ol(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const u=new o(...i);return p.annotation=u,p;function p(v,w,A){const V=v.hasOwnProperty(zi)?v[zi]:Object.defineProperty(v,zi,{value:[]})[zi];for(;V.length<=A;)V.push(null);return(V[A]=V[A]||[]).push(u),v}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Vs(e,t){e.forEach(n=>Array.isArray(n)?Vs(n,t):t(n))}function Ld(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ba(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function eo(e,t,n){let r=Zi(e,t);return r>=0?e[1|r]=n:(r=~r,function Py(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function il(e,t){const n=Zi(e,t);if(n>=0)return e[1|n]}function Zi(e,t){return function Vd(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),u=e[i<<n];if(t===u)return i<<n;u>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const Ha=Ht(Yi("Optional"),8),Ga=Ht(Yi("SkipSelf"),4);function Za(e){return 128==(128&e.flags)}var Bo=(()=>((Bo=Bo||{})[Bo.Important=1]="Important",Bo[Bo.DashCase=2]="DashCase",Bo))();const dl=new Map;let tv=0;const hl="__ngContext__";function Sr(e,t){zt(t)?(e[hl]=t[Pr],function rv(e){dl.set(e[Pr],e)}(t)):e[hl]=t}let pl;function gl(e,t){return pl(e,t)}function Us(e){const t=e[it];return Zt(t)?t[it]:t}function sf(e){return cf(e[Un])}function af(e){return cf(e[At])}function cf(e){for(;null!==e&&!Zt(e);)e=e[At];return e}function Ji(e,t,n,r,o){if(null!=r){let i,u=!1;Zt(r)?i=r:zt(r)&&(u=!0,r=r[ve]);const p=st(r);0===e&&null!==n?null==o?hf(t,n,p):bi(t,n,p,o||null,!0):1===e&&null!==n?bi(t,n,p,o||null,!0):2===e?function ec(e,t,n){const r=Qa(e,t);r&&function bv(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,p,u):3===e&&t.destroyNode(p),null!=i&&function wv(e,t,n,r,o){const i=n[An];i!==st(n)&&Ji(t,e,r,i,o);for(let p=pn;p<n.length;p++){const v=n[p];Gs(v[$e],v,e,t,r,i)}}(t,e,i,n,o)}}function Ja(e,t,n){return e.createElement(t,n)}function uf(e,t){const n=e[Kr],r=n.indexOf(t);Sa(t),n.splice(r,1)}function yl(e,t){if(e.length<=pn)return;const n=pn+t,r=e[n];if(r){const o=r[ho];null!==o&&o!==e&&uf(o,r),t>0&&(e[n-1][At]=r[At]);const i=Ba(e,pn+t);!function pv(e,t){Gs(e,t,t[at],2,null,null),t[ve]=null,t[un]=null}(r[$e],r);const u=i[Vn];null!==u&&u.detachView(i[$e]),r[it]=null,r[At]=null,r[lt]&=-129}return r}function df(e,t){if(!(256&t[lt])){const n=t[at];t[po]?.destroy(),t[Mt]?.destroy(),n.destroyNode&&Gs(e,t,n,3,null,null),function yv(e){let t=e[Un];if(!t)return vl(e[$e],e);for(;t;){let n=null;if(zt(t))n=t[Un];else{const r=t[pn];r&&(n=r)}if(!n){for(;t&&!t[At]&&t!==e;)zt(t)&&vl(t[$e],t),t=t[it];null===t&&(t=e),zt(t)&&vl(t[$e],t),n=t&&t[At]}t=n}}(t)}}function vl(e,t){if(!(256&t[lt])){t[lt]&=-129,t[lt]|=256,function Dv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof ks)){const i=n[r+1];if(Array.isArray(i))for(let u=0;u<i.length;u+=2){const p=o[i[u]],v=i[u+1];we(4,p,v);try{v.call(p)}finally{we(5,p,v)}}else{we(4,o,i);try{i.call(o)}finally{we(5,o,i)}}}}}(e,t),function Cv(e,t){const n=e.cleanup,r=t[Zn];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const u=n[i+3];u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[Zn]=null);const o=t[tr];if(null!==o){t[tr]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[$e].type&&t[at].destroy();const n=t[ho];if(null!==n&&Zt(t[it])){n!==t[it]&&uf(n,t);const r=t[Vn];null!==r&&r.detachView(e)}!function ov(e){dl.delete(e[Pr])}(t)}}function _l(e,t,n){return function ff(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[ve];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===Yn.None||i===Yn.Emulated)return null}return xt(r,n)}}(e,t.parent,n)}function bi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function hf(e,t,n){e.appendChild(t,n)}function pf(e,t,n,r,o){null!==r?bi(e,t,n,r,o):hf(e,t,n)}function Qa(e,t){return e.parentNode(t)}let Cl,Sl,nc,yf=function mf(e,t,n){return 40&e.type?xt(e,n):null};function Xa(e,t,n,r){const o=_l(e,r,t),i=t[at],p=function gf(e,t,n){return yf(e,t,n)}(r.parent||t[un],r,t);if(null!=o)if(Array.isArray(n))for(let v=0;v<n.length;v++)pf(i,o,n[v],p,!1);else pf(i,o,n,p,!1);void 0!==Cl&&Cl(i,r,t,n,o)}function Hs(e,t){if(null!==t){const n=t.type;if(3&n)return xt(t,e);if(4&n)return Dl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Hs(e,r);{const o=e[t.index];return Zt(o)?Dl(-1,o):st(o)}}if(32&n)return gl(t,e)()||st(e[t.index]);{const r=_f(e,t);return null!==r?Array.isArray(r)?r[0]:Hs(Us(e[sn]),r):Hs(e,t.next)}}return null}function _f(e,t){return null!==t?e[sn][un].projection[t.projection]:null}function Dl(e,t){const n=pn+e+1;if(n<t.length){const r=t[n],o=r[$e].firstChild;if(null!==o)return Hs(r,o)}return t[An]}function bl(e,t,n,r,o,i,u){for(;null!=n;){const p=r[n.index],v=n.type;if(u&&0===t&&(p&&Sr(st(p),r),n.flags|=2),32!=(32&n.flags))if(8&v)bl(e,t,n.child,r,o,i,!1),Ji(t,e,o,p,i);else if(32&v){const w=gl(n,r);let A;for(;A=w();)Ji(t,e,o,A,i);Ji(t,e,o,p,i)}else 16&v?Df(e,t,r,n,o,i):Ji(t,e,o,p,i);n=u?n.projectionNext:n.next}}function Gs(e,t,n,r,o,i){bl(n,r,e.firstChild,t,o,i,!1)}function Df(e,t,n,r,o,i){const u=n[sn],v=u[un].projection[r.projection];if(Array.isArray(v))for(let w=0;w<v.length;w++)Ji(t,e,o,v[w],i);else{let w=v;const A=u[it];Za(r)&&(w.flags|=128),bl(e,t,w,A,o,i,!0)}}function bf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ef(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&hr(e,t,r),null!==o&&bf(e,t,o),null!==i&&function Mv(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function Pv(e){Sl=e}function Tf(e){return function wl(){if(void 0===nc&&(nc=null,Xt.trustedTypes))try{nc=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return nc}()?.createScriptURL(e)||e}class Mf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ct})`}}function ui(e){return e instanceof Mf?e.changingThisBreaksApplicationSecurity:e}function Ws(e,t){const n=function Lv(e){return e instanceof Mf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ct})`)}return n===t}const Bv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function Rl(e){const t=Zs();return t?t.sanitize(Gn.URL,e)||"":Ws(e,"URL")?ui(e):function Tl(e){return(e=String(e)).match(Bv)?e:"unsafe:"+e}(te(e))}function Nf(e){const t=Zs();if(t)return Tf(t.sanitize(Gn.RESOURCE_URL,e)||"");if(Ws(e,"ResourceURL"))return Tf(ui(e));throw new ke(904,!1)}function kf(e,t,n){return function Xv(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Nf:Rl}(t,n)(e)}function Zs(){const e=Re();return e&&e[er].sanitizer}class rn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Nt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qs=new rn("ENVIRONMENT_INITIALIZER"),Ff=new rn("INJECTOR",-1),Lf=new rn("INJECTOR_DEF_TYPES");class Vf{get(t,n=Mn){if(n===Mn){const r=new Error(`NullInjectorError: No provider for ${B(t)}!`);throw r.name="NullInjectorError",r}return n}}function e_(...e){return{\u0275providers:$f(0,e),\u0275fromNgModule:!0}}function $f(e,...t){const n=[],r=new Set;let o;return Vs(t,i=>{const u=i;Pl(u,n,[],r)&&(o||=[],o.push(u))}),void 0!==o&&Bf(o,n),n}function Bf(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];xl(o,i=>{t.push(i)})}}function Pl(e,t,n,r){if(!(e=le(e)))return!1;let o=null,i=Fn(e);const u=!i&&Tt(e);if(i||u){if(u&&!u.standalone)return!1;o=e}else{const v=e.ngModule;if(i=Fn(v),!i)return!1;o=v}const p=r.has(o);if(u){if(p)return!1;if(r.add(o),u.dependencies){const v="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const w of v)Pl(w,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!p){let w;r.add(o);try{Vs(i.imports,A=>{Pl(A,t,n,r)&&(w||=[],w.push(A))})}finally{}void 0!==w&&Bf(w,t)}if(!p){const w=U(o)||(()=>new o);t.push({provide:o,useFactory:w,deps:bt},{provide:Lf,useValue:o,multi:!0},{provide:qs,useValue:()=>ct(o),multi:!0})}const v=i.providers;null==v||p||xl(v,A=>{t.push(A)})}}return o!==e&&void 0!==e.providers}function xl(e,t){for(let n of e)We(n)&&(n=n.\u0275providers),Array.isArray(n)?xl(n,t):t(n)}const t_=z({provide:String,useValue:z});function Ol(e){return null!==e&&"object"==typeof e&&t_ in e}function Ei(e){return"function"==typeof e}const Nl=new rn("Set Injector scope."),oc={},r_={};let kl;function ic(){return void 0===kl&&(kl=new Vf),kl}class Si{}class Fl extends Si{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vl(t,u=>this.processProvider(u)),this.records.set(Ff,Xi(void 0,this)),o.has("environment")&&this.records.set(Si,Xi(void 0,this));const i=this.records.get(Nl);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Lf.multi,bt,Be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=je(this),r=kt(void 0);try{return t()}finally{je(n),kt(r)}}get(t,n=Mn,r=Be.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ar))return t[Ar](this);r=Cn(r);const o=je(this),i=kt(void 0);try{if(!(r&Be.SkipSelf)){let p=this.records.get(t);if(void 0===p){const v=function c_(e){return"function"==typeof e||"object"==typeof e&&e instanceof rn}(t)&&nt(t);p=v&&this.injectableDefInScope(v)?Xi(Ll(t),oc):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&Be.Self?ic():this.parent).get(t,n=r&Be.Optional&&n===Mn?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[Ut]=u[Ut]||[]).unshift(B(t)),o)throw u;return function Dn(e,t,n,r){const o=e[Ut];throw t[H]&&o.unshift(t[H]),e.message=function fn(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=B(t);if(Array.isArray(t))o=t.map(B).join(" -> ");else if("object"==typeof t){let i=[];for(let u in t)if(t.hasOwnProperty(u)){let p=t[u];i.push(u+":"+("string"==typeof p?JSON.stringify(p):B(p)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(be,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Ut]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{kt(i),je(o)}}resolveInjectorInitializers(){const t=je(this),n=kt(void 0);try{const r=this.get(qs.multi,bt,Be.Self);for(const o of r)o()}finally{je(t),kt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(B(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(t){let n=Ei(t=le(t))?t:le(t&&t.provide);const r=function i_(e){return Ol(e)?Xi(void 0,e.useValue):Xi(Gf(e),oc)}(t);if(Ei(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Xi(void 0,oc,!0),o.factory=()=>Wn(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===oc&&(n.value=r_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function a_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=le(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ll(e){const t=nt(e),n=null!==t?t.factory:U(e);if(null!==n)return n;if(e instanceof rn)throw new ke(204,!1);if(e instanceof Function)return function o_(e){const t=e.length;if(t>0)throw function js(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new ke(204,!1);const n=function kn(e){return e&&(e[on]||e[Qt])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ke(204,!1)}function Gf(e,t,n){let r;if(Ei(e)){const o=le(e);return U(o)||Ll(o)}if(Ol(e))r=()=>le(e.useValue);else if(function Hf(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Wn(e.deps||[]));else if(function Uf(e){return!(!e||!e.useExisting)}(e))r=()=>ct(le(e.useExisting));else{const o=le(e&&(e.useClass||e.provide));if(!function s_(e){return!!e.deps}(e))return U(o)||Ll(o);r=()=>new o(...Wn(e.deps))}return r}function Xi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Vl(e,t){for(const n of e)Array.isArray(n)?Vl(n,t):n&&We(n)?Vl(n.\u0275providers,t):t(n)}const zf=new rn("AppId",{providedIn:"root",factory:()=>l_}),l_="ng",Wf=new rn("Platform Initializer"),jl=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u_=new rn("CSP nonce",{providedIn:"root",factory:()=>function zs(){if(void 0!==Sl)return Sl;if(typeof document<"u")return document;throw new ke(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zf=(e,t)=>null;function qf(e,t){return Zf(e,t)}class __{}class Qf{}class D_{resolveComponentFactory(t){throw function C_(e){const t=Error(`No component factory found for ${B(e)}.`);return t.ngComponent=e,t}(t)}}let uc=(()=>{class e{}return e.NULL=new D_,e})();function b_(){return es(qn(),Re())}function es(e,t){return new Xs(xt(e,t))}let Xs=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=b_,e})();function E_(e){return e instanceof Xs?e.nativeElement:e}class eh{}let S_=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function w_(){const e=Re(),n=yn(qn().index,e);return(zt(n)?n:e)[at]}(),e})(),T_=(()=>{class e{}return e.\u0275prov=Nt({token:e,providedIn:"root",factory:()=>null}),e})();class th{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const M_=new th("16.1.2"),Kl={};function ea(e){for(;e;){e[lt]|=64;const t=Us(e);if(Pt(e)&&!t)return e;e=t}return null}function Jl(e){return e.ngOriginalError}class ts{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Jl(t);for(;n&&Jl(n);)n=Jl(n);return n||null}}const oh=new rn("",{providedIn:"root",factory:()=>!1});function Xo(e){return e instanceof Function?e():e}class lh extends Pi{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){ea(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const o=gn(this);this.trackingVersion++;try{t(n,r)}finally{gn(o)}}destroy(){this.trackingVersion++}}let fc=null;function uh(){return fc??=new lh,fc}function dh(e,t){return e[t]??uh()}function fh(e,t){const n=uh();n.hasReadASignal&&(e[t]=fc,n.lView=e,fc=new lh)}const wt={};function hh(e){ph($t(),Re(),Er()+e,!1)}function ph(e,t,n,r){if(!r)if(3==(3&t[lt])){const i=e.preOrderCheckHooks;null!==i&&Lt(t,i,n)}else{const i=e.preOrderHooks;null!==i&&ir(t,i,0,n)}ai(n)}function vh(e,t=null,n=null,r){const o=_h(e,t,n,r);return o.resolveInjectorInitializers(),o}function _h(e,t=null,n=null,r,o=new Set){const i=[n||bt,e_(e)];return r=r||("object"==typeof e?void 0:B(e)),new Fl(i,t||ic(),r||null,o)}let di=(()=>{class e{static create(n,r){if(Array.isArray(n))return vh({name:""},r,n,"");{const o=n.name??"";return vh({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Mn,e.NULL=new Vf,e.\u0275prov=Nt({token:e,providedIn:"any",factory:()=>ct(Ff)}),e.__NG_ELEMENT_ID__=-1,e})();function rs(e,t=Be.Default){const n=Re();return null===n?ct(e,t):Rd(qn(),n,le(e),t)}function Ch(){throw new Error("invalid")}function hc(e,t,n,r,o,i,u,p,v,w,A){const V=t.blueprint.slice();return V[ve]=o,V[lt]=140|r,(null!==w||e&&2048&e[lt])&&(V[lt]|=2048),Ur(V),V[it]=V[Cr]=e,V[Gt]=n,V[er]=u||e&&e[er],V[at]=p||e&&e[at],V[lr]=v||e&&e[lr]||null,V[un]=i,V[Pr]=function nv(){return tv++}(),V[wn]=A,V[Zr]=w,V[sn]=2==t.type?e[sn]:V,V}function os(e,t,n,r,o){let i=e.data[t];if(null===i)i=function Ql(e,t,n,r,o){const i=Zc(),u=Bi(),v=e.data[t]=function Z_(e,t,n,r,o,i){let u=t?t.injectorIndex:-1,p=0;return function si(){return null!==ft.skipHydrationRootTNode}()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=v),null!==i&&(u?null==i.child&&null!==v.parent&&(i.child=v):null===i.next&&(i.next=v,v.prev=i)),v}(e,t,n,r,o),function Cd(){return ft.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const u=function $i(){const e=ft.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===u?-1:u.injectorIndex}return Io(i,!0),i}function ta(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Dh(e,t,n,r,o){const i=dh(t,po),u=Er(),p=2&r;try{if(ai(-1),p&&t.length>et&&ph(e,t,et,!1),we(p?2:0,o),p)i.runInContext(n,r,o);else{const w=gn(null);try{n(r,o)}finally{gn(w)}}}finally{p&&null===t[po]&&fh(t,po),ai(u),we(p?3:1,o)}}function Xl(e,t,n){if(dt(t)){const r=gn(null);try{const i=t.directiveEnd;for(let u=t.directiveStart;u<i;u++){const p=e.data[u];p.contentQueries&&p.contentQueries(1,n[u],u)}}finally{gn(r)}}}function eu(e,t,n){ws()&&(function tC(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;Hn(n)&&function cC(e,t,n){const r=xt(t,e),o=bh(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const p=pc(e,hc(e,o,null,u,r,t,null,e[er].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||ja(n,t),Sr(r,t);const u=n.initialInputs;for(let p=o;p<i;p++){const v=e.data[p],w=Di(t,e,p,n);Sr(w,t),null!==u&&lC(0,p-o,w,v,0,u),dr(v)&&(yn(n.index,t)[Gt]=Di(t,e,p,n))}}(e,t,n,xt(n,t)),64==(64&n.flags)&&Mh(e,t,n))}function tu(e,t,n=xt){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const u=r[i+1],p=-1===u?n(t,e):e[u];e[o++]=p}}}function bh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function nu(e,t,n,r,o,i,u,p,v,w,A){const V=et+r,ee=V+o,fe=function U_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:wt);return n}(V,ee),Me="function"==typeof w?w():w;return fe[$e]={type:e,blueprint:fe,template:n,queries:null,viewQuery:p,declTNode:t,data:fe.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:v,consts:Me,incompleteFirstPass:!1,ssrId:A}}let Eh=e=>null;function Sh(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const i=e[o];null===r?wh(n,t,o,i):r.hasOwnProperty(o)&&wh(n,t,r[o],i)}return n}function wh(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function to(e,t,n,r,o,i,u,p){const v=xt(t,n);let A,w=t.inputs;!p&&null!=w&&(A=w[r])?(au(e,n,A,r,o),Hn(t)&&function J_(e,t){const n=yn(t,e);16&n[lt]||(n[lt]|=64)}(n,t.index)):3&t.type&&(r=function K_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=u?u(o,t.value||"",r):o,i.setProperty(v,r,o))}function ru(e,t,n,r){if(ws()){const o=null===r?null:{"":-1},i=function rC(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const u=n[i];if(so(t,u.selectors,!1))if(r||(r=[]),dr(u))if(null!==u.findHostDirectiveDefs){const p=[];o=o||new Map,u.findHostDirectiveDefs(u,p,o),r.unshift(...p,u),ou(e,t,p.length)}else r.unshift(u),ou(e,t,0);else o=o||new Map,u.findHostDirectiveDefs?.(u,r,o),r.push(u)}return null===r?null:[r,o]}(e,n);let u,p;null===i?u=p=null:[u,p]=i,null!==u&&Th(e,t,n,u,o,p),o&&function oC(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new ke(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=pr(n.mergedAttrs,n.attrs)}function Th(e,t,n,r,o,i){for(let w=0;w<r.length;w++)tl(ja(n,t),e,r[w].type);!function sC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let w=0;w<r.length;w++){const A=r[w];A.providersResolver&&A.providersResolver(A)}let u=!1,p=!1,v=ta(e,t,r.length,null);for(let w=0;w<r.length;w++){const A=r[w];n.mergedAttrs=pr(n.mergedAttrs,A.hostAttrs),aC(e,n,t,v,A),iC(v,A,o),null!==A.contentQueries&&(n.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=64);const V=A.type.prototype;!u&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!p&&(V.ngOnChanges||V.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),v++}!function q_(e,t,n){const o=t.directiveEnd,i=e.data,u=t.attrs,p=[];let v=null,w=null;for(let A=t.directiveStart;A<o;A++){const V=i[A],ee=n?n.get(V):null,Me=ee?ee.outputs:null;v=Sh(V.inputs,A,v,ee?ee.inputs:null),w=Sh(V.outputs,A,w,Me);const xe=null===v||null===u||gr(t)?null:uC(v,A,u);p.push(xe)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=v,t.outputs=w}(e,n,i)}function Mh(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,u=function Ra(){return ft.lFrame.currentDirectiveIndex}();try{ai(i);for(let p=r;p<o;p++){const v=e.data[p],w=t[p];As(p),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&nC(v,w)}}finally{ai(-1),As(u)}}function nC(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ou(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function iC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;dr(t)&&(n[""]=e)}}function aC(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=U(o.type)),u=new ks(i,dr(o),rs);e.blueprint[r]=u,n[r]=u,function X_(e,t,n,r,o){const i=o.hostBindings;if(i){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const p=~t.index;(function eC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=p&&u.push(p),u.push(n,r,i)}}(e,t,r,ta(e,n,o.hostVars,wt),o)}function Uo(e,t,n,r,o,i){const u=xt(e,t);!function iu(e,t,n,r,o,i,u){if(null==i)e.removeAttribute(t,o,n);else{const p=null==u?te(i):u(i,r||"",o);e.setAttribute(t,o,p,n)}}(t[at],u,i,e.value,n,r,o)}function lC(e,t,n,r,o,i){const u=i[t];if(null!==u)for(let p=0;p<u.length;)Ih(r,n,u[p++],u[p++],u[p++])}function Ih(e,t,n,r,o){const i=gn(null);try{const u=e.inputTransforms;null!==u&&u.hasOwnProperty(r)&&(o=u[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{gn(i)}}function uC(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const u=e[i];for(let p=0;p<u.length;p+=2)if(u[p]===t){r.push(i,u[p+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Ah(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Rh(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const u=e.data[i];Ps(n[r]),u.contentQueries(2,t[i],i)}}}function pc(e,t){return e[Un]?e[_r][At]=t:e[Un]=t,e[_r]=t,t}function su(e,t,n){Ps(0);const r=gn(null);try{t(e,n)}finally{gn(r)}}function Ph(e){return e[Zn]||(e[Zn]=[])}function xh(e){return e.cleanup||(e.cleanup=[])}function Nh(e,t){const n=e[lr],r=n?n.get(ts,null):null;r&&r.handleError(t)}function au(e,t,n,r,o){for(let i=0;i<n.length;){const u=n[i++],p=n[i++];Ih(e.data[u],t[u],r,p,o)}}function ei(e,t,n){const r=yt(t,e);!function lf(e,t,n){e.setValue(t,n)}(e[at],r,n)}function dC(e,t){const n=yn(t,e),r=n[$e];!function fC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[ve];null!==o&&null===n[wn]&&(n[wn]=qf(o,n[lr])),cu(r,n,n[Gt])}function cu(e,t,n){xs(t);try{const r=e.viewQuery;null!==r&&su(1,r,n);const o=e.template;null!==o&&Dh(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Rh(e,t),e.staticViewQueries&&su(2,e.viewQuery,n);const i=e.components;null!==i&&function hC(e,t){for(let n=0;n<t.length;n++)dC(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[lt]&=-5,ka()}}let kh=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const i=typeof Zone>"u"?null:Zone.current,u=new ba(n,w=>{this.all.has(w)&&this.queue.set(w,i)},o);let p;this.all.add(u),u.notify();const v=()=>{u.cleanup(),p?.(),this.all.delete(u),this.queue.delete(u)};return p=r?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Nt({token:e,providedIn:"root",factory:()=>new e}),e})();function gc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?i=p:1==i?o=Y(o,p):2==i&&(r=Y(r,p+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function na(e,t,n,r,o=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&r.push(st(i)),Zt(i)){for(let p=pn;p<i.length;p++){const v=i[p],w=v[$e].firstChild;null!==w&&na(v[$e],v,w,r)}i[An]!==i[ve]&&r.push(i[An])}const u=n.type;if(8&u)na(e,t,n.child,r);else if(32&u){const p=gl(n,t);let v;for(;v=p();)r.push(v)}else if(16&u){const p=_f(t,n);if(Array.isArray(p))r.push(...p);else{const v=Us(t[sn]);na(v[$e],v,p,r,!0)}}n=o?n.projectionNext:n.next}return r}function mc(e,t,n,r=!0){const o=t[er].rendererFactory;o.begin&&o.begin();try{Fh(e,t,e.template,n)}catch(u){throw r&&Nh(t,u),u}finally{o.end&&o.end(),t[er].effectManager?.flush()}}function Fh(e,t,n,r){const o=t[lt];if(256!=(256&o)){t[er].effectManager?.flush(),xs(t);try{Ur(t),function Ia(e){return ft.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Dh(e,t,n,2,r);const u=3==(3&o);if(u){const w=e.preOrderCheckHooks;null!==w&&Lt(t,w,null)}else{const w=e.preOrderHooks;null!==w&&ir(t,w,0,null),Ci(t,0)}if(function vC(e){for(let t=sf(e);null!==t;t=af(t)){if(!t[qo])continue;const n=t[Kr];for(let r=0;r<n.length;r++){Gc(n[r])}}}(t),Lh(t,2),null!==e.contentQueries&&Rh(e,t),u){const w=e.contentCheckHooks;null!==w&&Lt(t,w)}else{const w=e.contentHooks;null!==w&&ir(t,w,1),Ci(t,1)}!function B_(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=dh(t,Mt);try{for(let o=0;o<n.length;o++){const i=n[o];if(i<0)ai(~i);else{const u=i,p=n[++o],v=n[++o];Dd(p,u),r.runInContext(v,2,t[u])}}}finally{null===t[Mt]&&fh(t,Mt),ai(-1)}}(e,t);const p=e.components;null!==p&&jh(t,p,0);const v=e.viewQuery;if(null!==v&&su(2,v,r),u){const w=e.viewCheckHooks;null!==w&&Lt(t,w)}else{const w=e.viewHooks;null!==w&&ir(t,w,2),Ci(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[lt]&=-73,Sa(t)}finally{ka()}}}function Lh(e,t){for(let n=sf(e);null!==n;n=af(n))for(let r=pn;r<n.length;r++)Vh(n[r],t)}function _C(e,t,n){Vh(yn(t,e),n)}function Vh(e,t){if(!function xr(e){return 128==(128&e[lt])}(e))return;const n=e[$e];if(80&e[lt]&&0===t||1024&e[lt]||2===t)Fh(n,e,n.template,e[Gt]);else if(e[Xn]>0){Lh(e,1);const o=e[$e].components;null!==o&&jh(e,o,1)}}function jh(e,t,n){for(let r=0;r<t.length;r++)_C(e,t[r],n)}class ra{get rootNodes(){const t=this._lView,n=t[$e];return na(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(t){this._lView[Gt]=t}get destroyed(){return 256==(256&this._lView[lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[it];if(Zt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(yl(t,r),Ba(n,r))}this._attachedToViewContainer=!1}df(this._lView[$e],this._lView)}onDestroy(t){!function Ss(e,t){if(256==(256&e[lt]))throw new ke(911,!1);null===e[tr]&&(e[tr]=[]),e[tr].push(t)}(this._lView,t)}markForCheck(){ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[lt]&=-129}reattach(){this._lView[lt]|=128}detectChanges(){mc(this._lView[$e],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mv(e,t){Gs(e,t,t[at],2,null,null)}(this._lView[$e],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ke(902,!1);this._appRef=t}}class CC extends ra{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;mc(t[$e],t,t[Gt],!1)}checkNoChanges(){}get context(){return null}}class $h extends uc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Tt(t);return new oa(n,this.ngModule)}}function Bh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class bC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Cn(r);const o=this.injector.get(t,Kl,r);return o!==Kl||n===Kl?o:this.parentInjector.get(t,n,r)}}class oa extends Qf{get inputs(){return Bh(this.componentDef.inputs)}get outputs(){return Bh(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function En(e){return e.map(bo).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let i=(o=o||this.ngModule)instanceof Si?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const u=i?new bC(t,i):t,p=u.get(eh,null);if(null===p)throw new ke(407,!1);const A={rendererFactory:p,sanitizer:u.get(T_,null),effectManager:u.get(kh,null)},V=p.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",fe=r?function H_(e,t,n,r){const i=r.get(oh,!1)||n===Yn.ShadowDom,u=e.selectRootElement(t,i);return function G_(e){Eh(e)}(u),u}(V,r,this.componentDef.encapsulation,u):Ja(V,ee,function DC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ee)),Ue=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Qe=nu(0,null,null,1,0,null,null,null,null,null,null),Ie=hc(null,Qe,null,Ue,null,null,A,V,u,null,null);let _t,Ot;xs(Ie);try{const Bt=this.componentDef;let Tr,Bc=null;Bt.findHostDirectiveDefs?(Tr=[],Bc=new Map,Bt.findHostDirectiveDefs(Bt,Tr,Bc),Tr.push(Bt)):Tr=[Bt];const ES=function SC(e,t){const n=e[$e],r=et;return e[r]=t,os(n,r,2,"#host",null)}(Ie,fe),SS=function wC(e,t,n,r,o,i,u){const p=o[$e];!function TC(e,t,n,r){for(const o of e)t.mergedAttrs=pr(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(gc(t,t.mergedAttrs,!0),null!==n&&Ef(r,n,t))}(r,e,t,u);let v=null;null!==t&&(v=qf(t,o[lr]));const w=i.rendererFactory.createRenderer(t,n);let A=16;n.signals?A=4096:n.onPush&&(A=64);const V=hc(o,bh(n),null,A,o[e.index],e,i,w,null,null,v);return p.firstCreatePass&&ou(p,e,r.length-1),pc(o,V),o[e.index]=V}(ES,fe,Bt,Tr,Ie,A,V);Ot=mn(Qe,et),fe&&function IC(e,t,n,r){if(r)hr(e,n,["ng-version",M_.full]);else{const{attrs:o,classes:i}=function ao(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!hn(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&hr(e,n,o),i&&i.length>0&&bf(e,n,i.join(" "))}}(V,Bt,fe,r),void 0!==n&&function AC(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(Ot,this.ngContentSelectors,n),_t=function MC(e,t,n,r,o,i){const u=qn(),p=o[$e],v=xt(u,o);Th(p,o,u,n,null,r);for(let A=0;A<n.length;A++)Sr(Di(o,p,u.directiveStart+A,u),o);Mh(p,o,u),v&&Sr(v,o);const w=Di(o,p,u.directiveStart+u.componentOffset,u);if(e[Gt]=o[Gt]=w,null!==i)for(const A of i)A(w,t);return Xl(p,u,e),w}(SS,Bt,Tr,Bc,Ie,[RC]),cu(Qe,Ie,null)}finally{ka()}return new EC(this.componentType,_t,es(Ot,Ie),Ie,Ot)}}class EC extends __{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new CC(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;au(i[$e],i,o,t,n),this.previousInputValues.set(t,n),ea(yn(this._tNode.index,i))}}get injector(){return new Hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function RC(){const e=qn();Je(Re()[$e],e)}function lu(e){let t=function Uh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(dr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ke(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const u=e;u.inputs=yc(e.inputs),u.inputTransforms=yc(e.inputTransforms),u.declaredInputs=yc(e.declaredInputs),u.outputs=yc(e.outputs);const p=o.hostBindings;p&&NC(e,p);const v=o.viewQuery,w=o.contentQueries;if(v&&xC(e,v),w&&OC(e,w),he(e.inputs,o.inputs),he(e.declaredInputs,o.declaredInputs),he(e.outputs,o.outputs),null!==o.inputTransforms&&(null===u.inputTransforms&&(u.inputTransforms={}),he(u.inputTransforms,o.inputTransforms)),dr(o)&&o.data.animation){const A=e.data;A.animation=(A.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let u=0;u<i.length;u++){const p=i[u];p&&p.ngInherit&&p(e),p===lu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function PC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=pr(o.hostAttrs,n=pr(n,o.hostAttrs))}}(r)}function yc(e){return e===Ln?{}:e===bt?[]:e}function xC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function OC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function NC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function Wh(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[2]&&(n[r]=o[2])}e.inputTransforms=n}function vc(e){return!!uu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function uu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function wr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function du(e,t,n,r){const o=Re();return wr(o,_i(),t)&&($t(),Uo(f(),o,e,t,n,r)),du}function ss(e,t,n,r){return wr(e,_i(),n)?t+te(n)+r:wt}function as(e,t,n,r,o,i){const p=function wi(e,t,n,r){const o=wr(e,t,n);return wr(e,t+1,r)||o}(e,function vo(){return ft.lFrame.bindingIndex}(),n,o);return jo(2),p?t+te(n)+r+te(o)+i:wt}function ip(e,t,n,r,o,i,u,p){const v=Re(),w=$t(),A=e+et,V=w.firstCreatePass?function iD(e,t,n,r,o,i,u,p,v){const w=t.consts,A=os(t,e,4,u||null,or(w,p));ru(t,n,A,or(w,v)),Je(t,A);const V=A.tView=nu(2,A,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,w,null);return null!==t.queries&&(t.queries.template(t,A),V.queries=t.queries.embeddedTView(A)),A}(A,w,v,t,n,r,o,i,u):w.data[A];Io(V,!1);const ee=sp(w,v,V,e);ae()&&Xa(w,v,ee,V),Sr(ee,v),pc(v,v[A]=Ah(ee,v,ee,V)),Ko(V)&&eu(w,v,V),null!=u&&tu(v,V,p)}let sp=function ap(e,t,n,r){return Te(!0),t[at].createComment("")};function yu(e,t,n){const r=Re();return wr(r,_i(),t)&&to($t(),f(),r,e,t,r[at],n,!1),yu}function vu(e,t,n,r,o){const u=o?"class":"style";au(e,n,t.inputs[u],u,r)}function Ec(e,t,n,r){const o=Re(),i=$t(),u=et+e,p=o[at],v=i.firstCreatePass?function uD(e,t,n,r,o,i){const u=t.consts,v=os(t,e,2,r,or(u,o));return ru(t,n,v,or(u,i)),null!==v.attrs&&gc(v,v.attrs,!1),null!==v.mergedAttrs&&gc(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(u,i,o,t,n,r):i.data[u],w=cp(i,o,v,p,t,e);o[u]=w;const A=Ko(v);return Io(v,!0),Ef(p,w,v),32!=(32&v.flags)&&ae()&&Xa(i,o,w,v),0===function Or(){return ft.lFrame.elementDepthCount}()&&Sr(w,o),function Wc(){ft.lFrame.elementDepthCount++}(),A&&(eu(i,o,v),Xl(i,v,o)),null!==r&&tu(o,v),Ec}function Sc(){let e=qn();Bi()?function Ui(){ft.lFrame.isParent=!1}():(e=e.parent,Io(e,!1));const t=e;(function Ta(e){return ft.skipHydrationRootTNode===e})(t)&&function Ts(){ft.skipHydrationRootTNode=null}(),function ji(){ft.lFrame.elementDepthCount--}();const n=$t();return n.firstCreatePass&&(Je(n,e),dt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function yy(e){return 0!=(8&e.flags)}(t)&&vu(n,t,Re(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vy(e){return 0!=(16&e.flags)}(t)&&vu(n,t,Re(),t.stylesWithoutHost,!1),Sc}function _u(e,t,n,r){return Ec(e,t,n,r),Sc(),_u}let cp=(e,t,n,r,o,i)=>(Te(!0),Ja(r,o,function O(){return ft.lFrame.currentNamespace}()));function dp(){return Re()}function bu(e){return!!e&&"function"==typeof e.then}function fp(e){return!!e&&"function"==typeof e.subscribe}function Eu(e,t,n,r){const o=Re(),i=$t(),u=qn();return function pp(e,t,n,r,o,i,u){const p=Ko(r),w=e.firstCreatePass&&xh(e),A=t[Gt],V=Ph(t);let ee=!0;if(3&r.type||u){const xe=xt(r,t),Ue=u?u(xe):xe,Qe=V.length,Ie=u?Ot=>u(st(Ot[r.index])):r.index;let _t=null;if(!u&&p&&(_t=function mD(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const u=o[i];if(u===n&&o[i+1]===r){const p=t[Zn],v=o[i+2];return p.length>v?p[v]:null}"string"==typeof u&&(i+=2)}return null}(e,t,o,r.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=i,_t.__ngLastListenerFn__=i,ee=!1;else{i=mp(r,t,A,i,!1);const Ot=n.listen(Ue,o,i);V.push(i,Ot),w&&w.push(o,Ie,Qe,Qe+1)}}else i=mp(r,t,A,i,!1);const fe=r.outputs;let Me;if(ee&&null!==fe&&(Me=fe[o])){const xe=Me.length;if(xe)for(let Ue=0;Ue<xe;Ue+=2){const Bt=t[Me[Ue]][Me[Ue+1]].subscribe(i),Tr=V.length;V.push(i,Bt),w&&w.push(o,r.index,Tr,-(Tr+1))}}}(i,o,o[at],u,e,t,r),Eu}function gp(e,t,n,r){try{return we(6,t,n),!1!==n(r)}catch(o){return Nh(e,o),!1}finally{we(7,t,n)}}function mp(e,t,n,r,o){return function i(u){if(u===Function)return r;ea(e.componentOffset>-1?yn(e.index,t):t);let v=gp(t,n,r,u),w=i.__ngNextListenerFn__;for(;w;)v=gp(t,n,w,u)&&v,w=w.__ngNextListenerFn__;return o&&!1===v&&u.preventDefault(),v}}function yp(e=1){return function bd(e){return(ft.lFrame.contextLView=function Ed(e,t){for(;e>0;)t=t[Cr],e--;return t}(e,ft.lFrame.contextLView))[Gt]}(e)}function wc(e,t,n,r,o){const i=Re(),u=ss(i,t,n,r);return u!==wt&&to($t(),f(),i,e,u,i[at],o,!1),wc}function Tc(e,t){return e<<17|t<<2}function fi(e){return e>>17&32767}function Su(e){return 2|e}function Ti(e){return(131068&e)>>2}function wu(e,t){return-131069&e|t<<2}function Tu(e){return 1|e}function Mp(e,t,n,r,o){const i=e[n+1],u=null===t;let p=r?fi(i):Ti(i),v=!1;for(;0!==p&&(!1===v||u);){const A=e[p+1];wD(e[p],t)&&(v=!0,e[p+1]=r?Tu(A):Su(A)),p=r?fi(A):Ti(A)}v&&(e[n+1]=r?Su(i):Tu(i))}function wD(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Zi(e,t)>=0}const Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ip(e){return e.substring(Jn.key,Jn.keyEnd)}function TD(e){return e.substring(Jn.value,Jn.valueEnd)}function Rp(e,t){const n=Jn.textEnd;let r=Jn.key=ps(e,t,n);return n===r?-1:(r=Jn.keyEnd=function RD(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=xp(e,r,n),r=Jn.value=ps(e,r,n),r=Jn.valueEnd=function PD(e,t,n){let r=-1,o=-1,i=-1,u=t,p=u;for(;u<n;){const v=e.charCodeAt(u++);if(59===v)return p;34===v||39===v?p=u=Op(e,v,u,n):t===u-4&&85===i&&82===o&&76===r&&40===v?p=u=Op(e,41,u,n):v>32&&(p=u),i=o,o=r,r=-33&v}return p}(e,r,n),xp(e,r,n))}function ps(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function xp(e,t,n,r){return(t=ps(e,t,n))<n&&t++,t}function Op(e,t,n,r){let o=-1,i=n;for(;i<r;){const u=e.charCodeAt(i++);if(u==t&&92!==o)return i;o=92==u&&92===o?0:u}throw new Error}function Mu(e,t){return function Ro(e,t,n,r){const o=Re(),i=$t(),u=jo(2);i.firstUpdatePass&&Fp(i,e,u,r),t!==wt&&wr(o,u,t)&&Vp(i,i.data[Er()],o,o[at],e,o[u+1]=function BD(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=B(ui(e)))),e}(t,n),r,u)}(e,t,null,!0),Mu}function Go(e){!function Po(e,t,n,r){const o=$t(),i=jo(2);o.firstUpdatePass&&Fp(o,null,i,r);const u=Re();if(n!==wt&&wr(u,i,n)){const p=o.data[Er()];if($p(p,r)&&!kp(o,i)){let v=r?p.classesWithoutHost:p.stylesWithoutHost;null!==v&&(n=Y(v,n||"")),vu(o,p,u,n,r)}else!function $D(e,t,n,r,o,i,u,p){o===wt&&(o=bt);let v=0,w=0,A=0<o.length?o[0]:null,V=0<i.length?i[0]:null;for(;null!==A||null!==V;){const ee=v<o.length?o[v+1]:void 0,fe=w<i.length?i[w+1]:void 0;let xe,Me=null;A===V?(v+=2,w+=2,ee!==fe&&(Me=V,xe=fe)):null===V||null!==A&&A<V?(v+=2,Me=A):(w+=2,Me=V,xe=fe),null!==Me&&Vp(e,t,n,r,Me,xe,u,p),A=v<o.length?o[v]:null,V=w<i.length?i[w]:null}}(o,p,u,u[at],u[i+1],u[i+1]=function VD(e,t,n){if(null==n||""===n)return bt;const r=[],o=ui(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if("object"==typeof o)for(const i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,i)}}(Lp,xD,e,!1)}function xD(e,t){for(let n=function ID(e){return function Pp(e){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=e.length}(e),Rp(e,ps(e,0,Jn.textEnd))}(t);n>=0;n=Rp(t,n))Lp(e,Ip(t),TD(t))}function kp(e,t){return t>=e.expandoStartIndex}function Fp(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[Er()],u=kp(e,n);$p(i,r)&&null===t&&!u&&(t=!1),t=function ND(e,t,n,r){const o=function Rs(e){const t=ft.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=la(n=Iu(null,e,t,n,r),t.attrs,r),i=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==o)if(n=Iu(o,e,t,n,r),null===i){let v=function kD(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ti(r))return e[fi(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Iu(null,e,t,v[1],r),v=la(v,t.attrs,r),function FD(e,t,n,r){e[fi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else i=function LD(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=la(r,e[i].hostAttrs,n);return la(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function ED(e,t,n,r,o,i){let u=i?t.classBindings:t.styleBindings,p=fi(u),v=Ti(u);e[r]=n;let A,w=!1;if(Array.isArray(n)?(A=n[1],(null===A||Zi(n,A)>0)&&(w=!0)):A=n,o)if(0!==v){const ee=fi(e[p+1]);e[r+1]=Tc(ee,p),0!==ee&&(e[ee+1]=wu(e[ee+1],r)),e[p+1]=function DD(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=Tc(p,0),0!==p&&(e[p+1]=wu(e[p+1],r)),p=r;else e[r+1]=Tc(v,0),0===p?p=r:e[v+1]=wu(e[v+1],r),v=r;w&&(e[r+1]=Su(e[r+1])),Mp(e,A,r,!0),Mp(e,A,r,!1),function SD(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Zi(i,t)>=0&&(n[r+1]=Tu(n[r+1]))}(t,A,e,r,i),u=Tc(p,v),i?t.classBindings=u:t.styleBindings=u}(o,i,t,n,u,r)}}function Iu(e,t,n,r,o){let i=null;const u=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<u&&(i=t[p],r=la(r,i.hostAttrs,o),i!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function la(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const u=t[i];"number"==typeof u?o=u:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),eo(e,u,!!n||t[++i]))}return void 0===e?null:e}function Lp(e,t,n){eo(e,t,ui(n))}function Vp(e,t,n,r,o,i,u,p){if(!(3&t.type))return;const v=e.data,w=v[p+1],A=function bD(e){return 1==(1&e)}(w)?jp(v,t,n,o,Ti(w),u):void 0;Mc(A)||(Mc(i)||function CD(e){return 2==(2&e)}(w)&&(i=jp(v,null,n,o,p,u)),function Tv(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Bo.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Bo.Important),e.setStyle(n,r,o,i))}}(r,u,yt(Er(),n),o,i))}function jp(e,t,n,r,o,i){const u=null===t;let p;for(;o>0;){const v=e[o],w=Array.isArray(v),A=w?v[1]:v,V=null===A;let ee=n[o+1];ee===wt&&(ee=V?bt:void 0);let fe=V?il(ee,r):A===r?ee:void 0;if(w&&!Mc(fe)&&(fe=il(v,r)),Mc(fe)&&(p=fe,u))return p;const Me=e[o+1];o=u?fi(Me):Ti(Me)}if(null!==t){let v=i?t.residualClasses:t.residualStyles;null!=v&&(p=il(v,r))}return p}function Mc(e){return void 0!==e}function $p(e,t){return 0!=(e.flags&(t?8:16))}function Bp(e,t=""){const n=Re(),r=$t(),o=e+et,i=r.firstCreatePass?os(r,o,1,t,null):r.data[o],u=Up(r,n,i,t,e);n[o]=u,ae()&&Xa(r,n,u,i),Io(i,!1)}let Up=(e,t,n,r,o)=>(Te(!0),function Ka(e,t){return e.createText(t)}(t[at],r));function Au(e){return Ic("",e,""),Au}function Ic(e,t,n){const r=Re(),o=ss(r,e,t,n);return o!==wt&&ei(r,Er(),o),Ic}function Ru(e,t,n,r,o){const i=Re(),u=as(i,e,t,n,r,o);return u!==wt&&ei(i,Er(),u),Ru}function Kp(e,t,n){Go(ss(Re(),e,t,n))}const Mi=void 0;var cb=["en",[["a","p"],["AM","PM"],Mi],[["AM","PM"],Mi,Mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mi,"{1} 'at' {0}",Mi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ab(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let gs={};function Pu(e){const t=function lb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=lg(t);if(n)return n;const r=t.split("-")[0];if(n=lg(r),n)return n;if("en"===r)return cb;throw new ke(701,!1)}function cg(e){return Pu(e)[ut.PluralCase]}function lg(e){return e in gs||(gs[e]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[e]),gs[e]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const ms="en-US";let ug=ms;function Nu(e,t,n,r,o){if(e=le(e),Array.isArray(e))for(let i=0;i<e.length;i++)Nu(e[i],t,n,r,o);else{const i=$t(),u=Re();let p=Ei(e)?e:le(e.provide),v=Gf(e);const w=qn(),A=1048575&w.providerIndexes,V=w.directiveStart,ee=w.providerIndexes>>20;if(Ei(e)||!e.multi){const fe=new ks(v,o,rs),Me=Fu(p,t,o?A:A+ee,V);-1===Me?(tl(ja(w,u),i,p),ku(i,e,t.length),t.push(p),w.directiveStart++,w.directiveEnd++,o&&(w.providerIndexes+=1048576),n.push(fe),u.push(fe)):(n[Me]=fe,u[Me]=fe)}else{const fe=Fu(p,t,A+ee,V),Me=Fu(p,t,A,A+ee),Ue=Me>=0&&n[Me];if(o&&!Ue||!o&&!(fe>=0&&n[fe])){tl(ja(w,u),i,p);const Qe=function a0(e,t,n,r,o){const i=new ks(e,n,rs);return i.multi=[],i.index=t,i.componentProviders=0,kg(i,o,r&&!n),i}(o?s0:o0,n.length,o,r,v);!o&&Ue&&(n[Me].providerFactory=Qe),ku(i,e,t.length,0),t.push(p),w.directiveStart++,w.directiveEnd++,o&&(w.providerIndexes+=1048576),n.push(Qe),u.push(Qe)}else ku(i,e,fe>-1?fe:Me,kg(n[o?Me:fe],v,!o&&r));!o&&r&&Ue&&n[Me].componentProviders++}}}function ku(e,t,n,r){const o=Ei(t),i=function n_(e){return!!e.useClass}(t);if(o||i){const v=(i?le(t.useClass):t).prototype.ngOnDestroy;if(v){const w=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const A=w.indexOf(n);-1===A?w.push(n,[r,v]):w[A+1].push(r,v)}else w.push(n,v)}}}function kg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Fu(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function o0(e,t,n,r){return Lu(this.multi,[])}function s0(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const u=this.providerFactory.componentProviders,p=Di(n,n[$e],this.providerFactory.index,r);i=p.slice(0,u),Lu(o,i);for(let v=u;v<p.length;v++)i.push(p[v])}else i=[],Lu(o,i);return i}function Lu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Fg(e,t=[]){return n=>{n.providersResolver=(r,o)=>function r0(e,t,n){const r=$t();if(r.firstCreatePass){const o=dr(e);Nu(n,r.data,r.blueprint,o,!0),Nu(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class ys{}class Lg{}function c0(e,t){return new Vu(e,t??null,[])}class Vu extends ys{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $h(this);const o=Ft(t);this._bootstrapComponents=Xo(o.bootstrap),this._r3Injector=_h(t,n,[{provide:ys,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...r],B(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ju extends Lg{constructor(t){super(),this.moduleType=t}create(t){return new Vu(this.moduleType,t,[])}}class Vg extends ys{constructor(t){super(),this.componentFactoryResolver=new $h(this),this.instance=null;const n=new Fl([...t.providers,{provide:ys,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],t.parent||ic(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function jg(e,t,n=null){return new Vg({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let u0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=$f(0,n.type),o=r.length>0?jg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Nt({token:e,providedIn:"environment",factory:()=>new e(ct(Si))}),e})();function $g(e){e.getStandaloneInjector=t=>t.get(u0).getOrCreateStandaloneInjector(e)}function Bu(e){return t=>{setTimeout(e,void 0,t)}}const Wo=class F0 extends c.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,i=n||(()=>null),u=r;if(t&&"object"==typeof t){const v=t;o=v.next?.bind(v),i=v.error?.bind(v),u=v.complete?.bind(v)}this.__isAsync&&(i=Bu(i),o&&(o=Bu(o)),u&&(u=Bu(u)));const p=super.subscribe({next:o,error:i,complete:u});return t instanceof k.w0&&t.add(p),p}};function L0(){return this._results[Symbol.iterator]()}class Uu{get changes(){return this._changes||(this._changes=new Wo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Uu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=L0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function _o(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ay(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ya=(()=>{class e{}return e.__NG_ELEMENT_ID__=$0,e})();const V0=ya,j0=class extends V0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const u=this._declarationTContainer.tView,p=hc(this._declarationLView,u,t,4096&this._declarationLView[lt]?4096:16,null,u.declTNode,null,null,null,n||null,r||null);p[ho]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[Vn];return null!==w&&(p[Vn]=w.createEmbeddedView(u)),cu(u,p,t),new ra(p)}};function $0(){return Oc(qn(),Re())}function Oc(e,t){return 4&e.type?new j0(t,e,es(e,t)):null}let Nc=(()=>{class e{}return e.__NG_ELEMENT_ID__=Y0,e})();function Y0(){return rm(qn(),Re())}const Z0=Nc,tm=class extends Z0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return es(this._hostTNode,this._hostLView)}get injector(){return new Hi(this._hostTNode,this._hostLView)}get parentInjector(){const t=el(this._hostTNode,this._hostLView);if(Sd(t)){const n=La(t,this._hostLView),r=Fa(t);return new Hi(n[$e].data[r+8],n)}return new Hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=nm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const p=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(p,o,false),p}createComponent(t,n,r,o,i){const u=t&&!function Ls(e){return"function"==typeof e}(t);let p;if(u)p=n;else{const xe=n||{};p=xe.index,r=xe.injector,o=xe.projectableNodes,i=xe.environmentInjector||xe.ngModuleRef}const v=u?t:new oa(Tt(t)),w=r||this.parentInjector;if(!i&&null==v.ngModule){const Ue=(u?w:this.parentInjector).get(Si,null);Ue&&(i=Ue)}Tt(v.componentType??{});const fe=v.create(w,o,null,i);return this.insertImpl(fe.hostView,p,false),fe}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView,i=o[$e];if(function Mo(e){return Zt(e[it])}(o)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const w=o[it],A=new tm(w,w[un],w[it]);A.detach(A.indexOf(t))}}const u=this._adjustIndex(n),p=this._lContainer;if(function vv(e,t,n,r){const o=pn+r,i=n.length;r>0&&(n[o-1][At]=t),r<i-pn?(t[At]=n[o],Ld(n,pn+r,t)):(n.push(t),t[At]=null),t[it]=n;const u=t[ho];null!==u&&n!==u&&function _v(e,t){const n=e[Kr];t[sn]!==t[it][it][sn]&&(e[qo]=!0),null===n?e[Kr]=[t]:n.push(t)}(u,t);const p=t[Vn];null!==p&&p.insertView(e),t[lt]|=128}(i,o,p,u),!r){const v=Dl(u,p),w=o[at],A=Qa(w,p[An]);null!==A&&function gv(e,t,n,r,o,i){r[ve]=o,r[un]=t,Gs(e,r,n,1,o,i)}(i,p[un],w,o,A,v)}return t.attachToViewContainerRef(),Ld(Gu(p),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=nm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);r&&(Ba(Gu(this._lContainer),n),df(r[$e],r))}detach(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);return r&&null!=Ba(Gu(this._lContainer),n)?new ra(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function nm(e){return e[8]}function Gu(e){return e[8]||(e[8]=[])}function rm(e,t){let n;const r=t[e.index];return Zt(r)?n=r:(n=Ah(r,t,null,e),t[e.index]=n,pc(t,n)),om(n,t,e,r),new tm(n,e,t)}let om=function im(e,t,n,r){if(e[An])return;let o;o=8&n.type?st(r):function q0(e,t){const n=e[at],r=n.createComment(""),o=xt(t,e);return bi(n,Qa(n,o),r,function Ev(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[An]=o};class zu{constructor(t){this.queryList=t,this.matches=null}clone(){return new zu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const u=n.getByIndex(i);o.push(this.queries[u.indexInDeclarationView].clone())}return new Wu(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==hm(t,n).matches&&this.queries[n].setDirty()}}class sm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Yu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Yu(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Zu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,Q0(n,i)),this.matchTNodeWithReadOption(t,n,$a(n,t,i,!1,!1))}else r===ya?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,$a(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Xs||o===Nc||o===ya&&4&n.type)this.addMatch(n.index,-2);else{const i=$a(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Q0(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function eE(e,t,n,r){return-1===n?function X0(e,t){return 11&e.type?es(e,t):4&e.type?Oc(e,t):null}(t,e):-2===n?function tE(e,t,n){return n===Xs?es(t,e):n===ya?Oc(t,e):n===Nc?rm(t,e):void 0}(e,t,r):Di(e,e[$e],n,t)}function am(e,t,n,r){const o=t[Vn].queries[r];if(null===o.matches){const i=e.data,u=n.matches,p=[];for(let v=0;v<u.length;v+=2){const w=u[v];p.push(w<0?null:eE(t,i[w],u[v+1],n.metadata.read))}o.matches=p}return o.matches}function qu(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const u=am(e,t,o,n);for(let p=0;p<i.length;p+=2){const v=i[p];if(v>0)r.push(u[p/2]);else{const w=i[p+1],A=t[-v];for(let V=pn;V<A.length;V++){const ee=A[V];ee[ho]===ee[it]&&qu(ee[$e],ee,w,r)}if(null!==A[Kr]){const V=A[Kr];for(let ee=0;ee<V.length;ee++){const fe=V[ee];qu(fe[$e],fe,w,r)}}}}}return r}function cm(e){const t=Re(),n=$t(),r=Pa();Ps(r+1);const o=hm(n,r);if(e.dirty&&function Vo(e){return 4==(4&e[lt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?qu(n,t,r,[]):am(n,t,o,r);e.reset(i,E_),e.notifyOnChanges()}return!0}return!1}function lm(e,t,n,r){const o=$t();if(o.firstCreatePass){const i=qn();(function fm(e,t,n){null===e.queries&&(e.queries=new Yu),e.queries.track(new Zu(t,n))})(o,new sm(t,n,r),i.index),function oE(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}!function dm(e,t,n){const r=new Uu(4==(4&n));(function Y_(e,t,n,r){const o=Ph(t);o.push(n),e.firstCreatePass&&xh(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[Vn]&&(t[Vn]=new Wu),t[Vn].queries.push(new zu(r))}(o,Re(),n)}function um(){return function rE(e,t){return e[Vn].queries[t].queryList}(Re(),Pa())}function hm(e,t){return e.queries.getByIndex(t)}function Ku(e){return!!Ft(e)}const Rm=new rn("Application Initializer");let td=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=gt(Rm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(bu(i))n.push(i);else if(fp(i)){const u=new Promise((p,v)=>{i.subscribe({complete:p,error:v})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Pm=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Fc=new rn("LocaleId",{providedIn:"root",factory:()=>gt(Fc,Be.Optional|Be.SkipSelf)||function TE(){return typeof $localize<"u"&&$localize.locale||ms}()}),ME=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xm=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new J.X(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class IE{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let AE=(()=>{class e{compileModuleSync(n){return new ju(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=Xo(Ft(n).declarations).reduce((u,p)=>{const v=Tt(p);return v&&u.push(new oa(v)),u},[]);return new IE(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function km(...e){}class kr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1),typeof Zone>"u")throw new ke(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function xE(){let e=Xt.requestAnimationFrame,t=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function kE(e){const t=()=>{!function NE(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,rd(e),e.isCheckStableRunning=!0,nd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),rd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,u,p)=>{try{return Fm(e),n.invokeTask(o,i,u,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Lm(e)}},onInvoke:(n,r,o,i,u,p,v)=>{try{return Fm(e),n.invoke(o,i,u,p,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),Lm(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,rd(e),nd(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kr.isInAngularZone())throw new ke(909,!1)}static assertNotInAngularZone(){if(kr.isInAngularZone())throw new ke(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,u=i.scheduleEventTask("NgZoneEvent: "+o,t,OE,km,km);try{return i.runTask(u,n,r)}finally{i.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const OE={};function nd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Fm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Lm(e){e._nesting--,nd(e)}class FE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Vm=new rn("",{providedIn:"root",factory:jm});function jm(){const e=gt(kr);let t=!0;return function Q(...e){const t=(0,L.yG)(e),n=(0,L._6)(e,1/0),r=e;return r.length?1===r.length?(0,pe.Xf)(r[0]):(0,q.J)(n)((0,F.D)(r,t)):Ee.E}(new Z.y(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new Z.y(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{kr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const u=e.onUnstable.subscribe(()=>{kr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),u.unsubscribe()}}).pipe(me()))}const $m=new rn(""),Bm=new rn("");let od,LE=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,od||(function VE(e){od=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(ct(kr),ct(Um),ct(Bm))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac}),e})(),Um=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return od?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),hi=null;const Hm=new rn("AllowMultipleToken"),id=new rn("PlatformDestroyListeners"),sd=new rn("appBootstrapListener");class BE{constructor(t,n){this.name=t,this.token=n}}function Wm(e,t,n=[]){const r=`Platform: ${t}`,o=new rn(r);return(i=[])=>{let u=ad();if(!u||u.injector.get(Hm,!1)){const p=[...n,...i,{provide:o,useValue:!0}];e?e(p):function UE(e){if(hi&&!hi.get(Hm,!1))throw new ke(400,!1);(function Gm(){!function bs(e){ki=e}(()=>{throw new ke(600,!1)})})(),hi=e;const t=e.get(Zm);(function zm(e){e.get(Wf,null)?.forEach(n=>n())})(e)}(function Ym(e=[],t){return di.create({name:t,providers:[{provide:Nl,useValue:"platform"},{provide:id,useValue:new Set([()=>hi=null])},...e]})}(p,r))}return function GE(e){const t=ad();if(!t)throw new ke(401,!1);return t}()}}function ad(){return hi?.get(Zm)??null}let Zm=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function zE(e="zone.js",t){return"noop"===e?new FE:"zone.js"===e?new kr(t):e}(r?.ngZone,function qm(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const i=function l0(e,t,n){return new Vu(e,t,n)}(n.moduleType,this.injector,function ey(e){return[{provide:kr,useFactory:e},{provide:qs,multi:!0,useFactory:()=>{const t=gt(YE,{optional:!0});return()=>t.initialize()}},{provide:Xm,useFactory:WE},{provide:Vm,useFactory:jm}]}(()=>o)),u=i.injector.get(ts,null);return o.runOutsideAngular(()=>{const p=o.onError.subscribe({next:v=>{u.handleError(v)}});i.onDestroy(()=>{Lc(this._modules,i),p.unsubscribe()})}),function Km(e,t,n){try{const r=n();return bu(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,o,()=>{const p=i.injector.get(td);return p.runInitializers(),p.donePromise.then(()=>(function dg(e){dn(e,"Expected localeId to be defined"),"string"==typeof e&&(ug=e.toLowerCase().replace(/_/g,"-"))}(i.injector.get(Fc,ms)||ms),this._moduleDoBootstrap(i),i))})})}bootstrapModule(n,r=[]){const o=Jm({},r);return function jE(e,t,n){const r=new ju(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(n){const r=n.injector.get(Cs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new ke(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(id,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ct(di))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Jm(e,t){return Array.isArray(t)?t.reduce(Jm,e):{...e,...t}}let Cs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gt(Xm),this.zoneIsStable=gt(Vm),this.componentTypes=[],this.components=[],this.isStable=gt(xm).hasPendingTasks.pipe((0,He.w)(n=>n?(0,ie.of)(!1):this.zoneIsStable),function ue(e,t=$.y){return e=e??ge,(0,Oe.e)((n,r)=>{let o,i=!0;n.subscribe((0,W.x)(r,u=>{const p=t(u);(i||!e(o,p))&&(i=!1,o=p,r.next(u))}))})}(),me()),this._injector=gt(Si)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Qf;if(!this._injector.get(td).done)throw!o&&mr(n),new ke(405,!1);let u;u=o?n:this._injector.get(uc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const p=function $E(e){return e.isBoundToModule}(u)?void 0:this._injector.get(ys),w=u.create(di.NULL,[],r||u.selector,p),A=w.location.nativeElement,V=w.injector.get($m,null);return V?.registerApplication(A),w.onDestroy(()=>{this.detachView(w.hostView),Lc(this.components,w),V?.unregisterApplication(A)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new ke(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Lc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(sd,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ke(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xm=new rn("",{providedIn:"root",factory:()=>gt(ts).handleError.bind(void 0)});function WE(){const e=gt(kr),t=gt(ts);return n=>e.runOutsideAngular(()=>t.handleError(n))}let YE=(()=>{class e{constructor(){this.zone=gt(kr),this.applicationRef=gt(Cs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let qE=(()=>{class e{}return e.__NG_ELEMENT_ID__=KE,e})();function KE(e){return function JE(e,t,n){if(Hn(e)&&!n){const r=yn(e.index,t);return new ra(r,r)}return 47&e.type?new ra(t[sn],t):null}(qn(),Re(),16==(16&e))}class oy{constructor(){}supports(t){return vc(t)}create(t){return new rS(t)}}const nS=(e,t)=>t;class rS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const u=!r||n&&n.currentIndex<sy(r,o,i)?n:r,p=sy(u,o,i),v=u.currentIndex;if(u===r)o--,r=r._nextRemoved;else if(n=n._next,null==u.previousIndex)o++;else{i||(i=[]);const w=p-o,A=v-o;if(w!=A){for(let ee=0;ee<w;ee++){const fe=ee<i.length?i[ee]:i[ee]=0,Me=fe+ee;A<=Me&&Me<w&&(i[ee]=fe+1)}i[u.previousIndex]=A-w}}p!==v&&t(u,p,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!vc(t))throw new ke(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,u,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)i=t[p],u=this._trackByFn(p,i),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,i,u,p)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,u,p),r=!0),n=n._next}else o=0,function BC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,p=>{u=this._trackByFn(o,p),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,p,u,o)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,u,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new oS(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new iy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class iy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new iS,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sy(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class ay{constructor(){}supports(t){return t instanceof Map||uu(t)}create(){return new sS}}class sS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||uu(t)))throw new ke(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const i=o._prev,u=o._next;return i&&(i._next=u),u&&(u._prev=i),o._next=null,o._prev=null,o}const r=new aS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class aS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cy(){return new fd([new oy])}let fd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||cy()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new ke(901,!1)}}return e.\u0275prov=Nt({token:e,providedIn:"root",factory:cy}),e})();function ly(){return new hd([new ay])}let hd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ly()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new ke(901,!1)}}return e.\u0275prov=Nt({token:e,providedIn:"root",factory:ly}),e})();const uS=Wm(null,"core",[]);let dS=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ct(Cs))},e.\u0275mod=lo({type:e}),e.\u0275inj=Ye({}),e})();function CS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function bS(e){const t=Tt(e);if(!t)return null;const n=new oa(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},95:(Xe,K,M)=>{"use strict";M.d(K,{Wl:()=>$,Fj:()=>z,NI:()=>xn,u:()=>Gt,cw:()=>ct,sg:()=>$e,u5:()=>jt,JJ:()=>Ye,JL:()=>nt,YN:()=>_r,eT:()=>Br,UX:()=>oi,Q7:()=>An,EJ:()=>Un,_Y:()=>uo,Kr:()=>Pr});var c=M(4946),k=M(6814),J=M(7715),Z=M(5592),q=M(7453),pe=M(4829),Ee=M(4564),L=M(8251),F=M(7400),Q=M(2714),_e=M(7398);let Oe=(()=>{class S{constructor(C,a){this._renderer=C,this._elementRef=a,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(C,a){this._renderer.setProperty(this._elementRef.nativeElement,C,a)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return S.\u0275fac=function(C){return new(C||S)(c.Y36(c.Qsj),c.Y36(c.SBq))},S.\u0275dir=c.lG2({type:S}),S})(),me=(()=>{class S extends Oe{}return S.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(S)))(a||S)}}(),S.\u0275dir=c.lG2({type:S,features:[c.qOj]}),S})();const Ne=new c.OlP("NgValueAccessor"),He={provide:Ne,useExisting:(0,c.Gpc)(()=>$),multi:!0};let $=(()=>{class S extends me{writeValue(C){this.setProperty("checked",C)}}return S.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(S)))(a||S)}}(),S.\u0275dir=c.lG2({type:S,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(C,a){1&C&&c.NdJ("change",function(l){return a.onChange(l.target.checked)})("blur",function(){return a.onTouched()})},features:[c._Bn([He]),c.qOj]}),S})();const W={provide:Ne,useExisting:(0,c.Gpc)(()=>z),multi:!0},ge=new c.OlP("CompositionEventMode");let z=(()=>{class S extends Oe{constructor(C,a,s){super(C,a),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ue(){const S=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(S.toLowerCase())}())}writeValue(C){this.setProperty("value",C??"")}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return S.\u0275fac=function(C){return new(C||S)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ge,8))},S.\u0275dir=c.lG2({type:S,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,a){1&C&&c.NdJ("input",function(l){return a._handleInput(l.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(l){return a._compositionEnd(l.target.value)})},features:[c._Bn([W]),c.qOj]}),S})();const Y=new c.OlP("NgValidators"),re=new c.OlP("NgAsyncValidators");function ot(S){return function he(S){return null==S||("string"==typeof S||Array.isArray(S))&&0===S.length}(S.value)?{required:!0}:null}function Ae(S){return null}function Le(S){return null!=S}function Pe(S){return(0,c.QGY)(S)?(0,J.D)(S):S}function Ve(S){let b={};return S.forEach(C=>{b=null!=C?{...b,...C}:b}),0===Object.keys(b).length?null:b}function Ze(S,b){return b.map(C=>C(S))}function tt(S){return S.map(b=>function Kt(S){return!S.validate}(b)?b:C=>b.validate(C))}function Dt(S){return null!=S?function ht(S){if(!S)return null;const b=S.filter(Le);return 0==b.length?null:function(C){return Ve(Ze(C,b))}}(tt(S)):null}function Vt(S){return null!=S?function pt(S){if(!S)return null;const b=S.filter(Le);return 0==b.length?null:function(C){return function ie(...S){const b=(0,Ee.jO)(S),{args:C,keys:a}=(0,q.D)(S),s=new Z.y(l=>{const{length:h}=C;if(!h)return void l.complete();const y=new Array(h);let E=h,P=h;for(let x=0;x<h;x++){let U=!1;(0,pe.Xf)(C[x]).subscribe((0,L.x)(l,j=>{U||(U=!0,P--),y[x]=j},()=>E--,void 0,()=>{(!E||!U)&&(P||l.next(a?(0,Q.n)(a,y):y),l.complete())}))}});return b?s.pipe((0,F.Z)(b)):s}(Ze(C,b).map(Pe)).pipe((0,_e.U)(Ve))}}(tt(S)):null}function vn(S,b){return null===S?[b]:Array.isArray(S)?[...S,b]:[S,b]}function _n(S){return S._rawValidators}function tn(S){return S._rawAsyncValidators}function Tn(S){return S?Array.isArray(S)?S:[S]:[]}function Yt(S,b){return Array.isArray(S)?S.includes(b):S===b}function sr(S,b){const C=Tn(b);return Tn(S).forEach(s=>{Yt(C,s)||C.push(s)}),C}function dn(S,b){return Tn(b).filter(C=>!Yt(S,C))}class Fe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(b){this._rawValidators=b||[],this._composedValidatorFn=Dt(this._rawValidators)}_setAsyncValidators(b){this._rawAsyncValidators=b||[],this._composedAsyncValidatorFn=Vt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(b){this._onDestroyCallbacks.push(b)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(b=>b()),this._onDestroyCallbacks=[]}reset(b=void 0){this.control&&this.control.reset(b)}hasError(b,C){return!!this.control&&this.control.hasError(b,C)}getError(b,C){return this.control?this.control.getError(b,C):null}}class Jt extends Fe{get formDirective(){return null}get path(){return null}}class Nn extends Fe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Rn{constructor(b){this._cd=b}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ye=(()=>{class S extends Rn{constructor(C){super(C)}}return S.\u0275fac=function(C){return new(C||S)(c.Y36(Nn,2))},S.\u0275dir=c.lG2({type:S,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,a){2&C&&c.ekj("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[c.qOj]}),S})(),nt=(()=>{class S extends Rn{constructor(C){super(C)}}return S.\u0275fac=function(C){return new(C||S)(c.Y36(Jt,10))},S.\u0275dir=c.lG2({type:S,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,a){2&C&&c.ekj("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)("ng-submitted",a.isSubmitted)},features:[c.qOj]}),S})();const jn="VALID",Mn="INVALID",Qn="PENDING",Ut="DISABLED";function $n(S){return(se(S)?S.validators:S)||null}function oe(S,b){return(se(b)?b.asyncValidators:S)||null}function se(S){return null!=S&&!Array.isArray(S)&&"object"==typeof S}class qe{constructor(b,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(b),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(b){this._rawValidators=this._composedValidatorFn=b}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(b){this._rawAsyncValidators=this._composedAsyncValidatorFn=b}get parent(){return this._parent}get valid(){return this.status===jn}get invalid(){return this.status===Mn}get pending(){return this.status==Qn}get disabled(){return this.status===Ut}get enabled(){return this.status!==Ut}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(b){this._assignValidators(b)}setAsyncValidators(b){this._assignAsyncValidators(b)}addValidators(b){this.setValidators(sr(b,this._rawValidators))}addAsyncValidators(b){this.setAsyncValidators(sr(b,this._rawAsyncValidators))}removeValidators(b){this.setValidators(dn(b,this._rawValidators))}removeAsyncValidators(b){this.setAsyncValidators(dn(b,this._rawAsyncValidators))}hasValidator(b){return Yt(this._rawValidators,b)}hasAsyncValidator(b){return Yt(this._rawAsyncValidators,b)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(b={}){this.touched=!0,this._parent&&!b.onlySelf&&this._parent.markAsTouched(b)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(b=>b.markAllAsTouched())}markAsUntouched(b={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!b.onlySelf&&this._parent._updateTouched(b)}markAsDirty(b={}){this.pristine=!1,this._parent&&!b.onlySelf&&this._parent.markAsDirty(b)}markAsPristine(b={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!b.onlySelf&&this._parent._updatePristine(b)}markAsPending(b={}){this.status=Qn,!1!==b.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!b.onlySelf&&this._parent.markAsPending(b)}disable(b={}){const C=this._parentMarkedDirty(b.onlySelf);this.status=Ut,this.errors=null,this._forEachChild(a=>{a.disable({...b,onlySelf:!0})}),this._updateValue(),!1!==b.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...b,skipPristineCheck:C}),this._onDisabledChange.forEach(a=>a(!0))}enable(b={}){const C=this._parentMarkedDirty(b.onlySelf);this.status=jn,this._forEachChild(a=>{a.enable({...b,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:b.emitEvent}),this._updateAncestors({...b,skipPristineCheck:C}),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(b){this._parent&&!b.onlySelf&&(this._parent.updateValueAndValidity(b),b.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(b){this._parent=b}getRawValue(){return this.value}updateValueAndValidity(b={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jn||this.status===Qn)&&this._runAsyncValidator(b.emitEvent)),!1!==b.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!b.onlySelf&&this._parent.updateValueAndValidity(b)}_updateTreeValidity(b={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(b)),this.updateValueAndValidity({onlySelf:!0,emitEvent:b.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ut:jn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(b){if(this.asyncValidator){this.status=Qn,this._hasOwnPendingAsyncValidator=!0;const C=Pe(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:b})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(b,C={}){this.errors=b,this._updateControlsErrors(!1!==C.emitEvent)}get(b){let C=b;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce((a,s)=>a&&a._find(s),this)}getError(b,C){const a=C?this.get(C):this;return a&&a.errors?a.errors[b]:null}hasError(b,C){return!!this.getError(b,C)}get root(){let b=this;for(;b._parent;)b=b._parent;return b}_updateControlsErrors(b){this.status=this._calculateStatus(),b&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(b)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ut:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qn)?Qn:this._anyControlsHaveStatus(Mn)?Mn:jn}_anyControlsHaveStatus(b){return this._anyControls(C=>C.status===b)}_anyControlsDirty(){return this._anyControls(b=>b.dirty)}_anyControlsTouched(){return this._anyControls(b=>b.touched)}_updatePristine(b={}){this.pristine=!this._anyControlsDirty(),this._parent&&!b.onlySelf&&this._parent._updatePristine(b)}_updateTouched(b={}){this.touched=this._anyControlsTouched(),this._parent&&!b.onlySelf&&this._parent._updateTouched(b)}_registerOnCollectionChange(b){this._onCollectionChange=b}_setUpdateStrategy(b){se(b)&&null!=b.updateOn&&(this._updateOn=b.updateOn)}_parentMarkedDirty(b){return!b&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(b){return null}_assignValidators(b){this._rawValidators=Array.isArray(b)?b.slice():b,this._composedValidatorFn=function be(S){return Array.isArray(S)?Dt(S):S||null}(this._rawValidators)}_assignAsyncValidators(b){this._rawAsyncValidators=Array.isArray(b)?b.slice():b,this._composedAsyncValidatorFn=function H(S){return Array.isArray(S)?Vt(S):S||null}(this._rawAsyncValidators)}}class ct extends qe{constructor(b,C,a){super($n(C),oe(a,C)),this.controls=b,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(b,C){return this.controls[b]?this.controls[b]:(this.controls[b]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(b,C,a={}){this.registerControl(b,C),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(b,C={}){this.controls[b]&&this.controls[b]._registerOnCollectionChange(()=>{}),delete this.controls[b],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(b,C,a={}){this.controls[b]&&this.controls[b]._registerOnCollectionChange(()=>{}),delete this.controls[b],C&&this.registerControl(b,C),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(b){return this.controls.hasOwnProperty(b)&&this.controls[b].enabled}setValue(b,C={}){(function je(S,b,C){S._forEachChild((a,s)=>{if(void 0===C[s])throw new c.vHH(1002,"")})})(this,0,b),Object.keys(b).forEach(a=>{(function de(S,b,C){const a=S.controls;if(!(b?Object.keys(a):a).length)throw new c.vHH(1e3,"");if(!a[C])throw new c.vHH(1001,"")})(this,!0,a),this.controls[a].setValue(b[a],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(b,C={}){null!=b&&(Object.keys(b).forEach(a=>{const s=this.controls[a];s&&s.patchValue(b[a],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(b={},C={}){this._forEachChild((a,s)=>{a.reset(b[s],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(b,C,a)=>(b[a]=C.getRawValue(),b))}_syncPendingControls(){let b=this._reduceChildren(!1,(C,a)=>!!a._syncPendingControls()||C);return b&&this.updateValueAndValidity({onlySelf:!0}),b}_forEachChild(b){Object.keys(this.controls).forEach(C=>{const a=this.controls[C];a&&b(a,C)})}_setUpControls(){this._forEachChild(b=>{b.setParent(this),b._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(b){for(const[C,a]of Object.entries(this.controls))if(this.contains(C)&&b(a))return!0;return!1}_reduceValue(){return this._reduceChildren({},(C,a,s)=>((a.enabled||this.disabled)&&(C[s]=a.value),C))}_reduceChildren(b,C){let a=b;return this._forEachChild((s,l)=>{a=C(a,s,l)}),a}_allControlsDisabled(){for(const b of Object.keys(this.controls))if(this.controls[b].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(b){return this.controls.hasOwnProperty(b)?this.controls[b]:null}}const Ht=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>vt}),vt="always";function fn(S,b,C=vt){Ln(S,b),b.valueAccessor.writeValue(S.value),(S.disabled||"always"===C)&&b.valueAccessor.setDisabledState?.(S.disabled),function Bn(S,b){b.valueAccessor.registerOnChange(C=>{S._pendingValue=C,S._pendingChange=!0,S._pendingDirty=!0,"change"===S.updateOn&&Ir(S,b)})}(S,b),function ro(S,b){const C=(a,s)=>{b.valueAccessor.writeValue(a),s&&b.viewToModelUpdate(a)};S.registerOnChange(C),b._registerOnDestroy(()=>{S._unregisterOnChange(C)})}(S,b),function zr(S,b){b.valueAccessor.registerOnTouched(()=>{S._pendingTouched=!0,"blur"===S.updateOn&&S._pendingChange&&Ir(S,b),"submit"!==S.updateOn&&S.markAsTouched()})}(S,b),function Yn(S,b){if(b.valueAccessor.setDisabledState){const C=a=>{b.valueAccessor.setDisabledState(a)};S.registerOnDisabledChange(C),b._registerOnDestroy(()=>{S._unregisterOnDisabledChange(C)})}}(S,b)}function mt(S,b,C=!0){const a=()=>{};b.valueAccessor&&(b.valueAccessor.registerOnChange(a),b.valueAccessor.registerOnTouched(a)),bt(S,b),S&&(b._invokeOnDestroyCallbacks(),S._registerOnCollectionChange(()=>{}))}function In(S,b){S.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(b)})}function Ln(S,b){const C=_n(S);null!==b.validator?S.setValidators(vn(C,b.validator)):"function"==typeof C&&S.setValidators([C]);const a=tn(S);null!==b.asyncValidator?S.setAsyncValidators(vn(a,b.asyncValidator)):"function"==typeof a&&S.setAsyncValidators([a]);const s=()=>S.updateValueAndValidity();In(b._rawValidators,s),In(b._rawAsyncValidators,s)}function bt(S,b){let C=!1;if(null!==S){if(null!==b.validator){const s=_n(S);if(Array.isArray(s)&&s.length>0){const l=s.filter(h=>h!==b.validator);l.length!==s.length&&(C=!0,S.setValidators(l))}}if(null!==b.asyncValidator){const s=tn(S);if(Array.isArray(s)&&s.length>0){const l=s.filter(h=>h!==b.asyncValidator);l.length!==s.length&&(C=!0,S.setAsyncValidators(l))}}}const a=()=>{};return In(b._rawValidators,a),In(b._rawAsyncValidators,a),C}function Ir(S,b){S._pendingDirty&&S.markAsDirty(),S.setValue(S._pendingValue,{emitModelToViewChange:!1}),b.viewToModelUpdate(S._pendingValue),S._pendingChange=!1}function so(S,b){const C=S.indexOf(b);C>-1&&S.splice(C,1)}function Vr(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}const xn=class extends qe{constructor(b=null,C,a){super($n(C),oe(a,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(b),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),se(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=Vr(b)?b.value:b)}setValue(b,C={}){this.value=this._pendingValue=b,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(b,C={}){this.setValue(b,C)}reset(b=this.defaultValue,C={}){this._applyFormState(b),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(b){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(b){this._onChange.push(b)}_unregisterOnChange(b){so(this._onChange,b)}registerOnDisabledChange(b){this._onDisabledChange.push(b)}_unregisterOnDisabledChange(b){so(this._onDisabledChange,b)}_forEachChild(b){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(b){Vr(b)?(this.value=this._pendingValue=b.value,b.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=b}};let uo=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275dir=c.lG2({type:S,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),S})(),ln=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({}),S})();const Eo={provide:Ne,useExisting:(0,c.Gpc)(()=>Br),multi:!0};let Br=(()=>{class S extends me{writeValue(C){this.setProperty("value",parseFloat(C))}registerOnChange(C){this.onChange=a=>{C(""==a?null:parseFloat(a))}}}return S.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(S)))(a||S)}}(),S.\u0275dir=c.lG2({type:S,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(C,a){1&C&&c.NdJ("change",function(l){return a.onChange(l.target.value)})("input",function(l){return a.onChange(l.target.value)})("blur",function(){return a.onTouched()})},features:[c._Bn([Eo]),c.qOj]}),S})();const yr=new c.OlP("NgModelWithFormControlWarning"),ve={provide:Jt,useExisting:(0,c.Gpc)(()=>$e)};let $e=(()=>{class S extends Jt{constructor(C,a,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(C),this._setAsyncValidators(a)}ngOnChanges(C){this._checkFormPresent(),C.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(C){const a=this.form.get(C.path);return fn(a,C,this.callSetDisabledState),a.updateValueAndValidity({emitEvent:!1}),this.directives.push(C),a}getControl(C){return this.form.get(C.path)}removeControl(C){mt(C.control||null,C,!1),function gr(S,b){const C=S.indexOf(b);C>-1&&S.splice(C,1)}(this.directives,C)}addFormGroup(C){this._setUpFormContainer(C)}removeFormGroup(C){this._cleanUpFormContainer(C)}getFormGroup(C){return this.form.get(C.path)}addFormArray(C){this._setUpFormContainer(C)}removeFormArray(C){this._cleanUpFormContainer(C)}getFormArray(C){return this.form.get(C.path)}updateModel(C,a){this.form.get(C.path).setValue(a)}onSubmit(C){return this.submitted=!0,function No(S,b){S._syncPendingControls(),b.forEach(C=>{const a=C.control;"submit"===a.updateOn&&a._pendingChange&&(C.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(C),"dialog"===C?.target?.method}onReset(){this.resetForm()}resetForm(C=void 0){this.form.reset(C),this.submitted=!1}_updateDomValue(){this.directives.forEach(C=>{const a=C.control,s=this.form.get(C.path);a!==s&&(mt(a||null,C),(S=>S instanceof xn)(s)&&(fn(s,C,this.callSetDisabledState),C.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(C){const a=this.form.get(C.path);(function bn(S,b){Ln(S,b)})(a,C),a.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(C){if(this.form){const a=this.form.get(C.path);a&&function Pn(S,b){return bt(S,b)}(a,C)&&a.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ln(this.form,this),this._oldForm&&bt(this._oldForm,this)}_checkFormPresent(){}}return S.\u0275fac=function(C){return new(C||S)(c.Y36(Y,10),c.Y36(re,10),c.Y36(Ht,8))},S.\u0275dir=c.lG2({type:S,selectors:[["","formGroup",""]],hostBindings:function(C,a){1&C&&c.NdJ("submit",function(l){return a.onSubmit(l)})("reset",function(){return a.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ve]),c.qOj,c.TTD]}),S})();const Zn={provide:Nn,useExisting:(0,c.Gpc)(()=>Gt)};let Gt=(()=>{class S extends Nn{set isDisabled(C){}constructor(C,a,s,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=C,this._setValidators(a),this._setAsyncValidators(s),this.valueAccessor=function Lr(S,b){if(!b)return null;let C,a,s;return Array.isArray(b),b.forEach(l=>{l.constructor===z?C=l:function Fr(S){return Object.getPrototypeOf(S.constructor)===me}(l)?a=l:s=l}),s||a||C||null}(0,l)}ngOnChanges(C){this._added||this._setUpControl(),function pr(S,b){if(!S.hasOwnProperty("model"))return!1;const C=S.model;return!!C.isFirstChange()||!Object.is(b,C.currentValue)}(C,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}get path(){return function Dn(S,b){return[...b.path,S]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return S._ngModelWarningSentOnce=!1,S.\u0275fac=function(C){return new(C||S)(c.Y36(Jt,13),c.Y36(Y,10),c.Y36(re,10),c.Y36(Ne,10),c.Y36(yr,8))},S.\u0275dir=c.lG2({type:S,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Zn]),c.qOj,c.TTD]}),S})();const lr={provide:Ne,useExisting:(0,c.Gpc)(()=>Un),multi:!0};function er(S,b){return null==S?`${b}`:(b&&"object"==typeof b&&(b="Object"),`${S}: ${b}`.slice(0,50))}let Un=(()=>{class S extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(C){this._compareWith=C}writeValue(C){this.value=C;const s=er(this._getOptionId(C),C);this.setProperty("value",s)}registerOnChange(C){this.onChange=a=>{this.value=this._getOptionValue(a),C(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(C){for(const a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a),C))return a;return null}_getOptionValue(C){const a=function at(S){return S.split(":")[0]}(C);return this._optionMap.has(a)?this._optionMap.get(a):C}}return S.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(S)))(a||S)}}(),S.\u0275dir=c.lG2({type:S,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(C,a){1&C&&c.NdJ("change",function(l){return a.onChange(l.target.value)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([lr]),c.qOj]}),S})(),_r=(()=>{class S{constructor(C,a,s){this._element=C,this._renderer=a,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(C){null!=this._select&&(this._select._optionMap.set(this.id,C),this._setElementValue(er(this.id,C)),this._select.writeValue(this._select.value))}set value(C){this._setElementValue(C),this._select&&this._select.writeValue(this._select.value)}_setElementValue(C){this._renderer.setProperty(this._element.nativeElement,"value",C)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(C){return new(C||S)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Un,9))},S.\u0275dir=c.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})();const Cr={provide:Ne,useExisting:(0,c.Gpc)(()=>Vn),multi:!0};function sn(S,b){return null==S?`${b}`:("string"==typeof b&&(b=`'${b}'`),b&&"object"==typeof b&&(b="Object"),`${S}: ${b}`.slice(0,50))}let Vn=(()=>{class S extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(C){this._compareWith=C}writeValue(C){let a;if(this.value=C,Array.isArray(C)){const s=C.map(l=>this._getOptionId(l));a=(l,h)=>{l._setSelected(s.indexOf(h.toString())>-1)}}else a=(s,l)=>{s._setSelected(!1)};this._optionMap.forEach(a)}registerOnChange(C){this.onChange=a=>{const s=[],l=a.selectedOptions;if(void 0!==l){const h=l;for(let y=0;y<h.length;y++){const P=this._getOptionValue(h[y].value);s.push(P)}}else{const h=a.options;for(let y=0;y<h.length;y++){const E=h[y];if(E.selected){const P=this._getOptionValue(E.value);s.push(P)}}}this.value=s,C(s)}}_registerOption(C){const a=(this._idCounter++).toString();return this._optionMap.set(a,C),a}_getOptionId(C){for(const a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a)._value,C))return a;return null}_getOptionValue(C){const a=function ho(S){return S.split(":")[0]}(C);return this._optionMap.has(a)?this._optionMap.get(a)._value:C}}return S.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(S)))(a||S)}}(),S.\u0275dir=c.lG2({type:S,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(C,a){1&C&&c.NdJ("change",function(l){return a.onChange(l.target)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Cr]),c.qOj]}),S})(),Pr=(()=>{class S{constructor(C,a,s){this._element=C,this._renderer=a,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(C){null!=this._select&&(this._value=C,this._setElementValue(sn(this.id,C)),this._select.writeValue(this._select.value))}set value(C){this._select?(this._value=C,this._setElementValue(sn(this.id,C)),this._select.writeValue(this._select.value)):this._setElementValue(C)}_setElementValue(C){this._renderer.setProperty(this._element.nativeElement,"value",C)}_setSelected(C){this._renderer.setProperty(this._element.nativeElement,"selected",C)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(C){return new(C||S)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Vn,9))},S.\u0275dir=c.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})(),wn=(()=>{class S{constructor(){this._validator=Ae}ngOnChanges(C){if(this.inputName in C){const a=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled(a),this._validator=this._enabled?this.createValidator(a):Ae,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275dir=c.lG2({type:S,features:[c.TTD]}),S})();const So={provide:Y,useExisting:(0,c.Gpc)(()=>An),multi:!0};let An=(()=>{class S extends wn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=C=>ot}enabled(C){return C}}return S.\u0275fac=function(){let b;return function(a){return(b||(b=c.n5z(S)))(a||S)}}(),S.\u0275dir=c.lG2({type:S,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(C,a){2&C&&c.uIk("required",a._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([So]),c.qOj]}),S})(),Qr=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({imports:[ln]}),S})(),jt=(()=>{class S{static withConfig(C){return{ngModule:S,providers:[{provide:Ht,useValue:C.callSetDisabledState??vt}]}}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({imports:[Qr]}),S})(),oi=(()=>{class S{static withConfig(C){return{ngModule:S,providers:[{provide:yr,useValue:C.warnOnNgModelWithFormControl??"always"},{provide:Ht,useValue:C.callSetDisabledState??vt}]}}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({imports:[Qr]}),S})()},6593:(Xe,K,M)=>{"use strict";M.d(K,{Dx:()=>Nn,b2:()=>Yt,q6:()=>vn});var c=M(4946),k=M(6814);class J extends k.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Z extends J{static makeCurrent(){(0,k.HT)(new Z)}onAndCancel(oe,H,se){return oe.addEventListener(H,se),()=>{oe.removeEventListener(H,se)}}dispatchEvent(oe,H){oe.dispatchEvent(H)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,H){return(H=H||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,H){return"window"===H?window:"document"===H?oe:"body"===H?oe.body:null}getBaseHref(oe){const H=function pe(){return q=q||document.querySelector("base"),q?q.getAttribute("href"):null}();return null==H?null:function L(be){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",be);const oe=Ee.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(H)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,k.Mx)(document.cookie,oe)}}let Ee,q=null,Q=(()=>{class be{build(){return new XMLHttpRequest}}return be.\u0275fac=function(H){return new(H||be)},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})();const ie=new c.OlP("EventManagerPlugins");let _e=(()=>{class be{constructor(H,se){this._zone=se,this._eventNameToPlugin=new Map,H.forEach(de=>{de.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,se,de){return this._findPluginFor(se).addEventListener(H,se,de)}getZone(){return this._zone}_findPluginFor(H){let se=this._eventNameToPlugin.get(H);if(se)return se;if(se=this._plugins.find(je=>je.supports(H)),!se)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(H,se),se}}return be.\u0275fac=function(H){return new(H||be)(c.LFG(ie),c.LFG(c.R0b))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})();class Oe{constructor(oe){this._doc=oe}}const me="ng-app-id";let Ne=(()=>{class be{constructor(H,se,de,je={}){this.doc=H,this.appId=se,this.nonce=de,this.platformId=je,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,k.PM)(je),this.resetHostNodes()}addStyles(H){for(const se of H)1===this.changeUsageCount(se,1)&&this.onStyleAdded(se)}removeStyles(H){for(const se of H)this.changeUsageCount(se,-1)<=0&&this.onStyleRemoved(se)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(se=>se.remove()),H.clear());for(const se of this.getAllStyles())this.onStyleRemoved(se);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const se of this.getAllStyles())this.addStyleToHost(H,se)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const se of this.hostNodes)this.addStyleToHost(se,H)}onStyleRemoved(H){const se=this.styleRef;se.get(H)?.elements?.forEach(de=>de.remove()),se.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${me}="${this.appId}"]`);if(H?.length){const se=new Map;return H.forEach(de=>{null!=de.textContent&&se.set(de.textContent,de)}),se}return null}changeUsageCount(H,se){const de=this.styleRef;if(de.has(H)){const je=de.get(H);return je.usage+=se,je.usage}return de.set(H,{usage:se,elements:[]}),se}getStyleElement(H,se){const de=this.styleNodesInDOM,je=de?.get(se);if(je?.parentNode===H)return de.delete(se),je.removeAttribute(me),je;{const qe=this.doc.createElement("style");return this.nonce&&qe.setAttribute("nonce",this.nonce),qe.textContent=se,this.platformIsServer&&qe.setAttribute(me,this.appId),qe}}addStyleToHost(H,se){const de=this.getStyleElement(H,se);H.appendChild(de);const je=this.styleRef,qe=je.get(se)?.elements;qe?qe.push(de):je.set(se,{elements:[de],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}}return be.\u0275fac=function(H){return new(H||be)(c.LFG(k.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})();const He={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$=/%COMP%/g,W="%COMP%",ue=`_nghost-${W}`,ge=`_ngcontent-${W}`,he=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function re(be,oe){return oe.map(H=>H.replace($,be))}let X=(()=>{class be{constructor(H,se,de,je,qe,ct,rt,gt=null){this.eventManager=H,this.sharedStylesHost=se,this.appId=de,this.removeStylesOnCompDestory=je,this.doc=qe,this.platformId=ct,this.ngZone=rt,this.nonce=gt,this.rendererByCompId=new Map,this.platformIsServer=(0,k.PM)(ct),this.defaultRenderer=new le(H,qe,rt,this.platformIsServer)}createRenderer(H,se){if(!H||!se)return this.defaultRenderer;this.platformIsServer&&se.encapsulation===c.ifc.ShadowDom&&(se={...se,encapsulation:c.ifc.Emulated});const de=this.getOrCreateRenderer(H,se);return de instanceof ye?de.applyToHost(H):de instanceof ke&&de.applyStyles(),de}getOrCreateRenderer(H,se){const de=this.rendererByCompId;let je=de.get(se.id);if(!je){const qe=this.doc,ct=this.ngZone,rt=this.eventManager,gt=this.sharedStylesHost,Cn=this.removeStylesOnCompDestory,Wn=this.platformIsServer;switch(se.encapsulation){case c.ifc.Emulated:je=new ye(rt,gt,se,this.appId,Cn,qe,ct,Wn);break;case c.ifc.ShadowDom:return new Ct(rt,gt,H,se,qe,ct,this.nonce,Wn);default:je=new ke(rt,gt,se,Cn,qe,ct,Wn)}je.onDestroy=()=>de.delete(se.id),de.set(se.id,je)}return je}ngOnDestroy(){this.rendererByCompId.clear()}}return be.\u0275fac=function(H){return new(H||be)(c.LFG(_e),c.LFG(Ne),c.LFG(c.AFp),c.LFG(he),c.LFG(k.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})();class le{constructor(oe,H,se,de){this.eventManager=oe,this.doc=H,this.ngZone=se,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(oe,H){return H?this.doc.createElementNS(He[H]||H,oe):this.doc.createElement(oe)}createComment(oe){return this.doc.createComment(oe)}createText(oe){return this.doc.createTextNode(oe)}appendChild(oe,H){(ot(oe)?oe.content:oe).appendChild(H)}insertBefore(oe,H,se){oe&&(ot(oe)?oe.content:oe).insertBefore(H,se)}removeChild(oe,H){oe&&oe.removeChild(H)}selectRootElement(oe,H){let se="string"==typeof oe?this.doc.querySelector(oe):oe;if(!se)throw new c.vHH(5104,!1);return H||(se.textContent=""),se}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,H,se,de){if(de){H=de+":"+H;const je=He[de];je?oe.setAttributeNS(je,H,se):oe.setAttribute(H,se)}else oe.setAttribute(H,se)}removeAttribute(oe,H,se){if(se){const de=He[se];de?oe.removeAttributeNS(de,H):oe.removeAttribute(`${se}:${H}`)}else oe.removeAttribute(H)}addClass(oe,H){oe.classList.add(H)}removeClass(oe,H){oe.classList.remove(H)}setStyle(oe,H,se,de){de&(c.JOm.DashCase|c.JOm.Important)?oe.style.setProperty(H,se,de&c.JOm.Important?"important":""):oe.style[H]=se}removeStyle(oe,H,se){se&c.JOm.DashCase?oe.style.removeProperty(H):oe.style[H]=""}setProperty(oe,H,se){oe[H]=se}setValue(oe,H){oe.nodeValue=H}listen(oe,H,se){if("string"==typeof oe&&!(oe=(0,k.q)().getGlobalEventTarget(this.doc,oe)))throw new Error(`Unsupported event target ${oe} for event ${H}`);return this.eventManager.addEventListener(oe,H,this.decoratePreventDefault(se))}decoratePreventDefault(oe){return H=>{if("__ngUnwrap__"===H)return oe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>oe(H)):oe(H))&&H.preventDefault()}}}function ot(be){return"TEMPLATE"===be.tagName&&void 0!==be.content}class Ct extends le{constructor(oe,H,se,de,je,qe,ct,rt){super(oe,je,qe,rt),this.sharedStylesHost=H,this.hostEl=se,this.shadowRoot=se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gt=re(de.id,de.styles);for(const Cn of gt){const Wn=document.createElement("style");ct&&Wn.setAttribute("nonce",ct),Wn.textContent=Cn,this.shadowRoot.appendChild(Wn)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}appendChild(oe,H){return super.appendChild(this.nodeOrShadowRoot(oe),H)}insertBefore(oe,H,se){return super.insertBefore(this.nodeOrShadowRoot(oe),H,se)}removeChild(oe,H){return super.removeChild(this.nodeOrShadowRoot(oe),H)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ke extends le{constructor(oe,H,se,de,je,qe,ct,rt){super(oe,je,qe,ct),this.sharedStylesHost=H,this.removeStylesOnCompDestory=de,this.rendererUsageCount=0,this.styles=rt?re(rt,se.styles):se.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ye extends ke{constructor(oe,H,se,de,je,qe,ct,rt){const gt=de+"-"+se.id;super(oe,H,se,je,qe,ct,rt,gt),this.contentAttr=function B(be){return ge.replace($,be)}(gt),this.hostAttr=function Y(be){return ue.replace($,be)}(gt)}applyToHost(oe){this.applyStyles(),this.setAttribute(oe,this.hostAttr,"")}createElement(oe,H){const se=super.createElement(oe,H);return super.setAttribute(se,this.contentAttr,""),se}}let te=(()=>{class be extends Oe{constructor(H){super(H)}supports(H){return!0}addEventListener(H,se,de){return H.addEventListener(se,de,!1),()=>this.removeEventListener(H,se,de)}removeEventListener(H,se,de){return H.removeEventListener(se,de)}}return be.\u0275fac=function(H){return new(H||be)(c.LFG(k.K0))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})();const ce=["alt","control","meta","shift"],Ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Le={alt:be=>be.altKey,control:be=>be.ctrlKey,meta:be=>be.metaKey,shift:be=>be.shiftKey};let Pe=(()=>{class be extends Oe{constructor(H){super(H)}supports(H){return null!=be.parseEventName(H)}addEventListener(H,se,de){const je=be.parseEventName(se),qe=be.eventCallback(je.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,k.q)().onAndCancel(H,je.domEventName,qe))}static parseEventName(H){const se=H.toLowerCase().split("."),de=se.shift();if(0===se.length||"keydown"!==de&&"keyup"!==de)return null;const je=be._normalizeKey(se.pop());let qe="",ct=se.indexOf("code");if(ct>-1&&(se.splice(ct,1),qe="code."),ce.forEach(gt=>{const Cn=se.indexOf(gt);Cn>-1&&(se.splice(Cn,1),qe+=gt+".")}),qe+=je,0!=se.length||0===je.length)return null;const rt={};return rt.domEventName=de,rt.fullKey=qe,rt}static matchEventFullKeyCode(H,se){let de=Ae[H.key]||H.key,je="";return se.indexOf("code.")>-1&&(de=H.code,je="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),ce.forEach(qe=>{qe!==de&&(0,Le[qe])(H)&&(je+=qe+".")}),je+=de,je===se)}static eventCallback(H,se,de){return je=>{be.matchEventFullKeyCode(je,H)&&de.runGuarded(()=>se(je))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return be.\u0275fac=function(H){return new(H||be)(c.LFG(k.K0))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})();const vn=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:k.bD},{provide:c.g9A,useValue:function ht(){Z.makeCurrent()},multi:!0},{provide:k.K0,useFactory:function pt(){return(0,c.RDi)(document),document},deps:[]}]),_n=new c.OlP(""),tn=[{provide:c.rWj,useClass:class F{addToWindow(oe){c.dqk.getAngularTestability=(se,de=!0)=>{const je=oe.findTestabilityInTree(se,de);if(null==je)throw new c.vHH(5103,!1);return je},c.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(se=>{const de=c.dqk.getAllAngularTestabilities();let je=de.length,qe=!1;const ct=function(rt){qe=qe||rt,je--,0==je&&se(qe)};de.forEach(function(rt){rt.whenStable(ct)})})}findTestabilityInTree(oe,H,se){return null==H?null:oe.getTestability(H)??(se?(0,k.q)().isShadowRoot(H)?this.findTestabilityInTree(oe,H.host,!0):this.findTestabilityInTree(oe,H.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Tn=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Dt(){return new c.qLn},deps:[]},{provide:ie,useClass:te,multi:!0,deps:[k.K0,c.R0b,c.Lbi]},{provide:ie,useClass:Pe,multi:!0,deps:[k.K0]},X,Ne,_e,{provide:c.FYo,useExisting:X},{provide:k.JF,useClass:Q,deps:[]},[]];let Yt=(()=>{class be{constructor(H){}static withServerTransition(H){return{ngModule:be,providers:[{provide:c.AFp,useValue:H.appId}]}}}return be.\u0275fac=function(H){return new(H||be)(c.LFG(_n,12))},be.\u0275mod=c.oAB({type:be}),be.\u0275inj=c.cJS({providers:[...Tn,...tn],imports:[k.ez,c.hGG]}),be})(),Nn=(()=>{class be{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return be.\u0275fac=function(H){return new(H||be)(c.LFG(k.K0))},be.\u0275prov=c.Yz7({token:be,factory:function(H){let se=null;return se=H?new H:function Jt(){return new Nn((0,c.LFG)(k.K0))}(),se},providedIn:"root"}),be})();typeof window<"u"&&window},6538:(Xe,K,M)=>{"use strict";M.d(K,{F0:()=>Or,rH:()=>ji,Od:()=>ws,Bz:()=>Pa,lC:()=>Un});var c=M(4946),k=M(5592),J=M(4674),q=M(7715),pe=M(2096),Ee=M(5619),L=M(7453),F=M(2737),Q=M(7400),ie=M(4564),_e=M(2714),Oe=M(8251),me=M(7103);function Ne(...f){const g=(0,ie.yG)(f),d=(0,ie.jO)(f),{args:m,keys:T}=(0,L.D)(f);if(0===m.length)return(0,q.D)([],g);const O=new k.y(function He(f,g,d=F.y){return m=>{$(g,()=>{const{length:T}=f,O=new Array(T);let N=T,ae=T;for(let Te=0;Te<T;Te++)$(g,()=>{const ze=(0,q.D)(f[Te],g);let Je=!1;ze.subscribe((0,Oe.x)(m,Lt=>{O[Te]=Lt,Je||(Je=!0,ae--),ae||m.next(d(O.slice()))},()=>{--N||m.complete()}))},m)},m)}}(m,g,T?N=>(0,_e.n)(T,N):F.y));return d?O.pipe((0,Q.Z)(d)):O}function $(f,g,d){f?(0,me.f)(d,f,g):g()}const ue=(0,M(2306).d)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"});var ge=M(7537);function he(...f){return function z(){return(0,ge.J)(1)}()((0,q.D)(f,(0,ie.yG)(f)))}var B=M(4829);function Y(f){return new k.y(g=>{(0,B.Xf)(f()).subscribe(g)})}var re=M(8407);function X(f,g){const d=(0,J.m)(f)?f:()=>f,m=T=>T.error(d());return new k.y(g?T=>g.schedule(m,0,T):m)}var le=M(6232),Se=M(7394),We=M(9360);function ot(){return(0,We.e)((f,g)=>{let d=null;f._refCount++;const m=(0,Oe.x)(g,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(d=null);const T=f._connection,O=d;d=null,T&&(!O||T===O)&&T.unsubscribe(),g.unsubscribe()});f.subscribe(m),m.closed||(d=f.connect())})}class Ct extends k.y{constructor(g,d){super(),this.source=g,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,We.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new Se.w0;const d=this.getSubject();g.add(this.source.subscribe((0,Oe.x)(d,void 0,()=>{this._teardown(),d.complete()},m=>{this._teardown(),d.error(m)},()=>this._teardown()))),g.closed&&(this._connection=null,g=Se.w0.EMPTY)}return g}refCount(){return ot()(this)}}var ke=M(8645),ye=M(6814),te=M(7398),ce=M(4664);function Ae(f){return f<=0?()=>le.E:(0,We.e)((g,d)=>{let m=0;g.subscribe((0,Oe.x)(d,T=>{++m<=f&&(d.next(T),f<=m&&d.complete())}))})}function Pe(f,g){return(0,We.e)((d,m)=>{let T=0;d.subscribe((0,Oe.x)(m,O=>f.call(g,O,T++)&&m.next(O)))})}var Ve=M(1631);function Ze(f){return(0,We.e)((g,d)=>{let m=!1;g.subscribe((0,Oe.x)(d,T=>{m=!0,d.next(T)},()=>{m||d.next(f),d.complete()}))})}function Kt(f=tt){return(0,We.e)((g,d)=>{let m=!1;g.subscribe((0,Oe.x)(d,T=>{m=!0,d.next(T)},()=>m?d.complete():d.error(f())))})}function tt(){return new ue}function ht(f,g){const d=arguments.length>=2;return m=>m.pipe(f?Pe((T,O)=>f(T,O,m)):F.y,Ae(1),d?Ze(g):Kt(()=>new ue))}function Dt(f,g){return(0,J.m)(g)?(0,Ve.z)(f,g,1):(0,Ve.z)(f,1)}function pt(f,g,d){const m=(0,J.m)(f)||g||d?{next:f,error:g,complete:d}:f;return m?(0,We.e)((T,O)=>{var N;null===(N=m.subscribe)||void 0===N||N.call(m);let ae=!0;T.subscribe((0,Oe.x)(O,Te=>{var ze;null===(ze=m.next)||void 0===ze||ze.call(m,Te),O.next(Te)},()=>{var Te;ae=!1,null===(Te=m.complete)||void 0===Te||Te.call(m),O.complete()},Te=>{var ze;ae=!1,null===(ze=m.error)||void 0===ze||ze.call(m,Te),O.error(Te)},()=>{var Te,ze;ae&&(null===(Te=m.unsubscribe)||void 0===Te||Te.call(m)),null===(ze=m.finalize)||void 0===ze||ze.call(m)}))}):F.y}function Vt(f){return(0,We.e)((g,d)=>{let O,m=null,T=!1;m=g.subscribe((0,Oe.x)(d,void 0,void 0,N=>{O=(0,B.Xf)(f(N,Vt(f)(g))),m?(m.unsubscribe(),m=null,O.subscribe(d)):T=!0})),T&&(m.unsubscribe(),m=null,O.subscribe(d))})}function tn(f){return f<=0?()=>le.E:(0,We.e)((g,d)=>{let m=[];g.subscribe((0,Oe.x)(d,T=>{m.push(T),f<m.length&&m.shift()},()=>{for(const T of m)d.next(T);d.complete()},void 0,()=>{m=null}))})}function sr(f){return(0,We.e)((g,d)=>{try{g.subscribe(d)}finally{d.add(f)}})}var dn=M(6593);const Fe="primary",Jt=Symbol("RouteTitle");class Nn{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d[0]:d}return null}getAll(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function Rn(f){return new Nn(f)}function Nt(f,g,d){const m=d.path.split("/");if(m.length>f.length||"full"===d.pathMatch&&(g.hasChildren()||m.length<f.length))return null;const T={};for(let O=0;O<m.length;O++){const N=m[O],ae=f[O];if(N.startsWith(":"))T[N.substring(1)]=ae;else if(N!==ae.path)return null}return{consumed:f.slice(0,m.length),posParams:T}}function Ye(f,g){const d=f?Object.keys(f):void 0,m=g?Object.keys(g):void 0;if(!d||!m||d.length!=m.length)return!1;let T;for(let O=0;O<d.length;O++)if(T=d[O],!nt(f[T],g[T]))return!1;return!0}function nt(f,g){if(Array.isArray(f)&&Array.isArray(g)){if(f.length!==g.length)return!1;const d=[...f].sort(),m=[...g].sort();return d.every((T,O)=>m[O]===T)}return f===g}function Mr(f){return f.length>0?f[f.length-1]:null}function cn(f){return function Z(f){return!!f&&(f instanceof k.y||(0,J.m)(f.lift)&&(0,J.m)(f.subscribe))}(f)?f:(0,c.QGY)(f)?(0,q.D)(Promise.resolve(f)):(0,pe.of)(f)}const kn={exact:function Qt(f,g,d){if(!fr(f.segments,g.segments)||!ar(f.segments,g.segments,d)||f.numberOfChildren!==g.numberOfChildren)return!1;for(const m in g.children)if(!f.children[m]||!Qt(f.children[m],g.children[m],d))return!1;return!0},subset:Be},Fn={exact:function Gr(f,g){return Ye(f,g)},subset:function no(f,g){return Object.keys(g).length<=Object.keys(f).length&&Object.keys(g).every(d=>nt(f[d],g[d]))},ignored:()=>!0};function on(f,g,d){return kn[d.paths](f.root,g.root,d.matrixParams)&&Fn[d.queryParams](f.queryParams,g.queryParams)&&!("exact"===d.fragment&&f.fragment!==g.fragment)}function Be(f,g,d){return Do(f,g,g.segments,d)}function Do(f,g,d,m){if(f.segments.length>d.length){const T=f.segments.slice(0,d.length);return!(!fr(T,d)||g.hasChildren()||!ar(T,d,m))}if(f.segments.length===d.length){if(!fr(f.segments,d)||!ar(f.segments,d,m))return!1;for(const T in g.children)if(!f.children[T]||!Be(f.children[T],g.children[T],m))return!1;return!0}{const T=d.slice(0,f.segments.length),O=d.slice(f.segments.length);return!!(fr(f.segments,T)&&ar(f.segments,T,m)&&f.children[Fe])&&Do(f.children[Fe],g,O,m)}}function ar(f,g,d){return g.every((m,T)=>Fn[d](f[T].parameters,m.parameters))}class kt{constructor(g=new Et([],{}),d={},m=null){this.root=g,this.queryParams=d,this.fragment=m}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return Qn.serialize(this)}}class Et{constructor(g,d){this.segments=g,this.children=d,this.parent=null,Object.values(d).forEach(m=>m.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ut(this)}}class zn{constructor(g,d){this.path=g,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return qe(this)}}function fr(f,g){return f.length===g.length&&f.every((d,m)=>d.path===g[m].path)}let jn=(()=>{class f{}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:function(){return new Mn},providedIn:"root"}),f})();class Mn{parse(g){const d=new In(g);return new kt(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(g){const d=`/${$n(g.root,!0)}`,m=function rt(f){const g=Object.keys(f).map(d=>{const m=f[d];return Array.isArray(m)?m.map(T=>`${oe(d)}=${oe(T)}`).join("&"):`${oe(d)}=${oe(m)}`}).filter(d=>!!d);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${d}${m}${"string"==typeof g.fragment?`#${function H(f){return encodeURI(f)}(g.fragment)}`:""}`}}const Qn=new Mn;function Ut(f){return f.segments.map(g=>qe(g)).join("/")}function $n(f,g){if(!f.hasChildren())return Ut(f);if(g){const d=f.children[Fe]?$n(f.children[Fe],!1):"",m=[];return Object.entries(f.children).forEach(([T,O])=>{T!==Fe&&m.push(`${T}:${$n(O,!1)}`)}),m.length>0?`${d}(${m.join("//")})`:d}{const d=function It(f,g){let d=[];return Object.entries(f.children).forEach(([m,T])=>{m===Fe&&(d=d.concat(g(T,m)))}),Object.entries(f.children).forEach(([m,T])=>{m!==Fe&&(d=d.concat(g(T,m)))}),d}(f,(m,T)=>T===Fe?[$n(f.children[Fe],!1)]:[`${T}:${$n(m,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[Fe]?`${Ut(f)}/${d[0]}`:`${Ut(f)}/(${d.join("//")})`}}function be(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oe(f){return be(f).replace(/%3B/gi,";")}function se(f){return be(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function de(f){return decodeURIComponent(f)}function je(f){return de(f.replace(/\+/g,"%20"))}function qe(f){return`${se(f.path)}${function ct(f){return Object.keys(f).map(g=>`;${se(g)}=${se(f[g])}`).join("")}(f.parameters)}`}const gt=/^[^\/()?;#]+/;function Cn(f){const g=f.match(gt);return g?g[0]:""}const Wn=/^[^\/()?;=#]+/,vt=/^[^=?&#]+/,fn=/^[^&#]+/;class In{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let m={};return this.peekStartsWith("(")&&(m=this.parseParens(!1)),(g.length>0||Object.keys(d).length>0)&&(m[Fe]=new Et(g,d)),m}parseSegment(){const g=Cn(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(g),new zn(de(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const d=function Ht(f){const g=f.match(Wn);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let m="";if(this.consumeOptional("=")){const T=Cn(this.remaining);T&&(m=T,this.capture(m))}g[de(d)]=de(m)}parseQueryParam(g){const d=function Dn(f){const g=f.match(vt);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let m="";if(this.consumeOptional("=")){const N=function mt(f){const g=f.match(fn);return g?g[0]:""}(this.remaining);N&&(m=N,this.capture(m))}const T=je(d),O=je(m);if(g.hasOwnProperty(T)){let N=g[T];Array.isArray(N)||(N=[N],g[T]=N),N.push(O)}else g[T]=O}parseParens(g){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const m=Cn(this.remaining),T=this.remaining[m.length];if("/"!==T&&")"!==T&&";"!==T)throw new c.vHH(4010,!1);let O;m.indexOf(":")>-1?(O=m.slice(0,m.indexOf(":")),this.capture(O),this.capture(":")):g&&(O=Fe);const N=this.parseChildren();d[O]=1===Object.keys(N).length?N[Fe]:new Et([],N),this.consumeOptional("//")}return d}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new c.vHH(4011,!1)}}function Yn(f){return f.segments.length>0?new Et([],{[Fe]:f}):f}function Ln(f){const g={};for(const m of Object.keys(f.children)){const O=Ln(f.children[m]);if(m===Fe&&0===O.segments.length&&O.hasChildren())for(const[N,ae]of Object.entries(O.children))g[N]=ae;else(O.segments.length>0||O.hasChildren())&&(g[m]=O)}return function bt(f){if(1===f.numberOfChildren&&f.children[Fe]){const g=f.children[Fe];return new Et(f.segments.concat(g.segments),g.children)}return f}(new Et(f.segments,g))}function Bn(f){return f instanceof kt}function Ir(f){let g;const T=Yn(function d(O){const N={};for(const Te of O.children){const ze=d(Te);N[Te.outlet]=ze}const ae=new Et(O.url,N);return O===f&&(g=ae),ae}(f.root));return g??T}function ro(f,g,d,m){let T=f;for(;T.parent;)T=T.parent;if(0===g.length)return Ar(T,T,T,d,m);const O=function Oo(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new hr(!0,0,f);let g=0,d=!1;const m=f.reduce((T,O,N)=>{if("object"==typeof O&&null!=O){if(O.outlets){const ae={};return Object.entries(O.outlets).forEach(([Te,ze])=>{ae[Te]="string"==typeof ze?ze.split("/"):ze}),[...T,{outlets:ae}]}if(O.segmentPath)return[...T,O.segmentPath]}return"string"!=typeof O?[...T,O]:0===N?(O.split("/").forEach((ae,Te)=>{0==Te&&"."===ae||(0==Te&&""===ae?d=!0:".."===ae?g++:""!=ae&&T.push(ae))}),T):[...T,O]},[]);return new hr(d,g,m)}(g);if(O.toRoot())return Ar(T,T,new Et([],{}),d,m);const N=function pr(f,g,d){if(f.isAbsolute)return new Wr(g,!0,0);if(!d)return new Wr(g,!1,NaN);if(null===d.parent)return new Wr(d,!0,0);const m=bn(f.commands[0])?0:1;return function Fr(f,g,d){let m=f,T=g,O=d;for(;O>T;){if(O-=T,m=m.parent,!m)throw new c.vHH(4005,!1);T=m.segments.length}return new Wr(m,!1,T-O)}(d,d.segments.length-1+m,f.numberOfDoubleDots)}(O,T,f),ae=N.processChildren?gr(N.segmentGroup,N.index,O.commands):Lr(N.segmentGroup,N.index,O.commands);return Ar(T,N.segmentGroup,ae,d,m)}function bn(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function Pn(f){return"object"==typeof f&&null!=f&&f.outlets}function Ar(f,g,d,m,T){let N,O={};m&&Object.entries(m).forEach(([Te,ze])=>{O[Te]=Array.isArray(ze)?ze.map(Je=>`${Je}`):`${ze}`}),N=f===g?d:oo(f,g,d);const ae=Yn(Ln(N));return new kt(ae,O,T)}function oo(f,g,d){const m={};return Object.entries(f.children).forEach(([T,O])=>{m[T]=O===g?d:oo(O,g,d)}),new Et(f.segments,m)}class hr{constructor(g,d,m){if(this.isAbsolute=g,this.numberOfDoubleDots=d,this.commands=m,g&&m.length>0&&bn(m[0]))throw new c.vHH(4003,!1);const T=m.find(Pn);if(T&&T!==Mr(m))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wr{constructor(g,d,m){this.segmentGroup=g,this.processChildren=d,this.index=m}}function Lr(f,g,d){if(f||(f=new Et([],{})),0===f.segments.length&&f.hasChildren())return gr(f,g,d);const m=function ko(f,g,d){let m=0,T=g;const O={match:!1,pathIndex:0,commandIndex:0};for(;T<f.segments.length;){if(m>=d.length)return O;const N=f.segments[T],ae=d[m];if(Pn(ae))break;const Te=`${ae}`,ze=m<d.length-1?d[m+1]:null;if(T>0&&void 0===Te)break;if(Te&&ze&&"object"==typeof ze&&void 0===ze.outlets){if(!so(Te,ze,N))return O;m+=2}else{if(!so(Te,{},N))return O;m++}T++}return{match:!0,pathIndex:T,commandIndex:m}}(f,g,d),T=d.slice(m.commandIndex);if(m.match&&m.pathIndex<f.segments.length){const O=new Et(f.segments.slice(0,m.pathIndex),{});return O.children[Fe]=new Et(f.segments.slice(m.pathIndex),f.children),gr(O,0,T)}return m.match&&0===T.length?new Et(f.segments,{}):m.match&&!f.hasChildren()?Yr(f,g,d):m.match?gr(f,0,T):Yr(f,g,d)}function gr(f,g,d){if(0===d.length)return new Et(f.segments,{});{const m=function No(f){return Pn(f[0])?f[0].outlets:{[Fe]:f}}(d),T={};if(!m[Fe]&&f.children[Fe]&&1===f.numberOfChildren&&0===f.children[Fe].segments.length){const O=gr(f.children[Fe],g,d);return new Et(f.segments,O.children)}return Object.entries(m).forEach(([O,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(T[O]=Lr(f.children[O],g,N))}),Object.entries(f.children).forEach(([O,N])=>{void 0===m[O]&&(T[O]=N)}),new Et(f.segments,T)}}function Yr(f,g,d){const m=f.segments.slice(0,g);let T=0;for(;T<d.length;){const O=d[T];if(Pn(O)){const Te=hn(O.outlets);return new Et(m,Te)}if(0===T&&bn(d[0])){m.push(new zn(f.segments[g].path,io(d[0]))),T++;continue}const N=Pn(O)?O.outlets[Fe]:`${O}`,ae=T<d.length-1?d[T+1]:null;N&&ae&&bn(ae)?(m.push(new zn(N,io(ae))),T+=2):(m.push(new zn(N,{})),T++)}return new Et(m,{})}function hn(f){const g={};return Object.entries(f).forEach(([d,m])=>{"string"==typeof m&&(m=[m]),null!==m&&(g[d]=Yr(new Et([],{}),0,m))}),g}function io(f){const g={};return Object.entries(f).forEach(([d,m])=>g[d]=`${m}`),g}function so(f,g,d){return f==d.path&&Ye(g,d.parameters)}const Vr="imperative";class xn{constructor(g,d){this.id=g,this.url=d}}class Fo extends xn{constructor(g,d,m="imperative",T=null){super(g,d),this.type=0,this.navigationTrigger=m,this.restoredState=T}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rr extends xn{constructor(g,d,m){super(g,d),this.urlAfterRedirects=m,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jr extends xn{constructor(g,d,m,T){super(g,d),this.reason=m,this.code=T,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bo extends xn{constructor(g,d,m,T){super(g,d),this.reason=m,this.code=T,this.type=16}}class En extends xn{constructor(g,d,m,T){super(g,d),this.error=m,this.target=T,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ao extends xn{constructor(g,d,m,T){super(g,d),this.urlAfterRedirects=m,this.state=T,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yo extends xn{constructor(g,d,m,T){super(g,d),this.urlAfterRedirects=m,this.state=T,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends xn{constructor(g,d,m,T,O){super(g,d),this.urlAfterRedirects=m,this.state=T,this.shouldActivate=O,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class co extends xn{constructor(g,d,m,T){super(g,d),this.urlAfterRedirects=m,this.state=T,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni extends xn{constructor(g,d,m,T){super(g,d),this.urlAfterRedirects=m,this.state=T,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo{constructor(g){this.route=g,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lo{constructor(g){this.route=g,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uo{constructor(g){this.snapshot=g,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $r{constructor(g){this.snapshot=g,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(g){this.snapshot=g,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tt{constructor(g){this.snapshot=g,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(g,d,m){this.routerEvent=g,this.position=d,this.anchor=m,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ft,this.attachRef=null}}let Ft=(()=>{class f{constructor(){this.contexts=new Map}onChildOutletCreated(d,m){const T=this.getOrCreateContext(d);T.outlet=m,this.contexts.set(d,T)}onChildOutletDestroyed(d){const m=this.getContext(d);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const d=this.contexts;return this.contexts=new Map,d}onOutletReAttached(d){this.contexts=d}getOrCreateContext(d){let m=this.getContext(d);return m||(m=new mr,this.contexts.set(d,m)),m}getContext(d){return this.contexts.get(d)||null}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class Eo{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const d=this.pathFromRoot(g);return d.length>1?d[d.length-2]:null}children(g){const d=Br(g,this._root);return d?d.children.map(m=>m.value):[]}firstChild(g){const d=Br(g,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(g){const d=yr(g,this._root);return d.length<2?[]:d[d.length-2].children.map(T=>T.value).filter(T=>T!==g)}pathFromRoot(g){return yr(g,this._root).map(d=>d.value)}}function Br(f,g){if(f===g.value)return g;for(const d of g.children){const m=Br(f,d);if(m)return m}return null}function yr(f,g){if(f===g.value)return[g];for(const d of g.children){const m=yr(f,d);if(m.length)return m.unshift(g),m}return[]}class cr{constructor(g,d){this.value=g,this.children=d}toString(){return`TreeNode(${this.value})`}}function vr(f){const g={};return f&&f.children.forEach(d=>g[d.value.outlet]=d),g}class ve extends Eo{constructor(g,d){super(g),this.snapshot=d,Gt(this,g)}toString(){return this.snapshot.toString()}}function $e(f,g){const d=function lt(f,g){const N=new un([],{},{},"",{},Fe,g,null,{});return new Zn("",new cr(N,[]))}(0,g),m=new Ee.X([new zn("",{})]),T=new Ee.X({}),O=new Ee.X({}),N=new Ee.X({}),ae=new Ee.X(""),Te=new it(m,T,N,ae,O,Fe,g,d.root);return Te.snapshot=d.root,new ve(new cr(Te,[]),d)}class it{constructor(g,d,m,T,O,N,ae,Te){this.urlSubject=g,this.paramsSubject=d,this.queryParamsSubject=m,this.fragmentSubject=T,this.dataSubject=O,this.outlet=N,this.component=ae,this._futureSnapshot=Te,this.title=this.dataSubject?.pipe((0,te.U)(ze=>ze[Jt]))??(0,pe.of)(void 0),this.url=g,this.params=d,this.queryParams=m,this.fragment=T,this.data=O}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,te.U)(g=>Rn(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,te.U)(g=>Rn(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function At(f,g="emptyOnly"){const d=f.pathFromRoot;let m=0;if("always"!==g)for(m=d.length-1;m>=1;){const T=d[m],O=d[m-1];if(T.routeConfig&&""===T.routeConfig.path)m--;else{if(O.component)break;m--}}return function Xn(f){return f.reduce((g,d)=>({params:{...g.params,...d.params},data:{...g.data,...d.data},resolve:{...d.data,...g.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(m))}class un{get title(){return this.data?.[Jt]}constructor(g,d,m,T,O,N,ae,Te,ze){this.url=g,this.params=d,this.queryParams=m,this.fragment=T,this.data=O,this.outlet=N,this.component=ae,this.routeConfig=Te,this._resolve=ze}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(m=>m.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zn extends Eo{constructor(g,d){super(d),this.url=g,Gt(this,d)}toString(){return lr(this._root)}}function Gt(f,g){g.value._routerState=f,g.children.forEach(d=>Gt(f,d))}function lr(f){const g=f.children.length>0?` { ${f.children.map(lr).join(", ")} } `:"";return`${f.value}${g}`}function er(f){if(f.snapshot){const g=f.snapshot,d=f._futureSnapshot;f.snapshot=d,Ye(g.queryParams,d.queryParams)||f.queryParamsSubject.next(d.queryParams),g.fragment!==d.fragment&&f.fragmentSubject.next(d.fragment),Ye(g.params,d.params)||f.paramsSubject.next(d.params),function an(f,g){if(f.length!==g.length)return!1;for(let d=0;d<f.length;++d)if(!Ye(f[d],g[d]))return!1;return!0}(g.url,d.url)||f.urlSubject.next(d.url),Ye(g.data,d.data)||f.dataSubject.next(d.data)}else f.snapshot=f._futureSnapshot,f.dataSubject.next(f._futureSnapshot.data)}function at(f,g){const d=Ye(f.params,g.params)&&function Xt(f,g){return fr(f,g)&&f.every((d,m)=>Ye(d.parameters,g[m].parameters))}(f.url,g.url);return d&&!(!f.parent!=!g.parent)&&(!f.parent||at(f.parent,g.parent))}let Un=(()=>{class f{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fe,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Ft),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Cr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(d){if(d.name){const{firstChange:m,previousValue:T}=d.name;if(m)return;this.isTrackedInParentContexts(T)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(T)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(d){return this.parentContexts.getContext(d)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const d=this.parentContexts.getContext(this.name);d?.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,m){this.activated=d,this._activatedRoute=m,this.location.insert(d.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,m){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=d;const T=this.location,N=d.snapshot.component,ae=this.parentContexts.getOrCreateContext(this.name).children,Te=new _r(d,ae,T.injector);this.activated=T.createComponent(N,{index:T.length,injector:Te,environmentInjector:m??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275dir=c.lG2({type:f,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),f})();class _r{constructor(g,d,m){this.route=g,this.childContexts=d,this.parent=m}get(g,d){return g===it?this.route:g===Ft?this.childContexts:this.parent.get(g,d)}}const Cr=new c.OlP("");let sn=(()=>{class f{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(d){this.unsubscribeFromRouteData(d),this.subscribeToRouteData(d)}unsubscribeFromRouteData(d){this.outletDataSubscriptions.get(d)?.unsubscribe(),this.outletDataSubscriptions.delete(d)}subscribeToRouteData(d){const{activatedRoute:m}=d,T=Ne([m.queryParams,m.params,m.data]).pipe((0,ce.w)(([O,N,ae],Te)=>(ae={...O,...N,...ae},0===Te?(0,pe.of)(ae):Promise.resolve(ae)))).subscribe(O=>{if(!d.isActivated||!d.activatedComponentRef||d.activatedRoute!==m||null===m.component)return void this.unsubscribeFromRouteData(d);const N=(0,c.qFp)(m.component);if(N)for(const{templateName:ae}of N.inputs)d.activatedComponentRef.setInput(ae,O[ae]);else this.unsubscribeFromRouteData(d)});this.outletDataSubscriptions.set(d,T)}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac}),f})();function ur(f,g,d){if(d&&f.shouldReuseRoute(g.value,d.value.snapshot)){const m=d.value;m._futureSnapshot=g.value;const T=function Vn(f,g,d){return g.children.map(m=>{for(const T of d.children)if(f.shouldReuseRoute(m.value,T.value.snapshot))return ur(f,m,T);return ur(f,m)})}(f,g,d);return new cr(m,T)}{if(f.shouldAttach(g.value)){const O=f.retrieve(g.value);if(null!==O){const N=O.route;return N.value._futureSnapshot=g.value,N.children=g.children.map(ae=>ur(f,ae)),N}}const m=function Pr(f){return new it(new Ee.X(f.url),new Ee.X(f.params),new Ee.X(f.queryParams),new Ee.X(f.fragment),new Ee.X(f.data),f.outlet,f.component,f)}(g.value),T=g.children.map(O=>ur(f,O));return new cr(m,T)}}const Zr="ngNavigationCancelingError";function tr(f,g){const{redirectTo:d,navigationBehaviorOptions:m}=Bn(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,T=wn(!1,0,g);return T.url=d,T.navigationBehaviorOptions=m,T}function wn(f,g,d){const m=new Error("NavigationCancelingError: "+(f||""));return m[Zr]=!0,m.cancellationCode=g,d&&(m.url=d),m}function po(f){return Mt(f)&&Bn(f.url)}function Mt(f){return f&&f[Zr]}let et=(()=>{class f{}return f.\u0275fac=function(d){return new(d||f)},f.\u0275cmp=c.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(d,m){1&d&&c._UZ(0,"router-outlet")},dependencies:[Un],encapsulation:2}),f})();function zt(f){const g=f.children&&f.children.map(zt),d=g?{...f,children:g}:{...f};return!d.component&&!d.loadComponent&&(g||d.loadChildren)&&d.outlet&&d.outlet!==Fe&&(d.component=et),d}function Zt(f){return f.outlet||Fe}function Hn(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let g=f.parent;g;g=g.parent){const d=g.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class Pt{constructor(g,d,m,T,O){this.routeReuseStrategy=g,this.futureState=d,this.currState=m,this.forwardEvent=T,this.inputBindingEnabled=O}activate(g){const d=this.futureState._root,m=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,m,g),er(this.futureState.root),this.activateChildRoutes(d,m,g)}deactivateChildRoutes(g,d,m){const T=vr(d);g.children.forEach(O=>{const N=O.value.outlet;this.deactivateRoutes(O,T[N],m),delete T[N]}),Object.values(T).forEach(O=>{this.deactivateRouteAndItsChildren(O,m)})}deactivateRoutes(g,d,m){const T=g.value,O=d?d.value:null;if(T===O)if(T.component){const N=m.getContext(T.outlet);N&&this.deactivateChildRoutes(g,d,N.children)}else this.deactivateChildRoutes(g,d,m);else O&&this.deactivateRouteAndItsChildren(d,m)}deactivateRouteAndItsChildren(g,d){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,d):this.deactivateRouteAndOutlet(g,d)}detachAndStoreRouteSubtree(g,d){const m=d.getContext(g.value.outlet),T=m&&g.value.component?m.children:d,O=vr(g);for(const N of Object.keys(O))this.deactivateRouteAndItsChildren(O[N],T);if(m&&m.outlet){const N=m.outlet.detach(),ae=m.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:N,route:g,contexts:ae})}}deactivateRouteAndOutlet(g,d){const m=d.getContext(g.value.outlet),T=m&&g.value.component?m.children:d,O=vr(g);for(const N of Object.keys(O))this.deactivateRouteAndItsChildren(O[N],T);m&&(m.outlet&&(m.outlet.deactivate(),m.children.onOutletDeactivated()),m.attachRef=null,m.route=null)}activateChildRoutes(g,d,m){const T=vr(d);g.children.forEach(O=>{this.activateRoutes(O,T[O.value.outlet],m),this.forwardEvent(new Tt(O.value.snapshot))}),g.children.length&&this.forwardEvent(new $r(g.value.snapshot))}activateRoutes(g,d,m){const T=g.value,O=d?d.value:null;if(er(T),T===O)if(T.component){const N=m.getOrCreateContext(T.outlet);this.activateChildRoutes(g,d,N.children)}else this.activateChildRoutes(g,d,m);else if(T.component){const N=m.getOrCreateContext(T.outlet);if(this.routeReuseStrategy.shouldAttach(T.snapshot)){const ae=this.routeReuseStrategy.retrieve(T.snapshot);this.routeReuseStrategy.store(T.snapshot,null),N.children.onOutletReAttached(ae.contexts),N.attachRef=ae.componentRef,N.route=ae.route.value,N.outlet&&N.outlet.attach(ae.componentRef,ae.route.value),er(ae.route.value),this.activateChildRoutes(g,null,N.children)}else{const ae=Hn(T.snapshot);N.attachRef=null,N.route=T,N.injector=ae,N.outlet&&N.outlet.activateWith(T,N.injector),this.activateChildRoutes(g,null,N.children)}}else this.activateChildRoutes(g,null,m)}}class Qr{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class go{constructor(g,d){this.component=g,this.route=d}}function Ai(f,g,d){const m=f._root;return mo(m,g?g._root:null,d,[m.value])}function Xr(f,g){const d=Symbol(),m=g.get(f,d);return m===d?"function"!=typeof f||(0,c.Z0I)(f)?g.get(f):f:m}function mo(f,g,d,m,T={canDeactivateChecks:[],canActivateChecks:[]}){const O=vr(g);return f.children.forEach(N=>{(function gi(f,g,d,m,T={canDeactivateChecks:[],canActivateChecks:[]}){const O=f.value,N=g?g.value:null,ae=d?d.getContext(f.value.outlet):null;if(N&&O.routeConfig===N.routeConfig){const Te=function ri(f,g,d){if("function"==typeof d)return d(f,g);switch(d){case"pathParamsChange":return!fr(f.url,g.url);case"pathParamsOrQueryParamsChange":return!fr(f.url,g.url)||!Ye(f.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!at(f,g)||!Ye(f.queryParams,g.queryParams);default:return!at(f,g)}}(N,O,O.routeConfig.runGuardsAndResolvers);Te?T.canActivateChecks.push(new Qr(m)):(O.data=N.data,O._resolvedData=N._resolvedData),mo(f,g,O.component?ae?ae.children:null:d,m,T),Te&&ae&&ae.outlet&&ae.outlet.isActivated&&T.canDeactivateChecks.push(new go(ae.outlet.component,N))}else N&&To(g,ae,T),T.canActivateChecks.push(new Qr(m)),mo(f,null,O.component?ae?ae.children:null:d,m,T)})(N,O[N.value.outlet],d,m.concat([N.value]),T),delete O[N.value.outlet]}),Object.entries(O).forEach(([N,ae])=>To(ae,d.getContext(N),T)),T}function To(f,g,d){const m=vr(f),T=f.value;Object.entries(m).forEach(([O,N])=>{To(N,T.component?g?g.children.getContext(O):null:g,d)}),d.canDeactivateChecks.push(new go(T.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,T))}function jt(f){return"function"==typeof f}function y(f){return f instanceof ue||"EmptyError"===f?.name}const E=Symbol("INITIAL_VALUE");function P(){return(0,ce.w)(f=>Ne(f.map(g=>g.pipe(Ae(1),function Le(...f){const g=(0,ie.yG)(f);return(0,We.e)((d,m)=>{(g?he(f,d,g):he(f,d)).subscribe(m)})}(E)))).pipe((0,te.U)(g=>{for(const d of g)if(!0!==d){if(d===E)return E;if(!1===d||d instanceof kt)return d}return!0}),Pe(g=>g!==E),Ae(1)))}function Ri(f){return(0,re.z)(pt(g=>{if(Bn(g))throw tr(0,g)}),(0,te.U)(g=>!0===g))}class nr{constructor(g){this.segmentGroup=g||null}}class ii{constructor(g){this.urlTree=g}}function gn(f){return X(new nr(f))}function Pi(f){return X(new ii(f))}class Oi{constructor(g,d){this.urlSerializer=g,this.urlTree=d}noMatchError(g){return new c.vHH(4002,!1)}lineralizeSegments(g,d){let m=[],T=d.root;for(;;){if(m=m.concat(T.segments),0===T.numberOfChildren)return(0,pe.of)(m);if(T.numberOfChildren>1||!T.children[Fe])return X(new c.vHH(4e3,!1));T=T.children[Fe]}}applyRedirectCommands(g,d,m){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),g,m)}applyRedirectCreateUrlTree(g,d,m,T){const O=this.createSegmentGroup(g,d.root,m,T);return new kt(O,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(g,d){const m={};return Object.entries(g).forEach(([T,O])=>{if("string"==typeof O&&O.startsWith(":")){const ae=O.substring(1);m[T]=d[ae]}else m[T]=O}),m}createSegmentGroup(g,d,m,T){const O=this.createSegments(g,d.segments,m,T);let N={};return Object.entries(d.children).forEach(([ae,Te])=>{N[ae]=this.createSegmentGroup(g,Te,m,T)}),new Et(O,N)}createSegments(g,d,m,T){return d.map(O=>O.path.startsWith(":")?this.findPosParam(g,O,T):this.findOrReturn(O,m))}findPosParam(g,d,m){const T=m[d.path.substring(1)];if(!T)throw new c.vHH(4001,!1);return T}findOrReturn(g,d){let m=0;for(const T of d){if(T.path===g.path)return d.splice(m),T;m++}return g}}const Jo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(f,g,d,m,T){const O=Ni(f,g,d);return O.matched?(m=function Zo(f,g){return f.providers&&!f._injector&&(f._injector=(0,c.MMx)(f.providers,g,`Route: ${f.path}`)),f._injector??g}(g,m),function Ds(f,g,d,m){const T=g.canMatch;if(!T||0===T.length)return(0,pe.of)(!0);const O=T.map(N=>{const ae=Xr(N,f);return cn(function s(f){return f&&jt(f.canMatch)}(ae)?ae.canMatch(g,d):f.runInContext(()=>ae(g,d)))});return(0,pe.of)(O).pipe(P(),Ri())}(m,g,d).pipe((0,te.U)(N=>!0===N?O:{...Jo}))):(0,pe.of)(O)}function Ni(f,g,d){if(""===g.path)return"full"===g.pathMatch&&(f.hasChildren()||d.length>0)?{...Jo}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const T=(g.matcher||Nt)(d,f,g);if(!T)return{...Jo};const O={};Object.entries(T.posParams??{}).forEach(([ae,Te])=>{O[ae]=Te.path});const N=T.consumed.length>0?{...O,...T.consumed[T.consumed.length-1].parameters}:O;return{matched:!0,consumedSegments:T.consumed,remainingSegments:d.slice(T.consumed.length),parameters:N,positionalParamSegments:T.posParams??{}}}function ki(f,g,d,m){return d.length>0&&function yi(f,g,d){return d.some(m=>Fi(f,g,m)&&Zt(m)!==Fe)}(f,d,m)?{segmentGroup:new Et(g,bs(m,new Et(d,f.children))),slicedSegments:[]}:0===d.length&&function Ca(f,g,d){return d.some(m=>Fi(f,g,m))}(f,d,m)?{segmentGroup:new Et(f.segments,mi(f,0,d,m,f.children)),slicedSegments:d}:{segmentGroup:new Et(f.segments,f.children),slicedSegments:d}}function mi(f,g,d,m,T){const O={};for(const N of m)if(Fi(f,d,N)&&!T[Zt(N)]){const ae=new Et([],{});O[Zt(N)]=ae}return{...T,...O}}function bs(f,g){const d={};d[Fe]=g;for(const m of f)if(""===m.path&&Zt(m)!==Fe){const T=new Et([],{});d[Zt(m)]=T}return d}function Fi(f,g,d){return(!(f.hasChildren()||g.length>0)||"full"!==d.pathMatch)&&""===d.path}class ba{constructor(g,d,m,T,O,N,ae){this.injector=g,this.configLoader=d,this.rootComponentType=m,this.config=T,this.urlTree=O,this.paramsInheritanceStrategy=N,this.urlSerializer=ae,this.allowRedirects=!0,this.applyRedirects=new Oi(this.urlSerializer,this.urlTree)}noMatchError(g){return new c.vHH(4002,!1)}recognize(){const g=ki(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,g,Fe).pipe(Vt(d=>{if(d instanceof ii)return this.allowRedirects=!1,this.urlTree=d.urlTree,this.match(d.urlTree);throw d instanceof nr?this.noMatchError(d):d}),(0,te.U)(d=>{const m=new un([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fe,this.rootComponentType,null,{}),T=new cr(m,d),O=new Zn("",T),N=function zr(f,g,d=null,m=null){return ro(Ir(f),g,d,m)}(m,[],this.urlTree.queryParams,this.urlTree.fragment);return N.queryParams=this.urlTree.queryParams,O.url=this.urlSerializer.serialize(N),this.inheritParamsAndData(O._root),{state:O,tree:N}}))}match(g){return this.processSegmentGroup(this.injector,this.config,g.root,Fe).pipe(Vt(m=>{throw m instanceof nr?this.noMatchError(m):m}))}inheritParamsAndData(g){const d=g.value,m=At(d,this.paramsInheritanceStrategy);d.params=Object.freeze(m.params),d.data=Object.freeze(m.data),g.children.forEach(T=>this.inheritParamsAndData(T))}processSegmentGroup(g,d,m,T){return 0===m.segments.length&&m.hasChildren()?this.processChildren(g,d,m):this.processSegment(g,d,m,m.segments,T,!0)}processChildren(g,d,m){const T=[];for(const O of Object.keys(m.children))"primary"===O?T.unshift(O):T.push(O);return(0,q.D)(T).pipe(Dt(O=>{const N=m.children[O],ae=function dt(f,g){const d=f.filter(m=>Zt(m)===g);return d.push(...f.filter(m=>Zt(m)!==g)),d}(d,O);return this.processSegmentGroup(g,ae,N,O)}),function _n(f,g){return(0,We.e)(function vn(f,g,d,m,T){return(O,N)=>{let ae=d,Te=g,ze=0;O.subscribe((0,Oe.x)(N,Je=>{const Lt=ze++;Te=ae?f(Te,Je,Lt):(ae=!0,Je),m&&N.next(Te)},T&&(()=>{ae&&N.next(Te),N.complete()})))}}(f,g,arguments.length>=2,!0))}((O,N)=>(O.push(...N),O)),Ze(null),function Tn(f,g){const d=arguments.length>=2;return m=>m.pipe(f?Pe((T,O)=>f(T,O,m)):F.y,tn(1),d?Ze(g):Kt(()=>new ue))}(),(0,Ve.z)(O=>{if(null===O)return gn(m);const N=Vi(O);return function Ea(f){f.sort((g,d)=>g.value.outlet===Fe?-1:d.value.outlet===Fe?1:g.value.outlet.localeCompare(d.value.outlet))}(N),(0,pe.of)(N)}))}processSegment(g,d,m,T,O,N){return(0,q.D)(d).pipe(Dt(ae=>this.processSegmentAgainstRoute(ae._injector??g,d,ae,m,T,O,N).pipe(Vt(Te=>{if(Te instanceof nr)return(0,pe.of)(null);throw Te}))),ht(ae=>!!ae),Vt(ae=>{if(y(ae))return function Da(f,g,d){return 0===g.length&&!f.children[d]}(m,T,O)?(0,pe.of)([]):gn(m);throw ae}))}processSegmentAgainstRoute(g,d,m,T,O,N,ae){return function Hc(f,g,d,m){return!!(Zt(f)===m||m!==Fe&&Fi(g,d,f))&&("**"===f.path||Ni(g,f,d).matched)}(m,T,O,N)?void 0===m.redirectTo?this.matchSegmentAgainstRoute(g,T,m,O,N,ae):ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,T,d,m,O,N):gn(T):gn(T)}expandSegmentAgainstRouteUsingRedirect(g,d,m,T,O,N){return"**"===T.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,m,T,N):this.expandRegularSegmentAgainstRouteUsingRedirect(g,d,m,T,O,N)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,d,m,T){const O=this.applyRedirects.applyRedirectCommands([],m.redirectTo,{});return m.redirectTo.startsWith("/")?Pi(O):this.applyRedirects.lineralizeSegments(m,O).pipe((0,Ve.z)(N=>{const ae=new Et(N,{});return this.processSegment(g,d,ae,N,T,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,d,m,T,O,N){const{matched:ae,consumedSegments:Te,remainingSegments:ze,positionalParamSegments:Je}=Ni(d,T,O);if(!ae)return gn(d);const Lt=this.applyRedirects.applyRedirectCommands(Te,T.redirectTo,Je);return T.redirectTo.startsWith("/")?Pi(Lt):this.applyRedirects.lineralizeSegments(T,Lt).pipe((0,Ve.z)(ir=>this.processSegment(g,m,d,ir.concat(ze),N,!1)))}matchSegmentAgainstRoute(g,d,m,T,O,N){let ae;if("**"===m.path){const Te=T.length>0?Mr(T).parameters:{},ze=new un(T,Te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(m),Zt(m),m.component??m._loadedComponent??null,m,I(m));ae=(0,pe.of)({snapshot:ze,consumedSegments:[],remainingSegments:[]}),d.children={}}else ae=_a(d,m,T,g).pipe((0,te.U)(({matched:Te,consumedSegments:ze,remainingSegments:Je,parameters:Lt})=>Te?{snapshot:new un(ze,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(m),Zt(m),m.component??m._loadedComponent??null,m,I(m)),consumedSegments:ze,remainingSegments:Je}:null));return ae.pipe((0,ce.w)(Te=>null===Te?gn(d):this.getChildConfig(g=m._injector??g,m,T).pipe((0,ce.w)(({routes:ze})=>{const Je=m._loadedInjector??g,{snapshot:Lt,consumedSegments:ir,remainingSegments:Ci}=Te,{segmentGroup:ci,slicedSegments:li}=ki(d,ir,Ci,ze);if(0===li.length&&ci.hasChildren())return this.processChildren(Je,ze,ci).pipe((0,te.U)(Ao=>null===Ao?null:[new cr(Lt,Ao)]));if(0===ze.length&&0===li.length)return(0,pe.of)([new cr(Lt,[])]);const Ns=Zt(m)===O;return this.processSegment(Je,ze,ci,li,Ns?Fe:O,!0).pipe((0,te.U)(Ao=>[new cr(Lt,Ao)]))}))))}getChildConfig(g,d,m){return d.children?(0,pe.of)({routes:d.children,injector:g}):d.loadChildren?void 0!==d._loadedRoutes?(0,pe.of)({routes:d._loadedRoutes,injector:d._loadedInjector}):function en(f,g,d,m){const T=g.canLoad;if(void 0===T||0===T.length)return(0,pe.of)(!0);const O=T.map(N=>{const ae=Xr(N,f);return cn(function S(f){return f&&jt(f.canLoad)}(ae)?ae.canLoad(g,d):f.runInContext(()=>ae(g,d)))});return(0,pe.of)(O).pipe(P(),Ri())}(g,d,m).pipe((0,Ve.z)(T=>T?this.configLoader.loadChildren(g,d).pipe(pt(O=>{d._loadedRoutes=O.routes,d._loadedInjector=O.injector})):function xi(f){return X(wn(!1,3))}())):(0,pe.of)({routes:[],injector:g})}}function Li(f){const g=f.value.routeConfig;return g&&""===g.path}function Vi(f){const g=[],d=new Set;for(const m of f){if(!Li(m)){g.push(m);continue}const T=g.find(O=>m.value.routeConfig===O.value.routeConfig);void 0!==T?(T.children.push(...m.children),d.add(T)):g.push(m)}for(const m of d){const T=Vi(m.children);g.push(new cr(m.value,T))}return g.filter(m=>!d.has(m))}function _(f){return f.data||{}}function I(f){return f.resolve||{}}function qt(f){return"string"==typeof f.title||null===f.title}function st(f){return(0,ce.w)(g=>{const d=f(g);return d?(0,q.D)(d).pipe((0,te.U)(()=>g)):(0,pe.of)(g)})}const Rt=new c.OlP("ROUTES");let yt=(()=>{class f{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(d){if(this.componentLoaders.get(d))return this.componentLoaders.get(d);if(d._loadedComponent)return(0,pe.of)(d._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(d);const m=cn(d.loadComponent()).pipe((0,te.U)(nn),pt(O=>{this.onLoadEndListener&&this.onLoadEndListener(d),d._loadedComponent=O}),sr(()=>{this.componentLoaders.delete(d)})),T=new Ct(m,()=>new ke.x).pipe(ot());return this.componentLoaders.set(d,T),T}loadChildren(d,m){if(this.childrenLoaders.get(m))return this.childrenLoaders.get(m);if(m._loadedRoutes)return(0,pe.of)({routes:m._loadedRoutes,injector:m._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(m);const O=this.loadModuleFactoryOrRoutes(m.loadChildren).pipe((0,te.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(m);let Te,ze;return Array.isArray(ae)?ze=ae:(Te=ae.create(d).injector,ze=Te.get(Rt,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:ze.map(zt),injector:Te}}),sr(()=>{this.childrenLoaders.delete(m)})),N=new Ct(O,()=>new ke.x).pipe(ot());return this.childrenLoaders.set(m,N),N}loadModuleFactoryOrRoutes(d){return cn(d()).pipe((0,te.U)(nn),(0,Ve.z)(m=>m instanceof c.YKP||Array.isArray(m)?(0,pe.of)(m):(0,q.D)(this.compiler.compileModuleAsync(m))))}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function nn(f){return function xt(f){return f&&"object"==typeof f&&"default"in f}(f)?f.default:f}let mn=(()=>{class f{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ke.x,this.configLoader=(0,c.f3M)(yt),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(jn),this.rootContexts=(0,c.f3M)(Ft),this.inputBindingEnabled=null!==(0,c.f3M)(Cr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=T=>this.events.next(new Lo(T)),this.configLoader.onLoadStartListener=T=>this.events.next(new lo(T))}complete(){this.transitions?.complete()}handleNavigationRequest(d){const m=++this.navigationId;this.transitions?.next({...this.transitions.value,...d,id:m})}setupNavigations(d){return this.transitions=new Ee.X({id:0,currentUrlTree:d.currentUrlTree,currentRawUrl:d.currentUrlTree,extractedUrl:d.urlHandlingStrategy.extract(d.currentUrlTree),urlAfterRedirects:d.urlHandlingStrategy.extract(d.currentUrlTree),rawUrl:d.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vr,restoredState:null,currentSnapshot:d.routerState.snapshot,targetSnapshot:null,currentRouterState:d.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pe(m=>0!==m.id),(0,te.U)(m=>({...m,extractedUrl:d.urlHandlingStrategy.extract(m.rawUrl)})),(0,ce.w)(m=>{let T=!1,O=!1;return(0,pe.of)(m).pipe(pt(N=>{this.currentNavigation={id:N.id,initialUrl:N.rawUrl,extractedUrl:N.extractedUrl,trigger:N.source,extras:N.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ce.w)(N=>{const ae=d.browserUrlTree.toString(),Te=!d.navigated||N.extractedUrl.toString()!==ae||ae!==d.currentUrlTree.toString();if(!Te&&"reload"!==(N.extras.onSameUrlNavigation??d.onSameUrlNavigation)){const Je="";return this.events.next(new bo(N.id,d.serializeUrl(m.rawUrl),Je,0)),d.rawUrlTree=N.rawUrl,N.resolve(null),le.E}if(d.urlHandlingStrategy.shouldProcessUrl(N.rawUrl))return rr(N.source)&&(d.browserUrlTree=N.extractedUrl),(0,pe.of)(N).pipe((0,ce.w)(Je=>{const Lt=this.transitions?.getValue();return this.events.next(new Fo(Je.id,this.urlSerializer.serialize(Je.extractedUrl),Je.source,Je.restoredState)),Lt!==this.transitions?.getValue()?le.E:Promise.resolve(Je)}),function D(f,g,d,m,T,O){return(0,Ve.z)(N=>function Es(f,g,d,m,T,O,N="emptyOnly"){return new ba(f,g,d,m,T,N,O).recognize()}(f,g,d,m,N.extractedUrl,T,O).pipe((0,te.U)(({state:ae,tree:Te})=>({...N,targetSnapshot:ae,urlAfterRedirects:Te}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,d.config,this.urlSerializer,d.paramsInheritanceStrategy),pt(Je=>{if(m.targetSnapshot=Je.targetSnapshot,m.urlAfterRedirects=Je.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Je.urlAfterRedirects},"eager"===d.urlUpdateStrategy){if(!Je.extras.skipLocationChange){const ir=d.urlHandlingStrategy.merge(Je.urlAfterRedirects,Je.rawUrl);d.setBrowserUrl(ir,Je)}d.browserUrlTree=Je.urlAfterRedirects}const Lt=new ao(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects),Je.targetSnapshot);this.events.next(Lt)}));if(Te&&d.urlHandlingStrategy.shouldProcessUrl(d.rawUrlTree)){const{id:Je,extractedUrl:Lt,source:ir,restoredState:Ci,extras:ci}=N,li=new Fo(Je,this.urlSerializer.serialize(Lt),ir,Ci);this.events.next(li);const Ns=$e(0,this.rootComponentType).snapshot;return m={...N,targetSnapshot:Ns,urlAfterRedirects:Lt,extras:{...ci,skipLocationChange:!1,replaceUrl:!1}},(0,pe.of)(m)}{const Je="";return this.events.next(new bo(N.id,d.serializeUrl(m.extractedUrl),Je,1)),d.rawUrlTree=N.rawUrl,N.resolve(null),le.E}}),pt(N=>{const ae=new Yo(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(ae)}),(0,te.U)(N=>m={...N,guards:Ai(N.targetSnapshot,N.currentSnapshot,this.rootContexts)}),function x(f,g){return(0,Ve.z)(d=>{const{targetSnapshot:m,currentSnapshot:T,guards:{canActivateChecks:O,canDeactivateChecks:N}}=d;return 0===N.length&&0===O.length?(0,pe.of)({...d,guardsResult:!0}):function U(f,g,d,m){return(0,q.D)(f).pipe((0,Ve.z)(T=>function Wt(f,g,d,m,T){const O=g&&g.routeConfig?g.routeConfig.canDeactivate:null;if(!O||0===O.length)return(0,pe.of)(!0);const N=O.map(ae=>{const Te=Hn(g)??T,ze=Xr(ae,Te);return cn(function a(f){return f&&jt(f.canDeactivate)}(ze)?ze.canDeactivate(f,g,d,m):Te.runInContext(()=>ze(f,g,d,m))).pipe(ht())});return(0,pe.of)(N).pipe(P())}(T.component,T.route,d,g,m)),ht(T=>!0!==T,!0))}(N,m,T,f).pipe((0,Ve.z)(ae=>ae&&function oi(f){return"boolean"==typeof f}(ae)?function j(f,g,d,m){return(0,q.D)(g).pipe(Dt(T=>he(function De(f,g){return null!==f&&g&&g(new uo(f)),(0,pe.of)(!0)}(T.route.parent,m),function ne(f,g){return null!==f&&g&&g(new fo(f)),(0,pe.of)(!0)}(T.route,m),function St(f,g,d){const m=g[g.length-1],O=g.slice(0,g.length-1).reverse().map(N=>function pi(f){const g=f.routeConfig?f.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:f,guards:g}:null}(N)).filter(N=>null!==N).map(N=>Y(()=>{const ae=N.guards.map(Te=>{const ze=Hn(N.node)??d,Je=Xr(Te,ze);return cn(function C(f){return f&&jt(f.canActivateChild)}(Je)?Je.canActivateChild(m,f):ze.runInContext(()=>Je(m,f))).pipe(ht())});return(0,pe.of)(ae).pipe(P())}));return(0,pe.of)(O).pipe(P())}(f,T.path,d),function Ge(f,g,d){const m=g.routeConfig?g.routeConfig.canActivate:null;if(!m||0===m.length)return(0,pe.of)(!0);const T=m.map(O=>Y(()=>{const N=Hn(g)??d,ae=Xr(O,N);return cn(function b(f){return f&&jt(f.canActivate)}(ae)?ae.canActivate(g,f):N.runInContext(()=>ae(g,f))).pipe(ht())}));return(0,pe.of)(T).pipe(P())}(f,T.route,d))),ht(T=>!0!==T,!0))}(m,O,f,g):(0,pe.of)(ae)),(0,te.U)(ae=>({...d,guardsResult:ae})))})}(this.environmentInjector,N=>this.events.next(N)),pt(N=>{if(m.guardsResult=N.guardsResult,Bn(N.guardsResult))throw tr(0,N.guardsResult);const ae=new ti(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot,!!N.guardsResult);this.events.next(ae)}),Pe(N=>!!N.guardsResult||(d.restoreHistory(N),this.cancelNavigationTransition(N,"",3),!1)),st(N=>{if(N.guards.canActivateChecks.length)return(0,pe.of)(N).pipe(pt(ae=>{const Te=new co(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Te)}),(0,ce.w)(ae=>{let Te=!1;return(0,pe.of)(ae).pipe(function R(f,g){return(0,Ve.z)(d=>{const{targetSnapshot:m,guards:{canActivateChecks:T}}=d;if(!T.length)return(0,pe.of)(d);let O=0;return(0,q.D)(T).pipe(Dt(N=>function G(f,g,d,m){const T=f.routeConfig,O=f._resolve;return void 0!==T?.title&&!qt(T)&&(O[Jt]=T.title),function Ce(f,g,d,m){const T=function we(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}(f);if(0===T.length)return(0,pe.of)({});const O={};return(0,q.D)(T).pipe((0,Ve.z)(N=>function Ke(f,g,d,m){const T=Hn(g)??m,O=Xr(f,T);return cn(O.resolve?O.resolve(g,d):T.runInContext(()=>O(g,d)))}(f[N],g,d,m).pipe(ht(),pt(ae=>{O[N]=ae}))),tn(1),function Yt(f){return(0,te.U)(()=>f)}(O),Vt(N=>y(N)?le.E:X(N)))}(O,f,g,m).pipe((0,te.U)(N=>(f._resolvedData=N,f.data=At(f,d).resolve,T&&qt(T)&&(f.data[Jt]=T.title),null)))}(N.route,m,f,g)),pt(()=>O++),tn(1),(0,Ve.z)(N=>O===T.length?(0,pe.of)(d):le.E))})}(d.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>Te=!0,complete:()=>{Te||(d.restoreHistory(ae),this.cancelNavigationTransition(ae,"",2))}}))}),pt(ae=>{const Te=new ni(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Te)}))}),st(N=>{const ae=Te=>{const ze=[];Te.routeConfig?.loadComponent&&!Te.routeConfig._loadedComponent&&ze.push(this.configLoader.loadComponent(Te.routeConfig).pipe(pt(Je=>{Te.component=Je}),(0,te.U)(()=>{})));for(const Je of Te.children)ze.push(...ae(Je));return ze};return Ne(ae(N.targetSnapshot.root)).pipe(Ze(),Ae(1))}),st(()=>this.afterPreactivation()),(0,te.U)(N=>{const ae=function ho(f,g,d){const m=ur(f,g._root,d?d._root:void 0);return new ve(m,g)}(d.routeReuseStrategy,N.targetSnapshot,N.currentRouterState);return m={...N,targetRouterState:ae}}),pt(N=>{d.currentUrlTree=N.urlAfterRedirects,d.rawUrlTree=d.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl),d.routerState=N.targetRouterState,"deferred"===d.urlUpdateStrategy&&(N.extras.skipLocationChange||d.setBrowserUrl(d.rawUrlTree,N),d.browserUrlTree=N.urlAfterRedirects)}),((f,g,d,m)=>(0,te.U)(T=>(new Pt(g,T.targetRouterState,T.currentRouterState,d,m).activate(f),T)))(this.rootContexts,d.routeReuseStrategy,N=>this.events.next(N),this.inputBindingEnabled),Ae(1),pt({next:N=>{T=!0,this.lastSuccessfulNavigation=this.currentNavigation,d.navigated=!0,this.events.next(new Rr(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(d.currentUrlTree))),d.titleStrategy?.updateTitle(N.targetRouterState.snapshot),N.resolve(!0)},complete:()=>{T=!0}}),sr(()=>{T||O||this.cancelNavigationTransition(m,"",1),this.currentNavigation?.id===m.id&&(this.currentNavigation=null)}),Vt(N=>{if(O=!0,Mt(N)){po(N)||(d.navigated=!0,d.restoreHistory(m,!0));const ae=new jr(m.id,this.urlSerializer.serialize(m.extractedUrl),N.message,N.cancellationCode);if(this.events.next(ae),po(N)){const Te=d.urlHandlingStrategy.merge(N.url,d.rawUrlTree),ze={skipLocationChange:m.extras.skipLocationChange,replaceUrl:"eager"===d.urlUpdateStrategy||rr(m.source)};d.scheduleNavigation(Te,Vr,null,ze,{resolve:m.resolve,reject:m.reject,promise:m.promise})}else m.resolve(!1)}else{d.restoreHistory(m,!0);const ae=new En(m.id,this.urlSerializer.serialize(m.extractedUrl),N,m.targetSnapshot??void 0);this.events.next(ae);try{m.resolve(d.errorHandler(N))}catch(Te){m.reject(Te)}}return le.E}))}))}cancelNavigationTransition(d,m,T){const O=new jr(d.id,this.urlSerializer.serialize(d.extractedUrl),m,T);this.events.next(O),d.resolve(!1)}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function rr(f){return f!==Vr}let yn=(()=>{class f{buildTitle(d){let m,T=d.root;for(;void 0!==T;)m=this.getResolvedTitleForRoute(T)??m,T=T.children.find(O=>O.outlet===Fe);return m}getResolvedTitleForRoute(d){return d.data[Jt]}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:function(){return(0,c.f3M)(Vo)},providedIn:"root"}),f})(),Vo=(()=>{class f extends yn{constructor(d){super(),this.title=d}updateTitle(d){const m=this.buildTitle(d);void 0!==m&&this.title.setTitle(m)}}return f.\u0275fac=function(d){return new(d||f)(c.LFG(dn.Dx))},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),xr=(()=>{class f{}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:function(){return(0,c.f3M)(or)},providedIn:"root"}),f})();class Mo{shouldDetach(g){return!1}store(g,d){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,d){return g.routeConfig===d.routeConfig}}let or=(()=>{class f extends Mo{}return f.\u0275fac=function(){let g;return function(m){return(g||(g=c.n5z(f)))(m||f)}}(),f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Ur=new c.OlP("",{providedIn:"root",factory:()=>({})});let Gc=(()=>{class f{}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:function(){return(0,c.f3M)(Sa)},providedIn:"root"}),f})(),Sa=(()=>{class f{shouldProcessUrl(d){return!0}extract(d){return d}merge(d,m){return d}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();var Dr=(()=>((Dr=Dr||{})[Dr.COMPLETE=0]="COMPLETE",Dr[Dr.FAILED=1]="FAILED",Dr[Dr.REDIRECTING=2]="REDIRECTING",Dr))();function Ss(f,g){f.events.pipe(Pe(d=>d instanceof Rr||d instanceof jr||d instanceof En||d instanceof bo),(0,te.U)(d=>d instanceof Rr||d instanceof bo?Dr.COMPLETE:d instanceof jr&&(0===d.code||1===d.code)?Dr.REDIRECTING:Dr.FAILED),Pe(d=>d!==Dr.REDIRECTING),Ae(1)).subscribe(()=>{g()})}function zc(f){throw f}function ft(f,g,d){return g.parse("/")}const wa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},md={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class f{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Ur,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||zc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ft,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Gc),this.routeReuseStrategy=(0,c.f3M)(xr),this.titleStrategy=(0,c.f3M)(yn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Rt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(mn),this.urlSerializer=(0,c.f3M)(jn),this.location=(0,c.f3M)(ye.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Cr,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$e(0,null),this.navigationTransitions.setupNavigations(this).subscribe(d=>{this.lastSuccessfulId=d.id,this.currentPageId=this.browserPageId??0},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)})}resetRootComponentType(d){this.routerState.root.component=d,this.navigationTransitions.rootComponentType=d}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const d=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vr,d)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const m="popstate"===d.type?"popstate":"hashchange";"popstate"===m&&setTimeout(()=>{this.navigateToSyncWithBrowser(d.url,m,d.state)},0)}))}navigateToSyncWithBrowser(d,m,T){const O={replaceUrl:!0},N=T?.navigationId?T:null;if(T){const Te={...T};delete Te.navigationId,delete Te.\u0275routerPageId,0!==Object.keys(Te).length&&(O.state=Te)}const ae=this.parseUrl(d);this.scheduleNavigation(ae,m,N,O)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(d){this.config=d.map(zt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(d,m={}){const{relativeTo:T,queryParams:O,fragment:N,queryParamsHandling:ae,preserveFragment:Te}=m,ze=Te?this.currentUrlTree.fragment:N;let Lt,Je=null;switch(ae){case"merge":Je={...this.currentUrlTree.queryParams,...O};break;case"preserve":Je=this.currentUrlTree.queryParams;break;default:Je=O||null}null!==Je&&(Je=this.removeEmptyProps(Je));try{Lt=Ir(T?T.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof d[0]||!d[0].startsWith("/"))&&(d=[]),Lt=this.currentUrlTree.root}return ro(Lt,d,Je,ze??null)}navigateByUrl(d,m={skipLocationChange:!1}){const T=Bn(d)?d:this.parseUrl(d),O=this.urlHandlingStrategy.merge(T,this.rawUrlTree);return this.scheduleNavigation(O,Vr,null,m)}navigate(d,m={skipLocationChange:!1}){return function Wc(f){for(let g=0;g<f.length;g++)if(null==f[g])throw new c.vHH(4008,!1)}(d),this.navigateByUrl(this.createUrlTree(d,m),m)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let m;try{m=this.urlSerializer.parse(d)}catch(T){m=this.malformedUriErrorHandler(T,this.urlSerializer,d)}return m}isActive(d,m){let T;if(T=!0===m?{...wa}:!1===m?{...md}:m,Bn(d))return on(this.currentUrlTree,d,T);const O=this.parseUrl(d);return on(this.currentUrlTree,O,T)}removeEmptyProps(d){return Object.keys(d).reduce((m,T)=>{const O=d[T];return null!=O&&(m[T]=O),m},{})}scheduleNavigation(d,m,T,O,N){if(this.disposed)return Promise.resolve(!1);let ae,Te,ze;N?(ae=N.resolve,Te=N.reject,ze=N.promise):ze=new Promise((Lt,ir)=>{ae=Lt,Te=ir});const Je=this.pendingTasks.add();return Ss(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Je))}),this.navigationTransitions.handleNavigationRequest({source:m,restoredState:T,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:d,extras:O,resolve:ae,reject:Te,promise:ze,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ze.catch(Lt=>Promise.reject(Lt))}setBrowserUrl(d,m){const T=this.urlSerializer.serialize(d);if(this.location.isCurrentPathEqualTo(T)||m.extras.replaceUrl){const N={...m.extras.state,...this.generateNgRouterState(m.id,this.browserPageId)};this.location.replaceState(T,"",N)}else{const O={...m.extras.state,...this.generateNgRouterState(m.id,(this.browserPageId??0)+1)};this.location.go(T,"",O)}}restoreHistory(d,m=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-(this.browserPageId??this.currentPageId);0!==O?this.location.historyGo(O):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===O&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(m&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(d,m){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:m}:{navigationId:d}}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),ji=(()=>{class f{constructor(d,m,T,O,N,ae){this.router=d,this.route=m,this.tabIndexAttribute=T,this.renderer=O,this.el=N,this.locationStrategy=ae,this.href=null,this.commands=null,this.onChanges=new ke.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Te=N.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Te||"area"===Te,this.isAnchorElement?this.subscription=d.events.subscribe(ze=>{ze instanceof Rr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(d){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",d)}ngOnChanges(d){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(d,m,T,O,N){return!!(null===this.urlTree||this.isAnchorElement&&(0!==d||m||T||O||N||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const d=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",d)}applyAttributeValue(d,m){const T=this.renderer,O=this.el.nativeElement;null!==m?T.setAttribute(O,d,m):T.removeAttribute(O,d)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return f.\u0275fac=function(d){return new(d||f)(c.Y36(Or),c.Y36(it),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ye.S$))},f.\u0275dir=c.lG2({type:f,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(d,m){1&d&&c.NdJ("click",function(O){return m.onClick(O.button,O.ctrlKey,O.shiftKey,O.altKey,O.metaKey)}),2&d&&c.uIk("target",m.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]}),f})(),ws=(()=>{class f{get isActive(){return this._isActive}constructor(d,m,T,O,N){this.router=d,this.element=m,this.renderer=T,this.cdr=O,this.link=N,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=d.events.subscribe(ae=>{ae instanceof Rr&&this.update()})}ngAfterContentInit(){(0,pe.of)(this.links.changes,(0,pe.of)(null)).pipe((0,ge.J)()).subscribe(d=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const d=[...this.links.toArray(),this.link].filter(m=>!!m).map(m=>m.onChanges);this.linkInputChangesSubscription=(0,q.D)(d).pipe((0,ge.J)()).subscribe(m=>{this._isActive!==this.isLinkActive(this.router)(m)&&this.update()})}set routerLinkActive(d){const m=Array.isArray(d)?d:d.split(" ");this.classes=m.filter(T=>!!T)}ngOnChanges(d){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const d=this.hasActiveLinks();this._isActive!==d&&(this._isActive=d,this.cdr.markForCheck(),this.classes.forEach(m=>{d?this.renderer.addClass(this.element.nativeElement,m):this.renderer.removeClass(this.element.nativeElement,m)}),d&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(d))})}isLinkActive(d){const m=function si(f){return!!f.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return T=>!!T.urlTree&&d.isActive(T.urlTree,m)}hasActiveLinks(){const d=this.isLinkActive(this.router);return this.link&&d(this.link)||this.links.some(d)}}return f.\u0275fac=function(d){return new(d||f)(c.Y36(Or),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(ji,8))},f.\u0275dir=c.lG2({type:f,selectors:[["","routerLinkActive",""]],contentQueries:function(d,m,T){if(1&d&&c.Suo(T,ji,5),2&d){let O;c.iGM(O=c.CRH())&&(m.links=O)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]}),f})();class Ta{}let Yc=(()=>{class f{constructor(d,m,T,O,N){this.router=d,this.injector=T,this.preloadingStrategy=O,this.loader=N}setUpPreloading(){this.subscription=this.router.events.pipe(Pe(d=>d instanceof Rr),Dt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,m){const T=[];for(const O of m){O.providers&&!O._injector&&(O._injector=(0,c.MMx)(O.providers,d,`Route: ${O.path}`));const N=O._injector??d,ae=O._loadedInjector??N;(O.loadChildren&&!O._loadedRoutes&&void 0===O.canLoad||O.loadComponent&&!O._loadedComponent)&&T.push(this.preloadConfig(N,O)),(O.children||O._loadedRoutes)&&T.push(this.processRoutes(ae,O.children??O._loadedRoutes))}return(0,q.D)(T).pipe((0,ge.J)())}preloadConfig(d,m){return this.preloadingStrategy.preload(m,()=>{let T;T=m.loadChildren&&void 0===m.canLoad?this.loader.loadChildren(d,m):(0,pe.of)(null);const O=T.pipe((0,Ve.z)(N=>null===N?(0,pe.of)(void 0):(m._loadedRoutes=N.routes,m._loadedInjector=N.injector,this.processRoutes(N.injector??d,N.routes))));if(m.loadComponent&&!m._loadedComponent){const N=this.loader.loadComponent(m);return(0,q.D)([O,N]).pipe((0,ge.J)())}return O})}}return f.\u0275fac=function(d){return new(d||f)(c.LFG(Or),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Ta),c.LFG(yt))},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Ts=new c.OlP("");let Re=(()=>{class f{constructor(d,m,T,O,N={}){this.urlSerializer=d,this.transitions=m,this.viewportScroller=T,this.zone=O,this.options=N,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},N.scrollPositionRestoration=N.scrollPositionRestoration||"disabled",N.anchorScrolling=N.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof Rr?(this.lastId=d.id,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.urlAfterRedirects).fragment)):d instanceof bo&&0===d.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Sn&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,m){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sn(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,m))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return f.\u0275fac=function(d){c.$Z()},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac}),f})();function yo(f,g){return{\u0275kind:f,\u0275providers:g}}function Bi(){const f=(0,c.f3M)(c.zs3);return g=>{const d=f.get(c.z2F);if(g!==d.components[0])return;const m=f.get(Or),T=f.get(Ui);1===f.get(Is)&&m.initialNavigation(),f.get(vo,null,c.XFs.Optional)?.setUpPreloading(),f.get(Ts,null,c.XFs.Optional)?.init(),m.resetRootComponentType(d.componentTypes[0]),T.closed||(T.next(),T.complete(),T.unsubscribe())}}const Ui=new c.OlP("",{factory:()=>new ke.x}),Is=new c.OlP("",{providedIn:"root",factory:()=>1}),vo=new c.OlP("");function Ia(f){return yo(0,[{provide:vo,useExisting:Yc},{provide:Ta,useExisting:f}])}const Ra=new c.OlP("ROUTER_FORROOT_GUARD"),As=[ye.Ye,{provide:jn,useClass:Mn},Or,Ft,{provide:it,useFactory:function Ms(f){return f.routerState.root},deps:[Or]},yt,[]];function Rs(){return new c.PXZ("Router",Or)}let Pa=(()=>{class f{constructor(d){}static forRoot(d,m){return{ngModule:f,providers:[As,[],{provide:Rt,multi:!0,useValue:d},{provide:Ra,useFactory:xs,deps:[[Or,new c.FiY,new c.tp0]]},{provide:Ur,useValue:m||{}},m?.useHash?{provide:ye.S$,useClass:ye.Do}:{provide:ye.S$,useClass:ye.b0},{provide:Ts,useFactory:()=>{const f=(0,c.f3M)(ye.EM),g=(0,c.f3M)(c.R0b),d=(0,c.f3M)(Ur),m=(0,c.f3M)(mn),T=(0,c.f3M)(jn);return d.scrollOffset&&f.setOffset(d.scrollOffset),new Re(T,m,f,g,d)}},m?.preloadingStrategy?Ia(m.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Rs},m?.initialNavigation?Oa(m):[],m?.bindToComponentInputs?yo(8,[sn,{provide:Cr,useExisting:sn}]).\u0275providers:[],[{provide:Os,useFactory:Bi},{provide:c.tb,multi:!0,useExisting:Os}]]}}static forChild(d){return{ngModule:f,providers:[{provide:Rt,multi:!0,useValue:d}]}}}return f.\u0275fac=function(d){return new(d||f)(c.LFG(Ra,8))},f.\u0275mod=c.oAB({type:f}),f.\u0275inj=c.cJS({}),f})();function xs(f){return"guarded"}function Oa(f){return["disabled"===f.initialNavigation?yo(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const g=(0,c.f3M)(Or);return()=>{g.setUpLocationChangeListener()}}},{provide:Is,useValue:2}]).\u0275providers:[],"enabledBlocking"===f.initialNavigation?yo(2,[{provide:Is,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:g=>{const d=g.get(ye.V_,Promise.resolve());return()=>d.then(()=>new Promise(m=>{const T=g.get(Or),O=g.get(Ui);Ss(T,()=>{m(!0)}),g.get(mn).afterPreactivation=()=>(m(!0),O.closed?(0,pe.of)(void 0):O),T.initialNavigation()}))}}]).\u0275providers:[]]}const Os=new c.OlP("")},9659:(Xe,K,M)=>{"use strict";M.d(K,{Z:()=>ge});var c=M(5861);const k=new WeakMap,J=new WeakMap,Z=new WeakMap,q=Symbol("anyProducer"),pe=Promise.resolve(),Ee=Symbol("listenerAdded"),L=Symbol("listenerRemoved");let F=!1,Q=!1;function ie(he){if("string"!=typeof he&&"symbol"!=typeof he&&"number"!=typeof he)throw new TypeError("`eventName` must be a string, symbol, or number")}function _e(he){if("function"!=typeof he)throw new TypeError("listener must be a function")}function Oe(he,B){const Y=J.get(he);if(Y.has(B))return Y.get(B)}function me(he,B){const Y="string"==typeof B||"symbol"==typeof B||"number"==typeof B?B:q,re=Z.get(he);if(re.has(Y))return re.get(Y)}function He(he,B){B=Array.isArray(B)?B:[B];let Y=!1,re=()=>{},X=[];const le={enqueue(Se){X.push(Se),re()},finish(){Y=!0,re()}};for(const Se of B){let We=me(he,Se);We||(We=new Set,Z.get(he).set(Se,We)),We.add(le)}return{next(){var Se=this;return(0,c.Z)(function*(){return X?0===X.length?Y?(X=void 0,Se.next()):(yield new Promise(We=>{re=We}),Se.next()):{done:!1,value:yield X.shift()}:{done:!0}})()},return(Se){var We=arguments;return(0,c.Z)(function*(){X=void 0;for(const ot of B){const Ct=me(he,ot);Ct&&(Ct.delete(le),0===Ct.size&&Z.get(he).delete(ot))}return re(),We.length>0?{done:!0,value:yield Se}:{done:!0}})()},[Symbol.asyncIterator](){return this}}}function $(he){if(void 0===he)return z;if(!Array.isArray(he))throw new TypeError("`methodNames` must be an array of strings");for(const B of he)if(!z.includes(B))throw"string"!=typeof B?new TypeError("`methodNames` element must be a string"):new Error(`${B} is not Emittery method`);return he}const W=he=>he===Ee||he===L;function ue(he,B,Y){if(W(B))try{F=!0,he.emit(B,Y)}finally{F=!1}}class ge{static mixin(B,Y){return Y=$(Y),re=>{if("function"!=typeof re)throw new TypeError("`target` must be function");for(const Se of Y)if(void 0!==re.prototype[Se])throw new Error(`The property \`${Se}\` already exists on \`target\``);Object.defineProperty(re.prototype,B,{enumerable:!1,get:function X(){return Object.defineProperty(this,B,{enumerable:!1,value:new ge}),this[B]}});const le=Se=>function(...We){return this[B][Se](...We)};for(const Se of Y)Object.defineProperty(re.prototype,Se,{enumerable:!1,value:le(Se)});return re}}static get isDebugEnabled(){if("object"!=typeof globalThis.process?.env)return Q;const{env:B}=globalThis.process??{env:{}};return"emittery"===B.DEBUG||"*"===B.DEBUG||Q}static set isDebugEnabled(B){Q=B}constructor(B={}){k.set(this,new Set),J.set(this,new Map),Z.set(this,new Map),Z.get(this).set(q,new Set),this.debug=B.debug??{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(Y,re,X,le)=>{try{le=JSON.stringify(le)}catch{le=`Object with the following keys failed to stringify: ${Object.keys(le).join(",")}`}("symbol"==typeof X||"number"==typeof X)&&(X=X.toString());const Se=new Date,We=`${Se.getHours()}:${Se.getMinutes()}:${Se.getSeconds()}.${Se.getMilliseconds()}`;console.log(`[${We}][emittery:${Y}][${re}] Event Name: ${X}\n\tdata: ${le}`)})}logIfDebugEnabled(B,Y,re){(ge.isDebugEnabled||this.debug.enabled)&&this.debug.logger(B,this.debug.name,Y,re)}on(B,Y){_e(Y),B=Array.isArray(B)?B:[B];for(const re of B){ie(re);let X=Oe(this,re);X||(X=new Set,J.get(this).set(re,X)),X.add(Y),this.logIfDebugEnabled("subscribe",re,void 0),W(re)||ue(this,Ee,{eventName:re,listener:Y})}return this.off.bind(this,B,Y)}off(B,Y){_e(Y),B=Array.isArray(B)?B:[B];for(const re of B){ie(re);const X=Oe(this,re);X&&(X.delete(Y),0===X.size&&J.get(this).delete(re)),this.logIfDebugEnabled("unsubscribe",re,void 0),W(re)||ue(this,L,{eventName:re,listener:Y})}}once(B){let Y;const re=new Promise(X=>{Y=this.on(B,le=>{Y(),X(le)})});return re.off=Y,re}events(B){B=Array.isArray(B)?B:[B];for(const Y of B)ie(Y);return He(this,B)}emit(B,Y){var re=this;return(0,c.Z)(function*(){if(ie(B),W(B)&&!F)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");re.logIfDebugEnabled("emit",B,Y),function Ne(he,B,Y){const re=Z.get(he);if(re.has(B))for(const X of re.get(B))X.enqueue(Y);if(re.has(q)){const X=Promise.all([B,Y]);for(const le of re.get(q))le.enqueue(X)}}(re,B,Y);const X=Oe(re,B)??new Set,le=k.get(re),Se=[...X],We=W(B)?[]:[...le];yield pe,yield Promise.all([...Se.map(function(){var ot=(0,c.Z)(function*(Ct){if(X.has(Ct))return Ct(Y)});return function(Ct){return ot.apply(this,arguments)}}()),...We.map(function(){var ot=(0,c.Z)(function*(Ct){if(le.has(Ct))return Ct(B,Y)});return function(Ct){return ot.apply(this,arguments)}}())])})()}emitSerial(B,Y){var re=this;return(0,c.Z)(function*(){if(ie(B),W(B)&&!F)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");re.logIfDebugEnabled("emitSerial",B,Y);const X=Oe(re,B)??new Set,le=k.get(re),Se=[...X],We=[...le];yield pe;for(const ot of Se)X.has(ot)&&(yield ot(Y));for(const ot of We)le.has(ot)&&(yield ot(B,Y))})()}onAny(B){return _e(B),this.logIfDebugEnabled("subscribeAny",void 0,void 0),k.get(this).add(B),ue(this,Ee,{listener:B}),this.offAny.bind(this,B)}anyEvent(){return He(this)}offAny(B){_e(B),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),ue(this,L,{listener:B}),k.get(this).delete(B)}clearListeners(B){B=Array.isArray(B)?B:[B];for(const Y of B)if(this.logIfDebugEnabled("clear",Y,void 0),"string"==typeof Y||"symbol"==typeof Y||"number"==typeof Y){const re=Oe(this,Y);re&&re.clear();const X=me(this,Y);if(X){for(const le of X)le.finish();X.clear()}}else{k.get(this).clear();for(const[re,X]of J.get(this).entries())X.clear(),J.get(this).delete(re);for(const[re,X]of Z.get(this).entries()){for(const le of X)le.finish();X.clear(),Z.get(this).delete(re)}}}listenerCount(B){B=Array.isArray(B)?B:[B];let Y=0;for(const re of B)if("string"!=typeof re){typeof re<"u"&&ie(re),Y+=k.get(this).size;for(const X of J.get(this).values())Y+=X.size;for(const X of Z.get(this).values())Y+=X.size}else Y+=k.get(this).size+(Oe(this,re)?.size??0)+(me(this,re)?.size??0)+(me(this)?.size??0);return Y}bindMethods(B,Y){if("object"!=typeof B||null===B)throw new TypeError("`target` must be an object");Y=$(Y);for(const re of Y){if(void 0!==B[re])throw new Error(`The property \`${re}\` already exists on \`target\``);Object.defineProperty(B,re,{enumerable:!1,value:this[re].bind(this)})}}}const z=Object.getOwnPropertyNames(ge.prototype).filter(he=>"constructor"!==he);Object.defineProperty(ge,"listenerAdded",{value:Ee,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(ge,"listenerRemoved",{value:L,writable:!1,enumerable:!0,configurable:!1})},5861:(Xe,K,M)=>{"use strict";function c(J,Z,q,pe,Ee,L,F){try{var Q=J[L](F),ie=Q.value}catch(_e){return void q(_e)}Q.done?Z(ie):Promise.resolve(ie).then(pe,Ee)}function k(J){return function(){var Z=this,q=arguments;return new Promise(function(pe,Ee){var L=J.apply(Z,q);function F(ie){c(L,pe,Ee,F,Q,"next",ie)}function Q(ie){c(L,pe,Ee,F,Q,"throw",ie)}F(void 0)})}}M.d(K,{Z:()=>k})},7582:(Xe,K,M)=>{"use strict";function _e(ye,te,ce,Ae){return new(ce||(ce=Promise))(function(Pe,Ve){function Ze(ht){try{tt(Ae.next(ht))}catch(Dt){Ve(Dt)}}function Kt(ht){try{tt(Ae.throw(ht))}catch(Dt){Ve(Dt)}}function tt(ht){ht.done?Pe(ht.value):function Le(Pe){return Pe instanceof ce?Pe:new ce(function(Ve){Ve(Pe)})}(ht.value).then(Ze,Kt)}tt((Ae=Ae.apply(ye,te||[])).next())})}function z(ye){return this instanceof z?(this.v=ye,this):new z(ye)}function he(ye,te,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Ae=ce.apply(ye,te||[]),Pe=[];return Le={},Ve("next"),Ve("throw"),Ve("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Ve(pt){Ae[pt]&&(Le[pt]=function(Vt){return new Promise(function(vn,_n){Pe.push([pt,Vt,vn,_n])>1||Ze(pt,Vt)})})}function Ze(pt,Vt){try{!function Kt(pt){pt.value instanceof z?Promise.resolve(pt.value.v).then(tt,ht):Dt(Pe[0][2],pt)}(Ae[pt](Vt))}catch(vn){Dt(Pe[0][3],vn)}}function tt(pt){Ze("next",pt)}function ht(pt){Ze("throw",pt)}function Dt(pt,Vt){pt(Vt),Pe.shift(),Pe.length&&Ze(Pe[0][0],Pe[0][1])}}function Y(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,te=ye[Symbol.asyncIterator];return te?te.call(ye):(ye=function He(ye){var te="function"==typeof Symbol&&Symbol.iterator,ce=te&&ye[te],Ae=0;if(ce)return ce.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Ae>=ye.length&&(ye=void 0),{value:ye&&ye[Ae++],done:!ye}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),ce={},Ae("next"),Ae("throw"),Ae("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function Ae(Pe){ce[Pe]=ye[Pe]&&function(Ve){return new Promise(function(Ze,Kt){!function Le(Pe,Ve,Ze,Kt){Promise.resolve(Kt).then(function(tt){Pe({value:tt,done:Ze})},Ve)}(Ze,Kt,(Ve=ye[Pe](Ve)).done,Ve.value)})}}}M.d(K,{FC:()=>he,KL:()=>Y,mG:()=>_e,qq:()=>z})}},Xe=>{Xe(Xe.s=8956)}]);