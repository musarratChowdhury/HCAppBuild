(self.webpackChunkHCApp=self.webpackChunkHCApp||[]).push([[179],{4670:(et,J,T)=>{"use strict";T.d(J,{PV:()=>V,jQ:()=>l,ok:()=>q,x4:()=>B});class l{constructor(){this.roomId="",this.name="",this.matchType="",this.roomCreatedAt="",this.roomCreatedBy="",this.maxBalls=0,this.totalWickets=0,this.teamA=new N,this.teamB=new N,this.inMatchData=new fe,this.isTossStage=!1,this.firstInnings=new Y,this.secondInnings=new Y,this.currentInnings=new Y,this.playerList=[],this.gameOver=!1,this.spectators=[]}}class N{constructor(){this.name="",this.customDisplayName="",this.isBatting=!1,this.isBowling=!1,this.captain=new q,this.onStrike=new q,this.bowling=new q,this.player1=new q,this.player2=new q,this.thisOver=[],this.thisOverDisplay=[],this.players=[]}}class q{constructor(){this.roomId="",this.roomIdString="",this.playerId="",this.currentConnectionId="",this.teamName="",this.name="",this.roomName="",this.number=0,this.runs=0,this.wicketsLeft=0,this.isOnStrike=!1,this.ballsPlayed=0,this.isBatting=!1,this.hasWonToss=!1,this.runRate=0,this.strikeRate=0,this.captainsChoice="",this.isConnected=!1,this.isTossing=!1,this.isCaptain=!1,this.isHeads=!1,this.isReady=!1,this.isLocked=!1,this.lockedWith=0,this.hasSelectedNumber=!1}}class Y{constructor(){this.name="1st",this.isOn=!1,this.batting=new q,this.bowling=new q,this.battingTeam=new N,this.bowlingTeam=new N,this.ballsPlayed=0,this.wickets=0,this.runs=0}}class fe{constructor(){this.isSameNumber=!1,this.playerWithHeads=new q,this.playerWithTails=new q,this.playerWithTossWin=new q,this.playerWithTossLoss=new q,this.playerWithTossWinId="",this.playerWithTossLossId=""}}var V=(()=>((V=V||{})[V.IsDraw=0]="IsDraw",V[V.WonByRun=1]="WonByRun",V[V.WonByWicket=2]="WonByWicket",V))();class B{constructor(){this.winnerTeam=new N,this.matchWinType=V.IsDraw,this.wonByRun=0,this.wonByWicket=0,this.teamA=new N,this.teamB=new N}}},3741:(et,J,T)=>{"use strict";T.d(J,{b9:()=>le,YW:()=>U});var l=T(6593),N=T(6814),q=T(95),Q=T(6538),Y=T(4274),fe=T(4670),I=T(4946),V=T(1982);function B(W,ee){if(1&W&&(I.TgZ(0,"div",45),I._uU(1," Need To Win : "),I.TgZ(2,"span",46),I._uU(3),I.qZA()()),2&W){const $=I.oxw();I.xp6(3),I.hij(" ",$.Target,"")}}function K(W,ee){if(1&W){const $=I.EpF();I.TgZ(0,"div",47),I.NdJ("click",function(){I.CHM($);const We=I.oxw();return I.KtG(We.handleReadyClick())}),I._uU(1," READY? "),I.qZA()}}function ie(W,ee){if(1&W){const $=I.EpF();I.TgZ(0,"div",48)(1,"div",49)(2,"div",50),I.NdJ("click",function(We){I.CHM($);const Me=I.oxw();return I.KtG(Me.handleBatBallSelection(We))}),I._uU(3," BAT "),I.qZA(),I.TgZ(4,"div",51),I.NdJ("click",function(We){I.CHM($);const Me=I.oxw();return I.KtG(Me.handleBatBallSelection(We))}),I._uU(5," BALL "),I.qZA()()()}}function Ce(W,ee){1&W&&(I.TgZ(0,"div",52)(1,"div",53),I._uU(2,"OUT!"),I.qZA()())}function Ne(W,ee){if(1&W&&(I.TgZ(0,"li")(1,"div",54),I._uU(2),I.qZA()()),2&W){const $=ee.$implicit;I.xp6(2),I.Oqu($)}}const Fe=[{path:"",redirectTo:"setup",pathMatch:"full"},{path:"",children:[{path:"setup",loadChildren:()=>T.e(802).then(T.bind(T,802)).then(W=>W.SetupModule)},{path:"game",component:(()=>{class W{constructor($,De,We){this.socketService=$,this.ngZone=De,this.router=We,this.toggleReady=!1,this.toggleConfirm=!1,this.toggleSelection=!1,this.batBallSelection=!1,this.moveOppoHand=!1,this.moveCurrentHand=!1,this.localStorageIMatchRoomData=null,this.CurrentPlayer=new fe.ok,this.OppoPlayer=new fe.ok,this.MessageBoxText="",this.Overs="",this.Wickets=0,this.TotalWickets=0,this.Target=0,this.Runs=0,this.ThisOverBattingDisplay=[],this.InningsText="1st",this.SelectedNumber=0,this.CaptainsChoice="",this.ShowOutNotification=!1,this.HandImageSrc=["dotball","one","two","three","four","five","six"],this.OppoHandImageSrc=["dotball","oner","twor","threer","fourr","fiver","sixr"],this.HandImage=this.HandImageSrc[0],this.OppoHandImage=this.OppoHandImageSrc[0],this.playerConnection={player1:!1,player2:!1,player3:!1,player4:!1},this.playerNames={player1:"Player 1",player2:"Player 2",player3:"Player 3",player4:"Player 4"},this.playerRuns={player1:0,player2:0,player3:0,player4:0},this.playerWicketsLeft={player1:0,player2:0,player3:0,player4:0},this.OnStrike={player1:!1,player2:!1,player3:!1,player4:!1},this.Bowling={player1:!1,player2:!1,player3:!1,player4:!1},this.OnStrikeImage_player1="nonStriker",this.OnStrikeImage_player2="nonStriker",this.OnStrikeImage_player3="nonStriker",this.OnStrikeImage_player4="nonStriker",this.connectedToTheServer=!1}ngOnInit(){if(this.socketService.CurrentPlayer){this.CurrentPlayer=this.socketService.CurrentPlayer;let $=this.socketService.MatchData;this.ngZone.run(()=>{null!=$&&(this.Wickets=$.totalWickets)})}this.socketService.MatchData.teamA&&this.ngZone.run(()=>{this.setPlayerNames(),this.setConnectionStatus()}),this.socketService.Emitter.on(Y.f.PLAYERJOINED,$=>{this.ngZone.run(()=>{this.MessageBoxText=`Oppo Joined : ${this.socketService.OppoPlayers.length}`,this.setPlayerNames(),this.setConnectionStatus()})}),this.socketService.Emitter.on(Y.p.InitiateTossStage,$=>{this.ngZone.run(()=>{this.MessageBoxText=`Toss : ${$.inMatchData.playerWithHeads?.name} is head`,this.socketService.CurrentPlayer.isCaptain?this.toggleReady=!0:this.MessageBoxText="Captain is Tossing",this.Overs=this.overText($.currentInnings.ballsPlayed,$.maxBalls),this.Wickets=$.currentInnings.wickets,this.Runs=$.currentInnings.runs,this.InningsText=$.currentInnings.name})}),this.socketService.Emitter.on(Y.f.PlayerReadyReceived,$=>{this.ngZone.run(()=>{this.socketService.isTeamMate($.playerId)&&(this.MessageBoxText=`${$.name} is Ready!`,this.moveCurrentHand=!0),this.socketService.isOpponent($.playerId)&&(this.MessageBoxText=`${$.name} is Ready!`,this.moveOppoHand=!0)})}),this.socketService.Emitter.on(Y.p.ShowTheLockedNumber,$=>{this.ngZone.run(()=>{this.MessageBoxText=`Confirmed : ${$}`,this.OppoPlayer.isReady=!0})}),this.socketService.Emitter.on(Y.p.ShowOppoisLocked,()=>{this.ngZone.run(()=>{this.MessageBoxText="Oppo is locked",this.OppoPlayer.isReady=!0})}),this.socketService.Emitter.on(Y.f.TossDecision,$=>{$.tosswinner&&this.socketService.CurrentPlayer.isCaptain&&this.ngZone.run(()=>{this.batBallSelection=!0}),this.ngZone.run(()=>{this.HandImage=this.HandImageSrc[$.myNumber],this.OppoHandImage=this.OppoHandImageSrc[$.oppoNumber],this.MessageBoxText=`${$.msg}`})}),this.socketService.Emitter.on(Y.f.StartMatch,$=>{this.ngZone.run(()=>{this.connectedToTheServer=!0,this.Overs=this.overText($.currentInnings.ballsPlayed,$.maxBalls),this.Wickets=$.currentInnings.wickets,this.Runs=$.currentInnings.runs,this.InningsText=$.firstInnings.isOn?"1st":"2nd",this.TotalWickets=$.totalWickets}),this.UpdateScreen($)}),this.socketService.Emitter.on(Y.f.UpdateScore,$=>{this.ngZone.run(()=>{this.Overs=this.overText($.currentInnings.ballsPlayed,$.maxBalls),this.Wickets=$.currentInnings.wickets,this.Runs=$.currentInnings.runs,this.InningsText=$.firstInnings.isOn?"1st":"2nd"}),this.ngZone.run(()=>{$.secondInnings.isOn&&(this.Target=$.firstInnings.runs-$.secondInnings.runs+1),this.ThisOverBattingDisplay=$.currentInnings.battingTeam.thisOverDisplay,this.isOut(this.ThisOverBattingDisplay)&&(this.ShowOutNotification=!0),this.socketService.CurrentPlayer.playerId==$.currentInnings.batting.playerId||this.socketService.isTeamMate($.currentInnings.batting.playerId)?(this.HandImage=this.HandImageSrc[this.getlastnumber($.currentInnings.battingTeam.thisOver)],this.OppoHandImage=this.OppoHandImageSrc[this.getlastnumber($.currentInnings.bowlingTeam.thisOver)]):(this.HandImage=this.HandImageSrc[this.getlastnumber($.currentInnings.bowlingTeam.thisOver)],this.OppoHandImage=this.OppoHandImageSrc[this.getlastnumber($.currentInnings.battingTeam.thisOver)])}),$.gameOver||setTimeout(()=>{this.UpdateScreen($)},1500)}),this.socketService.Emitter.on(Y.p.ShowMatchWinLose,$=>{this.ngZone.run($.winnerTeam.player1.playerId==this.socketService.CurrentPlayer.playerId||$.winnerTeam.player2.playerId==this.socketService.CurrentPlayer.playerId?()=>{this.MessageBoxText="Your team has won"}:()=>{this.MessageBoxText="Your team has lost"}),setTimeout(()=>{this.router.navigate(["/result"]).then()},1500)}),this.socketService.Emitter.on(Y.f.PlayerDisconnected,()=>{this.ngZone.run(()=>{this.setConnectionStatus(),this.MessageBoxText="player disconnected"})}),this.socketService.Emitter.on(Y.f.ServerDisconnected,()=>{this.ngZone.run(()=>{this.connectedToTheServer=!1})})}handleReadyClick(){this.CurrentPlayer?(this.socketService.CurrentPlayer.isReady=!0,this.ngZone.run(()=>{this.toggleReady=!1,this.toggleSelection=!0,this.moveCurrentHand=!0}),this.socketService.Emitter.emit(Y.f.PlayerReady)):console.log("current player was not found!")}handleConfirmClick(){this.socketService.Emitter.emit(Y.f.PlayerConfirmed,this.SelectedNumber),this.ngZone.run(()=>{this.toggleConfirm=!1,this.toggleSelection=!1})}handleNumberClick($){const De=$.target?.dataset.number;this.SelectedNumber=De,this.ngZone.run(()=>{this.toggleConfirm=!0}),console.log(De)}handleBatBallSelection($){const De=$.target?.dataset.selection;this.CaptainsChoice=De,this.socketService.Emitter.emit(Y.f.CaptainsChoice,this.CaptainsChoice),this.ngZone.run(()=>{this.MessageBoxText=`Selected to ${De} first`,this.batBallSelection=!1})}getlastnumber($){return 0!=$.length?$[$.length-1]:0}isOut($){return 0!=$.length&&$[$.length-1].includes("W")}UpdateScreen($){this.ngZone.run(()=>{this.OppoHandImage=this.OppoHandImageSrc[0],this.moveOppoHand=!1,this.moveCurrentHand=!1,this.HandImage=this.HandImageSrc[0],this.ShowOutNotification=!1,this.updateOnStrikeInfos(),this.updateBowlingInfos()});let De=$.currentInnings.batting.playerId,We=$.currentInnings.batting.name,Me=$.currentInnings.bowling.playerId,Pe=$.currentInnings.bowling.name,ge=this.socketService.CurrentPlayer.playerId;De==ge||Me==ge?this.ngZone.run(()=>{this.toggleReady=!0,this.MessageBoxText=De==ge?"You are on Strike!":"You are bowling"}):(this.socketService.isTeamMate(De)&&this.ngZone.run(()=>{this.MessageBoxText=`${We} is Batting!`}),this.socketService.isTeamMate(Me)&&this.ngZone.run(()=>{this.MessageBoxText=`${Pe} is Bowling!`}))}overText($,De){return`${Math.floor($/6)}.${$%6} (${De/6})`}setPlayerNames(){this.playerNames.player1=this.socketService.MatchData.teamA.player1?.name,this.playerNames.player2=this.socketService.MatchData.teamA.player2?.name,this.playerNames.player3=this.socketService.MatchData.teamB.player1?.name,this.playerNames.player4=this.socketService.MatchData.teamB.player2?.name}setConnectionStatus(){this.playerConnection.player1=this.socketService.MatchData.teamA.player1?.isConnected,this.playerConnection.player2=this.socketService.MatchData.teamA.player2?.isConnected,this.playerConnection.player3=this.socketService.MatchData.teamB.player1?.isConnected,this.playerConnection.player4=this.socketService.MatchData.teamB.player2?.isConnected}updateOnStrikeInfos(){this.OnStrike.player1=this.socketService.MatchData.teamA.isBatting&&this.socketService.MatchData.teamA.player1?.isOnStrike,this.OnStrike.player2=this.socketService.MatchData.teamA.isBatting&&this.socketService.MatchData.teamA.player2?.isOnStrike,this.OnStrike.player3=this.socketService.MatchData.teamB.isBatting&&this.socketService.MatchData.teamB.player1?.isOnStrike,this.OnStrike.player4=this.socketService.MatchData.teamB.isBatting&&this.socketService.MatchData.teamB.player2?.isOnStrike,this.OnStrikeImage_player1=this.OnStrike.player1?"bat":"nonStriker",this.OnStrikeImage_player2=this.OnStrike.player2?"bat":"nonStriker",this.OnStrikeImage_player3=this.OnStrike.player3?"bat":"nonStriker",this.OnStrikeImage_player4=this.OnStrike.player4?"bat":"nonStriker",this.playerRuns.player1=this.socketService.MatchData.teamA.player1.runs,this.playerRuns.player2=this.socketService.MatchData.teamA.player2.runs,this.playerRuns.player3=this.socketService.MatchData.teamB.player1.runs,this.playerRuns.player4=this.socketService.MatchData.teamB.player2.runs,this.playerWicketsLeft.player1=this.socketService.MatchData.teamA.player1.wicketsLeft,this.playerWicketsLeft.player2=this.socketService.MatchData.teamA.player2.wicketsLeft,this.playerWicketsLeft.player3=this.socketService.MatchData.teamB.player1.wicketsLeft,this.playerWicketsLeft.player4=this.socketService.MatchData.teamB.player2.wicketsLeft}updateBowlingInfos(){this.Bowling.player1=this.socketService.MatchData.teamA.isBowling&&this.socketService.MatchData.teamA.player1?.isOnStrike,this.Bowling.player2=this.socketService.MatchData.teamA.isBowling&&this.socketService.MatchData.teamA.player2?.isOnStrike,this.Bowling.player3=this.socketService.MatchData.teamB.isBowling&&this.socketService.MatchData.teamB.player1?.isOnStrike,this.Bowling.player4=this.socketService.MatchData.teamB.isBowling&&this.socketService.MatchData.teamB.player2?.isOnStrike,this.socketService.MatchData.teamA.isBowling&&(this.OnStrikeImage_player1=this.Bowling.player1?"ball":"nonStriker",this.OnStrikeImage_player2=this.Bowling.player2?"ball":"nonStriker"),this.socketService.MatchData.teamB.isBowling&&(this.OnStrikeImage_player3=this.Bowling.player3?"ball":"nonStriker",this.OnStrikeImage_player4=this.Bowling.player4?"ball":"nonStriker")}}return W.\u0275fac=function($){return new($||W)(I.Y36(V.$),I.Y36(I.R0b),I.Y36(Q.F0))},W.\u0275cmp=I.Xpm({type:W,selectors:[["app-game"]],decls:92,vars:74,consts:[[1,"main-game-section",2,"background-image","url('../../assets/images/backgrounds/stadium.jpg')"],[1,"score-board"],[1,"over"],[1,"over-text"],[1,"runs"],[1,"runs-text"],[1,"wickets"],[1,"wickets-text"],[1,"innings"],[1,"innings-text"],["class","target",4,"ngIf"],[1,"notification-board"],[1,"message-box"],[1,"server-connection-status"],[1,"cricket-field"],[1,"left-side-window"],[1,"team-name"],[1,"players"],[1,"player"],[1,"player-name"],[1,"player-statuses"],[1,"connection-status"],[1,"is-onstrike"],[1,"player-runs"],[1,"player-wicketsLeft"],[1,"back-field"],[1,"hand-1"],["data-hand","oppo","alt","hand","srcset","",3,"src"],[1,"hand-2"],["data-hand","self","alt","hand","srcset","",3,"src"],["class","beautiful-button","id","ready-button",3,"click",4,"ngIf"],["id","confirm-button",1,"beautiful-button",3,"click"],[1,"right-side-window"],["class","captains-decision",4,"ngIf"],["class","outnotification",4,"ngIf"],[1,"this-over-container"],[4,"ngFor","ngForOf"],[1,"bottom-container"],[1,"hand-buttons-container"],["data-number","1",1,"hand","one",2,"background-image","url('../../assets/images/hands/one.png')",3,"click"],["data-number","2",1,"hand","two",2,"background-image","url('../../assets/images/hands/two.png')",3,"click"],["data-number","3",1,"hand","three",2,"background-image","url('../../assets/images/hands/three.png')",3,"click"],["data-number","4",1,"hand","four",2,"background-image","url('../../assets/images/hands/four.png')",3,"click"],["data-number","5",1,"hand","five",2,"background-image","url('../../assets/images/hands/five.png')",3,"click"],["data-number","6",1,"hand","six",2,"background-image","url('../../assets/images/hands/six.png')",3,"click"],[1,"target"],[1,"target-text"],["id","ready-button",1,"beautiful-button",3,"click"],[1,"captains-decision"],[1,"bat-ball-decision"],["data-selection","bat",1,"bat-option",3,"click"],["data-selection","ball",1,"ball-option",3,"click"],[1,"outnotification"],[1,"out-text"],[1,"balls-played"]],template:function($,De){1&$&&(I.TgZ(0,"section",0)(1,"div",1)(2,"div",2),I._uU(3," Over : "),I.TgZ(4,"span",3),I._uU(5),I.qZA()(),I.TgZ(6,"div",4),I._uU(7," Runs : "),I.TgZ(8,"span",5),I._uU(9),I.qZA()(),I.TgZ(10,"div",6),I._uU(11," Wickets : "),I.TgZ(12,"span",7),I._uU(13),I.qZA()(),I.TgZ(14,"div",8),I._uU(15," Innings : "),I.TgZ(16,"span",9),I._uU(17),I.qZA()(),I.YNc(18,B,4,1,"div",10),I.qZA(),I.TgZ(19,"div",11)(20,"div",12),I._uU(21),I.qZA(),I._UZ(22,"div",13),I.qZA(),I.TgZ(23,"div",14)(24,"div",15)(25,"div",16),I._uU(26,"Team A"),I.qZA(),I.TgZ(27,"div",17)(28,"div",18)(29,"div",19),I._uU(30),I.qZA(),I.TgZ(31,"div",20),I._UZ(32,"div",21)(33,"div",22),I.qZA(),I.TgZ(34,"div",23),I._uU(35),I.qZA(),I.TgZ(36,"div",24),I._uU(37),I.qZA()(),I.TgZ(38,"div",18)(39,"div",19),I._uU(40),I.qZA(),I.TgZ(41,"div",20),I._UZ(42,"div",21)(43,"div",22),I.qZA(),I.TgZ(44,"div",23),I._uU(45),I.qZA(),I.TgZ(46,"div",24),I._uU(47),I.qZA()()()(),I.TgZ(48,"div",25)(49,"div",26),I._UZ(50,"img",27),I.qZA(),I.TgZ(51,"div",28),I._UZ(52,"img",29),I.qZA(),I.YNc(53,K,2,0,"div",30),I.TgZ(54,"div",31),I.NdJ("click",function(){return De.handleConfirmClick()}),I._uU(55),I.qZA()(),I.TgZ(56,"div",32)(57,"div",16),I._uU(58,"Team B"),I.qZA(),I.TgZ(59,"div",17)(60,"div",18)(61,"div",19),I._uU(62),I.qZA(),I.TgZ(63,"div",20),I._UZ(64,"div",21)(65,"div",22),I.qZA(),I.TgZ(66,"div",23),I._uU(67),I.qZA(),I.TgZ(68,"div",24),I._uU(69),I.qZA()(),I.TgZ(70,"div",18)(71,"div",19),I._uU(72),I.qZA(),I.TgZ(73,"div",20),I._UZ(74,"div",21)(75,"div",22),I.qZA(),I.TgZ(76,"div",23),I._uU(77),I.qZA(),I.TgZ(78,"div",24),I._uU(79),I.qZA()()()(),I.YNc(80,ie,6,0,"div",33),I.YNc(81,Ce,3,0,"div",34),I.qZA(),I.TgZ(82,"div",35),I.YNc(83,Ne,3,1,"li",36),I.qZA(),I.TgZ(84,"div",37)(85,"div",38)(86,"div",39),I.NdJ("click",function(Me){return De.handleNumberClick(Me)}),I.qZA(),I.TgZ(87,"div",40),I.NdJ("click",function(Me){return De.handleNumberClick(Me)}),I.qZA(),I.TgZ(88,"div",41),I.NdJ("click",function(Me){return De.handleNumberClick(Me)}),I.qZA(),I.TgZ(89,"div",42),I.NdJ("click",function(Me){return De.handleNumberClick(Me)}),I.qZA(),I.TgZ(90,"div",43),I.NdJ("click",function(Me){return De.handleNumberClick(Me)}),I.qZA(),I.TgZ(91,"div",44),I.NdJ("click",function(Me){return De.handleNumberClick(Me)}),I.qZA()()()()),2&$&&(I.xp6(5),I.Oqu(De.Overs),I.xp6(4),I.Oqu(De.Runs),I.xp6(4),I.AsE("",De.Wickets," (",De.TotalWickets,")"),I.xp6(4),I.Oqu(De.InningsText),I.xp6(1),I.Q6J("ngIf",De.Target>0),I.xp6(3),I.Oqu(De.MessageBoxText),I.xp6(1),I.ekj("connected-to-server",De.connectedToTheServer),I.xp6(8),I.Oqu(De.playerNames.player1),I.xp6(2),I.Tol(De.playerConnection.player1?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",De.OnStrikeImage_player1,".png')"),I.xp6(2),I.hij("Runs : ",De.playerRuns.player1,""),I.xp6(2),I.hij(" Wickets Left : ",De.playerWicketsLeft.player1," "),I.xp6(3),I.Oqu(De.playerNames.player2),I.xp6(2),I.Tol(De.playerConnection.player2?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",De.OnStrikeImage_player2,".png')"),I.xp6(2),I.hij("Runs : ",De.playerRuns.player2,""),I.xp6(2),I.hij(" Wickets Left : ",De.playerWicketsLeft.player2," "),I.xp6(2),I.ekj("animated-opp-hand",De.moveOppoHand)("animated-opp-hand-rev",!De.moveOppoHand),I.xp6(1),I.MGl("src","../../assets/images/hands/",De.OppoHandImage,".png",I.LSH),I.xp6(1),I.ekj("animated-self-hand",De.moveCurrentHand)("animated-self-hand-rev",!De.moveCurrentHand),I.xp6(1),I.MGl("src","../../assets/images/hands/",De.HandImage,".png",I.LSH),I.xp6(1),I.Q6J("ngIf",!0===De.toggleReady),I.xp6(1),I.ekj("invisible",!De.toggleConfirm),I.xp6(1),I.hij(" CONFIRM (",De.SelectedNumber,")? "),I.xp6(7),I.Oqu(De.playerNames.player3),I.xp6(2),I.Tol(De.playerConnection.player3?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",De.OnStrikeImage_player3,".png')"),I.xp6(2),I.hij("Runs : ",De.playerRuns.player3,""),I.xp6(2),I.hij(" Wickets Left : ",De.playerWicketsLeft.player3," "),I.xp6(3),I.Oqu(De.playerNames.player4),I.xp6(2),I.Tol(De.playerConnection.player4?"connnected":"not-connected"),I.xp6(1),I.Jzz("background-image: url('../../assets/images/icons/",De.OnStrikeImage_player4,".png')"),I.xp6(2),I.hij("Runs : ",De.playerRuns.player4,""),I.xp6(2),I.hij(" Wickets Left : ",De.playerWicketsLeft.player4," "),I.xp6(1),I.Q6J("ngIf",!0===De.batBallSelection),I.xp6(1),I.Q6J("ngIf",!0===De.ShowOutNotification),I.xp6(2),I.Q6J("ngForOf",De.ThisOverBattingDisplay),I.xp6(3),I.ekj("disabled",!De.toggleSelection),I.xp6(1),I.ekj("disabled",!De.toggleSelection),I.xp6(1),I.ekj("disabled",!De.toggleSelection),I.xp6(1),I.ekj("disabled",!De.toggleSelection),I.xp6(1),I.ekj("disabled",!De.toggleSelection),I.xp6(1),I.ekj("disabled",!De.toggleSelection))},dependencies:[N.sg,N.O5],styles:[".main-game-section[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:bottom;margin:0 auto;height:95vh;min-width:370px;max-height:700px;display:grid;grid-template-rows:1.5fr .5fr 5fr .5fr 2fr;border-radius:1rem;-webkit-user-select:none;user-select:none}.score-board[_ngcontent-%COMP%]{background-color:#0e0e5e;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;border-radius:1rem 0rem}.score-board[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:1.6rem;color:#fff;font-family:LCDN}.notification-board[_ngcontent-%COMP%]{background-color:#f70000;border-radius:1rem 0rem;display:flex;justify-content:center;align-items:center}.message-box[_ngcontent-%COMP%]{font-size:1.3rem;font-family:LedBoardR;color:#fff}.cricket-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.back-field[_ngcontent-%COMP%]{width:162px;height:85%;background-color:#fff;border-radius:2rem;position:relative}.hand-1[_ngcontent-%COMP%], .hand-2[_ngcontent-%COMP%]{position:absolute;display:inline-block;transform-origin:top left}.hand-1[_ngcontent-%COMP%]{top:15%;left:50%;transform:translate(-50%,-50%)}.hand-2[_ngcontent-%COMP%]{top:85%;left:50%;transform:translate(-50%,-50%)}.hand-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(180deg)}.hand-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .hand-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.animated-self-hand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveSelfHand .5s ease-in-out forwards}.animated-opp-hand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveOppHand .5s ease-in-out forwards}.animated-self-hand-rev[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveSelfHandR .5s ease-in-out forwards}.animated-opp-hand-rev[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveOppHandR .5s ease-in-out forwards}.hidden[_ngcontent-%COMP%]{display:none}.disabled[_ngcontent-%COMP%]{opacity:60%;pointer-events:none;touch-action:none}.invisible[_ngcontent-%COMP%]{opacity:0%;pointer-events:none;touch-action:none}@keyframes _ngcontent-%COMP%_moveSelfHand{0%{top:85%}to{top:60%}}@keyframes _ngcontent-%COMP%_moveOppHand{0%{top:15%}to{top:39%}}@keyframes _ngcontent-%COMP%_moveSelfHandR{0%{top:60%}to{top:85%}}@keyframes _ngcontent-%COMP%_moveOppHandR{0%{top:39%}to{top:15%}}#ready-button[_ngcontent-%COMP%], #confirm-button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#confirm-button[_ngcontent-%COMP%]{background-color:#c40000}#confirm-button[_ngcontent-%COMP%]:hover{background-color:#a10404}.this-over-container[_ngcontent-%COMP%]{background-color:#dcdcdc;display:flex;justify-content:center;align-items:center}.this-over-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.balls-played[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;border:1px solid;border-radius:50%;font-family:var(--this-over-font)}.hand-buttons-container[_ngcontent-%COMP%]{margin:1rem auto;row-gap:1.5rem;column-gap:1.5rem;width:50%;display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr}.hand[_ngcontent-%COMP%]{border-radius:2rem;width:50px;height:50px;padding:0rem;cursor:pointer;box-shadow:2px 5px #000;background-size:120%;background-position:center;background-repeat:no-repeat}.hand[_ngcontent-%COMP%]:active{box-shadow:1px 2px #000;transform:translateY(2px)}.beautiful-button[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;font-size:16px;font-weight:700;text-align:center;text-decoration:none;color:#fff;background-color:#4caf50;border:none;border-radius:8px;transition:background-color .3s ease;cursor:pointer}.beautiful-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.beautiful-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #fff,0 0 0 4px #4caf50}.beautiful-button[_ngcontent-%COMP%]:active{background-color:#3e8e41}.captains-decision[_ngcontent-%COMP%]{position:absolute}.outnotification[_ngcontent-%COMP%]{position:absolute;top:42%;width:-moz-fit-content;width:fit-content;padding:.3rem;border-radius:1rem;background-color:#666262}.out-text[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.1rem;font-style:bold;color:red;font-family:SunnySpells}.bat-ball-decision[_ngcontent-%COMP%]{background-color:#ffebcd;width:200px;display:flex;justify-content:space-around;align-items:center}.bat-option[_ngcontent-%COMP%], .ball-option[_ngcontent-%COMP%]{padding:.5rem;background-color:#45a049;cursor:pointer}.left-side-window[_ngcontent-%COMP%], .right-side-window[_ngcontent-%COMP%]{padding:.5rem;background-color:#ffffffb3;color:#000;border-radius:.3rem}.player-name[_ngcontent-%COMP%]{padding:.5rem .2rem;text-align:center}.team-name[_ngcontent-%COMP%]{font-family:Roboto;text-align:center}.player-runs[_ngcontent-%COMP%], .player-wicketsLeft[_ngcontent-%COMP%]{font-family:Roboto;font-size:.7rem;padding-bottom:.3rem}.is-onstrike[_ngcontent-%COMP%]{width:20px;height:20px;margin-bottom:.3rem;background-color:#fff;background-size:cover;border:.5px solid black;border-radius:50%}.player-connected[_ngcontent-%COMP%]{background-color:#3e8e41}.player-statuses[_ngcontent-%COMP%]{display:flex}.connection-status[_ngcontent-%COMP%]{width:20px;height:20px;margin-bottom:.3rem;background-size:cover;border:.5px solid black;border-radius:50%;margin:0 .2rem}.not-connected[_ngcontent-%COMP%]{background-color:#f70909}.connected[_ngcontent-%COMP%]{background-color:#98f709}.connected-to-server[_ngcontent-%COMP%]{background-color:#98f709;width:20px;height:20px;border-radius:50%}"]}),W})()},{path:"result",loadChildren:()=>T.e(151).then(T.bind(T,8151)).then(W=>W.ResultModule)}]},{path:"**",redirectTo:"game"}];let Ge=(()=>{class W{}return W.\u0275fac=function($){return new($||W)},W.\u0275mod=I.oAB({type:W}),W.\u0275inj=I.cJS({imports:[N.ez,l.b2,q.u5,Q.Bz.forRoot(Fe,{useHash:!0}),Q.Bz]}),W})();var F=T(8956),Z=T(6690);function ve(W,ee){1&W&&(I.TgZ(0,"h2"),I._uU(1,"App is working"),I.qZA())}function ye(W,ee){1&W&&(I.TgZ(0,"nav")(1,"ul")(2,"li")(3,"a",1),I._uU(4,"Game"),I.qZA()(),I.TgZ(5,"li")(6,"a",2),I._uU(7,"Setup"),I.qZA()(),I.TgZ(8,"li")(9,"a",3),I._uU(10,"Result"),I.qZA()()()())}let re=(()=>{class W{constructor($,De,We){this.socketService=$,this.localStorageService=De,this.router=We,this.title="HCApp",this.developmentMode=F.Lc!=F.EH.Production,$.Emitter.on(Y.f.InitialFormSubmit,Me=>{F.GG.invoke(Y.f.InitialFormSubmit,Me)}),F.GG.on(Y.f.FirstPlayerJoined,Me=>{$.CurrentPlayer=Me.playerList.find(Pe=>Pe.currentConnectionId==F.GG.connectionId),$.Emitter.emit(Y.f.LOADGAMESCREEN,Me),$.MatchData=Me,this.localStorageService.setData("matchData",Me)}),F.GG.on(Y.f.PLAYERJOINED,Me=>{Me.playerList.some(Pe=>Pe.currentConnectionId==F.GG.connectionId)&&($.CurrentPlayer=Me.playerList.find(Pe=>Pe.currentConnectionId==F.GG.connectionId)),Me.playerList.forEach(Pe=>{$.CurrentPlayer.teamName==Pe.teamName?$.isTeamMate(Pe.playerId)||$.Teammates.push(Pe):$.isOpponent(Pe.playerId)||$.OppoPlayers.push(Pe)}),$.Emitter.emit(Y.f.LOADGAMESCREEN,Me),$.Emitter.emit(Y.f.PLAYERJOINED,Me),$.MatchData=Me,this.localStorageService.setData("matchData",Me)}),F.GG.on(Y.f.AllPlayersJoined,Me=>{$.MatchData=Me,this.localStorageService.setData("matchData",Me),setTimeout(()=>{$.Emitter.emit(Y.p.InitiateTossStage,$.MatchData)},1e3)}),$.Emitter.on(Y.f.PlayerReady,()=>{""!=$.CurrentPlayer.roomId?F.GG.invoke(Y.f.PlayerReady,$.CurrentPlayer?.roomId,$.CurrentPlayer):console.error("room id not found on current player")}),F.GG.on(Y.f.PlayerReadyReceived,Me=>{Me.currentConnectionId!=this.socketService.CurrentPlayer.currentConnectionId&&$.Emitter.emit(Y.f.PlayerReadyReceived,Me)}),$.Emitter.on(Y.f.PlayerConfirmed,Me=>{$.CurrentPlayer.isLocked=!0,$.CurrentPlayer.lockedWith=parseInt(Me),""!=$.CurrentPlayer.roomId?F.GG.invoke(Y.f.PlayerConfirmed,$.CurrentPlayer.roomId,$.CurrentPlayer):console.log("room id not found")}),F.GG.on(Y.f.PlayerConfirmedReceived,Me=>{this.socketService.isTeamMate(Me.currentInnings.batting.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",Me.currentInnings.batting.lockedWith):this.socketService.isTeamMate(Me.currentInnings.bowling.playerId)?this.socketService.Emitter.emit("ShowTheLockedNumber",Me.currentInnings.bowling.lockedWith):this.socketService.Emitter.emit("ShowOppoisLocked")}),F.GG.on(Y.f.TossDecision,Me=>{let Pe=this.socketService.CurrentPlayer.playerId,ge=Me.inMatchData.playerWithTossWin.playerId,te=Me.inMatchData.playerWithTossLoss.playerId;Pe==ge||this.socketService.isTeamMate(ge)?this.socketService.Emitter.emit(Y.f.TossDecision,{tosswinner:!0,msg:"You have won the toss",myNumber:Me.inMatchData.playerWithTossWin.lockedWith,oppoNumber:Me.inMatchData.playerWithTossLoss.lockedWith}):(Pe==te||this.socketService.isTeamMate(te))&&this.socketService.Emitter.emit(Y.f.TossDecision,{tosswinner:!1,msg:"You have lost the toss",myNumber:Me.inMatchData.playerWithTossLoss.lockedWith,oppoNumber:Me.inMatchData.playerWithTossWin.lockedWith})}),$.Emitter.on(Y.f.CaptainsChoice,Me=>{$.CurrentPlayer.captainsChoice=Me,F.GG.invoke(Y.f.CaptainsChoice,$.CurrentPlayer.roomId,$.CurrentPlayer)}),F.GG.on(Y.f.StartMatch,Me=>{console.info("after receiving start match event from server : ",Me),Me.currentInnings.batting.playerId==$.CurrentPlayer.playerId&&($.CurrentPlayer.isOnStrike=!0),Me.currentInnings.bowling.playerId==$.CurrentPlayer.playerId&&($.CurrentPlayer.isOnStrike=!0),$.Emitter.emit(Y.f.StartMatch,Me),$.MatchData=Me,this.localStorageService.setData("matchData",Me)}),F.GG.on(Y.f.UpdateScore,Me=>{console.info("update score event : ",Me),Me.currentInnings.batting.playerId==$.CurrentPlayer.playerId&&($.CurrentPlayer.isOnStrike=!0),Me.currentInnings.bowling.playerId==$.CurrentPlayer.playerId&&($.CurrentPlayer.isOnStrike=!0),$.Emitter.emit(Y.f.UpdateScore,Me),$.MatchData=Me,this.localStorageService.setData("matchData",Me)}),F.GG.on(Y.f.GameOver,Me=>{console.info("game over event : ",Me),this.socketService.MatchResult=Me,this.socketService.Emitter.emit(Y.p.ShowMatchWinLose,Me)}),this.socketService.Emitter.on(Y.f.DeleteRoom,Me=>{F.GG.invoke(Y.f.DeleteRoom,Me)}),F.GG.on(Y.f.RoomDeleted,Me=>{console.log("previous room deleted")}),F.GG.on(Y.f.PlayerDisconnected,Me=>{this.socketService.MatchData=Me,this.socketService.Emitter.emit(Y.f.PlayerDisconnected)}),F.GG.onclose(Me=>{console.log("ON CLOSE EVENT TRIGGERED : ",Me),this.socketService.IsConnected=!1,this.socketService.Emitter.emit(Y.f.ServerDisconnected)})}}return W.\u0275fac=function($){return new($||W)(I.Y36(V.$),I.Y36(Z.J),I.Y36(Q.F0))},W.\u0275cmp=I.Xpm({type:W,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],["routerLink","/game","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/setup","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/result","routerLinkActive","active","ariaCurrentWhenActive","page"]],template:function($,De){1&$&&(I.YNc(0,ve,2,0,"h2",0),I.YNc(1,ye,11,0,"nav",0),I._UZ(2,"router-outlet")),2&$&&(I.Q6J("ngIf",De.developmentMode),I.xp6(1),I.Q6J("ngIf",De.developmentMode))},dependencies:[N.O5,Q.lC,Q.rH,Q.Od],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,900;1,300;1,400;1,500;1,700;1,900&display=swap";@font-face{font-family:SunnySpells;src:url(SunnySpells.d4013c07149a7a90.ttf)}@font-face{font-family:FredokaOne;src:url(FredokaOne-Regular.818774f549fcbdf1.ttf)}@font-face{font-family:LedBoard;src:url(LedBoard.b6a4846da22262bc.TTF)}@font-face{font-family:LedBoardR;src:url(LEDBDREV.b992883ab656f374.TTF)}@font-face{font-family:LCD2N;src:url(LCD2N___.3422a3060eb00dc0.TTF)}@font-face{font-family:LCDN;src:url(LCD-N___.2924199b10f46e6a.TTF)}[_ngcontent-%COMP%]:root{--notification-font: SunnySpells;--scoreboard-font: LCDN;--this-over-font: LedBoardR}']}),W})();var pe=T(9659);const U=new I.OlP("EmitteryInstance"),he={provide:U,useClass:pe.Z};let le=(()=>{class W{}return W.\u0275fac=function($){return new($||W)},W.\u0275mod=I.oAB({type:W,bootstrap:[re]}),W.\u0275inj=I.cJS({providers:[{provide:N.S$,useClass:N.Do},he],imports:[l.b2,Ge]}),W})()},6690:(et,J,T)=>{"use strict";T.d(J,{J:()=>N});var l=T(4946);let N=(()=>{class q{constructor(){}loadData(Y){return localStorage.getItem(Y)?JSON.parse(localStorage.getItem(Y)):null}setData(Y,fe){localStorage.setItem(Y,JSON.stringify(fe))}deleteData(Y){localStorage.removeItem(Y)}}return q.\u0275fac=function(Y){return new(Y||q)},q.\u0275prov=l.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},4274:(et,J,T)=>{"use strict";T.d(J,{f:()=>l,p:()=>N});var l=(()=>((l=l||{}).ConnectionSuccessful="ConnectionSuccessful",l.GamePageLoaded="gamepageLoaded",l.InitialFormSubmit="initialFormSubmit",l.FirstPlayerJoined="FirstPlayerJoined",l.PLAYERJOINED="PLAYERJOINED",l.AllPlayersJoined="AllPlayersJoined",l.PlayerReady="PlayerReady",l.PlayerReadyReceived="PlayerReadyReceived",l.PlayerConfirmed="PlayerConfirmed",l.PlayerConfirmedReceived="PlayerConfirmedReceived",l.LOADGAMESCREEN="LOADGAMESCREEN",l.TossDecision="TossDecision",l.CaptainsChoice="CaptainsChoice",l.StartMatch="StartMatch",l.UpdateScore="UpdateScore",l.GameOver="GameOver",l.DeleteRoom="DeleteMatchRoom",l.RoomDeleted="RoomDeleted",l.PlayerDisconnected="PlayerDisconnected",l.ServerDisconnected="ServerDisconnected",l))(),N=(()=>((N=N||{}).InitiateTossStage="InitiateTossStage",N.ShowTheLockedNumber="ShowTheLockedNumber",N.ShowOppoisLocked="ShowOppoisLocked",N.ShowMatchWinLose="ShowMatchWinLose",N))()},1982:(et,J,T)=>{"use strict";T.d(J,{$:()=>fe});var l=T(9659),N=T(3741),q=T(4670),Q=T(4946),Y=T(6690);let fe=(()=>{class I{constructor(B,K){this.emittery=B,this.localStorageService=K,this.IsConnected=!1,this.CurrentPlayer=new q.ok,this.OppoPlayers=[],this.Teammates=[],this.MatchData=new q.jQ,this.MatchResult=new q.x4,B=new l.Z,l.Z.isDebugEnabled=!1}TurnOffDebugger(){l.Z.isDebugEnabled=!1}get Emitter(){return this.emittery}isTeamMate(B){return this.Teammates.some(K=>K.playerId==B)}isOpponent(B){return this.OppoPlayers.some(K=>K.playerId==B)}resetObjects(){this.CurrentPlayer=new q.ok,this.OppoPlayers=[],this.Teammates=[],this.MatchData=new q.jQ,this.MatchResult=new q.x4,this.IsConnected=!1}}return I.\u0275fac=function(B){return new(B||I)(Q.LFG(N.YW),Q.LFG(Y.J))},I.\u0275prov=Q.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},8956:(et,J,T)=>{"use strict";T.d(J,{Lc:()=>To,EH:()=>ri,GG:()=>$r});var l={};T.r(l),T.d(l,{fixNegotiationNeeded:()=>ge,shimAddTrackRemoveTrack:()=>Me,shimAddTrackRemoveTrackWithNative:()=>We,shimGetDisplayMedia:()=>he,shimGetSendersWithDtmf:()=>ee,shimGetStats:()=>$,shimGetUserMedia:()=>U,shimMediaStream:()=>le,shimOnTrack:()=>W,shimPeerConnection:()=>Pe,shimSenderReceiverGetStats:()=>De});var N={};T.r(N),T.d(N,{shimGetDisplayMedia:()=>xe,shimGetUserMedia:()=>Ve,shimPeerConnection:()=>Be,shimReplaceTrack:()=>qe});var q={};T.r(q),T.d(q,{shimAddTransceiver:()=>en,shimCreateAnswer:()=>ir,shimCreateOffer:()=>Zt,shimGetDisplayMedia:()=>nt,shimGetParameters:()=>wn,shimGetUserMedia:()=>Kt,shimOnTrack:()=>ht,shimPeerConnection:()=>Ct,shimRTCDataChannel:()=>vn,shimReceiverGetStats:()=>Lt,shimRemoveStream:()=>yn,shimSenderGetStats:()=>pt});var Q={};T.r(Q),T.d(Q,{shimAudioContext:()=>rt,shimCallbacksAPI:()=>Jt,shimConstraints:()=>An,shimCreateOfferLegacy:()=>Ye,shimGetUserMedia:()=>xn,shimLocalStreamsAPI:()=>un,shimRTCIceServerUrls:()=>xt,shimRemoteStreamsAPI:()=>Le,shimTrackEventTransceiver:()=>sn});var Y={};T.r(Y),T.d(Y,{removeExtmapAllowMixed:()=>Qt,shimAddIceCandidateNullOrEmpty:()=>no,shimConnectionState:()=>Gr,shimMaxMessageSize:()=>Nn,shimRTCIceCandidate:()=>kn,shimSendThrowTypeError:()=>rn});var fe=T(5861),I=T(6593),V=T(2264);let B=!0,K=!0;function ie(s,i,c){const f=s.match(i);return f&&f.length>=c&&parseInt(f[c],10)}function Ce(s,i,c){if(!s.RTCPeerConnection)return;const f=s.RTCPeerConnection.prototype,m=f.addEventListener;f.addEventListener=function(O,R){if(O!==i)return m.apply(this,arguments);const H=j=>{const ne=c(j);ne&&(R.handleEvent?R.handleEvent(ne):R(ne))};return this._eventMap=this._eventMap||{},this._eventMap[i]||(this._eventMap[i]=new Map),this._eventMap[i].set(R,H),m.apply(this,[O,H])};const b=f.removeEventListener;f.removeEventListener=function(O,R){if(O!==i||!this._eventMap||!this._eventMap[i])return b.apply(this,arguments);if(!this._eventMap[i].has(R))return b.apply(this,arguments);const H=this._eventMap[i].get(R);return this._eventMap[i].delete(R),0===this._eventMap[i].size&&delete this._eventMap[i],0===Object.keys(this._eventMap).length&&delete this._eventMap,b.apply(this,[O,H])},Object.defineProperty(f,"on"+i,{get(){return this["_on"+i]},set(O){this["_on"+i]&&(this.removeEventListener(i,this["_on"+i]),delete this["_on"+i]),O&&this.addEventListener(i,this["_on"+i]=O)},enumerable:!0,configurable:!0})}function Ne(s){return"boolean"!=typeof s?new Error("Argument type: "+typeof s+". Please use a boolean."):(B=s,s?"adapter.js logging disabled":"adapter.js logging enabled")}function me(s){return"boolean"!=typeof s?new Error("Argument type: "+typeof s+". Please use a boolean."):(K=!s,"adapter.js deprecation warnings "+(s?"disabled":"enabled"))}function Fe(){if("object"==typeof window){if(B)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function Ge(s,i){K&&console.warn(s+" is deprecated, please use "+i+" instead.")}function Z(s){return"[object Object]"===Object.prototype.toString.call(s)}function ve(s){return Z(s)?Object.keys(s).reduce(function(i,c){const f=Z(s[c]),m=f?ve(s[c]):s[c],b=f&&!Object.keys(m).length;return void 0===m||b?i:Object.assign(i,{[c]:m})},{}):s}function ye(s,i,c){!i||c.has(i.id)||(c.set(i.id,i),Object.keys(i).forEach(f=>{f.endsWith("Id")?ye(s,s.get(i[f]),c):f.endsWith("Ids")&&i[f].forEach(m=>{ye(s,s.get(m),c)})}))}function re(s,i,c){const f=c?"outbound-rtp":"inbound-rtp",m=new Map;if(null===i)return m;const b=[];return s.forEach(O=>{"track"===O.type&&O.trackIdentifier===i.id&&b.push(O)}),b.forEach(O=>{s.forEach(R=>{R.type===f&&R.trackId===O.id&&ye(s,R,m)})}),m}const pe=Fe;function U(s,i){const c=s&&s.navigator;if(!c.mediaDevices)return;const f=function(R){if("object"!=typeof R||R.mandatory||R.optional)return R;const H={};return Object.keys(R).forEach(j=>{if("require"===j||"advanced"===j||"mediaSource"===j)return;const ne="object"==typeof R[j]?R[j]:{ideal:R[j]};void 0!==ne.exact&&"number"==typeof ne.exact&&(ne.min=ne.max=ne.exact);const Se=function(ze,Et){return ze?ze+Et.charAt(0).toUpperCase()+Et.slice(1):"deviceId"===Et?"sourceId":Et};if(void 0!==ne.ideal){H.optional=H.optional||[];let ze={};"number"==typeof ne.ideal?(ze[Se("min",j)]=ne.ideal,H.optional.push(ze),ze={},ze[Se("max",j)]=ne.ideal,H.optional.push(ze)):(ze[Se("",j)]=ne.ideal,H.optional.push(ze))}void 0!==ne.exact&&"number"!=typeof ne.exact?(H.mandatory=H.mandatory||{},H.mandatory[Se("",j)]=ne.exact):["min","max"].forEach(ze=>{void 0!==ne[ze]&&(H.mandatory=H.mandatory||{},H.mandatory[Se(ze,j)]=ne[ze])})}),R.advanced&&(H.optional=(H.optional||[]).concat(R.advanced)),H},m=function(R,H){if(i.version>=61)return H(R);if((R=JSON.parse(JSON.stringify(R)))&&"object"==typeof R.audio){const j=function(ne,Se,ze){Se in ne&&!(ze in ne)&&(ne[ze]=ne[Se],delete ne[Se])};j((R=JSON.parse(JSON.stringify(R))).audio,"autoGainControl","googAutoGainControl"),j(R.audio,"noiseSuppression","googNoiseSuppression"),R.audio=f(R.audio)}if(R&&"object"==typeof R.video){let j=R.video.facingMode;j=j&&("object"==typeof j?j:{ideal:j});const ne=i.version<66;if(j&&("user"===j.exact||"environment"===j.exact||"user"===j.ideal||"environment"===j.ideal)&&(!c.mediaDevices.getSupportedConstraints||!c.mediaDevices.getSupportedConstraints().facingMode||ne)){let Se;if(delete R.video.facingMode,"environment"===j.exact||"environment"===j.ideal?Se=["back","rear"]:("user"===j.exact||"user"===j.ideal)&&(Se=["front"]),Se)return c.mediaDevices.enumerateDevices().then(ze=>{let Et=(ze=ze.filter(zt=>"videoinput"===zt.kind)).find(zt=>Se.some(Wt=>zt.label.toLowerCase().includes(Wt)));return!Et&&ze.length&&Se.includes("back")&&(Et=ze[ze.length-1]),Et&&(R.video.deviceId=j.exact?{exact:Et.deviceId}:{ideal:Et.deviceId}),R.video=f(R.video),pe("chrome: "+JSON.stringify(R)),H(R)})}R.video=f(R.video)}return pe("chrome: "+JSON.stringify(R)),H(R)},b=function(R){return i.version>=64?R:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[R.name]||R.name,message:R.message,constraint:R.constraint||R.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(c.getUserMedia=function(R,H,j){m(R,ne=>{c.webkitGetUserMedia(ne,H,Se=>{j&&j(b(Se))})})}.bind(c),c.mediaDevices.getUserMedia){const R=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(H){return m(H,j=>R(j).then(ne=>{if(j.audio&&!ne.getAudioTracks().length||j.video&&!ne.getVideoTracks().length)throw ne.getTracks().forEach(Se=>{Se.stop()}),new DOMException("","NotFoundError");return ne},ne=>Promise.reject(b(ne))))}}}function he(s,i){if((!s.navigator.mediaDevices||!("getDisplayMedia"in s.navigator.mediaDevices))&&s.navigator.mediaDevices){if("function"!=typeof i)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");s.navigator.mediaDevices.getDisplayMedia=function(f){return i(f).then(m=>{const b=f.video&&f.video.width,O=f.video&&f.video.height;return f.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:m,maxFrameRate:f.video&&f.video.frameRate||3}},b&&(f.video.mandatory.maxWidth=b),O&&(f.video.mandatory.maxHeight=O),s.navigator.mediaDevices.getUserMedia(f)})}}}function le(s){s.MediaStream=s.MediaStream||s.webkitMediaStream}function W(s){if("object"==typeof s&&s.RTCPeerConnection&&!("ontrack"in s.RTCPeerConnection.prototype)){Object.defineProperty(s.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(c){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=c)},enumerable:!0,configurable:!0});const i=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=f=>{f.stream.addEventListener("addtrack",m=>{let b;b=s.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(R=>R.track&&R.track.id===m.track.id):{track:m.track};const O=new Event("track");O.track=m.track,O.receiver=b,O.transceiver={receiver:b},O.streams=[f.stream],this.dispatchEvent(O)}),f.stream.getTracks().forEach(m=>{let b;b=s.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(R=>R.track&&R.track.id===m.id):{track:m};const O=new Event("track");O.track=m,O.receiver=b,O.transceiver={receiver:b},O.streams=[f.stream],this.dispatchEvent(O)})},this.addEventListener("addstream",this._ontrackpoly)),i.apply(this,arguments)}}else Ce(s,"track",i=>(i.transceiver||Object.defineProperty(i,"transceiver",{value:{receiver:i.receiver}}),i))}function ee(s){if("object"==typeof s&&s.RTCPeerConnection&&!("getSenders"in s.RTCPeerConnection.prototype)&&"createDTMFSender"in s.RTCPeerConnection.prototype){const i=function(m,b){return{track:b,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===b.kind?m.createDTMFSender(b):null),this._dtmf},_pc:m}};if(!s.RTCPeerConnection.prototype.getSenders){s.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const m=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(R,H){let j=m.apply(this,arguments);return j||(j=i(this,R),this._senders.push(j)),j};const b=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(R){b.apply(this,arguments);const H=this._senders.indexOf(R);-1!==H&&this._senders.splice(H,1)}}const c=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(b){this._senders=this._senders||[],c.apply(this,[b]),b.getTracks().forEach(O=>{this._senders.push(i(this,O))})};const f=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(b){this._senders=this._senders||[],f.apply(this,[b]),b.getTracks().forEach(O=>{const R=this._senders.find(H=>H.track===O);R&&this._senders.splice(this._senders.indexOf(R),1)})}}else if("object"==typeof s&&s.RTCPeerConnection&&"getSenders"in s.RTCPeerConnection.prototype&&"createDTMFSender"in s.RTCPeerConnection.prototype&&s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)){const i=s.RTCPeerConnection.prototype.getSenders;s.RTCPeerConnection.prototype.getSenders=function(){const f=i.apply(this,[]);return f.forEach(m=>m._pc=this),f},Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function $(s){if(!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[f,m,b]=arguments;if(arguments.length>0&&"function"==typeof f)return i.apply(this,arguments);if(0===i.length&&(0===arguments.length||"function"!=typeof f))return i.apply(this,[]);const O=function(H){const j={};return H.result().forEach(Se=>{const ze={id:Se.id,timestamp:Se.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Se.type]||Se.type};Se.names().forEach(Et=>{ze[Et]=Se.stat(Et)}),j[ze.id]=ze}),j},R=function(H){return new Map(Object.keys(H).map(j=>[j,H[j]]))};return arguments.length>=2?i.apply(this,[function(j){m(R(O(j)))},f]):new Promise((H,j)=>{i.apply(this,[function(ne){H(R(O(ne)))},j])}).then(m,b)}}function De(s){if(!("object"==typeof s&&s.RTCPeerConnection&&s.RTCRtpSender&&s.RTCRtpReceiver))return;if(!("getStats"in s.RTCRtpSender.prototype)){const c=s.RTCPeerConnection.prototype.getSenders;c&&(s.RTCPeerConnection.prototype.getSenders=function(){const b=c.apply(this,[]);return b.forEach(O=>O._pc=this),b});const f=s.RTCPeerConnection.prototype.addTrack;f&&(s.RTCPeerConnection.prototype.addTrack=function(){const b=f.apply(this,arguments);return b._pc=this,b}),s.RTCRtpSender.prototype.getStats=function(){const b=this;return this._pc.getStats().then(O=>re(O,b.track,!0))}}if(!("getStats"in s.RTCRtpReceiver.prototype)){const c=s.RTCPeerConnection.prototype.getReceivers;c&&(s.RTCPeerConnection.prototype.getReceivers=function(){const m=c.apply(this,[]);return m.forEach(b=>b._pc=this),m}),Ce(s,"track",f=>(f.receiver._pc=f.srcElement,f)),s.RTCRtpReceiver.prototype.getStats=function(){const m=this;return this._pc.getStats().then(b=>re(b,m.track,!1))}}if(!("getStats"in s.RTCRtpSender.prototype)||!("getStats"in s.RTCRtpReceiver.prototype))return;const i=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof s.MediaStreamTrack){const f=arguments[0];let m,b,O;return this.getSenders().forEach(R=>{R.track===f&&(m?O=!0:m=R)}),this.getReceivers().forEach(R=>(R.track===f&&(b?O=!0:b=R),R.track===f)),O||m&&b?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):m?m.getStats():b?b.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}function We(s){s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(O=>this._shimmedLocalStreams[O][0])};const i=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(O,R){if(!R)return i.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const H=i.apply(this,arguments);return this._shimmedLocalStreams[R.id]?-1===this._shimmedLocalStreams[R.id].indexOf(H)&&this._shimmedLocalStreams[R.id].push(H):this._shimmedLocalStreams[R.id]=[R,H],H};const c=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(O){this._shimmedLocalStreams=this._shimmedLocalStreams||{},O.getTracks().forEach(j=>{if(this.getSenders().find(Se=>Se.track===j))throw new DOMException("Track already exists.","InvalidAccessError")});const R=this.getSenders();c.apply(this,arguments);const H=this.getSenders().filter(j=>-1===R.indexOf(j));this._shimmedLocalStreams[O.id]=[O].concat(H)};const f=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[O.id],f.apply(this,arguments)};const m=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},O&&Object.keys(this._shimmedLocalStreams).forEach(R=>{const H=this._shimmedLocalStreams[R].indexOf(O);-1!==H&&this._shimmedLocalStreams[R].splice(H,1),1===this._shimmedLocalStreams[R].length&&delete this._shimmedLocalStreams[R]}),m.apply(this,arguments)}}function Me(s,i){if(!s.RTCPeerConnection)return;if(s.RTCPeerConnection.prototype.addTrack&&i.version>=65)return We(s);const c=s.RTCPeerConnection.prototype.getLocalStreams;s.RTCPeerConnection.prototype.getLocalStreams=function(){const ne=c.apply(this);return this._reverseStreams=this._reverseStreams||{},ne.map(Se=>this._reverseStreams[Se.id])};const f=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(ne){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},ne.getTracks().forEach(Se=>{if(this.getSenders().find(Et=>Et.track===Se))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[ne.id]){const Se=new s.MediaStream(ne.getTracks());this._streams[ne.id]=Se,this._reverseStreams[Se.id]=ne,ne=Se}f.apply(this,[ne])};const m=s.RTCPeerConnection.prototype.removeStream;function b(j,ne){let Se=ne.sdp;return Object.keys(j._reverseStreams||[]).forEach(ze=>{const Et=j._reverseStreams[ze];Se=Se.replace(new RegExp(j._streams[Et.id].id,"g"),Et.id)}),new RTCSessionDescription({type:ne.type,sdp:Se})}s.RTCPeerConnection.prototype.removeStream=function(ne){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.apply(this,[this._streams[ne.id]||ne]),delete this._reverseStreams[this._streams[ne.id]?this._streams[ne.id].id:ne.id],delete this._streams[ne.id]},s.RTCPeerConnection.prototype.addTrack=function(ne,Se){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const ze=[].slice.call(arguments,1);if(1!==ze.length||!ze[0].getTracks().find(Wt=>Wt===ne))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(Wt=>Wt.track===ne))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const zt=this._streams[Se.id];if(zt)zt.addTrack(ne),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const Wt=new s.MediaStream([ne]);this._streams[Se.id]=Wt,this._reverseStreams[Wt.id]=Se,this.addStream(Wt)}return this.getSenders().find(Wt=>Wt.track===ne)},["createOffer","createAnswer"].forEach(function(j){const ne=s.RTCPeerConnection.prototype[j],Se={[j](){const ze=arguments;return arguments.length&&"function"==typeof arguments[0]?ne.apply(this,[zt=>{const Wt=b(this,zt);ze[0].apply(null,[Wt])},zt=>{ze[1]&&ze[1].apply(null,zt)},arguments[2]]):ne.apply(this,arguments).then(zt=>b(this,zt))}};s.RTCPeerConnection.prototype[j]=Se[j]});const R=s.RTCPeerConnection.prototype.setLocalDescription;s.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function O(j,ne){let Se=ne.sdp;return Object.keys(j._reverseStreams||[]).forEach(ze=>{const Et=j._reverseStreams[ze],zt=j._streams[Et.id];Se=Se.replace(new RegExp(Et.id,"g"),zt.id)}),new RTCSessionDescription({type:ne.type,sdp:Se})}(this,arguments[0]),R.apply(this,arguments)):R.apply(this,arguments)};const H=Object.getOwnPropertyDescriptor(s.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(s.RTCPeerConnection.prototype,"localDescription",{get(){const j=H.get.apply(this);return""===j.type?j:b(this,j)}}),s.RTCPeerConnection.prototype.removeTrack=function(ne){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!ne._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(ne._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let ze;this._streams=this._streams||{},Object.keys(this._streams).forEach(Et=>{this._streams[Et].getTracks().find(Wt=>ne.track===Wt)&&(ze=this._streams[Et])}),ze&&(1===ze.getTracks().length?this.removeStream(this._reverseStreams[ze.id]):ze.removeTrack(ne.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Pe(s,i){!s.RTCPeerConnection&&s.webkitRTCPeerConnection&&(s.RTCPeerConnection=s.webkitRTCPeerConnection),s.RTCPeerConnection&&i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(c){const f=s.RTCPeerConnection.prototype[c],m={[c](){return arguments[0]=new("addIceCandidate"===c?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),f.apply(this,arguments)}};s.RTCPeerConnection.prototype[c]=m[c]})}function ge(s,i){Ce(s,"negotiationneeded",c=>{const f=c.target;if(!(i.version<72||f.getConfiguration&&"plan-b"===f.getConfiguration().sdpSemantics)||"stable"===f.signalingState)return c})}var ce=T(4191),Re=T.n(ce);function Ve(s){const i=s&&s.navigator,f=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(m){return f(m).catch(b=>Promise.reject(function(m){return{name:{PermissionDeniedError:"NotAllowedError"}[m.name]||m.name,message:m.message,constraint:m.constraint,toString(){return this.name}}}(b)))}}function xe(s){"getDisplayMedia"in s.navigator&&s.navigator.mediaDevices&&(s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||(s.navigator.mediaDevices.getDisplayMedia=s.navigator.getDisplayMedia.bind(s.navigator)))}function Be(s,i){if(s.RTCIceGatherer&&(s.RTCIceCandidate||(s.RTCIceCandidate=function(m){return m}),s.RTCSessionDescription||(s.RTCSessionDescription=function(m){return m}),i.version<15025)){const f=Object.getOwnPropertyDescriptor(s.MediaStreamTrack.prototype,"enabled");Object.defineProperty(s.MediaStreamTrack.prototype,"enabled",{set(m){f.set.call(this,m);const b=new Event("enabled");b.enabled=m,this.dispatchEvent(b)}})}s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)&&Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new s.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),s.RTCDtmfSender&&!s.RTCDTMFSender&&(s.RTCDTMFSender=s.RTCDtmfSender);const c=Re()(s,i.version);s.RTCPeerConnection=function(m){return m&&m.iceServers&&(m.iceServers=function te(s,i){let c=!1;return(s=JSON.parse(JSON.stringify(s))).filter(f=>{if(f&&(f.urls||f.url)){let m=f.urls||f.url;f.url&&!f.urls&&Ge("RTCIceServer.url","RTCIceServer.urls");const b="string"==typeof m;return b&&(m=[m]),m=m.filter(O=>{if(0===O.indexOf("stun:"))return!1;const R=O.startsWith("turn")&&!O.startsWith("turn:[")&&O.includes("transport=udp");return R&&!c?(c=!0,!0):R&&!c}),delete f.url,f.urls=b?m[0]:m,!!m.length}})}(m.iceServers),Fe("ICE servers after filtering:",m.iceServers)),new c(m)},s.RTCPeerConnection.prototype=c.prototype}function qe(s){s.RTCRtpSender&&!("replaceTrack"in s.RTCRtpSender.prototype)&&(s.RTCRtpSender.prototype.replaceTrack=s.RTCRtpSender.prototype.setTrack)}function Kt(s,i){const c=s&&s.navigator,f=s&&s.MediaStreamTrack;if(c.getUserMedia=function(m,b,O){Ge("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),c.mediaDevices.getUserMedia(m).then(b,O)},!(i.version>55&&"autoGainControl"in c.mediaDevices.getSupportedConstraints())){const m=function(O,R,H){R in O&&!(H in O)&&(O[H]=O[R],delete O[R])},b=c.mediaDevices.getUserMedia.bind(c.mediaDevices);if(c.mediaDevices.getUserMedia=function(O){return"object"==typeof O&&"object"==typeof O.audio&&(O=JSON.parse(JSON.stringify(O)),m(O.audio,"autoGainControl","mozAutoGainControl"),m(O.audio,"noiseSuppression","mozNoiseSuppression")),b(O)},f&&f.prototype.getSettings){const O=f.prototype.getSettings;f.prototype.getSettings=function(){const R=O.apply(this,arguments);return m(R,"mozAutoGainControl","autoGainControl"),m(R,"mozNoiseSuppression","noiseSuppression"),R}}if(f&&f.prototype.applyConstraints){const O=f.prototype.applyConstraints;f.prototype.applyConstraints=function(R){return"audio"===this.kind&&"object"==typeof R&&(R=JSON.parse(JSON.stringify(R)),m(R,"autoGainControl","mozAutoGainControl"),m(R,"noiseSuppression","mozNoiseSuppression")),O.apply(this,[R])}}}}function nt(s,i){s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||s.navigator.mediaDevices&&(s.navigator.mediaDevices.getDisplayMedia=function(f){if(!f||!f.video){const m=new DOMException("getDisplayMedia without video constraints is undefined");return m.name="NotFoundError",m.code=8,Promise.reject(m)}return!0===f.video?f.video={mediaSource:i}:f.video.mediaSource=i,s.navigator.mediaDevices.getUserMedia(f)})}function ht(s){"object"==typeof s&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ct(s,i){if("object"!=typeof s||!s.RTCPeerConnection&&!s.mozRTCPeerConnection)return;!s.RTCPeerConnection&&s.mozRTCPeerConnection&&(s.RTCPeerConnection=s.mozRTCPeerConnection),i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(m){const b=s.RTCPeerConnection.prototype[m],O={[m](){return arguments[0]=new("addIceCandidate"===m?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),b.apply(this,arguments)}};s.RTCPeerConnection.prototype[m]=O[m]});const c={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},f=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[b,O,R]=arguments;return f.apply(this,[b||null]).then(H=>{if(i.version<53&&!O)try{H.forEach(j=>{j.type=c[j.type]||j.type})}catch(j){if("TypeError"!==j.name)throw j;H.forEach((ne,Se)=>{H.set(Se,Object.assign({},ne,{type:c[ne.type]||ne.type}))})}return H}).then(O,R)}}function pt(s){if("object"!=typeof s||!s.RTCPeerConnection||!s.RTCRtpSender||s.RTCRtpSender&&"getStats"in s.RTCRtpSender.prototype)return;const i=s.RTCPeerConnection.prototype.getSenders;i&&(s.RTCPeerConnection.prototype.getSenders=function(){const m=i.apply(this,[]);return m.forEach(b=>b._pc=this),m});const c=s.RTCPeerConnection.prototype.addTrack;c&&(s.RTCPeerConnection.prototype.addTrack=function(){const m=c.apply(this,arguments);return m._pc=this,m}),s.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Lt(s){if("object"!=typeof s||!s.RTCPeerConnection||!s.RTCRtpSender||s.RTCRtpSender&&"getStats"in s.RTCRtpReceiver.prototype)return;const i=s.RTCPeerConnection.prototype.getReceivers;i&&(s.RTCPeerConnection.prototype.getReceivers=function(){const f=i.apply(this,[]);return f.forEach(m=>m._pc=this),f}),Ce(s,"track",c=>(c.receiver._pc=c.srcElement,c)),s.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function yn(s){!s.RTCPeerConnection||"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(c){Ge("removeStream","removeTrack"),this.getSenders().forEach(f=>{f.track&&c.getTracks().includes(f.track)&&this.removeTrack(f)})})}function vn(s){s.DataChannel&&!s.RTCDataChannel&&(s.RTCDataChannel=s.DataChannel)}function en(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.addTransceiver;i&&(s.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const f=arguments[1],m=f&&"sendEncodings"in f;m&&f.sendEncodings.forEach(O=>{if("rid"in O&&!/^[a-z0-9]{0,16}$/i.test(O.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in O&&!(parseFloat(O.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in O&&!(parseFloat(O.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const b=i.apply(this,arguments);if(m){const{sender:O}=b,R=O.getParameters();(!("encodings"in R)||1===R.encodings.length&&0===Object.keys(R.encodings[0]).length)&&(R.encodings=f.sendEncodings,O.sendEncodings=f.sendEncodings,this.setParametersPromises.push(O.setParameters(R).then(()=>{delete O.sendEncodings}).catch(()=>{delete O.sendEncodings})))}return b})}function wn(s){if("object"!=typeof s||!s.RTCRtpSender)return;const i=s.RTCRtpSender.prototype.getParameters;i&&(s.RTCRtpSender.prototype.getParameters=function(){const f=i.apply(this,arguments);return"encodings"in f||(f.encodings=[].concat(this.sendEncodings||[{}])),f})}function Zt(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function ir(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype.createAnswer;s.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function un(s){if("object"==typeof s&&s.RTCPeerConnection){if("getLocalStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in s.RTCPeerConnection.prototype)){const i=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addStream=function(f){this._localStreams||(this._localStreams=[]),this._localStreams.includes(f)||this._localStreams.push(f),f.getAudioTracks().forEach(m=>i.call(this,m,f)),f.getVideoTracks().forEach(m=>i.call(this,m,f))},s.RTCPeerConnection.prototype.addTrack=function(f,...m){return m&&m.forEach(b=>{this._localStreams?this._localStreams.includes(b)||this._localStreams.push(b):this._localStreams=[b]}),i.apply(this,arguments)}}"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(c){this._localStreams||(this._localStreams=[]);const f=this._localStreams.indexOf(c);if(-1===f)return;this._localStreams.splice(f,1);const m=c.getTracks();this.getSenders().forEach(b=>{m.includes(b.track)&&this.removeTrack(b)})})}}function Le(s){if("object"==typeof s&&s.RTCPeerConnection&&("getRemoteStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in s.RTCPeerConnection.prototype))){Object.defineProperty(s.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(c){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=c),this.addEventListener("track",this._onaddstreampoly=f=>{f.streams.forEach(m=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(m))return;this._remoteStreams.push(m);const b=new Event("addstream");b.stream=m,this.dispatchEvent(b)})})}});const i=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){const f=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(m){m.streams.forEach(b=>{if(f._remoteStreams||(f._remoteStreams=[]),f._remoteStreams.indexOf(b)>=0)return;f._remoteStreams.push(b);const O=new Event("addstream");O.stream=b,f.dispatchEvent(O)})}),i.apply(f,arguments)}}}function Jt(s){if("object"!=typeof s||!s.RTCPeerConnection)return;const i=s.RTCPeerConnection.prototype,c=i.createOffer,f=i.createAnswer,m=i.setLocalDescription,b=i.setRemoteDescription,O=i.addIceCandidate;i.createOffer=function(j,ne){const ze=c.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return ne?(ze.then(j,ne),Promise.resolve()):ze},i.createAnswer=function(j,ne){const ze=f.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return ne?(ze.then(j,ne),Promise.resolve()):ze};let R=function(H,j,ne){const Se=m.apply(this,[H]);return ne?(Se.then(j,ne),Promise.resolve()):Se};i.setLocalDescription=R,R=function(H,j,ne){const Se=b.apply(this,[H]);return ne?(Se.then(j,ne),Promise.resolve()):Se},i.setRemoteDescription=R,R=function(H,j,ne){const Se=O.apply(this,[H]);return ne?(Se.then(j,ne),Promise.resolve()):Se},i.addIceCandidate=R}function xn(s){const i=s&&s.navigator;if(i.mediaDevices&&i.mediaDevices.getUserMedia){const c=i.mediaDevices,f=c.getUserMedia.bind(c);i.mediaDevices.getUserMedia=m=>f(An(m))}!i.getUserMedia&&i.mediaDevices&&i.mediaDevices.getUserMedia&&(i.getUserMedia=function(f,m,b){i.mediaDevices.getUserMedia(f).then(m,b)}.bind(i))}function An(s){return s&&void 0!==s.video?Object.assign({},s,{video:ve(s.video)}):s}function xt(s){if(!s.RTCPeerConnection)return;const i=s.RTCPeerConnection;s.RTCPeerConnection=function(f,m){if(f&&f.iceServers){const b=[];for(let O=0;O<f.iceServers.length;O++){let R=f.iceServers[O];!R.hasOwnProperty("urls")&&R.hasOwnProperty("url")?(Ge("RTCIceServer.url","RTCIceServer.urls"),R=JSON.parse(JSON.stringify(R)),R.urls=R.url,delete R.url,b.push(R)):b.push(f.iceServers[O])}f.iceServers=b}return new i(f,m)},s.RTCPeerConnection.prototype=i.prototype,"generateCertificate"in i&&Object.defineProperty(s.RTCPeerConnection,"generateCertificate",{get:()=>i.generateCertificate})}function sn(s){"object"==typeof s&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ye(s){const i=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(f){if(f){typeof f.offerToReceiveAudio<"u"&&(f.offerToReceiveAudio=!!f.offerToReceiveAudio);const m=this.getTransceivers().find(O=>"audio"===O.receiver.track.kind);!1===f.offerToReceiveAudio&&m?"sendrecv"===m.direction?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":"recvonly"===m.direction&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):!0===f.offerToReceiveAudio&&!m&&this.addTransceiver("audio"),typeof f.offerToReceiveVideo<"u"&&(f.offerToReceiveVideo=!!f.offerToReceiveVideo);const b=this.getTransceivers().find(O=>"video"===O.receiver.track.kind);!1===f.offerToReceiveVideo&&b?"sendrecv"===b.direction?b.setDirection?b.setDirection("sendonly"):b.direction="sendonly":"recvonly"===b.direction&&(b.setDirection?b.setDirection("inactive"):b.direction="inactive"):!0===f.offerToReceiveVideo&&!b&&this.addTransceiver("video")}return i.apply(this,arguments)}}function rt(s){"object"!=typeof s||s.AudioContext||(s.AudioContext=s.webkitAudioContext)}var Tr=T(2917),an=T.n(Tr);function kn(s){if(!s.RTCIceCandidate||s.RTCIceCandidate&&"foundation"in s.RTCIceCandidate.prototype)return;const i=s.RTCIceCandidate;s.RTCIceCandidate=function(f){if("object"==typeof f&&f.candidate&&0===f.candidate.indexOf("a=")&&((f=JSON.parse(JSON.stringify(f))).candidate=f.candidate.substr(2)),f.candidate&&f.candidate.length){const m=new i(f),b=an().parseCandidate(f.candidate),O=Object.assign(m,b);return O.toJSON=function(){return{candidate:O.candidate,sdpMid:O.sdpMid,sdpMLineIndex:O.sdpMLineIndex,usernameFragment:O.usernameFragment}},O}return new i(f)},s.RTCIceCandidate.prototype=i.prototype,Ce(s,"icecandidate",c=>(c.candidate&&Object.defineProperty(c,"candidate",{value:new s.RTCIceCandidate(c.candidate),writable:"false"}),c))}function Nn(s,i){if(!s.RTCPeerConnection)return;"sctp"in s.RTCPeerConnection.prototype||Object.defineProperty(s.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const O=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===i.browser&&i.version>=76){const{sdpSemantics:H}=this.getConfiguration();"plan-b"===H&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(function(R){if(!R||!R.sdp)return!1;const H=an().splitSections(R.sdp);return H.shift(),H.some(j=>{const ne=an().parseMLine(j);return ne&&"application"===ne.kind&&-1!==ne.protocol.indexOf("SCTP")})}(arguments[0])){const H=function(R){const H=R.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===H||H.length<2)return-1;const j=parseInt(H[1],10);return j!=j?-1:j}(arguments[0]),j=function(R){let H=65536;return"firefox"===i.browser&&(H=i.version<57?-1===R?16384:2147483637:i.version<60?57===i.version?65535:65536:2147483637),H}(H),ne=function(R,H){let j=65536;"firefox"===i.browser&&57===i.version&&(j=65535);const ne=an().matchPrefix(R.sdp,"a=max-message-size:");return ne.length>0?j=parseInt(ne[0].substr(19),10):"firefox"===i.browser&&-1!==H&&(j=2147483637),j}(arguments[0],H);let Se;Se=0===j&&0===ne?Number.POSITIVE_INFINITY:0===j||0===ne?Math.max(j,ne):Math.min(j,ne);const ze={};Object.defineProperty(ze,"maxMessageSize",{get:()=>Se}),this._sctp=ze}return O.apply(this,arguments)}}function rn(s){if(!s.RTCPeerConnection||!("createDataChannel"in s.RTCPeerConnection.prototype))return;function i(f,m){const b=f.send;f.send=function(){const R=arguments[0];if("open"===f.readyState&&m.sctp&&(R.length||R.size||R.byteLength)>m.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+m.sctp.maxMessageSize+" bytes)");return b.apply(f,arguments)}}const c=s.RTCPeerConnection.prototype.createDataChannel;s.RTCPeerConnection.prototype.createDataChannel=function(){const m=c.apply(this,arguments);return i(m,this),m},Ce(s,"datachannel",f=>(i(f.channel,f.target),f))}function Gr(s){if(!s.RTCPeerConnection||"connectionState"in s.RTCPeerConnection.prototype)return;const i=s.RTCPeerConnection.prototype;Object.defineProperty(i,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(i,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(c){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),c&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=c)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(c=>{const f=i[c];i[c]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=m=>{const b=m.target;if(b._lastConnectionState!==b.connectionState){b._lastConnectionState=b.connectionState;const O=new Event("connectionstatechange",m);b.dispatchEvent(O)}return m},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),f.apply(this,arguments)}})}function Qt(s,i){if(!s.RTCPeerConnection||"chrome"===i.browser&&i.version>=71||"safari"===i.browser&&i.version>=605)return;const c=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(m){if(m&&m.sdp&&-1!==m.sdp.indexOf("\na=extmap-allow-mixed")){const b=m.sdp.split("\n").filter(O=>"a=extmap-allow-mixed"!==O.trim()).join("\n");s.RTCSessionDescription&&m instanceof s.RTCSessionDescription?arguments[0]=new s.RTCSessionDescription({type:m.type,sdp:b}):m.sdp=b}return c.apply(this,arguments)}}function no(s,i){if(!s.RTCPeerConnection||!s.RTCPeerConnection.prototype)return;const c=s.RTCPeerConnection.prototype.addIceCandidate;!c||0===c.length||(s.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===i.browser&&i.version<78||"firefox"===i.browser&&i.version<68||"safari"===i.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():c.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const sr=function Ue({window:s}={},i={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const c=Fe,f=function F(s){const i={browser:null,version:null};if(typeof s>"u"||!s.navigator)return i.browser="Not a browser.",i;const{navigator:c}=s;if(c.mozGetUserMedia)i.browser="firefox",i.version=ie(c.userAgent,/Firefox\/(\d+)\./,1);else if(c.webkitGetUserMedia||!1===s.isSecureContext&&s.webkitRTCPeerConnection&&!s.RTCIceGatherer)i.browser="chrome",i.version=ie(c.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(c.mediaDevices&&c.userAgent.match(/Edge\/(\d+).(\d+)$/))i.browser="edge",i.version=ie(c.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!s.RTCPeerConnection||!c.userAgent.match(/AppleWebKit\/(\d+)\./))return i.browser="Not a supported browser.",i;i.browser="safari",i.version=ie(c.userAgent,/AppleWebKit\/(\d+)\./,1),i.supportsUnifiedPlan=s.RTCRtpTransceiver&&"currentDirection"in s.RTCRtpTransceiver.prototype}return i}(s),m={browserDetails:f,commonShim:Y,extractVersion:ie,disableLog:Ne,disableWarnings:me};switch(f.browser){case"chrome":if(!l||!Pe||!i.shimChrome)return c("Chrome shim is not included in this adapter release."),m;if(null===f.version)return c("Chrome shim can not determine version, not shimming."),m;c("adapter.js shimming chrome."),m.browserShim=l,no(s,f),U(s,f),le(s),Pe(s,f),W(s),Me(s,f),ee(s),$(s),De(s),ge(s,f),kn(s),Gr(s),Nn(s,f),rn(s),Qt(s,f);break;case"firefox":if(!q||!Ct||!i.shimFirefox)return c("Firefox shim is not included in this adapter release."),m;c("adapter.js shimming firefox."),m.browserShim=q,no(s,f),Kt(s,f),Ct(s,f),ht(s),yn(s),pt(s),Lt(s),vn(s),en(s),wn(s),Zt(s),ir(s),kn(s),Gr(s),Nn(s,f),rn(s);break;case"edge":if(!N||!Be||!i.shimEdge)return c("MS edge shim is not included in this adapter release."),m;c("adapter.js shimming edge."),m.browserShim=N,Ve(s),xe(s),Be(s,f),qe(s),Nn(s,f),rn(s);break;case"safari":if(!Q||!i.shimSafari)return c("Safari shim is not included in this adapter release."),m;c("adapter.js shimming safari."),m.browserShim=Q,no(s,f),xt(s),Ye(s),Jt(s),un(s),Le(s),sn(s),xn(s),rt(s),kn(s),Nn(s,f),rn(s),Qt(s,f);break;default:c("Unsupported browser!")}return m}({window:typeof window>"u"?void 0:window});function kt(s,i,c,f){Object.defineProperty(s,i,{get:c,set:f,enumerable:!0,configurable:!0})}var bt=sr.default||sr,Gn=new(function(){function s(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return s.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},s.prototype.isBrowserSupported=function(){var i=this.getBrowser(),c=this.getVersion();return!!this.supportedBrowsers.includes(i)&&("chrome"===i?c>=this.minChromeVersion:"firefox"===i?c>=this.minFirefoxVersion:"safari"===i&&!this.isIOS&&c>=this.minSafariVersion)},s.prototype.getBrowser=function(){return bt.browserDetails.browser},s.prototype.getVersion=function(){return bt.browserDetails.version||0},s.prototype.isUnifiedPlanSupported=function(){var i=this.getBrowser(),c=bt.browserDetails.version||0;if("chrome"===i&&c<this.minChromeVersion)return!1;if("firefox"===i&&c>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var f,m=!1;try{(f=new RTCPeerConnection).addTransceiver("audio"),m=!0}catch{}finally{f&&f.close()}return m},s.prototype.toString=function(){return"Supports:\n    browser:".concat(this.getBrowser(),"\n    version:").concat(this.getVersion(),"\n    isIOS:").concat(this.isIOS,"\n    isWebRTCSupported:").concat(this.isWebRTCSupported(),"\n    isBrowserSupported:").concat(this.isBrowserSupported(),"\n    isUnifiedPlanSupported:").concat(this.isUnifiedPlanSupported())},s}()),Xt={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},dr=function(){function s(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Xt,this.browser=Gn.getBrowser(),this.browserVersion=Gn.getVersion(),this.supports=function(){var c,i={browser:Gn.isBrowserSupported(),webRTC:Gn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!i.webRTC)return i;try{c=new RTCPeerConnection(Xt),i.audioVideo=!0;var f=void 0;try{f=c.createDataChannel("_PEERJSTEST",{ordered:!0}),i.data=!0,i.reliable=!!f.ordered;try{f.binaryType="blob",i.binaryBlob=!Gn.isIOS}catch{}}catch{}finally{f&&f.close()}}catch{}finally{c&&c.close()}return i}(),this.pack=V.pack,this.unpack=V.unpack,this._dataCount=1}return s.prototype.noop=function(){},s.prototype.validateId=function(i){return!i||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(i)},s.prototype.chunk=function(i){for(var c=[],f=i.size,m=Math.ceil(f/Mt.chunkedMTU),b=0,O=0;O<f;){var R=Math.min(f,O+Mt.chunkedMTU),H=i.slice(O,R);c.push({__peerData:this._dataCount,n:b,data:H,total:m}),O=R,b++}return this._dataCount++,c},s.prototype.blobToArrayBuffer=function(i,c){var f=new FileReader;return f.onload=function(m){m.target&&c(m.target.result)},f.readAsArrayBuffer(i),f},s.prototype.binaryStringToArrayBuffer=function(i){for(var c=new Uint8Array(i.length),f=0;f<i.length;f++)c[f]=255&i.charCodeAt(f);return c.buffer},s.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},s.prototype.isSecure=function(){return"https:"===location.protocol},s}(),Mt=new dr;kt({},"Peer",()=>co,s=>co=s);var Tn,Jn=Object.prototype.hasOwnProperty,jt="~";function Bn(){}function Ee(s,i,c){this.fn=s,this.context=i,this.once=c||!1}function oe(s,i,c,f,m){if("function"!=typeof c)throw new TypeError("The listener must be a function");var b=new Ee(c,f||s,m),O=jt?jt+i:i;return s._events[O]?s._events[O].fn?s._events[O]=[s._events[O],b]:s._events[O].push(b):(s._events[O]=b,s._eventsCount++),s}function G(s,i){0==--s._eventsCount?s._events=new Bn:delete s._events[i]}function se(){this._events=new Bn,this._eventsCount=0}Object.create&&(Bn.prototype=Object.create(null),(new Bn).__proto__||(jt=!1)),se.prototype.eventNames=function(){var c,f,i=[];if(0===this._eventsCount)return i;for(f in c=this._events)Jn.call(c,f)&&i.push(jt?f.slice(1):f);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(c)):i},se.prototype.listeners=function(i){var f=this._events[jt?jt+i:i];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,b=f.length,O=new Array(b);m<b;m++)O[m]=f[m].fn;return O},se.prototype.listenerCount=function(i){var f=this._events[jt?jt+i:i];return f?f.fn?1:f.length:0},se.prototype.emit=function(i,c,f,m,b,O){var R=jt?jt+i:i;if(!this._events[R])return!1;var ne,Se,H=this._events[R],j=arguments.length;if(H.fn){switch(H.once&&this.removeListener(i,H.fn,void 0,!0),j){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,c),!0;case 3:return H.fn.call(H.context,c,f),!0;case 4:return H.fn.call(H.context,c,f,m),!0;case 5:return H.fn.call(H.context,c,f,m,b),!0;case 6:return H.fn.call(H.context,c,f,m,b,O),!0}for(Se=1,ne=new Array(j-1);Se<j;Se++)ne[Se-1]=arguments[Se];H.fn.apply(H.context,ne)}else{var Et,ze=H.length;for(Se=0;Se<ze;Se++)switch(H[Se].once&&this.removeListener(i,H[Se].fn,void 0,!0),j){case 1:H[Se].fn.call(H[Se].context);break;case 2:H[Se].fn.call(H[Se].context,c);break;case 3:H[Se].fn.call(H[Se].context,c,f);break;case 4:H[Se].fn.call(H[Se].context,c,f,m);break;default:if(!ne)for(Et=1,ne=new Array(j-1);Et<j;Et++)ne[Et-1]=arguments[Et];H[Se].fn.apply(H[Se].context,ne)}}return!0},se.prototype.on=function(i,c,f){return oe(this,i,c,f,!1)},se.prototype.once=function(i,c,f){return oe(this,i,c,f,!0)},se.prototype.removeListener=function(i,c,f,m){var b=jt?jt+i:i;if(!this._events[b])return this;if(!c)return G(this,b),this;var O=this._events[b];if(O.fn)O.fn===c&&(!m||O.once)&&(!f||O.context===f)&&G(this,b);else{for(var R=0,H=[],j=O.length;R<j;R++)(O[R].fn!==c||m&&!O[R].once||f&&O[R].context!==f)&&H.push(O[R]);H.length?this._events[b]=1===H.length?H[0]:H:G(this,b)}return this},se.prototype.removeAllListeners=function(i){var c;return i?this._events[c=jt?jt+i:i]&&G(this,c):(this._events=new Bn,this._eventsCount=0),this},se.prototype.off=se.prototype.removeListener,se.prototype.addListener=se.prototype.on,se.prefixed=jt,se.EventEmitter=se,Tn=se;var ue={};kt(ue,"LogLevel",()=>ot,s=>ot=s),kt(ue,"default",()=>_n,s=>_n=s);var je=function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var m,O,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(m=f.next()).done;)b.push(m.value)}catch(R){O={error:R}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(O)throw O.error}}return b},Ke=function(s,i,c){if(c||2===arguments.length)for(var b,f=0,m=i.length;f<m;f++)(b||!(f in i))&&(b||(b=Array.prototype.slice.call(i,0,f)),b[f]=i[f]);return s.concat(b||Array.prototype.slice.call(i))},ot=(()=>((ot=ot||{})[ot.Disabled=0]="Disabled",ot[ot.Errors=1]="Errors",ot[ot.Warnings=2]="Warnings",ot[ot.All=3]="All",ot))(),gt=function(){function s(){this._logLevel=ot.Disabled}return Object.defineProperty(s.prototype,"logLevel",{get:function(){return this._logLevel},set:function(i){this._logLevel=i},enumerable:!1,configurable:!0}),s.prototype.log=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=ot.All&&this._print.apply(this,Ke([ot.All],je(i),!1))},s.prototype.warn=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=ot.Warnings&&this._print.apply(this,Ke([ot.Warnings],je(i),!1))},s.prototype.error=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._logLevel>=ot.Errors&&this._print.apply(this,Ke([ot.Errors],je(i),!1))},s.prototype.setLogFunction=function(i){this._print=i},s.prototype._print=function(i){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];var m=Ke(["PeerJS: "],je(c),!1);for(var b in m)m[b]instanceof Error&&(m[b]="("+m[b].name+") "+m[b].message);i>=ot.All?console.log.apply(console,Ke([],je(m),!1)):i>=ot.Warnings?console.warn.apply(console,Ke(["WARNING"],je(m),!1)):i>=ot.Errors&&console.error.apply(console,Ke(["ERROR"],je(m),!1))},s}(),_n=new gt,zn={};kt(zn,"Socket",()=>zr,s=>zr=s);var Mn,$t=(()=>(($t=$t||{}).Data="data",$t.Media="media",$t))(),vt=(()=>((vt=vt||{}).BrowserIncompatible="browser-incompatible",vt.Disconnected="disconnected",vt.InvalidID="invalid-id",vt.InvalidKey="invalid-key",vt.Network="network",vt.PeerUnavailable="peer-unavailable",vt.SslUnavailable="ssl-unavailable",vt.ServerError="server-error",vt.SocketError="socket-error",vt.SocketClosed="socket-closed",vt.UnavailableID="unavailable-id",vt.WebRTC="webrtc",vt))(),Cn=(()=>((Cn=Cn||{}).Binary="binary",Cn.BinaryUTF8="binary-utf8",Cn.JSON="json",Cn))(),dn=(()=>((dn=dn||{}).Message="message",dn.Disconnected="disconnected",dn.Error="error",dn.Close="close",dn))(),mt=(()=>((mt=mt||{}).Heartbeat="HEARTBEAT",mt.Candidate="CANDIDATE",mt.Offer="OFFER",mt.Answer="ANSWER",mt.Open="OPEN",mt.Error="ERROR",mt.IdTaken="ID-TAKEN",mt.InvalidKey="INVALID-KEY",mt.Leave="LEAVE",mt.Expire="EXPIRE",mt))();Mn=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var s,Wn=(s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)},function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}),zr=function(s){function i(c,f,m,b,O,R){void 0===R&&(R=5e3);var H=s.call(this)||this;return H.pingInterval=R,H._disconnected=!0,H._messagesQueue=[],H._baseUrl=(c?"wss://":"ws://")+f+":"+m+b+"peerjs?key="+O,H}return Wn(i,s),i.prototype.start=function(c,f){var m=this;this._id=c;var b="".concat(this._baseUrl,"&id=").concat(c,"&token=").concat(f);this._socket||!this._disconnected||(this._socket=new WebSocket(b+"&version="+Mn.version),this._disconnected=!1,this._socket.onmessage=function(O){var R;try{R=JSON.parse(O.data),ue.default.log("Server message received:",R)}catch{return void ue.default.log("Invalid server message",O.data)}m.emit(dn.Message,R)},this._socket.onclose=function(O){m._disconnected||(ue.default.log("Socket closed.",O),m._cleanup(),m._disconnected=!0,m.emit(dn.Disconnected))},this._socket.onopen=function(){m._disconnected||(m._sendQueuedMessages(),ue.default.log("Socket open"),m._scheduleHeartbeat())})},i.prototype._scheduleHeartbeat=function(){var c=this;this._wsPingTimer=setTimeout(function(){c._sendHeartbeat()},this.pingInterval)},i.prototype._sendHeartbeat=function(){if(this._wsOpen()){var c=JSON.stringify({type:mt.Heartbeat});this._socket.send(c),this._scheduleHeartbeat()}else ue.default.log("Cannot send heartbeat, because socket closed")},i.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},i.prototype._sendQueuedMessages=function(){var c,f,m=function(s,i,c){if(c||2===arguments.length)for(var b,f=0,m=i.length;f<m;f++)(b||!(f in i))&&(b||(b=Array.prototype.slice.call(i,0,f)),b[f]=i[f]);return s.concat(b||Array.prototype.slice.call(i))}([],function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var m,O,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(m=f.next()).done;)b.push(m.value)}catch(R){O={error:R}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(O)throw O.error}}return b}(this._messagesQueue),!1);this._messagesQueue=[];try{for(var b=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(m),O=b.next();!O.done;O=b.next())this.send(O.value)}catch(H){c={error:H}}finally{try{O&&!O.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}},i.prototype.send=function(c){if(!this._disconnected){if(!this._id)return void this._messagesQueue.push(c);if(!c.type)return void this.emit(dn.Error,"Invalid message");if(this._wsOpen()){var f=JSON.stringify(c);this._socket.send(f)}}},i.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},i.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},i}(Tn.EventEmitter),Mr={};kt(Mr,"MediaConnection",()=>Fr,s=>Fr=s);var ro={};kt(ro,"Negotiator",()=>oo,s=>oo=s);var Dn=function(){return Dn=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var m in i=arguments[c])Object.prototype.hasOwnProperty.call(i,m)&&(s[m]=i[m]);return s},Dn.apply(this,arguments)},Rn=function(s,i,c,f){return new(c||(c=Promise))(function(b,O){function R(ne){try{j(f.next(ne))}catch(Se){O(Se)}}function H(ne){try{j(f.throw(ne))}catch(Se){O(Se)}}function j(ne){ne.done?b(ne.value):function m(b){return b instanceof c?b:new c(function(O){O(b)})}(ne.value).then(R,H)}j((f=f.apply(s,i||[])).next())})},Ir=function(s,i){var f,m,b,O,c={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return O={next:R(0),throw:R(1),return:R(2)},"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O;function R(j){return function(ne){return function H(j){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,m&&(b=2&j[0]?m.return:j[0]?m.throw||((b=m.return)&&b.call(m),0):m.next)&&!(b=b.call(m,j[1])).done)return b;switch(m=0,b&&(j=[2&j[0],b.value]),j[0]){case 0:case 1:b=j;break;case 4:return c.label++,{value:j[1],done:!1};case 5:c.label++,m=j[1],j=[0];continue;case 7:j=c.ops.pop(),c.trys.pop();continue;default:if(!(b=(b=c.trys).length>0&&b[b.length-1])&&(6===j[0]||2===j[0])){c=0;continue}if(3===j[0]&&(!b||j[1]>b[0]&&j[1]<b[3])){c.label=j[1];break}if(6===j[0]&&c.label<b[1]){c.label=b[1],b=j;break}if(b&&c.label<b[2]){c.label=b[2],c.ops.push(j);break}b[2]&&c.ops.pop(),c.trys.pop();continue}j=i.call(s,c)}catch(ne){j=[6,ne],m=0}finally{f=b=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([j,ne])}}},oo=function(){function s(i){this.connection=i}return s.prototype.startConnection=function(i){var c=this._startPeerConnection();if(this.connection.peerConnection=c,this.connection.type===$t.Media&&i._stream&&this._addTracksToConnection(i._stream,c),i.originator){if(this.connection.type===$t.Data){var f=this.connection,b=c.createDataChannel(f.label,{ordered:!!i.reliable});f.initialize(b)}this._makeOffer()}else this.handleSDP("OFFER",i.sdp)},s.prototype._startPeerConnection=function(){ue.default.log("Creating RTCPeerConnection.");var i=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(i),i},s.prototype._setupListeners=function(i){var c=this,f=this.connection.peer,m=this.connection.connectionId,b=this.connection.type,O=this.connection.provider;ue.default.log("Listening for ICE candidates."),i.onicecandidate=function(R){!R.candidate||!R.candidate.candidate||(ue.default.log("Received ICE candidates for ".concat(f,":"),R.candidate),O.socket.send({type:mt.Candidate,payload:{candidate:R.candidate,type:b,connectionId:m},dst:f}))},i.oniceconnectionstatechange=function(){switch(i.iceConnectionState){case"failed":ue.default.log("iceConnectionState is failed, closing connections to "+f),c.connection.emit("error",new Error("Negotiation of connection to "+f+" failed.")),c.connection.close();break;case"closed":ue.default.log("iceConnectionState is closed, closing connections to "+f),c.connection.emit("error",new Error("Connection to "+f+" closed.")),c.connection.close();break;case"disconnected":ue.default.log("iceConnectionState changed to disconnected on the connection with "+f);break;case"completed":i.onicecandidate=Mt.noop}c.connection.emit("iceStateChanged",i.iceConnectionState)},ue.default.log("Listening for data channel"),i.ondatachannel=function(R){ue.default.log("Received data channel");var H=R.channel;O.getConnection(f,m).initialize(H)},ue.default.log("Listening for remote stream"),i.ontrack=function(R){ue.default.log("Received remote stream");var H=R.streams[0],j=O.getConnection(f,m);j.type===$t.Media&&c._addStreamToMediaConnection(H,j)}},s.prototype.cleanup=function(){ue.default.log("Cleaning up PeerConnection to "+this.connection.peer);var i=this.connection.peerConnection;if(i){this.connection.peerConnection=null,i.onicecandidate=i.oniceconnectionstatechange=i.ondatachannel=i.ontrack=function(){};var f=!1;if(this.connection.type===$t.Data){var b=this.connection.dataChannel;b&&(f=!!b.readyState&&"closed"!==b.readyState)}("closed"!==i.signalingState||f)&&i.close()}},s.prototype._makeOffer=function(){return Rn(this,void 0,Promise,function(){var i,c,f,m,b,O,R;return Ir(this,function(H){switch(H.label){case 0:i=this.connection.peerConnection,c=this.connection.provider,H.label=1;case 1:return H.trys.push([1,7,,8]),[4,i.createOffer(this.connection.options.constraints)];case 2:f=H.sent(),ue.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(f.sdp=this.connection.options.sdpTransform(f.sdp)||f.sdp),H.label=3;case 3:return H.trys.push([3,5,,6]),[4,i.setLocalDescription(f)];case 4:return H.sent(),ue.default.log("Set localDescription:",f,"for:".concat(this.connection.peer)),m={sdp:f,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:Mt.browser},this.connection.type===$t.Data&&(b=this.connection,m=Dn(Dn({},m),{label:b.label,reliable:b.reliable,serialization:b.serialization})),c.socket.send({type:mt.Offer,payload:m,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(O=H.sent())&&(c.emitError(vt.WebRTC,O),ue.default.log("Failed to setLocalDescription, ",O)),[3,6];case 6:return[3,8];case 7:return R=H.sent(),c.emitError(vt.WebRTC,R),ue.default.log("Failed to createOffer, ",R),[3,8];case 8:return[2]}})})},s.prototype._makeAnswer=function(){return Rn(this,void 0,Promise,function(){var i,c,f,m,b;return Ir(this,function(O){switch(O.label){case 0:i=this.connection.peerConnection,c=this.connection.provider,O.label=1;case 1:return O.trys.push([1,7,,8]),[4,i.createAnswer()];case 2:f=O.sent(),ue.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(f.sdp=this.connection.options.sdpTransform(f.sdp)||f.sdp),O.label=3;case 3:return O.trys.push([3,5,,6]),[4,i.setLocalDescription(f)];case 4:return O.sent(),ue.default.log("Set localDescription:",f,"for:".concat(this.connection.peer)),c.socket.send({type:mt.Answer,payload:{sdp:f,type:this.connection.type,connectionId:this.connection.connectionId,browser:Mt.browser},dst:this.connection.peer}),[3,6];case 5:return m=O.sent(),c.emitError(vt.WebRTC,m),ue.default.log("Failed to setLocalDescription, ",m),[3,6];case 6:return[3,8];case 7:return b=O.sent(),c.emitError(vt.WebRTC,b),ue.default.log("Failed to create answer, ",b),[3,8];case 8:return[2]}})})},s.prototype.handleSDP=function(i,c){return Rn(this,void 0,Promise,function(){var f,m,b,O;return Ir(this,function(R){switch(R.label){case 0:c=new RTCSessionDescription(c),f=this.connection.peerConnection,m=this.connection.provider,ue.default.log("Setting remote description",c),b=this,R.label=1;case 1:return R.trys.push([1,5,,6]),[4,f.setRemoteDescription(c)];case 2:return R.sent(),ue.default.log("Set remoteDescription:".concat(i," for:").concat(this.connection.peer)),"OFFER"!==i?[3,4]:[4,b._makeAnswer()];case 3:R.sent(),R.label=4;case 4:return[3,6];case 5:return O=R.sent(),m.emitError(vt.WebRTC,O),ue.default.log("Failed to setRemoteDescription, ",O),[3,6];case 6:return[2]}})})},s.prototype.handleCandidate=function(i){return Rn(this,void 0,Promise,function(){var c,f,m,b,O,R;return Ir(this,function(H){switch(H.label){case 0:ue.default.log("handleCandidate:",i),c=i.candidate,f=i.sdpMLineIndex,m=i.sdpMid,b=this.connection.peerConnection,O=this.connection.provider,H.label=1;case 1:return H.trys.push([1,3,,4]),[4,b.addIceCandidate(new RTCIceCandidate({sdpMid:m,sdpMLineIndex:f,candidate:c}))];case 2:return H.sent(),ue.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return R=H.sent(),O.emitError(vt.WebRTC,R),ue.default.log("Failed to handleCandidate, ",R),[3,4];case 4:return[2]}})})},s.prototype._addTracksToConnection=function(i,c){if(ue.default.log("add tracks from stream ".concat(i.id," to peer connection")),!c.addTrack)return ue.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");i.getTracks().forEach(function(f){c.addTrack(f,i)})},s.prototype._addStreamToMediaConnection=function(i,c){ue.default.log("add stream ".concat(i.id," to media connection ").concat(c.connectionId)),c.addStream(i)},s}(),fr={};kt(fr,"BaseConnection",()=>Wr,s=>Wr=s);var xo=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),Wr=function(s){function i(c,f,m){var b=s.call(this)||this;return b.peer=c,b.provider=f,b.options=m,b._open=!1,b.metadata=m.metadata,b}return xo(i,s),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),i}(Tn.EventEmitter),hr=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),Nr=function(){return Nr=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var m in i=arguments[c])Object.prototype.hasOwnProperty.call(i,m)&&(s[m]=i[m]);return s},Nr.apply(this,arguments)},Fr=function(s){function i(c,f,m){var b=s.call(this,c,f,m)||this;return b._localStream=b.options._stream,b.connectionId=b.options.connectionId||i.ID_PREFIX+Mt.randomToken(),b._negotiator=new ro.Negotiator(b),b._localStream&&b._negotiator.startConnection({_stream:b._localStream,originator:!0}),b}return hr(i,s),Object.defineProperty(i.prototype,"type",{get:function(){return $t.Media},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),i.prototype.addStream=function(c){ue.default.log("Receiving stream",c),this._remoteStream=c,s.prototype.emit.call(this,"stream",c)},i.prototype.handleMessage=function(c){var f=c.type,m=c.payload;switch(c.type){case mt.Answer:this._negotiator.handleSDP(f,m.sdp),this._open=!0;break;case mt.Candidate:this._negotiator.handleCandidate(m.candidate);break;default:ue.default.warn("Unrecognized message type:".concat(f," from peer:").concat(this.peer))}},i.prototype.answer=function(c,f){var m,b;if(void 0===f&&(f={}),this._localStream)ue.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=c,f&&f.sdpTransform&&(this.options.sdpTransform=f.sdpTransform),this._negotiator.startConnection(Nr(Nr({},this.options._payload),{_stream:c}));var O=this.provider._getMessages(this.connectionId);try{for(var R=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(O),H=R.next();!H.done;H=R.next())this.handleMessage(H.value)}catch(ne){m={error:ne}}finally{try{H&&!H.done&&(b=R.return)&&b.call(R)}finally{if(m)throw m.error}}this._open=!0}},i.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,s.prototype.emit.call(this,"close"))},i.ID_PREFIX="mc_",i}(fr.BaseConnection),pr={};kt(pr,"DataConnection",()=>Lr,s=>Lr=s);var No={};kt(No,"EncodingQueue",()=>fn,s=>fn=s);var Zr=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),fn=function(s){function i(){var c=s.call(this)||this;return c.fileReader=new FileReader,c._queue=[],c._processing=!1,c.fileReader.onload=function(f){c._processing=!1,f.target&&c.emit("done",f.target.result),c.doNextTask()},c.fileReader.onerror=function(f){ue.default.error("EncodingQueue error:",f),c._processing=!1,c.destroy(),c.emit("error",f)},c}return Zr(i,s),Object.defineProperty(i.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),i.prototype.enque=function(c){this.queue.push(c),!this.processing&&this.doNextTask()},i.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},i.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},i}(Tn.EventEmitter),io=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),Lr=function(s){function i(c,f,m){var b=s.call(this,c,f,m)||this;return b.stringify=JSON.stringify,b.parse=JSON.parse,b._buffer=[],b._bufferSize=0,b._buffering=!1,b._chunkedData={},b._encodingQueue=new No.EncodingQueue,b.connectionId=b.options.connectionId||i.ID_PREFIX+Mt.randomToken(),b.label=b.options.label||b.connectionId,b.serialization=b.options.serialization||Cn.Binary,b.reliable=!!b.options.reliable,b._encodingQueue.on("done",function(O){b._bufferedSend(O)}),b._encodingQueue.on("error",function(){ue.default.error("DC#".concat(b.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),b.close()}),b._negotiator=new ro.Negotiator(b),b._negotiator.startConnection(b.options._payload||{originator:!0}),b}return io(i,s),Object.defineProperty(i.prototype,"type",{get:function(){return $t.Data},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),i.prototype.initialize=function(c){this._dc=c,this._configureDataChannel()},i.prototype._configureDataChannel=function(){var c=this;(!Mt.supports.binaryBlob||Mt.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){ue.default.log("DC#".concat(c.connectionId," dc connection success")),c._open=!0,c.emit("open")},this.dataChannel.onmessage=function(f){ue.default.log("DC#".concat(c.connectionId," dc onmessage:"),f.data),c._handleDataMessage(f)},this.dataChannel.onclose=function(){ue.default.log("DC#".concat(c.connectionId," dc closed for:"),c.peer),c.close()}},i.prototype._handleDataMessage=function(c){var f=this,m=c.data,b=m.constructor,R=m;if(this.serialization===Cn.Binary||this.serialization===Cn.BinaryUTF8){if(b===Blob)return void Mt.blobToArrayBuffer(m,function(j){var ne=Mt.unpack(j);f.emit("data",ne)});if(b===ArrayBuffer)R=Mt.unpack(m);else if(b===String){var H=Mt.binaryStringToArrayBuffer(m);R=Mt.unpack(H)}}else this.serialization===Cn.JSON&&(R=this.parse(m));R.__peerData?this._handleChunk(R):s.prototype.emit.call(this,"data",R)},i.prototype._handleChunk=function(c){var f=c.__peerData,m=this._chunkedData[f]||{data:[],count:0,total:c.total};if(m.data[c.n]=c.data,m.count++,this._chunkedData[f]=m,m.total===m.count){delete this._chunkedData[f];var b=new Blob(m.data);this._handleDataMessage({data:b})}},i.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,s.prototype.emit.call(this,"close"))},i.prototype.send=function(c,f){if(this.open)if(this.serialization===Cn.JSON)this._bufferedSend(this.stringify(c));else if(this.serialization===Cn.Binary||this.serialization===Cn.BinaryUTF8){var m=Mt.pack(c);if(!f&&m.size>Mt.chunkedMTU)return void this._sendChunks(m);Mt.supports.binaryBlob?this._bufferedSend(m):this._encodingQueue.enque(m)}else this._bufferedSend(c);else s.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."))},i.prototype._bufferedSend=function(c){(this._buffering||!this._trySend(c))&&(this._buffer.push(c),this._bufferSize=this._buffer.length)},i.prototype._trySend=function(c){var f=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>i.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){f._buffering=!1,f._tryBuffer()},50),!1;try{this.dataChannel.send(c)}catch(m){return ue.default.error("DC#:".concat(this.connectionId," Error when sending:"),m),this._buffering=!0,this.close(),!1}return!0},i.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},i.prototype._sendChunks=function(c){var f,m,b=Mt.chunk(c);ue.default.log("DC#".concat(this.connectionId," Try to send ").concat(b.length," chunks..."));try{for(var O=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(b),R=O.next();!R.done;R=O.next())this.send(R.value,!0)}catch(j){f={error:j}}finally{try{R&&!R.done&&(m=O.return)&&m.call(O)}finally{if(f)throw f.error}}},i.prototype.handleMessage=function(c){var f=c.payload;switch(c.type){case mt.Answer:this._negotiator.handleSDP(c.type,f.sdp);break;case mt.Candidate:this._negotiator.handleCandidate(f.candidate);break;default:ue.default.warn("Unrecognized message type:",c.type,"from peer:",this.peer)}},i.ID_PREFIX="dc_",i.MAX_BUFFERED_AMOUNT=8388608,i}(fr.BaseConnection),Pn={};kt(Pn,"API",()=>Vr,s=>Vr=s);var Fo=function(s,i,c,f){return new(c||(c=Promise))(function(b,O){function R(ne){try{j(f.next(ne))}catch(Se){O(Se)}}function H(ne){try{j(f.throw(ne))}catch(Se){O(Se)}}function j(ne){ne.done?b(ne.value):function m(b){return b instanceof c?b:new c(function(O){O(b)})}(ne.value).then(R,H)}j((f=f.apply(s,i||[])).next())})},Ar=function(s,i){var f,m,b,O,c={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return O={next:R(0),throw:R(1),return:R(2)},"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O;function R(j){return function(ne){return function H(j){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,m&&(b=2&j[0]?m.return:j[0]?m.throw||((b=m.return)&&b.call(m),0):m.next)&&!(b=b.call(m,j[1])).done)return b;switch(m=0,b&&(j=[2&j[0],b.value]),j[0]){case 0:case 1:b=j;break;case 4:return c.label++,{value:j[1],done:!1};case 5:c.label++,m=j[1],j=[0];continue;case 7:j=c.ops.pop(),c.trys.pop();continue;default:if(!(b=(b=c.trys).length>0&&b[b.length-1])&&(6===j[0]||2===j[0])){c=0;continue}if(3===j[0]&&(!b||j[1]>b[0]&&j[1]<b[3])){c.label=j[1];break}if(6===j[0]&&c.label<b[1]){c.label=b[1],b=j;break}if(b&&c.label<b[2]){c.label=b[2],c.ops.push(j);break}b[2]&&c.ops.pop(),c.trys.pop();continue}j=i.call(s,c)}catch(ne){j=[6,ne],m=0}finally{f=b=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([j,ne])}}},Vr=function(){function s(i){this._options=i}return s.prototype._buildRequest=function(i){var f=this._options,m=f.host,b=f.port,O=f.path,R=f.key,H=new URL("".concat(this._options.secure?"https":"http","://").concat(m,":").concat(b).concat(O).concat(R,"/").concat(i));return H.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),H.searchParams.set("version",Mn.version),fetch(H.href,{referrerPolicy:this._options.referrerPolicy})},s.prototype.retrieveId=function(){return Fo(this,void 0,Promise,function(){var i,c,f;return Ar(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(200!==(i=m.sent()).status)throw new Error("Error. Status:".concat(i.status));return[2,i.text()];case 2:throw c=m.sent(),ue.default.error("Error retrieving ID",c),f="","/"===this._options.path&&this._options.host!==Mt.CLOUD_HOST&&(f=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+f);case 3:return[2]}})})},s.prototype.listAllPeers=function(){return Fo(this,void 0,Promise,function(){var i,c,f;return Ar(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(200!==(i=m.sent()).status)throw 401===i.status?("",c=this._options.host===Mt.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+c)):new Error("Error. Status:".concat(i.status));return[2,i.json()];case 2:throw f=m.sent(),ue.default.error("Error retrieving list peers",f),new Error("Could not get list peers from the server."+f);case 3:return[2]}})})},s}(),Do=function(){var s=function(i,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(i,c)};return function(i,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=i}s(i,c),i.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),bn=function(){return bn=Object.assign||function(s){for(var i,c=1,f=arguments.length;c<f;c++)for(var m in i=arguments[c])Object.prototype.hasOwnProperty.call(i,m)&&(s[m]=i[m]);return s},bn.apply(this,arguments)},ao=function(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],f=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Zo=function(s,i){var c="function"==typeof Symbol&&s[Symbol.iterator];if(!c)return s;var m,O,f=c.call(s),b=[];try{for(;(void 0===i||i-- >0)&&!(m=f.next()).done;)b.push(m.value)}catch(R){O={error:R}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(O)throw O.error}}return b},co=function(s){function i(c,f){var b,m=s.call(this)||this;return m._id=null,m._lastServerId=null,m._destroyed=!1,m._disconnected=!1,m._open=!1,m._connections=new Map,m._lostMessages=new Map,c&&c.constructor==Object?f=c:c&&(b=c.toString()),f=bn({debug:0,host:Mt.CLOUD_HOST,port:Mt.CLOUD_PORT,path:"/",key:i.DEFAULT_KEY,token:Mt.randomToken(),config:Mt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},f),m._options=f,"/"===m._options.host&&(m._options.host=window.location.hostname),m._options.path&&("/"!==m._options.path[0]&&(m._options.path="/"+m._options.path),"/"!==m._options.path[m._options.path.length-1]&&(m._options.path+="/")),void 0===m._options.secure&&m._options.host!==Mt.CLOUD_HOST?m._options.secure=Mt.isSecure():m._options.host==Mt.CLOUD_HOST&&(m._options.secure=!0),m._options.logFunction&&ue.default.setLogFunction(m._options.logFunction),ue.default.logLevel=m._options.debug||0,m._api=new Pn.API(f),m._socket=m._createServerConnection(),Mt.supports.audioVideo||Mt.supports.data?b&&!Mt.validateId(b)?(m._delayedAbort(vt.InvalidID,'ID "'.concat(b,'" is invalid')),m):(b?m._initialize(b):m._api.retrieveId().then(function(O){return m._initialize(O)}).catch(function(O){return m._abort(vt.ServerError,O)}),m):(m._delayedAbort(vt.BrowserIncompatible,"The current browser does not support WebRTC"),m)}return Do(i,s),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connections",{get:function(){var c,f,m=Object.create(null);try{for(var b=ao(this._connections),O=b.next();!O.done;O=b.next()){var R=Zo(O.value,2);m[R[0]]=R[1]}}catch(ne){c={error:ne}}finally{try{O&&!O.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}return m},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),i.prototype._createServerConnection=function(){var c=this,f=new zn.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return f.on(dn.Message,function(m){c._handleMessage(m)}),f.on(dn.Error,function(m){c._abort(vt.SocketError,m)}),f.on(dn.Disconnected,function(){c.disconnected||(c.emitError(vt.Network,"Lost connection to server."),c.disconnect())}),f.on(dn.Close,function(){c.disconnected||c._abort(vt.SocketClosed,"Underlying socket is already closed.")}),f},i.prototype._initialize=function(c){this._id=c,this.socket.start(c,this._options.token)},i.prototype._handleMessage=function(c){var f,m,b=c.type,O=c.payload,R=c.src;switch(b){case mt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case mt.Error:this._abort(vt.ServerError,O.msg);break;case mt.IdTaken:this._abort(vt.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case mt.InvalidKey:this._abort(vt.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case mt.Leave:ue.default.log("Received leave message from ".concat(R)),this._cleanupPeer(R),this._connections.delete(R);break;case mt.Expire:this.emitError(vt.PeerUnavailable,"Could not connect to peer ".concat(R));break;case mt.Offer:if((Wt=this.getConnection(R,zt=O.connectionId))&&(Wt.close(),ue.default.warn("Offer received for existing Connection ID:".concat(zt))),O.type===$t.Media){var H=new Mr.MediaConnection(R,this,{connectionId:zt,_payload:O,metadata:O.metadata});this._addConnection(R,Wt=H),this.emit("call",H)}else{if(O.type!==$t.Data)return void ue.default.warn("Received malformed connection type:".concat(O.type));var j=new pr.DataConnection(R,this,{connectionId:zt,_payload:O,metadata:O.metadata,label:O.label,serialization:O.serialization,reliable:O.reliable});this._addConnection(R,Wt=j),this.emit("connection",j)}var ne=this._getMessages(zt);try{for(var Se=ao(ne),ze=Se.next();!ze.done;ze=Se.next())Wt.handleMessage(ze.value)}catch(Ai){f={error:Ai}}finally{try{ze&&!ze.done&&(m=Se.return)&&m.call(Se)}finally{if(f)throw f.error}}break;default:if(!O)return void ue.default.warn("You received a malformed message from ".concat(R," of type ").concat(b));var zt,Wt;(Wt=this.getConnection(R,zt=O.connectionId))&&Wt.peerConnection?Wt.handleMessage(c):zt?this._storeMessage(zt,c):ue.default.warn("You received an unrecognized message:",c)}},i.prototype._storeMessage=function(c,f){this._lostMessages.has(c)||this._lostMessages.set(c,[]),this._lostMessages.get(c).push(f)},i.prototype._getMessages=function(c){var f=this._lostMessages.get(c);return f?(this._lostMessages.delete(c),f):[]},i.prototype.connect=function(c,f){if(void 0===f&&(f={}),this.disconnected)return ue.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var m=new pr.DataConnection(c,this,f);return this._addConnection(c,m),m},i.prototype.call=function(c,f,m){if(void 0===m&&(m={}),this.disconnected)return ue.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(f){var b=new Mr.MediaConnection(c,this,bn(bn({},m),{_stream:f}));return this._addConnection(c,b),b}ue.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},i.prototype._addConnection=function(c,f){ue.default.log("add connection ".concat(f.type,":").concat(f.connectionId," to peerId:").concat(c)),this._connections.has(c)||this._connections.set(c,[]),this._connections.get(c).push(f)},i.prototype._removeConnection=function(c){var f=this._connections.get(c.peer);if(f){var m=f.indexOf(c);-1!==m&&f.splice(m,1)}this._lostMessages.delete(c.connectionId)},i.prototype.getConnection=function(c,f){var m,b,O=this._connections.get(c);if(!O)return null;try{for(var R=ao(O),H=R.next();!H.done;H=R.next()){var j=H.value;if(j.connectionId===f)return j}}catch(ne){m={error:ne}}finally{try{H&&!H.done&&(b=R.return)&&b.call(R)}finally{if(m)throw m.error}}return null},i.prototype._delayedAbort=function(c,f){var m=this;setTimeout(function(){m._abort(c,f)},0)},i.prototype._abort=function(c,f){ue.default.error("Aborting!"),this.emitError(c,f),this._lastServerId?this.disconnect():this.destroy()},i.prototype.emitError=function(c,f){var m;ue.default.error("Error:",f),(m="string"==typeof f?new Error(f):f).type=c,this.emit("error",m)},i.prototype.destroy=function(){this.destroyed||(ue.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},i.prototype._cleanup=function(){var c,f;try{for(var m=ao(this._connections.keys()),b=m.next();!b.done;b=m.next()){var O=b.value;this._cleanupPeer(O),this._connections.delete(O)}}catch(R){c={error:R}}finally{try{b&&!b.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}this.socket.removeAllListeners()},i.prototype._cleanupPeer=function(c){var f,m,b=this._connections.get(c);if(b)try{for(var O=ao(b),R=O.next();!R.done;R=O.next())R.value.close()}catch(j){f={error:j}}finally{try{R&&!R.done&&(m=O.return)&&m.call(O)}finally{if(f)throw f.error}}},i.prototype.disconnect=function(){if(!this.disconnected){var c=this.id;ue.default.log("Disconnect peer with ID:".concat(c)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=c,this._id=null,this.emit("disconnected",c)}},i.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)ue.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"));ue.default.error("In a hurry? We're still trying to make the initial connection!")}},i.prototype.listAllPeers=function(c){var f=this;void 0===c&&(c=function(m){}),this._api.listAllPeers().then(function(m){return c(m)}).catch(function(m){return f._abort(vt.ServerError,m)})},i.DEFAULT_KEY="peerjs",i}(Tn.EventEmitter),lo=T(3741);const Lo=[0,2e3,1e4,3e4,null];class uo{constructor(i){this._retryDelays=void 0!==i?[...i,null]:Lo}nextRetryDelayInMilliseconds(i){return this._retryDelays[i.previousRetryCount]}}let Br=(()=>{class s{}return s.Authorization="Authorization",s.Cookie="Cookie",s})();class fo{constructor(i,c,f){this.statusCode=i,this.statusText=c,this.content=f}}class wt{get(i,c){return this.send({...c,method:"GET",url:i})}post(i,c){return this.send({...c,method:"POST",url:i})}delete(i,c){return this.send({...c,method:"DELETE",url:i})}getCookieString(i){return""}}class Sn extends wt{constructor(i,c){super(),this._innerClient=i,this._accessTokenFactory=c}send(i){var c=this;return(0,fe.Z)(function*(){let f=!0;c._accessTokenFactory&&(!c._accessToken||i.url&&i.url.indexOf("/negotiate?")>0)&&(f=!1,c._accessToken=yield c._accessTokenFactory()),c._setAuthorizationHeader(i);const m=yield c._innerClient.send(i);return f&&401===m.statusCode&&c._accessTokenFactory?(c._accessToken=yield c._accessTokenFactory(),c._setAuthorizationHeader(i),yield c._innerClient.send(i)):m})()}_setAuthorizationHeader(i){i.headers||(i.headers={}),this._accessToken?i.headers[Br.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&i.headers[Br.Authorization]&&delete i.headers[Br.Authorization]}getCookieString(i){return this._innerClient.getCookieString(i)}}class cn extends Error{constructor(i,c){const f=new.target.prototype;super(`${i}: Status code '${c}'`),this.statusCode=c,this.__proto__=f}}class gr extends Error{constructor(i="A timeout occurred."){const c=new.target.prototype;super(i),this.__proto__=c}}class Nt extends Error{constructor(i="An abort occurred."){const c=new.target.prototype;super(i),this.__proto__=c}}class bo extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="UnsupportedTransportError",this.__proto__=f}}class jr extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="DisabledTransportError",this.__proto__=f}}class mr extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.transport=c,this.errorType="FailedToStartTransportError",this.__proto__=f}}class ar extends Error{constructor(i){const c=new.target.prototype;super(i),this.errorType="FailedToNegotiateWithServerError",this.__proto__=c}}class yr extends Error{constructor(i,c){const f=new.target.prototype;super(i),this.innerErrors=c,this.__proto__=f}}var _e=(()=>((_e=_e||{})[_e.Trace=0]="Trace",_e[_e.Debug=1]="Debug",_e[_e.Information=2]="Information",_e[_e.Warning=3]="Warning",_e[_e.Error=4]="Error",_e[_e.Critical=5]="Critical",_e[_e.None=6]="None",_e))();class $e{constructor(){}log(i,c){}}$e.instance=new $e;const lt="7.0.7";class it{static isRequired(i,c){if(null==i)throw new Error(`The '${c}' argument is required.`)}static isNotEmpty(i,c){if(!i||i.match(/^\s*$/))throw new Error(`The '${c}' argument should not be empty.`)}static isIn(i,c,f){if(!(i in c))throw new Error(`Unknown ${f} value: ${i}.`)}}class It{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Qn(s,i){let c="";return Zn(s)?(c=`Binary data of length ${s.byteLength}`,i&&(c+=`. Content: '${function ln(s){const i=new Uint8Array(s);let c="";return i.forEach(f=>{c+=`0x${f<16?"0":""}${f.toString(16)} `}),c.substr(0,c.length-1)}(s)}'`)):"string"==typeof s&&(c=`String data of length ${s.length}`,i&&(c+=`. Content: '${s}'`)),c}function Zn(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&"ArrayBuffer"===s.constructor.name)}function Ut(s,i,c,f,m,b){return cr.apply(this,arguments)}function cr(){return cr=(0,fe.Z)(function*(s,i,c,f,m,b){const O={},[R,H]=vr();O[R]=H,s.log(_e.Trace,`(${i} transport) sending data. ${Qn(m,b.logMessageContent)}.`);const j=Zn(m)?"arraybuffer":"text",ne=yield c.post(f,{content:m,headers:{...O,...b.headers},responseType:j,timeout:b.timeout,withCredentials:b.withCredentials});s.log(_e.Trace,`(${i} transport) request complete. Response status: ${ne.statusCode}.`)}),cr.apply(this,arguments)}class at{constructor(i,c){this._subject=i,this._observer=c}dispose(){const i=this._subject.observers.indexOf(this._observer);i>-1&&this._subject.observers.splice(i,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(c=>{})}}class $n{constructor(i){this._minLevel=i,this.out=console}log(i,c){if(i>=this._minLevel){const f=`[${(new Date).toISOString()}] ${_e[i]}: ${c}`;switch(i){case _e.Critical:case _e.Error:this.out.error(f);break;case _e.Warning:this.out.warn(f);break;case _e.Information:this.out.info(f);break;default:this.out.log(f)}}}}function vr(){let s="X-SignalR-User-Agent";return It.isNode&&(s="User-Agent"),[s,_r(lt,on(),It.isNode?"NodeJS":"Browser",ho())]}function _r(s,i,c,f){let m="Microsoft SignalR/";const b=s.split(".");return m+=`${b[0]}.${b[1]}`,m+=` (${s}; `,m+=i&&""!==i?`${i}; `:"Unknown OS; ",m+=`${c}`,m+=f?`; ${f}`:"; Unknown Runtime Version",m+=")",m}function on(){if(!It.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function ho(){if(It.isNode)return process.versions.node}function Ln(s){return s.stack?s.stack:s.message?s.message:`${s}`}class Yr extends wt{constructor(i){if(super(),this._logger=i,typeof fetch>"u"){const c=require;this._jar=new(c("tough-cookie").CookieJar),this._fetchType=c("node-fetch"),this._fetchType=c("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Rr(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const c=require;this._abortControllerType=c("abort-controller")}else this._abortControllerType=AbortController}send(i){var c=this;return(0,fe.Z)(function*(){if(i.abortSignal&&i.abortSignal.aborted)throw new Nt;if(!i.method)throw new Error("No method defined.");if(!i.url)throw new Error("No url defined.");const f=new c._abortControllerType;let m;i.abortSignal&&(i.abortSignal.onabort=()=>{f.abort(),m=new Nt});let O,b=null;i.timeout&&(b=setTimeout(()=>{f.abort(),c._logger.log(_e.Warning,"Timeout from HTTP request."),m=new gr},i.timeout)),""===i.content&&(i.content=void 0),i.content&&(i.headers=i.headers||{},i.headers["Content-Type"]=Zn(i.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{O=yield c._fetchType(i.url,{body:i.content,cache:"no-cache",credentials:!0===i.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...i.headers},method:i.method,mode:"cors",redirect:"follow",signal:f.signal})}catch(j){throw m||(c._logger.log(_e.Warning,`Error from HTTP request. ${j}.`),j)}finally{b&&clearTimeout(b),i.abortSignal&&(i.abortSignal.onabort=null)}if(!O.ok){const j=yield er(O,"text");throw new cn(j||O.statusText,O.status)}const H=yield er(O,i.responseType);return new fo(O.status,O.statusText,H)})()}getCookieString(i){let c="";return It.isNode&&this._jar&&this._jar.getCookies(i,(f,m)=>c=m.join("; ")),c}}function er(s,i){let c;switch(i){case"arraybuffer":c=s.arrayBuffer();break;case"text":default:c=s.text();break;case"blob":case"document":case"json":throw new Error(`${i} is not supported.`)}return c}class En extends wt{constructor(i){super(),this._logger=i}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new Nt):i.method?i.url?new Promise((c,f)=>{const m=new XMLHttpRequest;m.open(i.method,i.url,!0),m.withCredentials=void 0===i.withCredentials||i.withCredentials,m.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===i.content&&(i.content=void 0),i.content&&(Zn(i.content)?m.setRequestHeader("Content-Type","application/octet-stream"):m.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const b=i.headers;b&&Object.keys(b).forEach(O=>{m.setRequestHeader(O,b[O])}),i.responseType&&(m.responseType=i.responseType),i.abortSignal&&(i.abortSignal.onabort=()=>{m.abort(),f(new Nt)}),i.timeout&&(m.timeout=i.timeout),m.onload=()=>{i.abortSignal&&(i.abortSignal.onabort=null),m.status>=200&&m.status<300?c(new fo(m.status,m.statusText,m.response||m.responseText)):f(new cn(m.response||m.responseText||m.statusText,m.status))},m.onerror=()=>{this._logger.log(_e.Warning,`Error from HTTP request. ${m.status}: ${m.statusText}.`),f(new cn(m.statusText,m.status))},m.ontimeout=()=>{this._logger.log(_e.Warning,"Timeout from HTTP request."),f(new gr)},m.send(i.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class po extends wt{constructor(i){if(super(),typeof fetch<"u"||It.isNode)this._httpClient=new Yr(i);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new En(i)}}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new Nt):i.method?i.url?this._httpClient.send(i):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(i){return this._httpClient.getCookieString(i)}}var Tt=(()=>((Tt=Tt||{})[Tt.None=0]="None",Tt[Tt.WebSockets=1]="WebSockets",Tt[Tt.ServerSentEvents=2]="ServerSentEvents",Tt[Tt.LongPolling=4]="LongPolling",Tt))(),tt=(()=>((tt=tt||{})[tt.Text=1]="Text",tt[tt.Binary=2]="Binary",tt))();class Yo{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class So{constructor(i,c,f){this._httpClient=i,this._logger=c,this._pollAbort=new Yo,this._options=f,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(i,c){var f=this;return(0,fe.Z)(function*(){if(it.isRequired(i,"url"),it.isRequired(c,"transferFormat"),it.isIn(c,tt,"transferFormat"),f._url=i,f._logger.log(_e.Trace,"(LongPolling transport) Connecting."),c===tt.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[m,b]=vr(),O={[m]:b,...f._options.headers},R={abortSignal:f._pollAbort.signal,headers:O,timeout:1e5,withCredentials:f._options.withCredentials};c===tt.Binary&&(R.responseType="arraybuffer");const H=`${i}&_=${Date.now()}`;f._logger.log(_e.Trace,`(LongPolling transport) polling: ${H}.`);const j=yield f._httpClient.get(H,R);200!==j.statusCode?(f._logger.log(_e.Error,`(LongPolling transport) Unexpected response code: ${j.statusCode}.`),f._closeError=new cn(j.statusText||"",j.statusCode),f._running=!1):f._running=!0,f._receiving=f._poll(f._url,R)})()}_poll(i,c){var f=this;return(0,fe.Z)(function*(){try{for(;f._running;)try{const m=`${i}&_=${Date.now()}`;f._logger.log(_e.Trace,`(LongPolling transport) polling: ${m}.`);const b=yield f._httpClient.get(m,c);204===b.statusCode?(f._logger.log(_e.Information,"(LongPolling transport) Poll terminated by server."),f._running=!1):200!==b.statusCode?(f._logger.log(_e.Error,`(LongPolling transport) Unexpected response code: ${b.statusCode}.`),f._closeError=new cn(b.statusText||"",b.statusCode),f._running=!1):b.content?(f._logger.log(_e.Trace,`(LongPolling transport) data received. ${Qn(b.content,f._options.logMessageContent)}.`),f.onreceive&&f.onreceive(b.content)):f._logger.log(_e.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(m){f._running?m instanceof gr?f._logger.log(_e.Trace,"(LongPolling transport) Poll timed out, reissuing."):(f._closeError=m,f._running=!1):f._logger.log(_e.Trace,`(LongPolling transport) Poll errored after shutdown: ${m.message}`)}}finally{f._logger.log(_e.Trace,"(LongPolling transport) Polling complete."),f.pollAborted||f._raiseOnClose()}})()}send(i){var c=this;return(0,fe.Z)(function*(){return c._running?Ut(c._logger,"LongPolling",c._httpClient,c._url,i,c._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var i=this;return(0,fe.Z)(function*(){i._logger.log(_e.Trace,"(LongPolling transport) Stopping polling."),i._running=!1,i._pollAbort.abort();try{yield i._receiving,i._logger.log(_e.Trace,`(LongPolling transport) sending DELETE request to ${i._url}.`);const c={},[f,m]=vr();c[f]=m;const b={headers:{...c,...i._options.headers},timeout:i._options.timeout,withCredentials:i._options.withCredentials};yield i._httpClient.delete(i._url,b),i._logger.log(_e.Trace,"(LongPolling transport) DELETE request sent.")}finally{i._logger.log(_e.Trace,"(LongPolling transport) Stop finished."),i._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let i="(LongPolling transport) Firing onclose event.";this._closeError&&(i+=" Error: "+this._closeError),this._logger.log(_e.Trace,i),this.onclose(this._closeError)}}}class qo{constructor(i,c,f,m){this._httpClient=i,this._accessToken=c,this._logger=f,this._options=m,this.onreceive=null,this.onclose=null}connect(i,c){var f=this;return(0,fe.Z)(function*(){return it.isRequired(i,"url"),it.isRequired(c,"transferFormat"),it.isIn(c,tt,"transferFormat"),f._logger.log(_e.Trace,"(SSE transport) Connecting."),f._url=i,f._accessToken&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(f._accessToken)}`),new Promise((m,b)=>{let R,O=!1;if(c===tt.Text){if(It.isBrowser||It.isWebWorker)R=new f._options.EventSource(i,{withCredentials:f._options.withCredentials});else{const H=f._httpClient.getCookieString(i),j={};j.Cookie=H;const[ne,Se]=vr();j[ne]=Se,R=new f._options.EventSource(i,{withCredentials:f._options.withCredentials,headers:{...j,...f._options.headers}})}try{R.onmessage=H=>{if(f.onreceive)try{f._logger.log(_e.Trace,`(SSE transport) data received. ${Qn(H.data,f._options.logMessageContent)}.`),f.onreceive(H.data)}catch(j){return void f._close(j)}},R.onerror=H=>{O?f._close():b(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},R.onopen=()=>{f._logger.log(_e.Information,`SSE connected to ${f._url}`),f._eventSource=R,O=!0,m()}}catch(H){return void b(H)}}else b(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(i){var c=this;return(0,fe.Z)(function*(){return c._eventSource?Ut(c._logger,"SSE",c._httpClient,c._url,i,c._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(i){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(i))}}class In{constructor(i,c,f,m,b,O){this._logger=f,this._accessTokenFactory=c,this._logMessageContent=m,this._webSocketConstructor=b,this._httpClient=i,this.onreceive=null,this.onclose=null,this._headers=O}connect(i,c){var f=this;return(0,fe.Z)(function*(){let m;return it.isRequired(i,"url"),it.isRequired(c,"transferFormat"),it.isIn(c,tt,"transferFormat"),f._logger.log(_e.Trace,"(WebSockets transport) Connecting."),f._accessTokenFactory&&(m=yield f._accessTokenFactory()),new Promise((b,O)=>{let R;i=i.replace(/^http/,"ws");const H=f._httpClient.getCookieString(i);let j=!1;if(It.isNode||It.isReactNative){const ne={},[Se,ze]=vr();ne[Se]=ze,m&&(ne[Br.Authorization]=`Bearer ${m}`),H&&(ne[Br.Cookie]=H),R=new f._webSocketConstructor(i,void 0,{headers:{...ne,...f._headers}})}else m&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(m)}`);R||(R=new f._webSocketConstructor(i)),c===tt.Binary&&(R.binaryType="arraybuffer"),R.onopen=ne=>{f._logger.log(_e.Information,`WebSocket connected to ${i}.`),f._webSocket=R,j=!0,b()},R.onerror=ne=>{let Se=null;Se=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"There was an error with the transport",f._logger.log(_e.Information,`(WebSockets transport) ${Se}.`)},R.onmessage=ne=>{if(f._logger.log(_e.Trace,`(WebSockets transport) data received. ${Qn(ne.data,f._logMessageContent)}.`),f.onreceive)try{f.onreceive(ne.data)}catch(Se){return void f._close(Se)}},R.onclose=ne=>{if(j)f._close(ne);else{let Se=null;Se=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",O(new Error(Se))}}})})()}send(i){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(_e.Trace,`(WebSockets transport) sending data. ${Qn(i,this._logMessageContent)}.`),this._webSocket.send(i),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(i){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(_e.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(i)||!1!==i.wasClean&&1e3===i.code?i instanceof Error?this.onclose(i):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${i.code} (${i.reason||"no reason given"}).`)))}_isCloseEvent(i){return i&&"boolean"==typeof i.wasClean&&"number"==typeof i.code}}class Kr{constructor(i,c={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,it.isRequired(i,"url"),this._logger=function Xn(s){return void 0===s?new $n(_e.Information):null===s?$e.instance:void 0!==s.log?s:new $n(s)}(c.logger),this.baseUrl=this._resolveUrl(i),(c=c||{}).logMessageContent=void 0!==c.logMessageContent&&c.logMessageContent,"boolean"!=typeof c.withCredentials&&void 0!==c.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");c.withCredentials=void 0===c.withCredentials||c.withCredentials,c.timeout=void 0===c.timeout?1e5:c.timeout;let f=null,m=null;if(It.isNode){const b=require;f=b("ws"),m=b("eventsource")}!It.isNode&&typeof WebSocket<"u"&&!c.WebSocket?c.WebSocket=WebSocket:It.isNode&&!c.WebSocket&&f&&(c.WebSocket=f),!It.isNode&&typeof EventSource<"u"&&!c.EventSource?c.EventSource=EventSource:It.isNode&&!c.EventSource&&typeof m<"u"&&(c.EventSource=m),this._httpClient=new Sn(c.httpClient||new po(this._logger),c.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=c,this.onreceive=null,this.onclose=null}start(i){var c=this;return(0,fe.Z)(function*(){if(it.isIn(i=i||tt.Binary,tt,"transferFormat"),c._logger.log(_e.Debug,`Starting connection with transfer format '${tt[i]}'.`),"Disconnected"!==c._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(c._connectionState="Connecting",c._startInternalPromise=c._startInternal(i),yield c._startInternalPromise,"Disconnecting"===c._connectionState){const f="Failed to start the HttpConnection before stop() was called.";return c._logger.log(_e.Error,f),yield c._stopPromise,Promise.reject(new Nt(f))}if("Connected"!==c._connectionState){const f="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return c._logger.log(_e.Error,f),Promise.reject(new Nt(f))}c._connectionStarted=!0})()}send(i){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new hn(this.transport)),this._sendQueue.send(i))}stop(i){var c=this;return(0,fe.Z)(function*(){return"Disconnected"===c._connectionState?(c._logger.log(_e.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===c._connectionState?(c._logger.log(_e.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),c._stopPromise):(c._connectionState="Disconnecting",c._stopPromise=new Promise(f=>{c._stopPromiseResolver=f}),yield c._stopInternal(i),void(yield c._stopPromise))})()}_stopInternal(i){var c=this;return(0,fe.Z)(function*(){c._stopError=i;try{yield c._startInternalPromise}catch{}if(c.transport){try{yield c.transport.stop()}catch(f){c._logger.log(_e.Error,`HttpConnection.transport.stop() threw error '${f}'.`),c._stopConnection()}c.transport=void 0}else c._logger.log(_e.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(i){var c=this;return(0,fe.Z)(function*(){let f=c.baseUrl;c._accessTokenFactory=c._options.accessTokenFactory,c._httpClient._accessTokenFactory=c._accessTokenFactory;try{if(c._options.skipNegotiation){if(c._options.transport!==Tt.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");c.transport=c._constructTransport(Tt.WebSockets),yield c._startTransport(f,i)}else{let m=null,b=0;do{if(m=yield c._getNegotiationResponse(f),"Disconnecting"===c._connectionState||"Disconnected"===c._connectionState)throw new Nt("The connection was stopped during negotiation.");if(m.error)throw new Error(m.error);if(m.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(m.url&&(f=m.url),m.accessToken){const O=m.accessToken;c._accessTokenFactory=()=>O,c._httpClient._accessToken=O,c._httpClient._accessTokenFactory=void 0}b++}while(m.url&&b<100);if(100===b&&m.url)throw new Error("Negotiate redirection limit exceeded.");yield c._createTransport(f,c._options.transport,m,i)}c.transport instanceof So&&(c.features.inherentKeepAlive=!0),"Connecting"===c._connectionState&&(c._logger.log(_e.Debug,"The HttpConnection connected successfully."),c._connectionState="Connected")}catch(m){return c._logger.log(_e.Error,"Failed to start the connection: "+m),c._connectionState="Disconnected",c.transport=void 0,c._stopPromiseResolver(),Promise.reject(m)}})()}_getNegotiationResponse(i){var c=this;return(0,fe.Z)(function*(){const f={},[m,b]=vr();f[m]=b;const O=c._resolveNegotiateUrl(i);c._logger.log(_e.Debug,`Sending negotiation request: ${O}.`);try{const R=yield c._httpClient.post(O,{content:"",headers:{...f,...c._options.headers},timeout:c._options.timeout,withCredentials:c._options.withCredentials});if(200!==R.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${R.statusCode}'`));const H=JSON.parse(R.content);return(!H.negotiateVersion||H.negotiateVersion<1)&&(H.connectionToken=H.connectionId),H}catch(R){let H="Failed to complete negotiation with the server: "+R;return R instanceof cn&&404===R.statusCode&&(H+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),c._logger.log(_e.Error,H),Promise.reject(new ar(H))}})()}_createConnectUrl(i,c){return c?i+(-1===i.indexOf("?")?"?":"&")+`id=${c}`:i}_createTransport(i,c,f,m){var b=this;return(0,fe.Z)(function*(){let O=b._createConnectUrl(i,f.connectionToken);if(b._isITransport(c))return b._logger.log(_e.Debug,"Connection was provided an instance of ITransport, using that directly."),b.transport=c,yield b._startTransport(O,m),void(b.connectionId=f.connectionId);const R=[],H=f.availableTransports||[];let j=f;for(const ne of H){const Se=b._resolveTransportOrError(ne,c,m);if(Se instanceof Error)R.push(`${ne.transport} failed:`),R.push(Se);else if(b._isITransport(Se)){if(b.transport=Se,!j){try{j=yield b._getNegotiationResponse(i)}catch(ze){return Promise.reject(ze)}O=b._createConnectUrl(i,j.connectionToken)}try{return yield b._startTransport(O,m),void(b.connectionId=j.connectionId)}catch(ze){if(b._logger.log(_e.Error,`Failed to start the transport '${ne.transport}': ${ze}`),j=void 0,R.push(new mr(`${ne.transport} failed: ${ze}`,Tt[ne.transport])),"Connecting"!==b._connectionState){const Et="Failed to select transport before stop() was called.";return b._logger.log(_e.Debug,Et),Promise.reject(new Nt(Et))}}}}return Promise.reject(R.length>0?new yr(`Unable to connect to the server with any of the available transports. ${R.join(" ")}`,R):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(i){switch(i){case Tt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new In(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Tt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new qo(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Tt.LongPolling:return new So(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${i}.`)}}_startTransport(i,c){return this.transport.onreceive=this.onreceive,this.transport.onclose=f=>this._stopConnection(f),this.transport.connect(i,c)}_resolveTransportOrError(i,c,f){const m=Tt[i.transport];if(null==m)return this._logger.log(_e.Debug,`Skipping transport '${i.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${i.transport}' because it is not supported by this client.`);if(!function Jr(s,i){return!s||0!=(i&s)}(c,m))return this._logger.log(_e.Debug,`Skipping transport '${Tt[m]}' because it was disabled by the client.`),new jr(`'${Tt[m]}' is disabled by the client.`,m);if(!(i.transferFormats.map(O=>tt[O]).indexOf(f)>=0))return this._logger.log(_e.Debug,`Skipping transport '${Tt[m]}' because it does not support the requested transfer format '${tt[f]}'.`),new Error(`'${Tt[m]}' does not support ${tt[f]}.`);if(m===Tt.WebSockets&&!this._options.WebSocket||m===Tt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(_e.Debug,`Skipping transport '${Tt[m]}' because it is not supported in your environment.'`),new bo(`'${Tt[m]}' is not supported in your environment.`,m);this._logger.log(_e.Debug,`Selecting transport '${Tt[m]}'.`);try{return this._constructTransport(m)}catch(O){return O}}_isITransport(i){return i&&"object"==typeof i&&"connect"in i}_stopConnection(i){if(this._logger.log(_e.Debug,`HttpConnection.stopConnection(${i}) called while in state ${this._connectionState}.`),this.transport=void 0,i=this._stopError||i,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(_e.Warning,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${i}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),i?this._logger.log(_e.Error,`Connection disconnected with error '${i}'.`):this._logger.log(_e.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(c=>{this._logger.log(_e.Error,`TransportSendQueue.stop() threw error '${c}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(i)}catch(c){this._logger.log(_e.Error,`HttpConnection.onclose(${i}) threw error '${c}'.`)}}}else this._logger.log(_e.Debug,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(i){if(0===i.lastIndexOf("https://",0)||0===i.lastIndexOf("http://",0))return i;if(!It.isBrowser)throw new Error(`Cannot resolve '${i}'.`);const c=window.document.createElement("a");return c.href=i,this._logger.log(_e.Information,`Normalizing '${i}' to '${c.href}'.`),c.href}_resolveNegotiateUrl(i){const c=i.indexOf("?");let f=i.substring(0,-1===c?i.length:c);return"/"!==f[f.length-1]&&(f+="/"),f+="negotiate",f+=-1===c?"":i.substring(c),-1===f.indexOf("negotiateVersion")&&(f+=-1===c?"?":"&",f+="negotiateVersion="+this._negotiateVersion),f}}class hn{constructor(i){this._transport=i,this._buffer=[],this._executing=!0,this._sendBufferedData=new Eo,this._transportResult=new Eo,this._sendLoopPromise=this._sendLoop()}send(i){return this._bufferData(i),this._transportResult||(this._transportResult=new Eo),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(i){if(this._buffer.length&&typeof this._buffer[0]!=typeof i)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof i}`);this._buffer.push(i),this._sendBufferedData.resolve()}_sendLoop(){var i=this;return(0,fe.Z)(function*(){for(;;){if(yield i._sendBufferedData.promise,!i._executing){i._transportResult&&i._transportResult.reject("Connection stopped.");break}i._sendBufferedData=new Eo;const c=i._transportResult;i._transportResult=void 0;const f="string"==typeof i._buffer[0]?i._buffer.join(""):hn._concatBuffers(i._buffer);i._buffer.length=0;try{yield i._transport.send(f),c.resolve()}catch(m){c.reject(m)}}})()}static _concatBuffers(i){const c=i.map(b=>b.byteLength).reduce((b,O)=>b+O),f=new Uint8Array(c);let m=0;for(const b of i)f.set(new Uint8Array(b),m),m+=b.byteLength;return f.buffer}}class Eo{constructor(){this.promise=new Promise((i,c)=>[this._resolver,this._rejecter]=[i,c])}resolve(){this._resolver()}reject(i){this._rejecter(i)}}class Ht{static write(i){return`${i}${Ht.RecordSeparator}`}static parse(i){if(i[i.length-1]!==Ht.RecordSeparator)throw new Error("Message is incomplete.");const c=i.split(Ht.RecordSeparator);return c.pop(),c}}Ht.RecordSeparatorCode=30,Ht.RecordSeparator=String.fromCharCode(Ht.RecordSeparatorCode);class Yt{writeHandshakeRequest(i){return Ht.write(JSON.stringify(i))}parseHandshakeResponse(i){let c,f;if(Zn(i)){const R=new Uint8Array(i),H=R.indexOf(Ht.RecordSeparatorCode);if(-1===H)throw new Error("Message is incomplete.");const j=H+1;c=String.fromCharCode.apply(null,Array.prototype.slice.call(R.slice(0,j))),f=R.byteLength>j?R.slice(j).buffer:null}else{const R=i,H=R.indexOf(Ht.RecordSeparator);if(-1===H)throw new Error("Message is incomplete.");const j=H+1;c=R.substring(0,j),f=R.length>j?R.substring(j):null}const m=Ht.parse(c),b=JSON.parse(m[0]);if(b.type)throw new Error("Expected a handshake response from the server.");return[f,b]}}var dt=(()=>((dt=dt||{})[dt.Invocation=1]="Invocation",dt[dt.StreamItem=2]="StreamItem",dt[dt.Completion=3]="Completion",dt[dt.StreamInvocation=4]="StreamInvocation",dt[dt.CancelInvocation=5]="CancelInvocation",dt[dt.Ping=6]="Ping",dt[dt.Close=7]="Close",dt))();class Un{constructor(){this.observers=[]}next(i){for(const c of this.observers)c.next(i)}error(i){for(const c of this.observers)c.error&&c.error(i)}complete(){for(const i of this.observers)i.complete&&i.complete()}subscribe(i){return this.observers.push(i),new at(this,i)}}var Rt=(()=>((Rt=Rt||{}).Disconnected="Disconnected",Rt.Connecting="Connecting",Rt.Connected="Connected",Rt.Disconnecting="Disconnecting",Rt.Reconnecting="Reconnecting",Rt))();class Qr{constructor(i,c,f,m){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(_e.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},it.isRequired(i,"connection"),it.isRequired(c,"logger"),it.isRequired(f,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=c,this._protocol=f,this.connection=i,this._reconnectPolicy=m,this._handshakeProtocol=new Yt,this.connection.onreceive=b=>this._processIncomingData(b),this.connection.onclose=b=>this._connectionClosed(b),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Rt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:dt.Ping})}static create(i,c,f,m){return new Qr(i,c,f,m)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(i){if(this._connectionState!==Rt.Disconnected&&this._connectionState!==Rt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!i)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=i}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var i=this;return(0,fe.Z)(function*(){if(i._connectionState!==Rt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));i._connectionState=Rt.Connecting,i._logger.log(_e.Debug,"Starting HubConnection.");try{yield i._startInternal(),It.isBrowser&&window.document.addEventListener("freeze",i._freezeEventListener),i._connectionState=Rt.Connected,i._connectionStarted=!0,i._logger.log(_e.Debug,"HubConnection connected successfully.")}catch(c){return i._connectionState=Rt.Disconnected,i._logger.log(_e.Debug,`HubConnection failed to start successfully because of error '${c}'.`),Promise.reject(c)}})()}_startInternal(){var i=this;return(0,fe.Z)(function*(){i._stopDuringStartError=void 0,i._receivedHandshakeResponse=!1;const c=new Promise((f,m)=>{i._handshakeResolver=f,i._handshakeRejecter=m});yield i.connection.start(i._protocol.transferFormat);try{const f={protocol:i._protocol.name,version:i._protocol.version};if(i._logger.log(_e.Debug,"Sending handshake request."),yield i._sendMessage(i._handshakeProtocol.writeHandshakeRequest(f)),i._logger.log(_e.Information,`Using HubProtocol '${i._protocol.name}'.`),i._cleanupTimeout(),i._resetTimeoutPeriod(),i._resetKeepAliveInterval(),yield c,i._stopDuringStartError)throw i._stopDuringStartError;i.connection.features.inherentKeepAlive||(yield i._sendMessage(i._cachedPingMessage))}catch(f){throw i._logger.log(_e.Debug,`Hub handshake failed with error '${f}' during start(). Stopping HubConnection.`),i._cleanupTimeout(),i._cleanupPingTimer(),yield i.connection.stop(f),f}})()}stop(){var i=this;return(0,fe.Z)(function*(){const c=i._startPromise;i._stopPromise=i._stopInternal(),yield i._stopPromise;try{yield c}catch{}})()}_stopInternal(i){return this._connectionState===Rt.Disconnected?(this._logger.log(_e.Debug,`Call to HubConnection.stop(${i}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Rt.Disconnecting?(this._logger.log(_e.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Rt.Disconnecting,this._logger.log(_e.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(_e.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=i||new Nt("The connection was stopped before the hub handshake could complete."),this.connection.stop(i)))}stream(i,...c){const[f,m]=this._replaceStreamingParams(c),b=this._createStreamInvocation(i,c,m);let O;const R=new Un;return R.cancelCallback=()=>{const H=this._createCancelInvocation(b.invocationId);return delete this._callbacks[b.invocationId],O.then(()=>this._sendWithProtocol(H))},this._callbacks[b.invocationId]=(H,j)=>{j?R.error(j):H&&(H.type===dt.Completion?H.error?R.error(new Error(H.error)):R.complete():R.next(H.item))},O=this._sendWithProtocol(b).catch(H=>{R.error(H),delete this._callbacks[b.invocationId]}),this._launchStreams(f,O),R}_sendMessage(i){return this._resetKeepAliveInterval(),this.connection.send(i)}_sendWithProtocol(i){return this._sendMessage(this._protocol.writeMessage(i))}send(i,...c){const[f,m]=this._replaceStreamingParams(c),b=this._sendWithProtocol(this._createInvocation(i,c,!0,m));return this._launchStreams(f,b),b}invoke(i,...c){const[f,m]=this._replaceStreamingParams(c),b=this._createInvocation(i,c,!1,m);return new Promise((R,H)=>{this._callbacks[b.invocationId]=(ne,Se)=>{Se?H(Se):ne&&(ne.type===dt.Completion?ne.error?H(new Error(ne.error)):R(ne.result):H(new Error(`Unexpected message type: ${ne.type}`)))};const j=this._sendWithProtocol(b).catch(ne=>{H(ne),delete this._callbacks[b.invocationId]});this._launchStreams(f,j)})}on(i,c){!i||!c||(i=i.toLowerCase(),this._methods[i]||(this._methods[i]=[]),-1===this._methods[i].indexOf(c)&&this._methods[i].push(c))}off(i,c){if(!i)return;i=i.toLowerCase();const f=this._methods[i];if(f)if(c){const m=f.indexOf(c);-1!==m&&(f.splice(m,1),0===f.length&&delete this._methods[i])}else delete this._methods[i]}onclose(i){i&&this._closedCallbacks.push(i)}onreconnecting(i){i&&this._reconnectingCallbacks.push(i)}onreconnected(i){i&&this._reconnectedCallbacks.push(i)}_processIncomingData(i){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(i=this._processHandshakeResponse(i),this._receivedHandshakeResponse=!0),i){const c=this._protocol.parseMessages(i,this._logger);for(const f of c)switch(f.type){case dt.Invocation:this._invokeClientMethod(f);break;case dt.StreamItem:case dt.Completion:{const m=this._callbacks[f.invocationId];if(m){f.type===dt.Completion&&delete this._callbacks[f.invocationId];try{m(f)}catch(b){this._logger.log(_e.Error,`Stream callback threw error: ${Ln(b)}`)}}break}case dt.Ping:break;case dt.Close:{this._logger.log(_e.Information,"Close message received from server.");const m=f.error?new Error("Server returned an error on close: "+f.error):void 0;!0===f.allowReconnect?this.connection.stop(m):this._stopPromise=this._stopInternal(m);break}default:this._logger.log(_e.Warning,`Invalid message type: ${f.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(i){let c,f;try{[f,c]=this._handshakeProtocol.parseHandshakeResponse(i)}catch(m){const b="Error parsing handshake response: "+m;this._logger.log(_e.Error,b);const O=new Error(b);throw this._handshakeRejecter(O),O}if(c.error){const m="Server returned handshake error: "+c.error;this._logger.log(_e.Error,m);const b=new Error(m);throw this._handshakeRejecter(b),b}return this._logger.log(_e.Debug,"Server handshake complete."),this._handshakeResolver(),f}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var i=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let c=this._nextKeepAlive-(new Date).getTime();c<0&&(c=0),this._pingServerHandle=setTimeout((0,fe.Z)(function*(){if(i._connectionState===Rt.Connected)try{yield i._sendMessage(i._cachedPingMessage)}catch{i._cleanupPingTimer()}}),c)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(i){var c=this;return(0,fe.Z)(function*(){const f=i.target.toLowerCase(),m=c._methods[f];if(!m)return c._logger.log(_e.Warning,`No client method with the name '${f}' found.`),void(i.invocationId&&(c._logger.log(_e.Warning,`No result given for '${f}' method and invocation ID '${i.invocationId}'.`),yield c._sendWithProtocol(c._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null))));const b=m.slice(),O=!!i.invocationId;let R,H,j;for(const ne of b)try{const Se=R;R=yield ne.apply(c,i.arguments),O&&R&&Se&&(c._logger.log(_e.Error,`Multiple results provided for '${f}'. Sending error to server.`),j=c._createCompletionMessage(i.invocationId,"Client provided multiple results.",null)),H=void 0}catch(Se){H=Se,c._logger.log(_e.Error,`A callback for the method '${f}' threw error '${Se}'.`)}j?yield c._sendWithProtocol(j):O?(H?j=c._createCompletionMessage(i.invocationId,`${H}`,null):void 0!==R?j=c._createCompletionMessage(i.invocationId,null,R):(c._logger.log(_e.Warning,`No result given for '${f}' method and invocation ID '${i.invocationId}'.`),j=c._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null)),yield c._sendWithProtocol(j)):R&&c._logger.log(_e.Error,`Result given for '${f}' method but server is not expecting a result.`)})()}_connectionClosed(i){this._logger.log(_e.Debug,`HubConnection.connectionClosed(${i}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||i||new Nt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(i||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Rt.Disconnecting?this._completeClose(i):this._connectionState===Rt.Connected&&this._reconnectPolicy?this._reconnect(i):this._connectionState===Rt.Connected&&this._completeClose(i)}_completeClose(i){if(this._connectionStarted){this._connectionState=Rt.Disconnected,this._connectionStarted=!1,It.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(c=>c.apply(this,[i]))}catch(c){this._logger.log(_e.Error,`An onclose callback called with error '${i}' threw error '${c}'.`)}}}_reconnect(i){var c=this;return(0,fe.Z)(function*(){const f=Date.now();let m=0,b=void 0!==i?i:new Error("Attempting to reconnect due to a unknown error."),O=c._getNextRetryDelay(m++,0,b);if(null===O)return c._logger.log(_e.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void c._completeClose(i);if(c._connectionState=Rt.Reconnecting,c._logger.log(_e.Information,i?`Connection reconnecting because of error '${i}'.`:"Connection reconnecting."),0!==c._reconnectingCallbacks.length){try{c._reconnectingCallbacks.forEach(R=>R.apply(c,[i]))}catch(R){c._logger.log(_e.Error,`An onreconnecting callback called with error '${i}' threw error '${R}'.`)}if(c._connectionState!==Rt.Reconnecting)return void c._logger.log(_e.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==O;){if(c._logger.log(_e.Information,`Reconnect attempt number ${m} will start in ${O} ms.`),yield new Promise(R=>{c._reconnectDelayHandle=setTimeout(R,O)}),c._reconnectDelayHandle=void 0,c._connectionState!==Rt.Reconnecting)return void c._logger.log(_e.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield c._startInternal(),c._connectionState=Rt.Connected,c._logger.log(_e.Information,"HubConnection reconnected successfully."),0!==c._reconnectedCallbacks.length)try{c._reconnectedCallbacks.forEach(R=>R.apply(c,[c.connection.connectionId]))}catch(R){c._logger.log(_e.Error,`An onreconnected callback called with connectionId '${c.connection.connectionId}; threw error '${R}'.`)}return}catch(R){if(c._logger.log(_e.Information,`Reconnect attempt failed because of error '${R}'.`),c._connectionState!==Rt.Reconnecting)return c._logger.log(_e.Debug,`Connection moved to the '${c._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(c._connectionState===Rt.Disconnecting&&c._completeClose());b=R instanceof Error?R:new Error(R.toString()),O=c._getNextRetryDelay(m++,Date.now()-f,b)}}c._logger.log(_e.Information,`Reconnect retries have been exhausted after ${Date.now()-f} ms and ${m} failed attempts. Connection disconnecting.`),c._completeClose()})()}_getNextRetryDelay(i,c,f){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:c,previousRetryCount:i,retryReason:f})}catch(m){return this._logger.log(_e.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${i}, ${c}) threw error '${m}'.`),null}}_cancelCallbacksWithError(i){const c=this._callbacks;this._callbacks={},Object.keys(c).forEach(f=>{const m=c[f];try{m(null,i)}catch(b){this._logger.log(_e.Error,`Stream 'error' callback called with '${i}' threw error: ${Ln(b)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(i,c,f,m){if(f)return 0!==m.length?{arguments:c,streamIds:m,target:i,type:dt.Invocation}:{arguments:c,target:i,type:dt.Invocation};{const b=this._invocationId;return this._invocationId++,0!==m.length?{arguments:c,invocationId:b.toString(),streamIds:m,target:i,type:dt.Invocation}:{arguments:c,invocationId:b.toString(),target:i,type:dt.Invocation}}}_launchStreams(i,c){if(0!==i.length){c||(c=Promise.resolve());for(const f in i)i[f].subscribe({complete:()=>{c=c.then(()=>this._sendWithProtocol(this._createCompletionMessage(f)))},error:m=>{let b;b=m instanceof Error?m.message:m&&m.toString?m.toString():"Unknown error",c=c.then(()=>this._sendWithProtocol(this._createCompletionMessage(f,b)))},next:m=>{c=c.then(()=>this._sendWithProtocol(this._createStreamItemMessage(f,m)))}})}}_replaceStreamingParams(i){const c=[],f=[];for(let m=0;m<i.length;m++){const b=i[m];if(this._isObservable(b)){const O=this._invocationId;this._invocationId++,c[O]=b,f.push(O.toString()),i.splice(m,1)}}return[c,f]}_isObservable(i){return i&&i.subscribe&&"function"==typeof i.subscribe}_createStreamInvocation(i,c,f){const m=this._invocationId;return this._invocationId++,0!==f.length?{arguments:c,invocationId:m.toString(),streamIds:f,target:i,type:dt.StreamInvocation}:{arguments:c,invocationId:m.toString(),target:i,type:dt.StreamInvocation}}_createCancelInvocation(i){return{invocationId:i,type:dt.CancelInvocation}}_createStreamItemMessage(i,c){return{invocationId:i,item:c,type:dt.StreamItem}}_createCompletionMessage(i,c,f){return c?{error:c,invocationId:i,type:dt.Completion}:{invocationId:i,result:f,type:dt.Completion}}}class Ii{constructor(){this.name="json",this.version=1,this.transferFormat=tt.Text}parseMessages(i,c){if("string"!=typeof i)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!i)return[];null===c&&(c=$e.instance);const f=Ht.parse(i),m=[];for(const b of f){const O=JSON.parse(b);if("number"!=typeof O.type)throw new Error("Invalid payload.");switch(O.type){case dt.Invocation:this._isInvocationMessage(O);break;case dt.StreamItem:this._isStreamItemMessage(O);break;case dt.Completion:this._isCompletionMessage(O);break;case dt.Ping:case dt.Close:break;default:c.log(_e.Information,"Unknown message type '"+O.type+"' ignored.");continue}m.push(O)}return m}writeMessage(i){return Ht.write(JSON.stringify(i))}_isInvocationMessage(i){this._assertNotEmptyString(i.target,"Invalid payload for Invocation message."),void 0!==i.invocationId&&this._assertNotEmptyString(i.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(i){if(this._assertNotEmptyString(i.invocationId,"Invalid payload for StreamItem message."),void 0===i.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(i){if(i.result&&i.error)throw new Error("Invalid payload for Completion message.");!i.result&&i.error&&this._assertNotEmptyString(i.error,"Invalid payload for Completion message."),this._assertNotEmptyString(i.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(i,c){if("string"!=typeof i||""===i)throw new Error(c)}}const hi={trace:_e.Trace,debug:_e.Debug,info:_e.Information,information:_e.Information,warn:_e.Warning,warning:_e.Warning,error:_e.Error,critical:_e.Critical,none:_e.None},ri={Development:"Development",Production:"Production"},To=ri.Production;let Gt="";Gt=To==ri.Production?"https://handcricketreborn.azurewebsites.net":"https://localhost:5000";const $r=(new class wo{configureLogging(i){if(it.isRequired(i,"logging"),function pi(s){return void 0!==s.log}(i))this.logger=i;else if("string"==typeof i){const c=function Xr(s){const i=hi[s.toLowerCase()];if(typeof i<"u")return i;throw new Error(`Unknown log level: ${s}`)}(i);this.logger=new $n(c)}else this.logger=new $n(i);return this}withUrl(i,c){return it.isRequired(i,"url"),it.isNotEmpty(i,"url"),this.url=i,this.httpConnectionOptions="object"==typeof c?{...this.httpConnectionOptions,...c}:{...this.httpConnectionOptions,transport:c},this}withHubProtocol(i){return it.isRequired(i,"protocol"),this.protocol=i,this}withAutomaticReconnect(i){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=i?Array.isArray(i)?new uo(i):i:new uo,this}build(){const i=this.httpConnectionOptions||{};if(void 0===i.logger&&(i.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const c=new Kr(this.url,i);return Qr.create(c,this.logger||$e.instance,this.protocol||new Ii,this.reconnectPolicy)}}).withUrl(`${Gt}/gamehub`).build();let S=null;(new co).on("open",s=>{!function(){var c=(0,fe.Z)(function*(){S=s,$r.keepAliveIntervalInMilliseconds=1e4,$r.serverTimeoutInMilliseconds=2e5,$r.onreconnecting(()=>{console.log("TRYING TO RECONNECT",$r.state)}),yield $r.start().then(()=>{console.log("Connection Made",$r.state)}).catch(f=>{console.log("ERROR FOUND : ",f)}),yield $r.invoke("JoinRoom",S).catch(f=>{console.log("Join Room Failed",f)})});return function(){return c.apply(this,arguments)}}()()}),I.q6().bootstrapModule(lo.b9).catch(s=>console.error(s))},2264:(et,J,T)=>{var l=T(2162).MY,N=T(2162).cx;function Q(V){this.index=0,this.dataBuffer=V,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function Y(){this.bufferBuilder=new l}function fe(V){var B=V.charCodeAt(0);return B<=2047?"00":B<=65535?"000":B<=2097151?"0000":B<=67108863?"00000":"000000"}et.exports={unpack:function(V){return new Q(V).unpack()},pack:function(V){var B=new Y;return B.pack(V),B.getBuffer()}},Q.prototype.unpack=function(){var B,V=this.unpack_uint8();if(V<128)return V;if((224^V)<32)return(224^V)-32;if((B=160^V)<=15)return this.unpack_raw(B);if((B=176^V)<=15)return this.unpack_string(B);if((B=144^V)<=15)return this.unpack_array(B);if((B=128^V)<=15)return this.unpack_map(B);switch(V){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return B=this.unpack_uint16(),this.unpack_string(B);case 217:return B=this.unpack_uint32(),this.unpack_string(B);case 218:return B=this.unpack_uint16(),this.unpack_raw(B);case 219:return B=this.unpack_uint32(),this.unpack_raw(B);case 220:return B=this.unpack_uint16(),this.unpack_array(B);case 221:return B=this.unpack_uint32(),this.unpack_array(B);case 222:return B=this.unpack_uint16(),this.unpack_map(B);case 223:return B=this.unpack_uint32(),this.unpack_map(B)}},Q.prototype.unpack_uint8=function(){var V=255&this.dataView[this.index];return this.index++,V},Q.prototype.unpack_uint16=function(){var V=this.read(2),B=256*(255&V[0])+(255&V[1]);return this.index+=2,B},Q.prototype.unpack_uint32=function(){var V=this.read(4),B=256*(256*(256*V[0]+V[1])+V[2])+V[3];return this.index+=4,B},Q.prototype.unpack_uint64=function(){var V=this.read(8),B=256*(256*(256*(256*(256*(256*(256*V[0]+V[1])+V[2])+V[3])+V[4])+V[5])+V[6])+V[7];return this.index+=8,B},Q.prototype.unpack_int8=function(){var V=this.unpack_uint8();return V<128?V:V-256},Q.prototype.unpack_int16=function(){var V=this.unpack_uint16();return V<32768?V:V-65536},Q.prototype.unpack_int32=function(){var V=this.unpack_uint32();return V<Math.pow(2,31)?V:V-Math.pow(2,32)},Q.prototype.unpack_int64=function(){var V=this.unpack_uint64();return V<Math.pow(2,63)?V:V-Math.pow(2,64)},Q.prototype.unpack_raw=function(V){if(this.length<this.index+V)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+V+" "+this.length);var B=this.dataBuffer.slice(this.index,this.index+V);return this.index+=V,B},Q.prototype.unpack_string=function(V){for(var Ce,Ne,B=this.read(V),K=0,ie="";K<V;)(Ce=B[K])<128?(ie+=String.fromCharCode(Ce),K++):(192^Ce)<32?(Ne=(192^Ce)<<6|63&B[K+1],ie+=String.fromCharCode(Ne),K+=2):(Ne=(15&Ce)<<12|(63&B[K+1])<<6|63&B[K+2],ie+=String.fromCharCode(Ne),K+=3);return this.index+=V,ie},Q.prototype.unpack_array=function(V){for(var B=new Array(V),K=0;K<V;K++)B[K]=this.unpack();return B},Q.prototype.unpack_map=function(V){for(var B={},K=0;K<V;K++){var ie=this.unpack(),Ce=this.unpack();B[ie]=Ce}return B},Q.prototype.unpack_float=function(){var V=this.unpack_uint32();return(0==V>>31?1:-1)*(8388607&V|8388608)*Math.pow(2,(V>>23&255)-127-23)},Q.prototype.unpack_double=function(){var V=this.unpack_uint32(),B=this.unpack_uint32(),ie=(V>>20&2047)-1023;return(0==V>>31?1:-1)*((1048575&V|1048576)*Math.pow(2,ie-20)+B*Math.pow(2,ie-52))},Q.prototype.read=function(V){var B=this.index;if(B+V<=this.length)return this.dataView.subarray(B,B+V);throw new Error("BinaryPackFailure: read index out of range")},Y.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},Y.prototype.pack=function(V){var B=typeof V;if("string"===B)this.pack_string(V);else if("number"===B)Math.floor(V)===V?this.pack_integer(V):this.pack_double(V);else if("boolean"===B)!0===V?this.bufferBuilder.append(195):!1===V&&this.bufferBuilder.append(194);else if("undefined"===B)this.bufferBuilder.append(192);else{if("object"!==B)throw new Error('Type "'+B+'" not yet supported');if(null===V)this.bufferBuilder.append(192);else{var K=V.constructor;if(K==Array)this.pack_array(V);else if(K==Blob||K==File||V instanceof Blob||V instanceof File)this.pack_bin(V);else if(K==ArrayBuffer)this.pack_bin(N.useArrayBufferView?new Uint8Array(V):V);else if("BYTES_PER_ELEMENT"in V)this.pack_bin(N.useArrayBufferView?new Uint8Array(V.buffer):V.buffer);else if(K==Object||K.toString().startsWith("class"))this.pack_object(V);else if(K==Date)this.pack_string(V.toString());else{if("function"!=typeof V.toBinaryPack)throw new Error('Type "'+K.toString()+'" not yet supported');this.bufferBuilder.append(V.toBinaryPack())}}}this.bufferBuilder.flush()},Y.prototype.pack_bin=function(V){var B=V.length||V.byteLength||V.size;if(B<=15)this.pack_uint8(160+B);else if(B<=65535)this.bufferBuilder.append(218),this.pack_uint16(B);else{if(!(B<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(B)}this.bufferBuilder.append(V)},Y.prototype.pack_string=function(V){var B=function I(V){return V.length>600?new Blob([V]).size:V.replace(/[^\u0000-\u007F]/g,fe).length}(V);if(B<=15)this.pack_uint8(176+B);else if(B<=65535)this.bufferBuilder.append(216),this.pack_uint16(B);else{if(!(B<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(B)}this.bufferBuilder.append(V)},Y.prototype.pack_array=function(V){var B=V.length;if(B<=15)this.pack_uint8(144+B);else if(B<=65535)this.bufferBuilder.append(220),this.pack_uint16(B);else{if(!(B<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(B)}for(var K=0;K<B;K++)this.pack(V[K])},Y.prototype.pack_integer=function(V){if(V>=-32&&V<=127)this.bufferBuilder.append(255&V);else if(V>=0&&V<=255)this.bufferBuilder.append(204),this.pack_uint8(V);else if(V>=-128&&V<=127)this.bufferBuilder.append(208),this.pack_int8(V);else if(V>=0&&V<=65535)this.bufferBuilder.append(205),this.pack_uint16(V);else if(V>=-32768&&V<=32767)this.bufferBuilder.append(209),this.pack_int16(V);else if(V>=0&&V<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(V);else if(V>=-2147483648&&V<=2147483647)this.bufferBuilder.append(210),this.pack_int32(V);else if(V>=-0x8000000000000000&&V<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(V);else{if(!(V>=0&&V<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(V)}},Y.prototype.pack_double=function(V){var B=0;V<0&&(B=1,V=-V);var K=Math.floor(Math.log(V)/Math.LN2),ie=V/Math.pow(2,K)-1,Ce=Math.floor(ie*Math.pow(2,52)),Ne=Math.pow(2,32),me=B<<31|K+1023<<20|Ce/Ne&1048575,Fe=Ce%Ne;this.bufferBuilder.append(203),this.pack_int32(me),this.pack_int32(Fe)},Y.prototype.pack_object=function(V){var K=Object.keys(V).length;if(K<=15)this.pack_uint8(128+K);else if(K<=65535)this.bufferBuilder.append(222),this.pack_uint16(K);else{if(!(K<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(K)}for(var ie in V)V.hasOwnProperty(ie)&&(this.pack(ie),this.pack(V[ie]))},Y.prototype.pack_uint8=function(V){this.bufferBuilder.append(V)},Y.prototype.pack_uint16=function(V){this.bufferBuilder.append(V>>8),this.bufferBuilder.append(255&V)},Y.prototype.pack_uint32=function(V){var B=4294967295&V;this.bufferBuilder.append((4278190080&B)>>>24),this.bufferBuilder.append((16711680&B)>>>16),this.bufferBuilder.append((65280&B)>>>8),this.bufferBuilder.append(255&B)},Y.prototype.pack_uint64=function(V){var B=V/Math.pow(2,32),K=V%Math.pow(2,32);this.bufferBuilder.append((4278190080&B)>>>24),this.bufferBuilder.append((16711680&B)>>>16),this.bufferBuilder.append((65280&B)>>>8),this.bufferBuilder.append(255&B),this.bufferBuilder.append((4278190080&K)>>>24),this.bufferBuilder.append((16711680&K)>>>16),this.bufferBuilder.append((65280&K)>>>8),this.bufferBuilder.append(255&K)},Y.prototype.pack_int8=function(V){this.bufferBuilder.append(255&V)},Y.prototype.pack_int16=function(V){this.bufferBuilder.append((65280&V)>>8),this.bufferBuilder.append(255&V)},Y.prototype.pack_int32=function(V){this.bufferBuilder.append(V>>>24&255),this.bufferBuilder.append((16711680&V)>>>16),this.bufferBuilder.append((65280&V)>>>8),this.bufferBuilder.append(255&V)},Y.prototype.pack_int64=function(V){var B=Math.floor(V/Math.pow(2,32)),K=V%Math.pow(2,32);this.bufferBuilder.append((4278190080&B)>>>24),this.bufferBuilder.append((16711680&B)>>>16),this.bufferBuilder.append((65280&B)>>>8),this.bufferBuilder.append(255&B),this.bufferBuilder.append((4278190080&K)>>>24),this.bufferBuilder.append((16711680&K)>>>16),this.bufferBuilder.append((65280&K)>>>8),this.bufferBuilder.append(255&K)}},2162:et=>{var J={};J.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),J.useArrayBufferView=!J.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch{return!0}}(),et.exports.cx=J;var T=et.exports.xE;function l(){this._pieces=[],this._parts=[]}typeof window<"u"&&(T=et.exports.xE=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),l.prototype.append=function(N){"number"==typeof N?this._pieces.push(N):(this.flush(),this._parts.push(N))},l.prototype.flush=function(){if(this._pieces.length>0){var N=new Uint8Array(this._pieces);J.useArrayBufferView||(N=N.buffer),this._parts.push(N),this._pieces=[]}},l.prototype.getBuffer=function(){if(this.flush(),J.useBlobBuilder){for(var N=new T,q=0,Q=this._parts.length;q<Q;q++)N.append(this._parts[q]);return N.getBlob()}return new Blob(this._parts)},et.exports.MY=l},4191:(et,J,T)=>{"use strict";var l=T(2917);function q(B,K,ie,Ce,Ne){var me=l.writeRtpDescription(B.kind,K);if(me+=l.writeIceParameters(B.iceGatherer.getLocalParameters()),me+=l.writeDtlsParameters(B.dtlsTransport.getLocalParameters(),"offer"===ie?"actpass":Ne||"active"),me+="a=mid:"+B.mid+"\r\n",me+=B.rtpSender&&B.rtpReceiver?"a=sendrecv\r\n":B.rtpSender?"a=sendonly\r\n":B.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",B.rtpSender){var Fe=B.rtpSender._initialTrackId||B.rtpSender.track.id;B.rtpSender._initialTrackId=Fe;var Ge="msid:"+(Ce?Ce.id:"-")+" "+Fe+"\r\n";me+="a="+Ge,me+="a=ssrc:"+B.sendEncodingParameters[0].ssrc+" "+Ge,B.sendEncodingParameters[0].rtx&&(me+="a=ssrc:"+B.sendEncodingParameters[0].rtx.ssrc+" "+Ge,me+="a=ssrc-group:FID "+B.sendEncodingParameters[0].ssrc+" "+B.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return me+="a=ssrc:"+B.sendEncodingParameters[0].ssrc+" cname:"+l.localCName+"\r\n",B.rtpSender&&B.sendEncodingParameters[0].rtx&&(me+="a=ssrc:"+B.sendEncodingParameters[0].rtx.ssrc+" cname:"+l.localCName+"\r\n"),me}function Y(B,K){var ie={codecs:[],headerExtensions:[],fecMechanisms:[]},Ce=function(me,Fe){me=parseInt(me,10);for(var Ge=0;Ge<Fe.length;Ge++)if(Fe[Ge].payloadType===me||Fe[Ge].preferredPayloadType===me)return Fe[Ge]},Ne=function(me,Fe,Ge,F){var Z=Ce(me.parameters.apt,Ge),ve=Ce(Fe.parameters.apt,F);return Z&&ve&&Z.name.toLowerCase()===ve.name.toLowerCase()};return B.codecs.forEach(function(me){for(var Fe=0;Fe<K.codecs.length;Fe++){var Ge=K.codecs[Fe];if(me.name.toLowerCase()===Ge.name.toLowerCase()&&me.clockRate===Ge.clockRate){if("rtx"===me.name.toLowerCase()&&me.parameters&&Ge.parameters.apt&&!Ne(me,Ge,B.codecs,K.codecs))continue;(Ge=JSON.parse(JSON.stringify(Ge))).numChannels=Math.min(me.numChannels,Ge.numChannels),ie.codecs.push(Ge),Ge.rtcpFeedback=Ge.rtcpFeedback.filter(function(F){for(var Z=0;Z<me.rtcpFeedback.length;Z++)if(me.rtcpFeedback[Z].type===F.type&&me.rtcpFeedback[Z].parameter===F.parameter)return!0;return!1});break}}}),B.headerExtensions.forEach(function(me){for(var Fe=0;Fe<K.headerExtensions.length;Fe++){var Ge=K.headerExtensions[Fe];if(me.uri===Ge.uri){ie.headerExtensions.push(Ge);break}}}),ie}function fe(B,K,ie){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[K][B].indexOf(ie)}function I(B,K){var ie=B.getRemoteCandidates().find(function(Ce){return K.foundation===Ce.foundation&&K.ip===Ce.ip&&K.port===Ce.port&&K.priority===Ce.priority&&K.protocol===Ce.protocol&&K.type===Ce.type});return ie||B.addRemoteCandidate(K),!ie}function V(B,K){var ie=new Error(K);return ie.name=B,ie.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[B],ie}et.exports=function(B,K){function ie(F,Z){Z.addTrack(F),Z.dispatchEvent(new B.MediaStreamTrackEvent("addtrack",{track:F}))}function Ne(F,Z,ve,ye){var re=new Event("track");re.track=Z,re.receiver=ve,re.transceiver={receiver:ve},re.streams=ye,B.setTimeout(function(){F._dispatchEvent("track",re)})}var me=function(F){var Z=this,ve=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(re){Z[re]=ve[re].bind(ve)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",F=JSON.parse(JSON.stringify(F||{})),this.usingBundle="max-bundle"===F.bundlePolicy,"negotiate"===F.rtcpMuxPolicy)throw V("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(F.rtcpMuxPolicy||(F.rtcpMuxPolicy="require"),F.iceTransportPolicy){case"all":case"relay":break;default:F.iceTransportPolicy="all"}switch(F.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:F.bundlePolicy="balanced"}if(F.iceServers=function Q(B,K){var ie=!1;return(B=JSON.parse(JSON.stringify(B))).filter(function(Ce){if(Ce&&(Ce.urls||Ce.url)){var Ne=Ce.urls||Ce.url;Ce.url&&!Ce.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var me="string"==typeof Ne;return me&&(Ne=[Ne]),Ne=Ne.filter(function(Fe){return 0!==Fe.indexOf("turn:")||-1===Fe.indexOf("transport=udp")||-1!==Fe.indexOf("turn:[")||ie?0===Fe.indexOf("stun:")&&K>=14393&&-1===Fe.indexOf("?transport=udp"):(ie=!0,!0)}),delete Ce.url,Ce.urls=me?Ne[0]:Ne,!!Ne.length}})}(F.iceServers||[],K),this._iceGatherers=[],F.iceCandidatePoolSize)for(var ye=F.iceCandidatePoolSize;ye>0;ye--)this._iceGatherers.push(new B.RTCIceGatherer({iceServers:F.iceServers,gatherPolicy:F.iceTransportPolicy}));else F.iceCandidatePoolSize=0;this._config=F,this.transceivers=[],this._sdpSessionId=l.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(me.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(me.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),me.prototype.onicecandidate=null,me.prototype.onaddstream=null,me.prototype.ontrack=null,me.prototype.onremovestream=null,me.prototype.onsignalingstatechange=null,me.prototype.oniceconnectionstatechange=null,me.prototype.onconnectionstatechange=null,me.prototype.onicegatheringstatechange=null,me.prototype.onnegotiationneeded=null,me.prototype.ondatachannel=null,me.prototype._dispatchEvent=function(F,Z){this._isClosed||(this.dispatchEvent(Z),"function"==typeof this["on"+F]&&this["on"+F](Z))},me.prototype._emitGatheringStateChange=function(){var F=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",F)},me.prototype.getConfiguration=function(){return this._config},me.prototype.getLocalStreams=function(){return this.localStreams},me.prototype.getRemoteStreams=function(){return this.remoteStreams},me.prototype._createTransceiver=function(F,Z){var ye={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:F,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)ye.iceTransport=this.transceivers[0].iceTransport,ye.dtlsTransport=this.transceivers[0].dtlsTransport;else{var re=this._createIceAndDtlsTransports();ye.iceTransport=re.iceTransport,ye.dtlsTransport=re.dtlsTransport}return Z||this.transceivers.push(ye),ye},me.prototype.addTrack=function(F,Z){if(this._isClosed)throw V("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(pe){return pe.track===F}))throw V("InvalidAccessError","Track already exists.");for(var ye,re=0;re<this.transceivers.length;re++)!this.transceivers[re].track&&this.transceivers[re].kind===F.kind&&(ye=this.transceivers[re]);return ye||(ye=this._createTransceiver(F.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(Z)&&this.localStreams.push(Z),ye.track=F,ye.stream=Z,ye.rtpSender=new B.RTCRtpSender(F,ye.dtlsTransport),ye.rtpSender},me.prototype.addStream=function(F){var Z=this;if(K>=15025)F.getTracks().forEach(function(ye){Z.addTrack(ye,F)});else{var ve=F.clone();F.getTracks().forEach(function(ye,re){var pe=ve.getTracks()[re];ye.addEventListener("enabled",function(U){pe.enabled=U.enabled})}),ve.getTracks().forEach(function(ye){Z.addTrack(ye,ve)})}},me.prototype.removeTrack=function(F){if(this._isClosed)throw V("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(F instanceof B.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var Z=this.transceivers.find(function(re){return re.rtpSender===F});if(!Z)throw V("InvalidAccessError","Sender was not created by this connection.");var ve=Z.stream;Z.rtpSender.stop(),Z.rtpSender=null,Z.track=null,Z.stream=null,-1===this.transceivers.map(function(re){return re.stream}).indexOf(ve)&&this.localStreams.indexOf(ve)>-1&&this.localStreams.splice(this.localStreams.indexOf(ve),1),this._maybeFireNegotiationNeeded()},me.prototype.removeStream=function(F){var Z=this;F.getTracks().forEach(function(ve){var ye=Z.getSenders().find(function(re){return re.track===ve});ye&&Z.removeTrack(ye)})},me.prototype.getSenders=function(){return this.transceivers.filter(function(F){return!!F.rtpSender}).map(function(F){return F.rtpSender})},me.prototype.getReceivers=function(){return this.transceivers.filter(function(F){return!!F.rtpReceiver}).map(function(F){return F.rtpReceiver})},me.prototype._createIceGatherer=function(F,Z){var ve=this;if(Z&&F>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var ye=new B.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(ye,"state",{value:"new",writable:!0}),this.transceivers[F].bufferedCandidateEvents=[],this.transceivers[F].bufferCandidates=function(re){var pe=!re.candidate||0===Object.keys(re.candidate).length;ye.state=pe?"completed":"gathering",null!==ve.transceivers[F].bufferedCandidateEvents&&ve.transceivers[F].bufferedCandidateEvents.push(re)},ye.addEventListener("localcandidate",this.transceivers[F].bufferCandidates),ye},me.prototype._gather=function(F,Z){var ve=this,ye=this.transceivers[Z].iceGatherer;if(!ye.onlocalcandidate){var re=this.transceivers[Z].bufferedCandidateEvents;this.transceivers[Z].bufferedCandidateEvents=null,ye.removeEventListener("localcandidate",this.transceivers[Z].bufferCandidates),ye.onlocalcandidate=function(pe){if(!(ve.usingBundle&&Z>0)){var U=new Event("icecandidate");U.candidate={sdpMid:F,sdpMLineIndex:Z};var he=pe.candidate,le=!he||0===Object.keys(he).length;if(le)("new"===ye.state||"gathering"===ye.state)&&(ye.state="completed");else{"new"===ye.state&&(ye.state="gathering"),he.component=1,he.ufrag=ye.getLocalParameters().usernameFragment;var W=l.writeCandidate(he);U.candidate=Object.assign(U.candidate,l.parseCandidate(W)),U.candidate.candidate=W,U.candidate.toJSON=function(){return{candidate:U.candidate.candidate,sdpMid:U.candidate.sdpMid,sdpMLineIndex:U.candidate.sdpMLineIndex,usernameFragment:U.candidate.usernameFragment}}}var ee=l.getMediaSections(ve._localDescription.sdp);ee[U.candidate.sdpMLineIndex]+=le?"a=end-of-candidates\r\n":"a="+U.candidate.candidate+"\r\n",ve._localDescription.sdp=l.getDescription(ve._localDescription.sdp)+ee.join("");var $=ve.transceivers.every(function(De){return De.iceGatherer&&"completed"===De.iceGatherer.state});"gathering"!==ve.iceGatheringState&&(ve.iceGatheringState="gathering",ve._emitGatheringStateChange()),le||ve._dispatchEvent("icecandidate",U),$&&(ve._dispatchEvent("icecandidate",new Event("icecandidate")),ve.iceGatheringState="complete",ve._emitGatheringStateChange())}},B.setTimeout(function(){re.forEach(function(pe){ye.onlocalcandidate(pe)})},0)}},me.prototype._createIceAndDtlsTransports=function(){var F=this,Z=new B.RTCIceTransport(null);Z.onicestatechange=function(){F._updateIceConnectionState(),F._updateConnectionState()};var ve=new B.RTCDtlsTransport(Z);return ve.ondtlsstatechange=function(){F._updateConnectionState()},ve.onerror=function(){Object.defineProperty(ve,"state",{value:"failed",writable:!0}),F._updateConnectionState()},{iceTransport:Z,dtlsTransport:ve}},me.prototype._disposeIceAndDtlsTransports=function(F){var Z=this.transceivers[F].iceGatherer;Z&&(delete Z.onlocalcandidate,delete this.transceivers[F].iceGatherer);var ve=this.transceivers[F].iceTransport;ve&&(delete ve.onicestatechange,delete this.transceivers[F].iceTransport);var ye=this.transceivers[F].dtlsTransport;ye&&(delete ye.ondtlsstatechange,delete ye.onerror,delete this.transceivers[F].dtlsTransport)},me.prototype._transceive=function(F,Z,ve){var ye=Y(F.localCapabilities,F.remoteCapabilities);Z&&F.rtpSender&&(ye.encodings=F.sendEncodingParameters,ye.rtcp={cname:l.localCName,compound:F.rtcpParameters.compound},F.recvEncodingParameters.length&&(ye.rtcp.ssrc=F.recvEncodingParameters[0].ssrc),F.rtpSender.send(ye)),ve&&F.rtpReceiver&&ye.codecs.length>0&&("video"===F.kind&&F.recvEncodingParameters&&K<15019&&F.recvEncodingParameters.forEach(function(re){delete re.rtx}),ye.encodings=F.recvEncodingParameters.length?F.recvEncodingParameters:[{}],ye.rtcp={compound:F.rtcpParameters.compound},F.rtcpParameters.cname&&(ye.rtcp.cname=F.rtcpParameters.cname),F.sendEncodingParameters.length&&(ye.rtcp.ssrc=F.sendEncodingParameters[0].ssrc),F.rtpReceiver.receive(ye))},me.prototype.setLocalDescription=function(F){var ve,ye,Z=this;if(-1===["offer","answer"].indexOf(F.type))return Promise.reject(V("TypeError",'Unsupported type "'+F.type+'"'));if(!fe("setLocalDescription",F.type,Z.signalingState)||Z._isClosed)return Promise.reject(V("InvalidStateError","Can not set local "+F.type+" in state "+Z.signalingState));if("offer"===F.type)ve=l.splitSections(F.sdp),ye=ve.shift(),ve.forEach(function(pe,U){var he=l.parseRtpParameters(pe);Z.transceivers[U].localCapabilities=he}),Z.transceivers.forEach(function(pe,U){Z._gather(pe.mid,U)});else if("answer"===F.type){ve=l.splitSections(Z._remoteDescription.sdp),ye=ve.shift();var re=l.matchPrefix(ye,"a=ice-lite").length>0;ve.forEach(function(pe,U){var he=Z.transceivers[U],le=he.iceGatherer,W=he.iceTransport,ee=he.dtlsTransport,$=he.localCapabilities,De=he.remoteCapabilities;if(!(l.isRejected(pe)&&0===l.matchPrefix(pe,"a=bundle-only").length||he.rejected)){var Me=l.getIceParameters(pe,ye),Pe=l.getDtlsParameters(pe,ye);re&&(Pe.role="server"),(!Z.usingBundle||0===U)&&(Z._gather(he.mid,U),"new"===W.state&&W.start(le,Me,re?"controlling":"controlled"),"new"===ee.state&&ee.start(Pe));var ge=Y($,De);Z._transceive(he,ge.codecs.length>0,!1)}})}return Z._localDescription={type:F.type,sdp:F.sdp},Z._updateSignalingState("offer"===F.type?"have-local-offer":"stable"),Promise.resolve()},me.prototype.setRemoteDescription=function(F){var Z=this;if(-1===["offer","answer"].indexOf(F.type))return Promise.reject(V("TypeError",'Unsupported type "'+F.type+'"'));if(!fe("setRemoteDescription",F.type,Z.signalingState)||Z._isClosed)return Promise.reject(V("InvalidStateError","Can not set remote "+F.type+" in state "+Z.signalingState));var ve={};Z.remoteStreams.forEach(function(W){ve[W.id]=W});var ye=[],re=l.splitSections(F.sdp),pe=re.shift(),U=l.matchPrefix(pe,"a=ice-lite").length>0,he=l.matchPrefix(pe,"a=group:BUNDLE ").length>0;Z.usingBundle=he;var le=l.matchPrefix(pe,"a=ice-options:")[0];return Z.canTrickleIceCandidates=!!le&&le.substr(14).split(" ").indexOf("trickle")>=0,re.forEach(function(W,ee){var $=l.splitLines(W),De=l.getKind(W),We=l.isRejected(W)&&0===l.matchPrefix(W,"a=bundle-only").length,Me=$[0].substr(2).split(" ")[2],Pe=l.getDirection(W,pe),ge=l.parseMsid(W),te=l.getMid(W)||l.generateIdentifier();if(We||"application"===De&&("DTLS/SCTP"===Me||"UDP/DTLS/SCTP"===Me))Z.transceivers[ee]={mid:te,kind:De,protocol:Me,rejected:!0};else{!We&&Z.transceivers[ee]&&Z.transceivers[ee].rejected&&(Z.transceivers[ee]=Z._createTransceiver(De,!0));var ce,Re,Ve,xe,Be,qe,Kt,nt,ht,pt,Lt,Ct=l.parseRtpParameters(W);We||(pt=l.getIceParameters(W,pe),(Lt=l.getDtlsParameters(W,pe)).role="client"),Kt=l.parseRtpEncodingParameters(W);var yn=l.parseRtcpParameters(W),vn=l.matchPrefix(W,"a=end-of-candidates",pe).length>0,en=l.matchPrefix(W,"a=candidate:").map(function(Le){return l.parseCandidate(Le)}).filter(function(Le){return 1===Le.component});if(("offer"===F.type||"answer"===F.type)&&!We&&he&&ee>0&&Z.transceivers[ee]&&(Z._disposeIceAndDtlsTransports(ee),Z.transceivers[ee].iceGatherer=Z.transceivers[0].iceGatherer,Z.transceivers[ee].iceTransport=Z.transceivers[0].iceTransport,Z.transceivers[ee].dtlsTransport=Z.transceivers[0].dtlsTransport,Z.transceivers[ee].rtpSender&&Z.transceivers[ee].rtpSender.setTransport(Z.transceivers[0].dtlsTransport),Z.transceivers[ee].rtpReceiver&&Z.transceivers[ee].rtpReceiver.setTransport(Z.transceivers[0].dtlsTransport)),"offer"!==F.type||We)"answer"!==F.type||We||(Re=(ce=Z.transceivers[ee]).iceGatherer,Ve=ce.iceTransport,xe=ce.dtlsTransport,Be=ce.rtpReceiver,qe=ce.sendEncodingParameters,nt=ce.localCapabilities,Z.transceivers[ee].recvEncodingParameters=Kt,Z.transceivers[ee].remoteCapabilities=Ct,Z.transceivers[ee].rtcpParameters=yn,en.length&&"new"===Ve.state&&(!U&&!vn||he&&0!==ee?en.forEach(function(Le){I(ce.iceTransport,Le)}):Ve.setRemoteCandidates(en)),(!he||0===ee)&&("new"===Ve.state&&Ve.start(Re,pt,"controlling"),"new"===xe.state&&xe.start(Lt)),!Y(ce.localCapabilities,ce.remoteCapabilities).codecs.filter(function(Le){return"rtx"===Le.name.toLowerCase()}).length&&ce.sendEncodingParameters[0].rtx&&delete ce.sendEncodingParameters[0].rtx,Z._transceive(ce,"sendrecv"===Pe||"recvonly"===Pe,"sendrecv"===Pe||"sendonly"===Pe),!Be||"sendrecv"!==Pe&&"sendonly"!==Pe?delete ce.rtpReceiver:(ht=Be.track,ge?(ve[ge.stream]||(ve[ge.stream]=new B.MediaStream),ie(ht,ve[ge.stream]),ye.push([ht,Be,ve[ge.stream]])):(ve.default||(ve.default=new B.MediaStream),ie(ht,ve.default),ye.push([ht,Be,ve.default]))));else{(ce=Z.transceivers[ee]||Z._createTransceiver(De)).mid=te,ce.iceGatherer||(ce.iceGatherer=Z._createIceGatherer(ee,he)),en.length&&"new"===ce.iceTransport.state&&(!vn||he&&0!==ee?en.forEach(function(Le){I(ce.iceTransport,Le)}):ce.iceTransport.setRemoteCandidates(en)),nt=B.RTCRtpReceiver.getCapabilities(De),K<15019&&(nt.codecs=nt.codecs.filter(function(Le){return"rtx"!==Le.name})),qe=ce.sendEncodingParameters||[{ssrc:1001*(2*ee+2)}];var Zt,wn=!1;"sendrecv"===Pe||"sendonly"===Pe?(wn=!ce.rtpReceiver,Be=ce.rtpReceiver||new B.RTCRtpReceiver(ce.dtlsTransport,De),wn&&(ht=Be.track,ge&&"-"===ge.stream||(ge?(ve[ge.stream]||(ve[ge.stream]=new B.MediaStream,Object.defineProperty(ve[ge.stream],"id",{get:function(){return ge.stream}})),Object.defineProperty(ht,"id",{get:function(){return ge.track}}),Zt=ve[ge.stream]):(ve.default||(ve.default=new B.MediaStream),Zt=ve.default)),Zt&&(ie(ht,Zt),ce.associatedRemoteMediaStreams.push(Zt)),ye.push([ht,Be,Zt]))):ce.rtpReceiver&&ce.rtpReceiver.track&&(ce.associatedRemoteMediaStreams.forEach(function(Le){var Jt=Le.getTracks().find(function(xn){return xn.id===ce.rtpReceiver.track.id});Jt&&function Ce(F,Z){Z.removeTrack(F),Z.dispatchEvent(new B.MediaStreamTrackEvent("removetrack",{track:F}))}(Jt,Le)}),ce.associatedRemoteMediaStreams=[]),ce.localCapabilities=nt,ce.remoteCapabilities=Ct,ce.rtpReceiver=Be,ce.rtcpParameters=yn,ce.sendEncodingParameters=qe,ce.recvEncodingParameters=Kt,Z._transceive(Z.transceivers[ee],!1,wn)}}}),void 0===Z._dtlsRole&&(Z._dtlsRole="offer"===F.type?"active":"passive"),Z._remoteDescription={type:F.type,sdp:F.sdp},Z._updateSignalingState("offer"===F.type?"have-remote-offer":"stable"),Object.keys(ve).forEach(function(W){var ee=ve[W];if(ee.getTracks().length){if(-1===Z.remoteStreams.indexOf(ee)){Z.remoteStreams.push(ee);var $=new Event("addstream");$.stream=ee,B.setTimeout(function(){Z._dispatchEvent("addstream",$)})}ye.forEach(function(De){ee.id===De[2].id&&Ne(Z,De[0],De[1],[ee])})}}),ye.forEach(function(W){W[2]||Ne(Z,W[0],W[1],[])}),B.setTimeout(function(){Z&&Z.transceivers&&Z.transceivers.forEach(function(W){W.iceTransport&&"new"===W.iceTransport.state&&W.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),W.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},me.prototype.close=function(){this.transceivers.forEach(function(F){F.iceTransport&&F.iceTransport.stop(),F.dtlsTransport&&F.dtlsTransport.stop(),F.rtpSender&&F.rtpSender.stop(),F.rtpReceiver&&F.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},me.prototype._updateSignalingState=function(F){this.signalingState=F;var Z=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",Z)},me.prototype._maybeFireNegotiationNeeded=function(){var F=this;"stable"!==this.signalingState||!0===this.needNegotiation||(this.needNegotiation=!0,B.setTimeout(function(){if(F.needNegotiation){F.needNegotiation=!1;var Z=new Event("negotiationneeded");F._dispatchEvent("negotiationneeded",Z)}},0))},me.prototype._updateIceConnectionState=function(){var F,Z={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ye){ye.iceTransport&&!ye.rejected&&Z[ye.iceTransport.state]++}),F="new",Z.failed>0?F="failed":Z.checking>0?F="checking":Z.disconnected>0?F="disconnected":Z.new>0?F="new":Z.connected>0?F="connected":Z.completed>0&&(F="completed"),F!==this.iceConnectionState){this.iceConnectionState=F;var ve=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",ve)}},me.prototype._updateConnectionState=function(){var F,Z={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(ye){ye.iceTransport&&ye.dtlsTransport&&!ye.rejected&&(Z[ye.iceTransport.state]++,Z[ye.dtlsTransport.state]++)}),Z.connected+=Z.completed,F="new",Z.failed>0?F="failed":Z.connecting>0?F="connecting":Z.disconnected>0?F="disconnected":Z.new>0?F="new":Z.connected>0&&(F="connected"),F!==this.connectionState){this.connectionState=F;var ve=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",ve)}},me.prototype.createOffer=function(){var F=this;if(F._isClosed)return Promise.reject(V("InvalidStateError","Can not call createOffer after close"));var Z=F.transceivers.filter(function(U){return"audio"===U.kind}).length,ve=F.transceivers.filter(function(U){return"video"===U.kind}).length,ye=arguments[0];if(ye){if(ye.mandatory||ye.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==ye.offerToReceiveAudio&&(Z=!0===ye.offerToReceiveAudio?1:!1===ye.offerToReceiveAudio?0:ye.offerToReceiveAudio),void 0!==ye.offerToReceiveVideo&&(ve=!0===ye.offerToReceiveVideo?1:!1===ye.offerToReceiveVideo?0:ye.offerToReceiveVideo)}for(F.transceivers.forEach(function(U){"audio"===U.kind?--Z<0&&(U.wantReceive=!1):"video"===U.kind&&--ve<0&&(U.wantReceive=!1)});Z>0||ve>0;)Z>0&&(F._createTransceiver("audio"),Z--),ve>0&&(F._createTransceiver("video"),ve--);var re=l.writeSessionBoilerplate(F._sdpSessionId,F._sdpSessionVersion++);F.transceivers.forEach(function(U,he){var le=U.track,W=U.kind,ee=U.mid||l.generateIdentifier();U.mid=ee,U.iceGatherer||(U.iceGatherer=F._createIceGatherer(he,F.usingBundle));var $=B.RTCRtpSender.getCapabilities(W);K<15019&&($.codecs=$.codecs.filter(function(We){return"rtx"!==We.name})),$.codecs.forEach(function(We){"H264"===We.name&&void 0===We.parameters["level-asymmetry-allowed"]&&(We.parameters["level-asymmetry-allowed"]="1"),U.remoteCapabilities&&U.remoteCapabilities.codecs&&U.remoteCapabilities.codecs.forEach(function(Me){We.name.toLowerCase()===Me.name.toLowerCase()&&We.clockRate===Me.clockRate&&(We.preferredPayloadType=Me.payloadType)})}),$.headerExtensions.forEach(function(We){(U.remoteCapabilities&&U.remoteCapabilities.headerExtensions||[]).forEach(function(Pe){We.uri===Pe.uri&&(We.id=Pe.id)})});var De=U.sendEncodingParameters||[{ssrc:1001*(2*he+1)}];le&&K>=15019&&"video"===W&&!De[0].rtx&&(De[0].rtx={ssrc:De[0].ssrc+1}),U.wantReceive&&(U.rtpReceiver=new B.RTCRtpReceiver(U.dtlsTransport,W)),U.localCapabilities=$,U.sendEncodingParameters=De}),"max-compat"!==F._config.bundlePolicy&&(re+="a=group:BUNDLE "+F.transceivers.map(function(U){return U.mid}).join(" ")+"\r\n"),re+="a=ice-options:trickle\r\n",F.transceivers.forEach(function(U,he){re+=q(U,U.localCapabilities,"offer",U.stream,F._dtlsRole),re+="a=rtcp-rsize\r\n",U.iceGatherer&&"new"!==F.iceGatheringState&&(0===he||!F.usingBundle)&&(U.iceGatherer.getLocalCandidates().forEach(function(le){le.component=1,re+="a="+l.writeCandidate(le)+"\r\n"}),"completed"===U.iceGatherer.state&&(re+="a=end-of-candidates\r\n"))});var pe=new B.RTCSessionDescription({type:"offer",sdp:re});return Promise.resolve(pe)},me.prototype.createAnswer=function(){var F=this;if(F._isClosed)return Promise.reject(V("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==F.signalingState&&"have-local-pranswer"!==F.signalingState)return Promise.reject(V("InvalidStateError","Can not call createAnswer in signalingState "+F.signalingState));var Z=l.writeSessionBoilerplate(F._sdpSessionId,F._sdpSessionVersion++);F.usingBundle&&(Z+="a=group:BUNDLE "+F.transceivers.map(function(re){return re.mid}).join(" ")+"\r\n"),Z+="a=ice-options:trickle\r\n";var ve=l.getMediaSections(F._remoteDescription.sdp).length;F.transceivers.forEach(function(re,pe){if(!(pe+1>ve)){if(re.rejected)return"application"===re.kind?Z+="DTLS/SCTP"===re.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+re.protocol+" webrtc-datachannel\r\n":"audio"===re.kind?Z+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===re.kind&&(Z+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(Z+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+re.mid+"\r\n");var U;re.stream&&("audio"===re.kind?U=re.stream.getAudioTracks()[0]:"video"===re.kind&&(U=re.stream.getVideoTracks()[0]),U&&K>=15019&&"video"===re.kind&&!re.sendEncodingParameters[0].rtx&&(re.sendEncodingParameters[0].rtx={ssrc:re.sendEncodingParameters[0].ssrc+1}));var he=Y(re.localCapabilities,re.remoteCapabilities);!he.codecs.filter(function(W){return"rtx"===W.name.toLowerCase()}).length&&re.sendEncodingParameters[0].rtx&&delete re.sendEncodingParameters[0].rtx,Z+=q(re,he,"answer",re.stream,F._dtlsRole),re.rtcpParameters&&re.rtcpParameters.reducedSize&&(Z+="a=rtcp-rsize\r\n")}});var ye=new B.RTCSessionDescription({type:"answer",sdp:Z});return Promise.resolve(ye)},me.prototype.addIceCandidate=function(F){var ve,Z=this;return F&&void 0===F.sdpMLineIndex&&!F.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(ye,re){if(!Z._remoteDescription)return re(V("InvalidStateError","Can not add ICE candidate without a remote description"));if(F&&""!==F.candidate){var U=F.sdpMLineIndex;if(F.sdpMid)for(var he=0;he<Z.transceivers.length;he++)if(Z.transceivers[he].mid===F.sdpMid){U=he;break}var le=Z.transceivers[U];if(!le)return re(V("OperationError","Can not add ICE candidate"));if(le.rejected)return ye();var W=Object.keys(F.candidate).length>0?l.parseCandidate(F.candidate):{};if("tcp"===W.protocol&&(0===W.port||9===W.port)||W.component&&1!==W.component)return ye();if((0===U||U>0&&le.iceTransport!==Z.transceivers[0].iceTransport)&&!I(le.iceTransport,W))return re(V("OperationError","Can not add ICE candidate"));var ee=F.candidate.trim();0===ee.indexOf("a=")&&(ee=ee.substr(2)),(ve=l.getMediaSections(Z._remoteDescription.sdp))[U]+="a="+(W.type?ee:"end-of-candidates")+"\r\n",Z._remoteDescription.sdp=l.getDescription(Z._remoteDescription.sdp)+ve.join("")}else for(var pe=0;pe<Z.transceivers.length&&(Z.transceivers[pe].rejected||(Z.transceivers[pe].iceTransport.addRemoteCandidate({}),(ve=l.getMediaSections(Z._remoteDescription.sdp))[pe]+="a=end-of-candidates\r\n",Z._remoteDescription.sdp=l.getDescription(Z._remoteDescription.sdp)+ve.join(""),!Z.usingBundle));pe++);ye()})},me.prototype.getStats=function(F){if(F&&F instanceof B.MediaStreamTrack){var Z=null;if(this.transceivers.forEach(function(ye){ye.rtpSender&&ye.rtpSender.track===F?Z=ye.rtpSender:ye.rtpReceiver&&ye.rtpReceiver.track===F&&(Z=ye.rtpReceiver)}),!Z)throw V("InvalidAccessError","Invalid selector.");return Z.getStats()}var ve=[];return this.transceivers.forEach(function(ye){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(re){ye[re]&&ve.push(ye[re].getStats())})}),Promise.all(ve).then(function(ye){var re=new Map;return ye.forEach(function(pe){pe.forEach(function(U){re.set(U.id,U)})}),re})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(F){var Z=B[F];if(Z&&Z.prototype&&Z.prototype.getStats){var ve=Z.prototype.getStats;Z.prototype.getStats=function(){return ve.apply(this).then(function(ye){var re=new Map;return Object.keys(ye).forEach(function(pe){ye[pe].type=function N(B){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[B.type]||B.type}(ye[pe]),re.set(pe,ye[pe])}),re})}}});var Ge=["createOffer","createAnswer"];return Ge.forEach(function(F){var Z=me.prototype[F];me.prototype[F]=function(){var ve=arguments;return"function"==typeof ve[0]||"function"==typeof ve[1]?Z.apply(this,[arguments[2]]).then(function(ye){"function"==typeof ve[0]&&ve[0].apply(null,[ye])},function(ye){"function"==typeof ve[1]&&ve[1].apply(null,[ye])}):Z.apply(this,arguments)}}),(Ge=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(F){var Z=me.prototype[F];me.prototype[F]=function(){var ve=arguments;return"function"==typeof ve[1]||"function"==typeof ve[2]?Z.apply(this,arguments).then(function(){"function"==typeof ve[1]&&ve[1].apply(null)},function(ye){"function"==typeof ve[2]&&ve[2].apply(null,[ye])}):Z.apply(this,arguments)}}),["getStats"].forEach(function(F){var Z=me.prototype[F];me.prototype[F]=function(){var ve=arguments;return"function"==typeof ve[1]?Z.apply(this,arguments).then(function(){"function"==typeof ve[1]&&ve[1].apply(null)}):Z.apply(this,arguments)}}),me}},5619:(et,J,T)=>{"use strict";T.d(J,{X:()=>N});var l=T(8645);class N extends l.x{constructor(Q){super(),this._value=Q}get value(){return this.getValue()}_subscribe(Q){const Y=super._subscribe(Q);return!Y.closed&&Q.next(this._value),Y}getValue(){const{hasError:Q,thrownError:Y,_value:fe}=this;if(Q)throw Y;return this._throwIfClosed(),fe}next(Q){super.next(this._value=Q)}}},5592:(et,J,T)=>{"use strict";T.d(J,{y:()=>V});var l=T(1887),N=T(7394),q=T(4850),Q=T(8407),Y=T(2653),fe=T(4674),I=T(1441);let V=(()=>{class Ce{constructor(me){me&&(this._subscribe=me)}lift(me){const Fe=new Ce;return Fe.source=this,Fe.operator=me,Fe}subscribe(me,Fe,Ge){const F=function ie(Ce){return Ce&&Ce instanceof l.Lv||function K(Ce){return Ce&&(0,fe.m)(Ce.next)&&(0,fe.m)(Ce.error)&&(0,fe.m)(Ce.complete)}(Ce)&&(0,N.Nn)(Ce)}(me)?me:new l.Hp(me,Fe,Ge);return(0,I.x)(()=>{const{operator:Z,source:ve}=this;F.add(Z?Z.call(F,ve):ve?this._subscribe(F):this._trySubscribe(F))}),F}_trySubscribe(me){try{return this._subscribe(me)}catch(Fe){me.error(Fe)}}forEach(me,Fe){return new(Fe=B(Fe))((Ge,F)=>{const Z=new l.Hp({next:ve=>{try{me(ve)}catch(ye){F(ye),Z.unsubscribe()}},error:F,complete:Ge});this.subscribe(Z)})}_subscribe(me){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(me)}[q.L](){return this}pipe(...me){return(0,Q.U)(me)(this)}toPromise(me){return new(me=B(me))((Fe,Ge)=>{let F;this.subscribe(Z=>F=Z,Z=>Ge(Z),()=>Fe(F))})}}return Ce.create=Ne=>new Ce(Ne),Ce})();function B(Ce){var Ne;return null!==(Ne=Ce??Y.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(et,J,T)=>{"use strict";T.d(J,{x:()=>I});var l=T(5592),N=T(7394);const Q=(0,T(2306).d)(B=>function(){B(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=T(9039),fe=T(1441);let I=(()=>{class B extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const Ce=new V(this,this);return Ce.operator=ie,Ce}_throwIfClosed(){if(this.closed)throw new Q}next(ie){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(ie)}})}error(ie){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(ie)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:Ce,isStopped:Ne,observers:me}=this;return Ce||Ne?N.Lc:(this.currentObservers=null,me.push(ie),new N.w0(()=>{this.currentObservers=null,(0,Y.P)(me,ie)}))}_checkFinalizedStatuses(ie){const{hasError:Ce,thrownError:Ne,isStopped:me}=this;Ce?ie.error(Ne):me&&ie.complete()}asObservable(){const ie=new l.y;return ie.source=this,ie}}return B.create=(K,ie)=>new V(K,ie),B})();class V extends I{constructor(K,ie){super(),this.destination=K,this.source=ie}next(K){var ie,Ce;null===(Ce=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===Ce||Ce.call(ie,K)}error(K){var ie,Ce;null===(Ce=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===Ce||Ce.call(ie,K)}complete(){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ie||ie.call(K)}_subscribe(K){var ie,Ce;return null!==(Ce=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(K))&&void 0!==Ce?Ce:N.Lc}}},1887:(et,J,T)=>{"use strict";T.d(J,{Hp:()=>Ge,Lv:()=>Ce});var l=T(4674),N=T(7394),q=T(2653),Q=T(3894);function Y(){}const fe=B("C",void 0,void 0);function B(re,pe,U){return{kind:re,value:pe,error:U}}var K=T(7599),ie=T(1441);class Ce extends N.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,N.Nn)(pe)&&pe.add(this)):this.destination=ye}static create(pe,U,he){return new Ge(pe,U,he)}next(pe){this.isStopped?ve(function V(re){return B("N",re,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?ve(function I(re){return B("E",void 0,re)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?ve(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function me(re,pe){return Ne.call(re,pe)}class Fe{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:U}=this;if(U.next)try{U.next(pe)}catch(he){F(he)}}error(pe){const{partialObserver:U}=this;if(U.error)try{U.error(pe)}catch(he){F(he)}else F(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(U){F(U)}}}class Ge extends Ce{constructor(pe,U,he){let le;if(super(),(0,l.m)(pe)||!pe)le={next:pe??void 0,error:U??void 0,complete:he??void 0};else{let W;this&&q.config.useDeprecatedNextContext?(W=Object.create(pe),W.unsubscribe=()=>this.unsubscribe(),le={next:pe.next&&me(pe.next,W),error:pe.error&&me(pe.error,W),complete:pe.complete&&me(pe.complete,W)}):le=pe}this.destination=new Fe(le)}}function F(re){q.config.useDeprecatedSynchronousErrorHandling?(0,ie.O)(re):(0,Q.h)(re)}function ve(re,pe){const{onStoppedNotification:U}=q.config;U&&K.z.setTimeout(()=>U(re,pe))}const ye={closed:!0,next:Y,error:function Z(re){throw re},complete:Y}},7394:(et,J,T)=>{"use strict";T.d(J,{Lc:()=>fe,w0:()=>Y,Nn:()=>I});var l=T(4674);const q=(0,T(2306).d)(B=>function(ie){B(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((Ce,Ne)=>`${Ne+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var Q=T(9039);class Y{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const me of ie)me.remove(this);else ie.remove(this);const{initialTeardown:Ce}=this;if((0,l.m)(Ce))try{Ce()}catch(me){K=me instanceof q?me.errors:[me]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const me of Ne)try{V(me)}catch(Fe){K=K??[],Fe instanceof q?K=[...K,...Fe.errors]:K.push(Fe)}}if(K)throw new q(K)}}add(K){var ie;if(K&&K!==this)if(this.closed)V(K);else{if(K instanceof Y){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(K)}}_hasParent(K){const{_parentage:ie}=this;return ie===K||Array.isArray(ie)&&ie.includes(K)}_addParent(K){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(K),ie):ie?[ie,K]:K}_removeParent(K){const{_parentage:ie}=this;ie===K?this._parentage=null:Array.isArray(ie)&&(0,Q.P)(ie,K)}remove(K){const{_finalizers:ie}=this;ie&&(0,Q.P)(ie,K),K instanceof Y&&K._removeParent(this)}}Y.EMPTY=(()=>{const B=new Y;return B.closed=!0,B})();const fe=Y.EMPTY;function I(B){return B instanceof Y||B&&"closed"in B&&(0,l.m)(B.remove)&&(0,l.m)(B.add)&&(0,l.m)(B.unsubscribe)}function V(B){(0,l.m)(B)?B():B.unsubscribe()}},2653:(et,J,T)=>{"use strict";T.d(J,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(et,J,T)=>{"use strict";T.d(J,{E:()=>N});const N=new(T(5592).y)(Y=>Y.complete())},7715:(et,J,T)=>{"use strict";T.d(J,{D:()=>he});var l=T(4829),N=T(7103),q=T(9360),Q=T(8251);function Y(le,W=0){return(0,q.e)((ee,$)=>{ee.subscribe((0,Q.x)($,De=>(0,N.f)($,le,()=>$.next(De),W),()=>(0,N.f)($,le,()=>$.complete(),W),De=>(0,N.f)($,le,()=>$.error(De),W)))})}function fe(le,W=0){return(0,q.e)((ee,$)=>{$.add(le.schedule(()=>ee.subscribe($),W))})}var B=T(5592),ie=T(4971),Ce=T(4674);function me(le,W){if(!le)throw new Error("Iterable cannot be null");return new B.y(ee=>{(0,N.f)(ee,W,()=>{const $=le[Symbol.asyncIterator]();(0,N.f)(ee,W,()=>{$.next().then(De=>{De.done?ee.complete():ee.next(De.value)})},0,!0)})})}var Fe=T(8382),Ge=T(4026),F=T(4266),Z=T(3664),ve=T(5726),ye=T(9853),re=T(541);function he(le,W){return W?function U(le,W){if(null!=le){if((0,Fe.c)(le))return function I(le,W){return(0,l.Xf)(le).pipe(fe(W),Y(W))}(le,W);if((0,F.z)(le))return function K(le,W){return new B.y(ee=>{let $=0;return W.schedule(function(){$===le.length?ee.complete():(ee.next(le[$++]),ee.closed||this.schedule())})})}(le,W);if((0,Ge.t)(le))return function V(le,W){return(0,l.Xf)(le).pipe(fe(W),Y(W))}(le,W);if((0,ve.D)(le))return me(le,W);if((0,Z.T)(le))return function Ne(le,W){return new B.y(ee=>{let $;return(0,N.f)(ee,W,()=>{$=le[ie.h](),(0,N.f)(ee,W,()=>{let De,We;try{({value:De,done:We}=$.next())}catch(Me){return void ee.error(Me)}We?ee.complete():ee.next(De)},0,!0)}),()=>(0,Ce.m)($?.return)&&$.return()})}(le,W);if((0,re.L)(le))return function pe(le,W){return me((0,re.Q)(le),W)}(le,W)}throw(0,ye.z)(le)}(le,W):(0,l.Xf)(le)}},4829:(et,J,T)=>{"use strict";T.d(J,{Xf:()=>Ne});var l=T(7582),N=T(4266),q=T(4026),Q=T(5592),Y=T(8382),fe=T(5726),I=T(9853),V=T(3664),B=T(541),K=T(4674),ie=T(3894),Ce=T(4850);function Ne(re){if(re instanceof Q.y)return re;if(null!=re){if((0,Y.c)(re))return function me(re){return new Q.y(pe=>{const U=re[Ce.L]();if((0,K.m)(U.subscribe))return U.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,N.z)(re))return function Fe(re){return new Q.y(pe=>{for(let U=0;U<re.length&&!pe.closed;U++)pe.next(re[U]);pe.complete()})}(re);if((0,q.t)(re))return function Ge(re){return new Q.y(pe=>{re.then(U=>{pe.closed||(pe.next(U),pe.complete())},U=>pe.error(U)).then(null,ie.h)})}(re);if((0,fe.D)(re))return Z(re);if((0,V.T)(re))return function F(re){return new Q.y(pe=>{for(const U of re)if(pe.next(U),pe.closed)return;pe.complete()})}(re);if((0,B.L)(re))return function ve(re){return Z((0,B.Q)(re))}(re)}throw(0,I.z)(re)}function Z(re){return new Q.y(pe=>{(function ye(re,pe){var U,he,le,W;return(0,l.mG)(this,void 0,void 0,function*(){try{for(U=(0,l.KL)(re);!(he=yield U.next()).done;)if(pe.next(he.value),pe.closed)return}catch(ee){le={error:ee}}finally{try{he&&!he.done&&(W=U.return)&&(yield W.call(U))}finally{if(le)throw le.error}}pe.complete()})})(re,pe).catch(U=>pe.error(U))})}},2096:(et,J,T)=>{"use strict";T.d(J,{of:()=>q});var l=T(4564),N=T(7715);function q(...Q){const Y=(0,l.yG)(Q);return(0,N.D)(Q,Y)}},8251:(et,J,T)=>{"use strict";T.d(J,{x:()=>N});var l=T(1887);function N(Q,Y,fe,I,V){return new q(Q,Y,fe,I,V)}class q extends l.Lv{constructor(Y,fe,I,V,B,K){super(Y),this.onFinalize=B,this.shouldUnsubscribe=K,this._next=fe?function(ie){try{fe(ie)}catch(Ce){Y.error(Ce)}}:super._next,this._error=V?function(ie){try{V(ie)}catch(Ce){Y.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=I?function(){try{I()}catch(ie){Y.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},7398:(et,J,T)=>{"use strict";T.d(J,{U:()=>q});var l=T(9360),N=T(8251);function q(Q,Y){return(0,l.e)((fe,I)=>{let V=0;fe.subscribe((0,N.x)(I,B=>{I.next(Q.call(Y,B,V++))}))})}},7537:(et,J,T)=>{"use strict";T.d(J,{J:()=>q});var l=T(1631),N=T(2737);function q(Q=1/0){return(0,l.z)(N.y,Q)}},1631:(et,J,T)=>{"use strict";T.d(J,{z:()=>V});var l=T(7398),N=T(4829),q=T(9360),Q=T(7103),Y=T(8251),I=T(4674);function V(B,K,ie=1/0){return(0,I.m)(K)?V((Ce,Ne)=>(0,l.U)((me,Fe)=>K(Ce,me,Ne,Fe))((0,N.Xf)(B(Ce,Ne))),ie):("number"==typeof K&&(ie=K),(0,q.e)((Ce,Ne)=>function fe(B,K,ie,Ce,Ne,me,Fe,Ge){const F=[];let Z=0,ve=0,ye=!1;const re=()=>{ye&&!F.length&&!Z&&K.complete()},pe=he=>Z<Ce?U(he):F.push(he),U=he=>{me&&K.next(he),Z++;let le=!1;(0,N.Xf)(ie(he,ve++)).subscribe((0,Y.x)(K,W=>{Ne?.(W),me?pe(W):K.next(W)},()=>{le=!0},void 0,()=>{if(le)try{for(Z--;F.length&&Z<Ce;){const W=F.shift();Fe?(0,Q.f)(K,Fe,()=>U(W)):U(W)}re()}catch(W){K.error(W)}}))};return B.subscribe((0,Y.x)(K,pe,()=>{ye=!0,re()})),()=>{Ge?.()}}(Ce,Ne,B,ie)))}},4664:(et,J,T)=>{"use strict";T.d(J,{w:()=>Q});var l=T(4829),N=T(9360),q=T(8251);function Q(Y,fe){return(0,N.e)((I,V)=>{let B=null,K=0,ie=!1;const Ce=()=>ie&&!B&&V.complete();I.subscribe((0,q.x)(V,Ne=>{B?.unsubscribe();let me=0;const Fe=K++;(0,l.Xf)(Y(Ne,Fe)).subscribe(B=(0,q.x)(V,Ge=>V.next(fe?fe(Ne,Ge,Fe,me++):Ge),()=>{B=null,Ce()}))},()=>{ie=!0,Ce()}))})}},7599:(et,J,T)=>{"use strict";T.d(J,{z:()=>l});const l={setTimeout(N,q,...Q){const{delegate:Y}=l;return Y?.setTimeout?Y.setTimeout(N,q,...Q):setTimeout(N,q,...Q)},clearTimeout(N){const{delegate:q}=l;return(q?.clearTimeout||clearTimeout)(N)},delegate:void 0}},4971:(et,J,T)=>{"use strict";T.d(J,{h:()=>N});const N=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(et,J,T)=>{"use strict";T.d(J,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(et,J,T)=>{"use strict";T.d(J,{_6:()=>fe,jO:()=>Q,yG:()=>Y});var l=T(4674);function q(I){return I[I.length-1]}function Q(I){return(0,l.m)(q(I))?I.pop():void 0}function Y(I){return function N(I){return I&&(0,l.m)(I.schedule)}(q(I))?I.pop():void 0}function fe(I,V){return"number"==typeof q(I)?I.pop():V}},7453:(et,J,T)=>{"use strict";T.d(J,{D:()=>Y});const{isArray:l}=Array,{getPrototypeOf:N,prototype:q,keys:Q}=Object;function Y(I){if(1===I.length){const V=I[0];if(l(V))return{args:V,keys:null};if(function fe(I){return I&&"object"==typeof I&&N(I)===q}(V)){const B=Q(V);return{args:B.map(K=>V[K]),keys:B}}}return{args:I,keys:null}}},9039:(et,J,T)=>{"use strict";function l(N,q){if(N){const Q=N.indexOf(q);0<=Q&&N.splice(Q,1)}}T.d(J,{P:()=>l})},2306:(et,J,T)=>{"use strict";function l(N){const Q=N(Y=>{Error.call(Y),Y.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}T.d(J,{d:()=>l})},2714:(et,J,T)=>{"use strict";function l(N,q){return N.reduce((Q,Y,fe)=>(Q[Y]=q[fe],Q),{})}T.d(J,{n:()=>l})},1441:(et,J,T)=>{"use strict";T.d(J,{O:()=>Q,x:()=>q});var l=T(2653);let N=null;function q(Y){if(l.config.useDeprecatedSynchronousErrorHandling){const fe=!N;if(fe&&(N={errorThrown:!1,error:null}),Y(),fe){const{errorThrown:I,error:V}=N;if(N=null,I)throw V}}else Y()}function Q(Y){l.config.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=Y)}},7103:(et,J,T)=>{"use strict";function l(N,q,Q,Y=0,fe=!1){const I=q.schedule(function(){Q(),fe?N.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(N.add(I),!fe)return I}T.d(J,{f:()=>l})},2737:(et,J,T)=>{"use strict";function l(N){return N}T.d(J,{y:()=>l})},4266:(et,J,T)=>{"use strict";T.d(J,{z:()=>l});const l=N=>N&&"number"==typeof N.length&&"function"!=typeof N},5726:(et,J,T)=>{"use strict";T.d(J,{D:()=>N});var l=T(4674);function N(q){return Symbol.asyncIterator&&(0,l.m)(q?.[Symbol.asyncIterator])}},4674:(et,J,T)=>{"use strict";function l(N){return"function"==typeof N}T.d(J,{m:()=>l})},8382:(et,J,T)=>{"use strict";T.d(J,{c:()=>q});var l=T(4850),N=T(4674);function q(Q){return(0,N.m)(Q[l.L])}},3664:(et,J,T)=>{"use strict";T.d(J,{T:()=>q});var l=T(4971),N=T(4674);function q(Q){return(0,N.m)(Q?.[l.h])}},4026:(et,J,T)=>{"use strict";T.d(J,{t:()=>N});var l=T(4674);function N(q){return(0,l.m)(q?.then)}},541:(et,J,T)=>{"use strict";T.d(J,{L:()=>Q,Q:()=>q});var l=T(7582),N=T(4674);function q(Y){return(0,l.FC)(this,arguments,function*(){const I=Y.getReader();try{for(;;){const{value:V,done:B}=yield(0,l.qq)(I.read());if(B)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(V)}}finally{I.releaseLock()}})}function Q(Y){return(0,N.m)(Y?.getReader)}},9360:(et,J,T)=>{"use strict";T.d(J,{A:()=>N,e:()=>q});var l=T(4674);function N(Q){return(0,l.m)(Q?.lift)}function q(Q){return Y=>{if(N(Y))return Y.lift(function(fe){try{return Q(fe,this)}catch(I){this.error(I)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(et,J,T)=>{"use strict";T.d(J,{Z:()=>Q});var l=T(7398);const{isArray:N}=Array;function Q(Y){return(0,l.U)(fe=>function q(Y,fe){return N(fe)?Y(...fe):Y(fe)}(Y,fe))}},8407:(et,J,T)=>{"use strict";T.d(J,{U:()=>q,z:()=>N});var l=T(2737);function N(...Q){return q(Q)}function q(Q){return 0===Q.length?l.y:1===Q.length?Q[0]:function(fe){return Q.reduce((I,V)=>V(I),fe)}}},3894:(et,J,T)=>{"use strict";T.d(J,{h:()=>q});var l=T(2653),N=T(7599);function q(Q){N.z.setTimeout(()=>{const{onUnhandledError:Y}=l.config;if(!Y)throw Q;Y(Q)})}},9853:(et,J,T)=>{"use strict";function l(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(J,{z:()=>l})},2917:et=>{"use strict";var J={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};J.localCName=J.generateIdentifier(),J.splitLines=function(T){return T.trim().split("\n").map(function(l){return l.trim()})},J.splitSections=function(T){return T.split("\nm=").map(function(N,q){return(q>0?"m="+N:N).trim()+"\r\n"})},J.getDescription=function(T){var l=J.splitSections(T);return l&&l[0]},J.getMediaSections=function(T){var l=J.splitSections(T);return l.shift(),l},J.matchPrefix=function(T,l){return J.splitLines(T).filter(function(N){return 0===N.indexOf(l)})},J.parseCandidate=function(T){for(var l,N={foundation:(l=0===T.indexOf("a=candidate:")?T.substring(12).split(" "):T.substring(10).split(" "))[0],component:parseInt(l[1],10),protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]},q=8;q<l.length;q+=2)switch(l[q]){case"raddr":N.relatedAddress=l[q+1];break;case"rport":N.relatedPort=parseInt(l[q+1],10);break;case"tcptype":N.tcpType=l[q+1];break;case"ufrag":N.ufrag=l[q+1],N.usernameFragment=l[q+1];break;default:N[l[q]]=l[q+1]}return N},J.writeCandidate=function(T){var l=[];l.push(T.foundation),l.push(T.component),l.push(T.protocol.toUpperCase()),l.push(T.priority),l.push(T.address||T.ip),l.push(T.port);var N=T.type;return l.push("typ"),l.push(N),"host"!==N&&T.relatedAddress&&T.relatedPort&&(l.push("raddr"),l.push(T.relatedAddress),l.push("rport"),l.push(T.relatedPort)),T.tcpType&&"tcp"===T.protocol.toLowerCase()&&(l.push("tcptype"),l.push(T.tcpType)),(T.usernameFragment||T.ufrag)&&(l.push("ufrag"),l.push(T.usernameFragment||T.ufrag)),"candidate:"+l.join(" ")},J.parseIceOptions=function(T){return T.substr(14).split(" ")},J.parseRtpMap=function(T){var l=T.substr(9).split(" "),N={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),N.name=l[0],N.clockRate=parseInt(l[1],10),N.channels=3===l.length?parseInt(l[2],10):1,N.numChannels=N.channels,N},J.writeRtpMap=function(T){var l=T.payloadType;void 0!==T.preferredPayloadType&&(l=T.preferredPayloadType);var N=T.channels||T.numChannels||1;return"a=rtpmap:"+l+" "+T.name+"/"+T.clockRate+(1!==N?"/"+N:"")+"\r\n"},J.parseExtmap=function(T){var l=T.substr(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1]}},J.writeExtmap=function(T){return"a=extmap:"+(T.id||T.preferredId)+(T.direction&&"sendrecv"!==T.direction?"/"+T.direction:"")+" "+T.uri+"\r\n"},J.parseFmtp=function(T){for(var N,l={},q=T.substr(T.indexOf(" ")+1).split(";"),Q=0;Q<q.length;Q++)l[(N=q[Q].trim().split("="))[0].trim()]=N[1];return l},J.writeFmtp=function(T){var l="",N=T.payloadType;if(void 0!==T.preferredPayloadType&&(N=T.preferredPayloadType),T.parameters&&Object.keys(T.parameters).length){var q=[];Object.keys(T.parameters).forEach(function(Q){q.push(T.parameters[Q]?Q+"="+T.parameters[Q]:Q)}),l+="a=fmtp:"+N+" "+q.join(";")+"\r\n"}return l},J.parseRtcpFb=function(T){var l=T.substr(T.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},J.writeRtcpFb=function(T){var l="",N=T.payloadType;return void 0!==T.preferredPayloadType&&(N=T.preferredPayloadType),T.rtcpFeedback&&T.rtcpFeedback.length&&T.rtcpFeedback.forEach(function(q){l+="a=rtcp-fb:"+N+" "+q.type+(q.parameter&&q.parameter.length?" "+q.parameter:"")+"\r\n"}),l},J.parseSsrcMedia=function(T){var l=T.indexOf(" "),N={ssrc:parseInt(T.substr(7,l-7),10)},q=T.indexOf(":",l);return q>-1?(N.attribute=T.substr(l+1,q-l-1),N.value=T.substr(q+1)):N.attribute=T.substr(l+1),N},J.parseSsrcGroup=function(T){var l=T.substr(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(function(N){return parseInt(N,10)})}},J.getMid=function(T){var l=J.matchPrefix(T,"a=mid:")[0];if(l)return l.substr(6)},J.parseFingerprint=function(T){var l=T.substr(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1]}},J.getDtlsParameters=function(T,l){return{role:"auto",fingerprints:J.matchPrefix(T+l,"a=fingerprint:").map(J.parseFingerprint)}},J.writeDtlsParameters=function(T,l){var N="a=setup:"+l+"\r\n";return T.fingerprints.forEach(function(q){N+="a=fingerprint:"+q.algorithm+" "+q.value+"\r\n"}),N},J.parseCryptoLine=function(T){var l=T.substr(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},J.writeCryptoLine=function(T){return"a=crypto:"+T.tag+" "+T.cryptoSuite+" "+("object"==typeof T.keyParams?J.writeCryptoKeyParams(T.keyParams):T.keyParams)+(T.sessionParams?" "+T.sessionParams.join(" "):"")+"\r\n"},J.parseCryptoKeyParams=function(T){if(0!==T.indexOf("inline:"))return null;var l=T.substr(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},J.writeCryptoKeyParams=function(T){return T.keyMethod+":"+T.keySalt+(T.lifeTime?"|"+T.lifeTime:"")+(T.mkiValue&&T.mkiLength?"|"+T.mkiValue+":"+T.mkiLength:"")},J.getCryptoParameters=function(T,l){return J.matchPrefix(T+l,"a=crypto:").map(J.parseCryptoLine)},J.getIceParameters=function(T,l){var N=J.matchPrefix(T+l,"a=ice-ufrag:")[0],q=J.matchPrefix(T+l,"a=ice-pwd:")[0];return N&&q?{usernameFragment:N.substr(12),password:q.substr(10)}:null},J.writeIceParameters=function(T){return"a=ice-ufrag:"+T.usernameFragment+"\r\na=ice-pwd:"+T.password+"\r\n"},J.parseRtpParameters=function(T){for(var l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},q=J.splitLines(T)[0].split(" "),Q=3;Q<q.length;Q++){var Y=q[Q],fe=J.matchPrefix(T,"a=rtpmap:"+Y+" ")[0];if(fe){var I=J.parseRtpMap(fe),V=J.matchPrefix(T,"a=fmtp:"+Y+" ");switch(I.parameters=V.length?J.parseFmtp(V[0]):{},I.rtcpFeedback=J.matchPrefix(T,"a=rtcp-fb:"+Y+" ").map(J.parseRtcpFb),l.codecs.push(I),I.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(I.name.toUpperCase())}}}return J.matchPrefix(T,"a=extmap:").forEach(function(B){l.headerExtensions.push(J.parseExtmap(B))}),l},J.writeRtpDescription=function(T,l){var N="";N+="m="+T+" ",N+=l.codecs.length>0?"9":"0",N+=" UDP/TLS/RTP/SAVPF ",N+=l.codecs.map(function(Q){return void 0!==Q.preferredPayloadType?Q.preferredPayloadType:Q.payloadType}).join(" ")+"\r\n",N+="c=IN IP4 0.0.0.0\r\n",N+="a=rtcp:9 IN IP4 0.0.0.0\r\n",l.codecs.forEach(function(Q){N+=J.writeRtpMap(Q),N+=J.writeFmtp(Q),N+=J.writeRtcpFb(Q)});var q=0;return l.codecs.forEach(function(Q){Q.maxptime>q&&(q=Q.maxptime)}),q>0&&(N+="a=maxptime:"+q+"\r\n"),N+="a=rtcp-mux\r\n",l.headerExtensions&&l.headerExtensions.forEach(function(Q){N+=J.writeExtmap(Q)}),N},J.parseRtpEncodingParameters=function(T){var I,l=[],N=J.parseRtpParameters(T),q=-1!==N.fecMechanisms.indexOf("RED"),Q=-1!==N.fecMechanisms.indexOf("ULPFEC"),Y=J.matchPrefix(T,"a=ssrc:").map(function(K){return J.parseSsrcMedia(K)}).filter(function(K){return"cname"===K.attribute}),fe=Y.length>0&&Y[0].ssrc,V=J.matchPrefix(T,"a=ssrc-group:FID").map(function(K){return K.substr(17).split(" ").map(function(Ce){return parseInt(Ce,10)})});V.length>0&&V[0].length>1&&V[0][0]===fe&&(I=V[0][1]),N.codecs.forEach(function(K){if("RTX"===K.name.toUpperCase()&&K.parameters.apt){var ie={ssrc:fe,codecPayloadType:parseInt(K.parameters.apt,10)};fe&&I&&(ie.rtx={ssrc:I}),l.push(ie),q&&((ie=JSON.parse(JSON.stringify(ie))).fec={ssrc:fe,mechanism:Q?"red+ulpfec":"red"},l.push(ie))}}),0===l.length&&fe&&l.push({ssrc:fe});var B=J.matchPrefix(T,"b=");return B.length&&(B=0===B[0].indexOf("b=TIAS:")?parseInt(B[0].substr(7),10):0===B[0].indexOf("b=AS:")?1e3*parseInt(B[0].substr(5),10)*.95-16e3:void 0,l.forEach(function(K){K.maxBitrate=B})),l},J.parseRtcpParameters=function(T){var l={},N=J.matchPrefix(T,"a=ssrc:").map(function(Y){return J.parseSsrcMedia(Y)}).filter(function(Y){return"cname"===Y.attribute})[0];N&&(l.cname=N.value,l.ssrc=N.ssrc);var q=J.matchPrefix(T,"a=rtcp-rsize");l.reducedSize=q.length>0,l.compound=0===q.length;var Q=J.matchPrefix(T,"a=rtcp-mux");return l.mux=Q.length>0,l},J.parseMsid=function(T){var l,N=J.matchPrefix(T,"a=msid:");if(1===N.length)return{stream:(l=N[0].substr(7).split(" "))[0],track:l[1]};var q=J.matchPrefix(T,"a=ssrc:").map(function(Q){return J.parseSsrcMedia(Q)}).filter(function(Q){return"msid"===Q.attribute});return q.length>0?{stream:(l=q[0].value.split(" "))[0],track:l[1]}:void 0},J.parseSctpDescription=function(T){var q,l=J.parseMLine(T),N=J.matchPrefix(T,"a=max-message-size:");N.length>0&&(q=parseInt(N[0].substr(19),10)),isNaN(q)&&(q=65536);var Q=J.matchPrefix(T,"a=sctp-port:");if(Q.length>0)return{port:parseInt(Q[0].substr(12),10),protocol:l.fmt,maxMessageSize:q};if(J.matchPrefix(T,"a=sctpmap:").length>0){var fe=J.matchPrefix(T,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(fe[0],10),protocol:fe[1],maxMessageSize:q}}},J.writeSctpDescription=function(T,l){var N=[];return N="DTLS/SCTP"!==T.protocol?["m="+T.kind+" 9 "+T.protocol+" "+l.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+l.port+"\r\n"]:["m="+T.kind+" 9 "+T.protocol+" "+l.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+l.port+" "+l.protocol+" 65535\r\n"],void 0!==l.maxMessageSize&&N.push("a=max-message-size:"+l.maxMessageSize+"\r\n"),N.join("")},J.generateSessionId=function(){return Math.random().toString().substr(2,21)},J.writeSessionBoilerplate=function(T,l,N){var Q=void 0!==l?l:2;return"v=0\r\no="+(N||"thisisadapterortc")+" "+(T||J.generateSessionId())+" "+Q+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},J.writeMediaSection=function(T,l,N,q){var Q=J.writeRtpDescription(T.kind,l);if(Q+=J.writeIceParameters(T.iceGatherer.getLocalParameters()),Q+=J.writeDtlsParameters(T.dtlsTransport.getLocalParameters(),"offer"===N?"actpass":"active"),Q+="a=mid:"+T.mid+"\r\n",Q+=T.direction?"a="+T.direction+"\r\n":T.rtpSender&&T.rtpReceiver?"a=sendrecv\r\n":T.rtpSender?"a=sendonly\r\n":T.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",T.rtpSender){var Y="msid:"+q.id+" "+T.rtpSender.track.id+"\r\n";Q+="a="+Y,Q+="a=ssrc:"+T.sendEncodingParameters[0].ssrc+" "+Y,T.sendEncodingParameters[0].rtx&&(Q+="a=ssrc:"+T.sendEncodingParameters[0].rtx.ssrc+" "+Y,Q+="a=ssrc-group:FID "+T.sendEncodingParameters[0].ssrc+" "+T.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return Q+="a=ssrc:"+T.sendEncodingParameters[0].ssrc+" cname:"+J.localCName+"\r\n",T.rtpSender&&T.sendEncodingParameters[0].rtx&&(Q+="a=ssrc:"+T.sendEncodingParameters[0].rtx.ssrc+" cname:"+J.localCName+"\r\n"),Q},J.getDirection=function(T,l){for(var N=J.splitLines(T),q=0;q<N.length;q++)switch(N[q]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return N[q].substr(2)}return l?J.getDirection(l):"sendrecv"},J.getKind=function(T){return J.splitLines(T)[0].split(" ")[0].substr(2)},J.isRejected=function(T){return"0"===T.split(" ",2)[1]},J.parseMLine=function(T){var N=J.splitLines(T)[0].substr(2).split(" ");return{kind:N[0],port:parseInt(N[1],10),protocol:N[2],fmt:N.slice(3).join(" ")}},J.parseOLine=function(T){var N=J.matchPrefix(T,"o=")[0].substr(2).split(" ");return{username:N[0],sessionId:N[1],sessionVersion:parseInt(N[2],10),netType:N[3],addressType:N[4],address:N[5]}},J.isValidSDP=function(T){if("string"!=typeof T||0===T.length)return!1;for(var l=J.splitLines(T),N=0;N<l.length;N++)if(l[N].length<2||"="!==l[N].charAt(1))return!1;return!0},et.exports=J},6814:(et,J,T)=>{"use strict";T.d(J,{Do:()=>Ge,EM:()=>lr,HT:()=>Q,JF:()=>En,K0:()=>fe,Mx:()=>Dn,O5:()=>Fr,PM:()=>vr,S$:()=>Ne,V_:()=>V,Ye:()=>F,b0:()=>Fe,bD:()=>Ut,ez:()=>Zn,q:()=>q,sg:()=>hr,w_:()=>Y});var l=T(4946);let N=null;function q(){return N}function Q(_){N||(N=_)}class Y{}const fe=new l.OlP("DocumentToken");let I=(()=>{class _{historyGo(C){throw new Error("Not implemented")}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return(0,l.f3M)(B)},providedIn:"platform"}),_})();const V=new l.OlP("Location Initialized");let B=(()=>{class _ extends I{constructor(){super(),this._doc=(0,l.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(C){const P=q().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",C,!1),()=>P.removeEventListener("popstate",C)}onHashChange(C){const P=q().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",C,!1),()=>P.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,P,z){this._history.pushState(C,P,z)}replaceState(C,P,z){this._history.replaceState(C,P,z)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return new _},providedIn:"platform"}),_})();function K(_,M){if(0==_.length)return M;if(0==M.length)return _;let C=0;return _.endsWith("/")&&C++,M.startsWith("/")&&C++,2==C?_+M.substring(1):1==C?_+M:_+"/"+M}function ie(_){const M=_.match(/#|\?|$/),C=M&&M.index||_.length;return _.slice(0,C-("/"===_[C-1]?1:0))+_.slice(C)}function Ce(_){return _&&"?"!==_[0]?"?"+_:_}let Ne=(()=>{class _{historyGo(C){throw new Error("Not implemented")}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275prov=l.Yz7({token:_,factory:function(){return(0,l.f3M)(Fe)},providedIn:"root"}),_})();const me=new l.OlP("appBaseHref");let Fe=(()=>{class _ extends Ne{constructor(C,P){super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return K(this._baseHref,C)}path(C=!1){const P=this._platformLocation.pathname+Ce(this._platformLocation.search),z=this._platformLocation.hash;return z&&C?`${P}${z}`:P}pushState(C,P,z,be){const we=this.prepareExternalUrl(z+Ce(be));this._platformLocation.pushState(C,P,we)}replaceState(C,P,z,be){const we=this.prepareExternalUrl(z+Ce(be));this._platformLocation.replaceState(C,P,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return _.\u0275fac=function(C){return new(C||_)(l.LFG(I),l.LFG(me,8))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Ge=(()=>{class _ extends Ne{constructor(C,P){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(C){const P=K(this._baseHref,C);return P.length>0?"#"+P:P}pushState(C,P,z,be){let we=this.prepareExternalUrl(z+Ce(be));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.pushState(C,P,we)}replaceState(C,P,z,be){let we=this.prepareExternalUrl(z+Ce(be));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.replaceState(C,P,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return _.\u0275fac=function(C){return new(C||_)(l.LFG(I),l.LFG(me,8))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac}),_})(),F=(()=>{class _{constructor(C){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const P=this._locationStrategy.getBaseHref();this._basePath=function re(_){if(new RegExp("^(https?:)?//").test(_)){const[,C]=_.split(/\/\/[^\/]+/);return C}return _}(ie(ye(P))),this._locationStrategy.onPopState(z=>{this._subject.emit({url:this.path(!0),pop:!0,state:z.state,type:z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,P=""){return this.path()==this.normalize(C+Ce(P))}normalize(C){return _.stripTrailingSlash(function ve(_,M){if(!_||!M.startsWith(_))return M;const C=M.substring(_.length);return""===C||["/",";","?","#"].includes(C[0])?C:M}(this._basePath,ye(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,P="",z=null){this._locationStrategy.pushState(z,"",C,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Ce(P)),z)}replaceState(C,P="",z=null){this._locationStrategy.replaceState(z,"",C,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Ce(P)),z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",P){this._urlChangeListeners.forEach(z=>z(C,P))}subscribe(C,P,z){return this._subject.subscribe({next:C,error:P,complete:z})}}return _.normalizeQueryParams=Ce,_.joinWithSlash=K,_.stripTrailingSlash=ie,_.\u0275fac=function(C){return new(C||_)(l.LFG(Ne))},_.\u0275prov=l.Yz7({token:_,factory:function(){return function Z(){return new F((0,l.LFG)(Ne))}()},providedIn:"root"}),_})();function ye(_){return _.replace(/\/index.html$/,"")}function Dn(_,M){M=encodeURIComponent(M);for(const C of _.split(";")){const P=C.indexOf("="),[z,be]=-1==P?[C,""]:[C.slice(0,P),C.slice(P+1)];if(z.trim()===M)return decodeURIComponent(be)}return null}class Wr{constructor(M,C,P,z){this.$implicit=M,this.ngForOf=C,this.index=P,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hr=(()=>{class _{set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}constructor(C,P,z){this._viewContainer=C,this._template=P,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const P=this._viewContainer;C.forEachOperation((z,be,we)=>{if(null==z.previousIndex)P.createEmbeddedView(this._template,new Wr(z.item,this._ngForOf,-1,-1),null===we?void 0:we);else if(null==we)P.remove(null===be?void 0:be);else if(null!==be){const Je=P.get(be);P.move(Je,we),Nr(Je,z)}});for(let z=0,be=P.length;z<be;z++){const Je=P.get(z).context;Je.index=z,Je.count=be,Je.ngForOf=this._ngForOf}C.forEachIdentityChange(z=>{Nr(P.get(z.currentIndex),z)})}static ngTemplateContextGuard(C,P){return!0}}return _.\u0275fac=function(C){return new(C||_)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},_.\u0275dir=l.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),_})();function Nr(_,M){_.context.$implicit=M.item}let Fr=(()=>{class _{constructor(C,P){this._viewContainer=C,this._context=new pr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){No("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){No("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,P){return!0}}return _.\u0275fac=function(C){return new(C||_)(l.Y36(l.s_b),l.Y36(l.Rgc))},_.\u0275dir=l.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),_})();class pr{constructor(){this.$implicit=null,this.ngIf=null}}function No(_,M){if(M&&!M.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,l.AaK)(M)}'.`)}let Zn=(()=>{class _{}return _.\u0275fac=function(C){return new(C||_)},_.\u0275mod=l.oAB({type:_}),_.\u0275inj=l.cJS({}),_})();const Ut="browser",cr="server";function vr(_){return _===cr}let lr=(()=>{class _{}return _.\u0275prov=(0,l.Yz7)({token:_,providedIn:"root",factory:()=>new Ln((0,l.LFG)(fe),window)}),_})();class Ln{constructor(M,C){this.document=M,this.window=C,this.offset=()=>[0,0]}setOffset(M){this.offset=Array.isArray(M)?()=>M:M}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(M){this.supportsScrolling()&&this.window.scrollTo(M[0],M[1])}scrollToAnchor(M){if(!this.supportsScrolling())return;const C=function Yr(_,M){const C=_.getElementById(M)||_.getElementsByName(M)[0];if(C)return C;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const P=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let z=P.currentNode;for(;z;){const be=z.shadowRoot;if(be){const we=be.getElementById(M)||be.querySelector(`[name="${M}"]`);if(we)return we}z=P.nextNode()}}return null}(this.document,M);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(M){if(this.supportScrollRestoration()){const C=this.window.history;C&&C.scrollRestoration&&(C.scrollRestoration=M)}}scrollToElement(M){const C=M.getBoundingClientRect(),P=C.left+this.window.pageXOffset,z=C.top+this.window.pageYOffset,be=this.offset();this.window.scrollTo(P-be[0],z-be[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const M=Rr(this.window.history)||Rr(Object.getPrototypeOf(this.window.history));return!(!M||!M.writable&&!M.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Rr(_){return Object.getOwnPropertyDescriptor(_,"scrollRestoration")}class En{}},4946:(et,J,T)=>{"use strict";T.d(J,{tb:()=>sd,AFp:()=>zf,ip1:()=>Pm,hGG:()=>dE,z2F:()=>_s,Ojb:()=>d_,sBO:()=>qS,Sil:()=>AS,EJc:()=>MS,Xts:()=>Ys,SBq:()=>Qs,lqb:()=>Si,qLn:()=>es,vpe:()=>Wo,XFs:()=>Ue,OlP:()=>nn,zs3:()=>ui,ZZ4:()=>fd,aQg:()=>hd,soG:()=>Fc,YKP:()=>Vg,h0i:()=>ms,PXZ:()=>$S,R0b:()=>kr,FiY:()=>Ha,Lbi:()=>Bl,g9A:()=>Wf,Qsj:()=>w_,FYo:()=>eh,JOm:()=>$o,tp0:()=>Ga,Rgc:()=>ma,dDg:()=>LS,eoX:()=>Hm,GfV:()=>th,s_b:()=>kc,ifc:()=>Wn,VuI:()=>CE,MMx:()=>jg,Lck:()=>c0,eFA:()=>Zm,Gpc:()=>W,f3M:()=>gt,$WT:()=>gr,_c5:()=>uE,qFp:()=>bE,rg0:()=>Da,c2e:()=>Om,zSh:()=>kl,HDt:()=>xm,wAp:()=>ut,vHH:()=>Pe,lri:()=>$m,rWj:()=>Um,cg1:()=>Pu,kL8:()=>lg,dqk:()=>Xt,Z0I:()=>Tr,eJc:()=>Ku,QGY:()=>bu,F4k:()=>fp,RDi:()=>Ov,AaK:()=>U,qOj:()=>lu,Xq5:()=>Wh,TTD:()=>Fi,_Bn:()=>Lg,jDz:()=>$g,xp6:()=>hh,uIk:()=>du,Tol:()=>Np,ekj:()=>Mu,Suo:()=>um,Xpm:()=>Zo,lG2:()=>Br,Yz7:()=>xt,cJS:()=>Ye,oAB:()=>lo,Yjl:()=>fo,Y36:()=>ns,_UZ:()=>_u,qZA:()=>Ec,TgZ:()=>Sc,EpF:()=>dp,n5z:()=>kd,LFG:()=>ct,$8M:()=>rl,$Z:()=>Ch,NdJ:()=>Su,CRH:()=>dm,oxw:()=>yp,Q6J:()=>yu,MGl:()=>wc,iGM:()=>lm,KtG:()=>mo,CHM:()=>Ts,LSH:()=>Rl,P3R:()=>Nf,Jzz:()=>Jp,YNc:()=>ip,_uU:()=>Up,Oqu:()=>Au,hij:()=>Ic,AsE:()=>Ru});var l=T(8645),N=T(7394),q=T(5619),Q=T(5592),Y=T(7537),fe=T(4829),I=T(6232),V=T(4564),B=T(7715),ie=T(2096),Ce=T(1887),Ne=T(9360);function me(e={}){const{connector:t=(()=>new l.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return a=>{let u,p,v,E=0,A=!1,L=!1;const X=()=>{p?.unsubscribe(),p=void 0},de=()=>{X(),u=v=void 0,A=L=!1},Ie=()=>{const ke=u;de(),ke?.unsubscribe()};return(0,Ne.e)((ke,He)=>{E++,!L&&!A&&X();const Xe=v=v??t();He.add(()=>{E--,0===E&&!L&&!A&&(p=Fe(Ie,o))}),Xe.subscribe(He),!u&&E>0&&(u=new Ce.Hp({next:Ae=>Xe.next(Ae),error:Ae=>{L=!0,X(),p=Fe(de,n,Ae),Xe.error(Ae)},complete:()=>{A=!0,X(),p=Fe(de,r),Xe.complete()}}),(0,fe.Xf)(ke).subscribe(u))})(a)}}function Fe(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Ce.Hp({next:()=>{r.unsubscribe(),e()}});return(0,fe.Xf)(t(...n)).subscribe(r)}var Ge=T(4664),F=T(2737),Z=T(8251);function ye(e,t){return e===t}function re(e){for(let t in e)if(e[t]===re)return t;throw Error("Could not find renamed property on target object.")}function pe(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function U(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(U).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function he(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const le=re({__forward_ref__:re});function W(e){return e.__forward_ref__=W,e.toString=function(){return U(this())},e}function ee(e){return $(e)?e():e}function $(e){return"function"==typeof e&&e.hasOwnProperty(le)&&e.__forward_ref__===W}function De(e){return e&&!!e.\u0275providers}const Me="https://g.co/ng/security#xss";class Pe extends Error{constructor(t,n){super(function ge(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function te(e){return"string"==typeof e?e:null==e?"":String(e)}function Be(e,t){throw new Pe(-201,!1)}function un(e,t){null==e&&function Le(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function xt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ye(e){return{providers:e.providers||[],imports:e.imports||[]}}function rt(e){return an(e,rn)||an(e,Qt)}function Tr(e){return null!==rt(e)}function an(e,t){return e.hasOwnProperty(t)?e[t]:null}function Nn(e){return e&&(e.hasOwnProperty(Gr)||e.hasOwnProperty(no))?e[Gr]:null}const rn=re({\u0275prov:re}),Gr=re({\u0275inj:re}),Qt=re({ngInjectableDef:re}),no=re({ngInjectorDef:re});var Ue=(()=>((Ue=Ue||{})[Ue.Default=0]="Default",Ue[Ue.Host=1]="Host",Ue[Ue.Self=2]="Self",Ue[Ue.SkipSelf=4]="SkipSelf",Ue[Ue.Optional=8]="Optional",Ue))();let Co;function kt(e){const t=Co;return Co=e,t}function bt(e,t,n){const r=rt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ue.Optional?null:void 0!==t?t:void Be(U(e))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tn={},Jn="__NG_DI_FLAG__",jt="ngTempTokenPath",Ee=/\n/gm,G="__source";let se;function je(e){const t=se;return se=e,t}function Ke(e,t=Ue.Default){if(void 0===se)throw new Pe(-203,!1);return null===se?bt(e,void 0,t):se.get(e,t&Ue.Optional?null:void 0,t)}function ct(e,t=Ue.Default){return(function sr(){return Co}()||Ke)(ee(e),t)}function gt(e,t=Ue.Default){return ct(e,_n(t))}function _n(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function zn(e){const t=[];for(let n=0;n<e.length;n++){const r=ee(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Pe(900,!1);let o,a=Ue.Default;for(let u=0;u<r.length;u++){const p=r[u],v=vt(p);"number"==typeof v?-1===v?o=p.token:a|=v:o=p}t.push(ct(o,a))}else t.push(ct(r))}return t}function $t(e,t){return e[Jn]=t,e.prototype[Jn]=t,e}function vt(e){return e[Jn]}function mt(e){return{toString:e}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),Wn=(()=>{return(e=Wn||(Wn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Wn;var e})();const Fn={},Dt=[],jn=re({\u0275cmp:re}),zr=re({\u0275dir:re}),Mr=re({\u0275pipe:re}),ro=re({\u0275mod:re}),Dn=re({\u0275fac:re}),Rn=re({__NG_ELEMENT_ID__:re}),Ir=re({__NG_ENV_ID__:re});function oo(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const a=t.length;if(o+a===r||e.charCodeAt(o+a)<=32)return o}n=o+1}}function fr(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const a=n[r++],u=n[r++],p=n[r++];e.setAttribute(t,u,p,a)}else{const a=o,u=n[++r];Wr(a)?e.setProperty(t,a,u):e.setAttribute(t,a,u),r++}}return r}function xo(e){return 3===e||4===e||6===e}function Wr(e){return 64===e.charCodeAt(0)}function hr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Nr(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Nr(e,t,n,r,o){let a=0,u=e.length;if(-1===t)u=-1;else for(;a<e.length;){const p=e[a++];if("number"==typeof p){if(p===t){u=-1;break}if(p>t){u=a-1;break}}}for(;a<e.length;){const p=e[a];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==o&&(e[a+1]=o));if(r===e[a+1])return void(e[a+2]=o)}a++,null!==r&&a++,null!==o&&a++}-1!==u&&(e.splice(u,0,t),a=u+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==o&&e.splice(a++,0,o)}const ko="ng-template";function Fr(e,t,n){let r=0,o=!0;for(;r<e.length;){let a=e[r++];if("string"==typeof a&&o){const u=e[r++];if(n&&"class"===a&&-1!==oo(u.toLowerCase(),t,0))return!0}else{if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(o=!1)}}return!1}function pr(e){return 4===e.type&&e.value!==ko}function No(e,t,n){return t===(4!==e.type||n?e.value:ko)}function Zr(e,t,n){let r=4;const o=e.attrs||[],a=function Pn(e){for(let t=0;t<e.length;t++)if(xo(e[t]))return t;return e.length}(o);let u=!1;for(let p=0;p<t.length;p++){const v=t[p];if("number"!=typeof v){if(!u)if(4&r){if(r=2|1&r,""!==v&&!No(e,v,n)||""===v&&1===t.length){if(fn(r))return!1;u=!0}}else{const E=8&r?v:t[++p];if(8&r&&null!==e.attrs){if(!Fr(e.attrs,E,n)){if(fn(r))return!1;u=!0}continue}const L=io(8&r?"class":v,o,pr(e),n);if(-1===L){if(fn(r))return!1;u=!0;continue}if(""!==E){let X;X=L>a?"":o[L+1].toLowerCase();const de=8&r?X:null;if(de&&-1!==oo(de,E,0)||2&r&&E!==X){if(fn(r))return!1;u=!0}}}}else{if(!u&&!fn(r)&&!fn(v))return!1;if(u&&fn(v))continue;u=!1,r=v|1&r}}return fn(r)||u}function fn(e){return 0==(1&e)}function io(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let a=!1;for(;o<t.length;){const u=t[o];if(u===e)return o;if(3===u||6===u)a=!0;else{if(1===u||2===u){let p=t[++o];for(;"string"==typeof p;)p=t[++o];continue}if(4===u)break;if(0===u){o+=4;continue}}o+=a?1:2}return-1}return function Fo(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function so(e,t,n=!1){for(let r=0;r<t.length;r++)if(Zr(e,t[r],n))return!0;return!1}function Vr(e,t){return e?":not("+t.trim()+")":t}function Do(e){let t=e[0],n=1,r=2,o="",a=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const p=e[++n];o+="["+u+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?o+="."+u:4&r&&(o+=" "+u);else""!==o&&!fn(u)&&(t+=Vr(a,o),o=""),r=u,a=a||!fn(r);n++}return""!==o&&(t+=Vr(a,o)),t}function Zo(e){return mt(()=>{const t=bo(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Wn.Emulated,styles:e.styles||Dt,_:null,schemas:e.schemas||null,tView:null,id:""};jr(n);const r=e.dependencies;return n.directiveDefs=mr(r,!1),n.pipeDefs=mr(r,!0),n.id=function yr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function co(e){return wt(e)||Sn(e)}function ni(e){return null!==e}function lo(e){return mt(()=>({type:e.type,bootstrap:e.bootstrap||Dt,declarations:e.declarations||Dt,imports:e.imports||Dt,exports:e.exports||Dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function uo(e,t){if(null==e)return Fn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],a=o;Array.isArray(o)&&(a=o[1],o=o[0]),n[o]=r,t&&(t[o]=a)}return n}function Br(e){return mt(()=>{const t=bo(e);return jr(t),t})}function fo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function wt(e){return e[jn]||null}function Sn(e){return e[zr]||null}function cn(e){return e[Mr]||null}function gr(e){const t=wt(e)||Sn(e)||cn(e);return null!==t&&t.standalone}function Nt(e,t){const n=e[ro]||null;if(!n&&!0===t)throw new Error(`Type ${U(e)} does not have '\u0275mod' property.`);return n}function bo(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Fn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Dt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:uo(e.inputs,t),outputs:uo(e.outputs)}}function jr(e){e.features?.forEach(t=>t(e))}function mr(e,t){if(!e)return null;const n=t?cn:co;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(ni)}const _e=0,$e=1,lt=2,it=3,It=4,Qn=5,ln=6,Zn=7,Ut=8,cr=9,Xn=10,at=11,$n=12,vr=13,_r=14,on=15,ho=16,lr=17,Ln=18,Rr=19,Yr=20,er=21,En=22,po=23,Tt=24,tt=25,So=1,qo=2,In=7,Kr=9,hn=11;function Ht(e){return Array.isArray(e)&&"object"==typeof e[So]}function Yt(e){return Array.isArray(e)&&!0===e[So]}function dt(e){return 0!=(4&e.flags)}function Un(e){return e.componentOffset>-1}function Ko(e){return 1==(1&e.flags)}function ur(e){return!!e.template}function Rt(e){return 0!=(512&e[lt])}function j(e,t){return e.hasOwnProperty(Dn)?e[Dn]:null}let Wt=Xt.WeakRef??class zt{constructor(t){this.ref=t}deref(){return this.ref}},Cs=0,tr=null,oi=!1;function pn(e){const t=tr;return tr=e,t}class Ri{constructor(){this.id=Cs++,this.ref=function Ai(e){return new Wt(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=oi;oi=!0;try{for(const[n,r]of this.consumers){const o=r.consumerNode.deref();void 0!==o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),o?.producers.delete(this.id))}}finally{oi=t}}producerAccessed(){if(oi)throw new Error("");if(null===tr)return;let t=tr.producers.get(this.id);void 0===t?(t={consumerNode:tr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:tr.trackingVersion},tr.producers.set(this.id,t),this.consumers.set(tr.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=tr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==tr?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let ki=null;function Da(e){const t=pn(null);try{return e()}finally{pn(t)}}const bs=()=>{};class ba extends Ri{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=bs,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=pn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=bs,this.watch(this.registerOnCleanup)}finally{pn(t)}}cleanup(){this.cleanupFn()}}class Sa{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Fi(){return Li}function Li(e){return e.type.prototype.ngOnChanges&&(e.setInput=_),yi}function yi(){const e=C(this),t=e?.current;if(t){const n=e.previous;if(n===Fn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function _(e,t,n,r){const o=this.declaredInputs[n],a=C(e)||function P(e,t){return e[M]=t}(e,{previous:Fn,current:null}),u=a.current||(a.current={}),p=a.previous,v=p[o];u[o]=new Sa(v&&v.currentValue,t,p===Fn),e[r]=t}Fi.ngInherit=!0;const M="__ngSimpleChanges__";function C(e){return e[M]||null}const we=function(e,t,n){};function st(e){for(;Array.isArray(e);)e=e[_e];return e}function yt(e,t){return st(t[e])}function Pt(e,t){return st(t[e.index])}function gn(e,t){return e.data[t]}function mn(e,t){const n=t[e];return Ht(n)?n:n[_e]}function rr(e,t){return null==t?null:e[t]}function Ur(e){e[lr]=0}function Gc(e){1024&e[lt]||(e[lt]|=1024,Cr(e,1))}function Ea(e){1024&e[lt]&&(e[lt]&=-1025,Cr(e,-1))}function Cr(e,t){let n=e[it];if(null===n)return;n[Qn]+=t;let r=n;for(n=n[it];null!==n&&(1===t&&1===r[Qn]||-1===t&&0===r[Qn]);)n[Qn]+=t,r=n,n=n[it]}const ft={lFrame:Os(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Es(){return ft.bindingsEnabled}function Oe(){return ft.lFrame.lView}function Vt(){return ft.lFrame.tView}function Ts(e){return ft.lFrame.contextLView=e,e[Ut]}function mo(e){return ft.lFrame.contextLView=null,e}function Yn(){let e=Yc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Yc(){return ft.lFrame.currentTNode}function Io(e,t){const n=ft.lFrame;n.currentTNode=e,n.isParent=t}function ji(){return ft.lFrame.isParent}function vi(){return ft.lFrame.bindingIndex++}function Bo(e){const t=ft.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Dd(e,t){const n=ft.lFrame;n.bindingIndex=n.bindingRootIndex=e,Is(t)}function Is(e){ft.lFrame.currentDirectiveIndex=e}function Pa(){return ft.lFrame.currentQueryIndex}function Rs(e){ft.lFrame.currentQueryIndex=e}function qc(e){const t=e[$e];return 2===t.type?t.declTNode:1===t.type?e[ln]:null}function Oa(e,t,n){if(n&Ue.SkipSelf){let o=t,a=e;for(;!(o=o.parent,null!==o||n&Ue.Host||(o=qc(a),null===o||(a=a[_r],10&o.type))););if(null===o)return!1;t=o,e=a}const r=ft.lFrame=xa();return r.currentTNode=t,r.lView=e,!0}function Ps(e){const t=xa(),n=e[$e];ft.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function xa(){const e=ft.lFrame,t=null===e?null:e.child;return null===t?Os(e):t}function Os(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ka(){const e=ft.lFrame;return ft.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Kc=ka;function Na(){const e=ka();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function br(){return ft.lFrame.selectedIndex}function si(e){ft.lFrame.selectedIndex=e}function h(){const e=ft.lFrame;return gn(e.tView,e.selectedIndex)}let k=!0;function ae(){return k}function Te(e){k=e}function Qe(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:E,ngOnDestroy:A}=a;u&&(e.contentHooks??=[]).push(-n,u),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),v&&(e.viewHooks??=[]).push(-n,v),E&&((e.viewHooks??=[]).push(n,E),(e.viewCheckHooks??=[]).push(n,E)),null!=A&&(e.destroyHooks??=[]).push(n,A)}}function Ft(e,t,n){ai(e,t,3,n)}function or(e,t,n,r){(3&e[lt])===n&&ai(e,t,n,r)}function _i(e,t){let n=e[lt];(3&n)===t&&(n&=8191,n+=1,e[lt]=n)}function ai(e,t,n,r){const a=r??-1,u=t.length-1;let p=0;for(let v=void 0!==r?65535&e[lr]:0;v<u;v++)if("number"==typeof t[v+1]){if(p=t[v],null!=r&&p>=r)break}else t[v]<0&&(e[lr]+=65536),(p<a||-1==a)&&(xs(e,n,t,v),e[lr]=(4294901760&e[lr])+v+2),v++}function ci(e,t){we(4,e,t);const n=pn(null);try{t.call(e)}finally{pn(n),we(5,e,t)}}function xs(e,t,n,r){const o=n[r]<0,a=n[r+1],p=e[o?-n[r]:n[r]];o?e[lt]>>13<e[lr]>>16&&(3&e[lt])===t&&(e[lt]+=8192,ci(p,a)):ci(p,a)}const Ao=-1;class ks{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ed(e){return e!==Ao}function Fa(e){return 32767&e}function La(e,t){let n=function Cy(e){return e>>16}(e),r=t;for(;n>0;)r=r[_r],n--;return r}let Qc=!0;function Va(e){const t=Qc;return Qc=e,t}const wd=255,Td=5;let Dy=0;const jo={};function Ba(e,t){const n=Md(e,t);if(-1!==n)return n;const r=t[$e];r.firstCreatePass&&(e.injectorIndex=t.length,Xc(r.data,e),Xc(t,null),Xc(r.blueprint,null));const o=el(e,t),a=e.injectorIndex;if(Ed(o)){const u=Fa(o),p=La(o,t),v=p[$e].data;for(let E=0;E<8;E++)t[a+E]=p[u+E]|v[u+E]}return t[a+8]=o,a}function Xc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Md(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function el(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Nd(o),null===r)return Ao;if(n++,o=o[_r],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ao}function tl(e,t,n){!function by(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rn)&&(r=n[Rn]),null==r&&(r=n[Rn]=Dy++);const o=r&wd;t.data[e+(o>>Td)]|=1<<o}(e,t,n)}function Id(e,t,n){if(n&Ue.Optional||void 0!==e)return e;Be()}function Ad(e,t,n,r){if(n&Ue.Optional&&void 0===r&&(r=null),!(n&(Ue.Self|Ue.Host))){const o=e[cr],a=kt(void 0);try{return o?o.get(t,r,n&Ue.Optional):bt(t,r,n&Ue.Optional)}finally{kt(a)}}return Id(r,0,n)}function Rd(e,t,n,r=Ue.Default,o){if(null!==e){if(2048&t[lt]&&!(r&Ue.Self)){const u=function My(e,t,n,r,o){let a=e,u=t;for(;null!==a&&null!==u&&2048&u[lt]&&!(512&u[lt]);){const p=Pd(a,u,n,r|Ue.Self,jo);if(p!==jo)return p;let v=a.parent;if(!v){const E=u[Yr];if(E){const A=E.get(n,jo,r);if(A!==jo)return A}v=Nd(u),u=u[_r]}a=v}return o}(e,t,n,r,jo);if(u!==jo)return u}const a=Pd(e,t,n,r,jo);if(a!==jo)return a}return Ad(t,n,r,o)}function Pd(e,t,n,r,o){const a=function wy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Rn)?e[Rn]:void 0;return"number"==typeof t?t>=0?t&wd:Ty:t}(n);if("function"==typeof a){if(!Oa(t,e,r))return r&Ue.Host?Id(o,0,r):Ad(t,n,r,o);try{const u=a(r);if(null!=u||r&Ue.Optional)return u;Be()}finally{Kc()}}else if("number"==typeof a){let u=null,p=Md(e,t),v=Ao,E=r&Ue.Host?t[on][ln]:null;for((-1===p||r&Ue.SkipSelf)&&(v=-1===p?el(e,t):t[p+8],v!==Ao&&xd(r,!1)?(u=t[$e],p=Fa(v),t=La(v,t)):p=-1);-1!==p;){const A=t[$e];if(Od(a,p,A.data)){const L=Ey(p,t,n,u,r,E);if(L!==jo)return L}v=t[p+8],v!==Ao&&xd(r,t[$e].data[p+8]===E)&&Od(a,p,t)?(u=A,p=Fa(v),t=La(v,t)):p=-1}}return o}function Ey(e,t,n,r,o,a){const u=t[$e],p=u.data[e+8],A=ja(p,u,n,null==r?Un(p)&&Qc:r!=u&&0!=(3&p.type),o&Ue.Host&&a===p);return null!==A?Ci(t,u,A,p):jo}function ja(e,t,n,r,o){const a=e.providerIndexes,u=t.data,p=1048575&a,v=e.directiveStart,A=a>>20,X=o?p+A:e.directiveEnd;for(let de=r?p:p+A;de<X;de++){const Ie=u[de];if(de<v&&n===Ie||de>=v&&Ie.type===n)return de}if(o){const de=u[v];if(de&&ur(de)&&de.type===n)return v}return null}function Ci(e,t,n,r){let o=e[n];const a=t.data;if(function yy(e){return e instanceof ks}(o)){const u=o;u.resolving&&function Re(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ce(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():te(e)}(a[n]));const p=Va(u.canSeeViewProviders);u.resolving=!0;const v=u.injectImpl?kt(u.injectImpl):null;Oa(e,r,Ue.Default);try{o=e[n]=u.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Ze(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:a}=t.type.prototype;if(r){const u=Li(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}o&&(n.preOrderHooks??=[]).push(0-e,o),a&&((n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a))}(n,a[n],t)}finally{null!==v&&kt(v),Va(p),u.resolving=!1,Kc()}}return o}function Od(e,t,n){return!!(n[t+(e>>Td)]&1<<e)}function xd(e,t){return!(e&Ue.Self||e&Ue.Host&&t)}class Ui{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Rd(this._tNode,this._lView,t,_n(r),n)}}function Ty(){return new Ui(Yn(),Oe())}function kd(e){return mt(()=>{const t=e.prototype.constructor,n=t[Dn]||nl(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const a=o[Dn]||nl(o);if(a&&a!==n)return a;o=Object.getPrototypeOf(o)}return a=>new a})}function nl(e){return $(e)?()=>{const t=nl(ee(e));return t&&t()}:j(e)}function Nd(e){const t=e[$e],n=t.type;return 2===n?t.declTNode:1===n?e[ln]:null}function rl(e){return function Sy(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const a=n[o];if(xo(a))break;if(0===a)o+=2;else if("number"==typeof a)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(a===t)return n[o+1];o+=2}}}return null}(Yn(),e)}const Gi="__parameters__";function Wi(e,t,n){return mt(()=>{const r=function ol(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...a){if(this instanceof o)return r.apply(this,a),this;const u=new o(...a);return p.annotation=u,p;function p(v,E,A){const L=v.hasOwnProperty(Gi)?v[Gi]:Object.defineProperty(v,Gi,{value:[]})[Gi];for(;L.length<=A;)L.push(null);return(L[A]=L[A]||[]).push(u),v}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Ls(e,t){e.forEach(n=>Array.isArray(n)?Ls(n,t):t(n))}function Ld(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $a(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function eo(e,t,n){let r=Zi(e,t);return r>=0?e[1|r]=n:(r=~r,function Oy(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function il(e,t){const n=Zi(e,t);if(n>=0)return e[1|n]}function Zi(e,t){return function Vd(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const a=r+(o-r>>1),u=e[a<<n];if(t===u)return a<<n;u>t?o=a:r=a+1}return~(o<<n)}(e,t,1)}const Ha=$t(Wi("Optional"),8),Ga=$t(Wi("SkipSelf"),4);function Ya(e){return 128==(128&e.flags)}var $o=(()=>(($o=$o||{})[$o.Important=1]="Important",$o[$o.DashCase=2]="DashCase",$o))();const dl=new Map;let nv=0;const hl="__ngContext__";function Sr(e,t){Ht(t)?(e[hl]=t[Rr],function ov(e){dl.set(e[Rr],e)}(t)):e[hl]=t}let pl;function gl(e,t){return pl(e,t)}function $s(e){const t=e[it];return Yt(t)?t[it]:t}function sf(e){return cf(e[$n])}function af(e){return cf(e[It])}function cf(e){for(;null!==e&&!Yt(e);)e=e[It];return e}function Ki(e,t,n,r,o){if(null!=r){let a,u=!1;Yt(r)?a=r:Ht(r)&&(u=!0,r=r[_e]);const p=st(r);0===e&&null!==n?null==o?hf(t,n,p):Di(t,n,p,o||null,!0):1===e&&null!==n?Di(t,n,p,o||null,!0):2===e?function ec(e,t,n){const r=Qa(e,t);r&&function Sv(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,p,u):3===e&&t.destroyNode(p),null!=a&&function Tv(e,t,n,r,o){const a=n[In];a!==st(n)&&Ki(t,e,r,a,o);for(let p=hn;p<n.length;p++){const v=n[p];Hs(v[$e],v,e,t,r,a)}}(t,e,a,n,o)}}function Ja(e,t,n){return e.createElement(t,n)}function uf(e,t){const n=e[Kr],r=n.indexOf(t);Ea(t),n.splice(r,1)}function yl(e,t){if(e.length<=hn)return;const n=hn+t,r=e[n];if(r){const o=r[ho];null!==o&&o!==e&&uf(o,r),t>0&&(e[n-1][It]=r[It]);const a=$a(e,hn+t);!function gv(e,t){Hs(e,t,t[at],2,null,null),t[_e]=null,t[ln]=null}(r[$e],r);const u=a[Ln];null!==u&&u.detachView(a[$e]),r[it]=null,r[It]=null,r[lt]&=-129}return r}function df(e,t){if(!(256&t[lt])){const n=t[at];t[po]?.destroy(),t[Tt]?.destroy(),n.destroyNode&&Hs(e,t,n,3,null,null),function vv(e){let t=e[$n];if(!t)return vl(e[$e],e);for(;t;){let n=null;if(Ht(t))n=t[$n];else{const r=t[hn];r&&(n=r)}if(!n){for(;t&&!t[It]&&t!==e;)Ht(t)&&vl(t[$e],t),t=t[it];null===t&&(t=e),Ht(t)&&vl(t[$e],t),n=t&&t[It]}t=n}}(t)}}function vl(e,t){if(!(256&t[lt])){t[lt]&=-129,t[lt]|=256,function bv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof ks)){const a=n[r+1];if(Array.isArray(a))for(let u=0;u<a.length;u+=2){const p=o[a[u]],v=a[u+1];we(4,p,v);try{v.call(p)}finally{we(5,p,v)}}else{we(4,o,a);try{a.call(o)}finally{we(5,o,a)}}}}}(e,t),function Dv(e,t){const n=e.cleanup,r=t[Zn];if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const u=n[a+3];u>=0?r[u]():r[-u].unsubscribe(),a+=2}else n[a].call(r[n[a+1]]);null!==r&&(t[Zn]=null);const o=t[er];if(null!==o){t[er]=null;for(let a=0;a<o.length;a++)(0,o[a])()}}(e,t),1===t[$e].type&&t[at].destroy();const n=t[ho];if(null!==n&&Yt(t[it])){n!==t[it]&&uf(n,t);const r=t[Ln];null!==r&&r.detachView(e)}!function iv(e){dl.delete(e[Rr])}(t)}}function _l(e,t,n){return function ff(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[_e];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:a}=e.data[r.directiveStart+o];if(a===Wn.None||a===Wn.Emulated)return null}return Pt(r,n)}}(e,t.parent,n)}function Di(e,t,n,r,o){e.insertBefore(t,n,r,o)}function hf(e,t,n){e.appendChild(t,n)}function pf(e,t,n,r,o){null!==r?Di(e,t,n,r,o):hf(e,t,n)}function Qa(e,t){return e.parentNode(t)}let Cl,El,nc,yf=function mf(e,t,n){return 40&e.type?Pt(e,n):null};function Xa(e,t,n,r){const o=_l(e,r,t),a=t[at],p=function gf(e,t,n){return yf(e,t,n)}(r.parent||t[ln],r,t);if(null!=o)if(Array.isArray(n))for(let v=0;v<n.length;v++)pf(a,o,n[v],p,!1);else pf(a,o,n,p,!1);void 0!==Cl&&Cl(a,r,t,n,o)}function Us(e,t){if(null!==t){const n=t.type;if(3&n)return Pt(t,e);if(4&n)return Dl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Us(e,r);{const o=e[t.index];return Yt(o)?Dl(-1,o):st(o)}}if(32&n)return gl(t,e)()||st(e[t.index]);{const r=_f(e,t);return null!==r?Array.isArray(r)?r[0]:Us($s(e[on]),r):Us(e,t.next)}}return null}function _f(e,t){return null!==t?e[on][ln].projection[t.projection]:null}function Dl(e,t){const n=hn+e+1;if(n<t.length){const r=t[n],o=r[$e].firstChild;if(null!==o)return Us(r,o)}return t[In]}function bl(e,t,n,r,o,a,u){for(;null!=n;){const p=r[n.index],v=n.type;if(u&&0===t&&(p&&Sr(st(p),r),n.flags|=2),32!=(32&n.flags))if(8&v)bl(e,t,n.child,r,o,a,!1),Ki(t,e,o,p,a);else if(32&v){const E=gl(n,r);let A;for(;A=E();)Ki(t,e,o,A,a);Ki(t,e,o,p,a)}else 16&v?Df(e,t,r,n,o,a):Ki(t,e,o,p,a);n=u?n.projectionNext:n.next}}function Hs(e,t,n,r,o,a){bl(n,r,e.firstChild,t,o,a,!1)}function Df(e,t,n,r,o,a){const u=n[on],v=u[ln].projection[r.projection];if(Array.isArray(v))for(let E=0;E<v.length;E++)Ki(t,e,o,v[E],a);else{let E=v;const A=u[it];Ya(r)&&(E.flags|=128),bl(e,t,E,A,o,a,!0)}}function bf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Sf(e,t,n){const{mergedAttrs:r,classes:o,styles:a}=n;null!==r&&fr(e,t,r),null!==o&&bf(e,t,o),null!==a&&function Iv(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}function Ov(e){El=e}function Tf(e){return function wl(){if(void 0===nc&&(nc=null,Xt.trustedTypes))try{nc=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return nc}()?.createScriptURL(e)||e}class Mf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}function li(e){return e instanceof Mf?e.changingThisBreaksApplicationSecurity:e}function zs(e,t){const n=function Vv(e){return e instanceof Mf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Me})`)}return n===t}const Uv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Hn=(()=>((Hn=Hn||{})[Hn.NONE=0]="NONE",Hn[Hn.HTML=1]="HTML",Hn[Hn.STYLE=2]="STYLE",Hn[Hn.SCRIPT=3]="SCRIPT",Hn[Hn.URL=4]="URL",Hn[Hn.RESOURCE_URL=5]="RESOURCE_URL",Hn))();function Rl(e){const t=Zs();return t?t.sanitize(Hn.URL,e)||"":zs(e,"URL")?li(e):function Tl(e){return(e=String(e)).match(Uv)?e:"unsafe:"+e}(te(e))}function kf(e){const t=Zs();if(t)return Tf(t.sanitize(Hn.RESOURCE_URL,e)||"");if(zs(e,"ResourceURL"))return Tf(li(e));throw new Pe(904,!1)}function Nf(e,t,n){return function e_(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?kf:Rl}(t,n)(e)}function Zs(){const e=Oe();return e&&e[Xn].sanitizer}class nn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=xt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ys=new nn("ENVIRONMENT_INITIALIZER"),Ff=new nn("INJECTOR",-1),Lf=new nn("INJECTOR_DEF_TYPES");class Vf{get(t,n=Tn){if(n===Tn){const r=new Error(`NullInjectorError: No provider for ${U(t)}!`);throw r.name="NullInjectorError",r}return n}}function t_(...e){return{\u0275providers:jf(0,e),\u0275fromNgModule:!0}}function jf(e,...t){const n=[],r=new Set;let o;return Ls(t,a=>{const u=a;Pl(u,n,[],r)&&(o||=[],o.push(u))}),void 0!==o&&$f(o,n),n}function $f(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];Ol(o,a=>{t.push(a)})}}function Pl(e,t,n,r){if(!(e=ee(e)))return!1;let o=null,a=Nn(e);const u=!a&&wt(e);if(a||u){if(u&&!u.standalone)return!1;o=e}else{const v=e.ngModule;if(a=Nn(v),!a)return!1;o=v}const p=r.has(o);if(u){if(p)return!1;if(r.add(o),u.dependencies){const v="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const E of v)Pl(E,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!p){let E;r.add(o);try{Ls(a.imports,A=>{Pl(A,t,n,r)&&(E||=[],E.push(A))})}finally{}void 0!==E&&$f(E,t)}if(!p){const E=j(o)||(()=>new o);t.push({provide:o,useFactory:E,deps:Dt},{provide:Lf,useValue:o,multi:!0},{provide:Ys,useValue:()=>ct(o),multi:!0})}const v=a.providers;null==v||p||Ol(v,A=>{t.push(A)})}}return o!==e&&void 0!==e.providers}function Ol(e,t){for(let n of e)De(n)&&(n=n.\u0275providers),Array.isArray(n)?Ol(n,t):t(n)}const n_=re({provide:String,useValue:re});function xl(e){return null!==e&&"object"==typeof e&&n_ in e}function bi(e){return"function"==typeof e}const kl=new nn("Set Injector scope."),oc={},o_={};let Nl;function ic(){return void 0===Nl&&(Nl=new Vf),Nl}class Si{}class Fl extends Si{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vl(t,u=>this.processProvider(u)),this.records.set(Ff,Qi(void 0,this)),o.has("environment")&&this.records.set(Si,Qi(void 0,this));const a=this.records.get(kl);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Lf.multi,Dt,Ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=je(this),r=kt(void 0);try{return t()}finally{je(n),kt(r)}}get(t,n=Tn,r=Ue.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ir))return t[Ir](this);r=_n(r);const o=je(this),a=kt(void 0);try{if(!(r&Ue.SkipSelf)){let p=this.records.get(t);if(void 0===p){const v=function l_(e){return"function"==typeof e||"object"==typeof e&&e instanceof nn}(t)&&rt(t);p=v&&this.injectableDefInScope(v)?Qi(Ll(t),oc):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&Ue.Self?ic():this.parent).get(t,n=r&Ue.Optional&&n===Tn?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[jt]=u[jt]||[]).unshift(U(t)),o)throw u;return function Cn(e,t,n,r){const o=e[jt];throw t[G]&&o.unshift(t[G]),e.message=function dn(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=U(t);if(Array.isArray(t))o=t.map(U).join(" -> ");else if("object"==typeof t){let a=[];for(let u in t)if(t.hasOwnProperty(u)){let p=t[u];a.push(u+":"+("string"==typeof p?JSON.stringify(p):U(p)))}o=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Ee,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[jt]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{kt(a),je(o)}}resolveInjectorInitializers(){const t=je(this),n=kt(void 0);try{const r=this.get(Ys.multi,Dt,Ue.Self);for(const o of r)o()}finally{je(t),kt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(U(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processProvider(t){let n=bi(t=ee(t))?t:ee(t&&t.provide);const r=function s_(e){return xl(e)?Qi(void 0,e.useValue):Qi(Gf(e),oc)}(t);if(bi(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Qi(void 0,oc,!0),o.factory=()=>zn(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===oc&&(n.value=o_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function c_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ee(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ll(e){const t=rt(e),n=null!==t?t.factory:j(e);if(null!==n)return n;if(e instanceof nn)throw new Pe(204,!1);if(e instanceof Function)return function i_(e){const t=e.length;if(t>0)throw function Vs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Pe(204,!1);const n=function kn(e){return e&&(e[rn]||e[Qt])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Pe(204,!1)}function Gf(e,t,n){let r;if(bi(e)){const o=ee(e);return j(o)||Ll(o)}if(xl(e))r=()=>ee(e.useValue);else if(function Hf(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...zn(e.deps||[]));else if(function Uf(e){return!(!e||!e.useExisting)}(e))r=()=>ct(ee(e.useExisting));else{const o=ee(e&&(e.useClass||e.provide));if(!function a_(e){return!!e.deps}(e))return j(o)||Ll(o);r=()=>new o(...zn(e.deps))}return r}function Qi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Vl(e,t){for(const n of e)Array.isArray(n)?Vl(n,t):n&&De(n)?Vl(n.\u0275providers,t):t(n)}const zf=new nn("AppId",{providedIn:"root",factory:()=>u_}),u_="ng",Wf=new nn("Platform Initializer"),Bl=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),d_=new nn("CSP nonce",{providedIn:"root",factory:()=>function Gs(){if(void 0!==El)return El;if(typeof document<"u")return document;throw new Pe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Yf=(e,t)=>null;function qf(e,t){return Yf(e,t)}class C_{}class Qf{}class b_{resolveComponentFactory(t){throw function D_(e){const t=Error(`No component factory found for ${U(e)}.`);return t.ngComponent=e,t}(t)}}let uc=(()=>{class e{}return e.NULL=new b_,e})();function S_(){return Xi(Yn(),Oe())}function Xi(e,t){return new Qs(Pt(e,t))}let Qs=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=S_,e})();function E_(e){return e instanceof Qs?e.nativeElement:e}class eh{}let w_=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function T_(){const e=Oe(),n=mn(Yn().index,e);return(Ht(n)?n:e)[at]}(),e})(),M_=(()=>{class e{}return e.\u0275prov=xt({token:e,providedIn:"root",factory:()=>null}),e})();class th{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const I_=new th("16.1.2"),Kl={};function Xs(e){for(;e;){e[lt]|=64;const t=$s(e);if(Rt(e)&&!t)return e;e=t}return null}function Jl(e){return e.ngOriginalError}class es{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Jl(t);for(;n&&Jl(n);)n=Jl(n);return n||null}}const oh=new nn("",{providedIn:"root",factory:()=>!1});function Xo(e){return e instanceof Function?e():e}class lh extends Ri{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){Xs(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const o=pn(this);this.trackingVersion++;try{t(n,r)}finally{pn(o)}}destroy(){this.trackingVersion++}}let fc=null;function uh(){return fc??=new lh,fc}function dh(e,t){return e[t]??uh()}function fh(e,t){const n=uh();n.hasReadASignal&&(e[t]=fc,n.lView=e,fc=new lh)}const St={};function hh(e){ph(Vt(),Oe(),br()+e,!1)}function ph(e,t,n,r){if(!r)if(3==(3&t[lt])){const a=e.preOrderCheckHooks;null!==a&&Ft(t,a,n)}else{const a=e.preOrderHooks;null!==a&&or(t,a,0,n)}si(n)}function vh(e,t=null,n=null,r){const o=_h(e,t,n,r);return o.resolveInjectorInitializers(),o}function _h(e,t=null,n=null,r,o=new Set){const a=[n||Dt,t_(e)];return r=r||("object"==typeof e?void 0:U(e)),new Fl(a,t||ic(),r||null,o)}let ui=(()=>{class e{static create(n,r){if(Array.isArray(n))return vh({name:""},r,n,"");{const o=n.name??"";return vh({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Tn,e.NULL=new Vf,e.\u0275prov=xt({token:e,providedIn:"any",factory:()=>ct(Ff)}),e.__NG_ELEMENT_ID__=-1,e})();function ns(e,t=Ue.Default){const n=Oe();return null===n?ct(e,t):Rd(Yn(),n,ee(e),t)}function Ch(){throw new Error("invalid")}function hc(e,t,n,r,o,a,u,p,v,E,A){const L=t.blueprint.slice();return L[_e]=o,L[lt]=140|r,(null!==E||e&&2048&e[lt])&&(L[lt]|=2048),Ur(L),L[it]=L[_r]=e,L[Ut]=n,L[Xn]=u||e&&e[Xn],L[at]=p||e&&e[at],L[cr]=v||e&&e[cr]||null,L[ln]=a,L[Rr]=function rv(){return nv++}(),L[En]=A,L[Yr]=E,L[on]=2==t.type?e[on]:L,L}function rs(e,t,n,r,o){let a=e.data[t];if(null===a)a=function Ql(e,t,n,r,o){const a=Yc(),u=ji(),v=e.data[t]=function q_(e,t,n,r,o,a){let u=t?t.injectorIndex:-1,p=0;return function ii(){return null!==ft.skipHydrationRootTNode}()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?a:a&&a.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=v),null!==a&&(u?null==a.child&&null!==v.parent&&(a.child=v):null===a.next&&(a.next=v,v.prev=a)),v}(e,t,n,r,o),function Cd(){return ft.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=o;const u=function Bi(){const e=ft.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===u?-1:u.injectorIndex}return Io(a,!0),a}function ea(e,t,n,r){if(0===n)return-1;const o=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Dh(e,t,n,r,o){const a=dh(t,po),u=br(),p=2&r;try{if(si(-1),p&&t.length>tt&&ph(e,t,tt,!1),we(p?2:0,o),p)a.runInContext(n,r,o);else{const E=pn(null);try{n(r,o)}finally{pn(E)}}}finally{p&&null===t[po]&&fh(t,po),si(u),we(p?3:1,o)}}function Xl(e,t,n){if(dt(t)){const r=pn(null);try{const a=t.directiveEnd;for(let u=t.directiveStart;u<a;u++){const p=e.data[u];p.contentQueries&&p.contentQueries(1,n[u],u)}}finally{pn(r)}}}function eu(e,t,n){Es()&&(function nC(e,t,n,r){const o=n.directiveStart,a=n.directiveEnd;Un(n)&&function lC(e,t,n){const r=Pt(t,e),o=bh(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const p=pc(e,hc(e,o,null,u,r,t,null,e[Xn].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Ba(n,t),Sr(r,t);const u=n.initialInputs;for(let p=o;p<a;p++){const v=e.data[p],E=Ci(t,e,p,n);Sr(E,t),null!==u&&uC(0,p-o,E,v,0,u),ur(v)&&(mn(n.index,t)[Ut]=Ci(t,e,p,n))}}(e,t,n,Pt(n,t)),64==(64&n.flags)&&Mh(e,t,n))}function tu(e,t,n=Pt){const r=t.localNames;if(null!==r){let o=t.index+1;for(let a=0;a<r.length;a+=2){const u=r[a+1],p=-1===u?n(t,e):e[u];e[o++]=p}}}function bh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function nu(e,t,n,r,o,a,u,p,v,E,A){const L=tt+r,X=L+o,de=function H_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:St);return n}(L,X),Ie="function"==typeof E?E():E;return de[$e]={type:e,blueprint:de,template:n,queries:null,viewQuery:p,declTNode:t,data:de.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:X,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:v,consts:Ie,incompleteFirstPass:!1,ssrId:A}}let Sh=e=>null;function Eh(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const a=e[o];null===r?wh(n,t,o,a):r.hasOwnProperty(o)&&wh(n,t,r[o],a)}return n}function wh(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function to(e,t,n,r,o,a,u,p){const v=Pt(t,n);let A,E=t.inputs;!p&&null!=E&&(A=E[r])?(au(e,n,A,r,o),Un(t)&&function Q_(e,t){const n=mn(t,e);16&n[lt]||(n[lt]|=64)}(n,t.index)):3&t.type&&(r=function J_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=u?u(o,t.value||"",r):o,a.setProperty(v,r,o))}function ru(e,t,n,r){if(Es()){const o=null===r?null:{"":-1},a=function oC(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let a=0;a<n.length;a++){const u=n[a];if(so(t,u.selectors,!1))if(r||(r=[]),ur(u))if(null!==u.findHostDirectiveDefs){const p=[];o=o||new Map,u.findHostDirectiveDefs(u,p,o),r.unshift(...p,u),ou(e,t,p.length)}else r.unshift(u),ou(e,t,0);else o=o||new Map,u.findHostDirectiveDefs?.(u,r,o),r.push(u)}return null===r?null:[r,o]}(e,n);let u,p;null===a?u=p=null:[u,p]=a,null!==u&&Th(e,t,n,u,o,p),o&&function iC(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const a=n[t[o+1]];if(null==a)throw new Pe(-301,!1);r.push(t[o],a)}}}(n,r,o)}n.mergedAttrs=hr(n.mergedAttrs,n.attrs)}function Th(e,t,n,r,o,a){for(let E=0;E<r.length;E++)tl(Ba(n,t),e,r[E].type);!function aC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let E=0;E<r.length;E++){const A=r[E];A.providersResolver&&A.providersResolver(A)}let u=!1,p=!1,v=ea(e,t,r.length,null);for(let E=0;E<r.length;E++){const A=r[E];n.mergedAttrs=hr(n.mergedAttrs,A.hostAttrs),cC(e,n,t,v,A),sC(v,A,o),null!==A.contentQueries&&(n.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=64);const L=A.type.prototype;!u&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!p&&(L.ngOnChanges||L.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),v++}!function K_(e,t,n){const o=t.directiveEnd,a=e.data,u=t.attrs,p=[];let v=null,E=null;for(let A=t.directiveStart;A<o;A++){const L=a[A],X=n?n.get(L):null,Ie=X?X.outputs:null;v=Eh(L.inputs,A,v,X?X.inputs:null),E=Eh(L.outputs,A,E,Ie);const ke=null===v||null===u||pr(t)?null:dC(v,A,u);p.push(ke)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=v,t.outputs=E}(e,n,a)}function Mh(e,t,n){const r=n.directiveStart,o=n.directiveEnd,a=n.index,u=function Ra(){return ft.lFrame.currentDirectiveIndex}();try{si(a);for(let p=r;p<o;p++){const v=e.data[p],E=t[p];Is(p),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&rC(v,E)}}finally{si(-1),Is(u)}}function rC(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ou(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function sC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ur(t)&&(n[""]=e)}}function cC(e,t,n,r,o){e.data[r]=o;const a=o.factory||(o.factory=j(o.type)),u=new ks(a,ur(o),ns);e.blueprint[r]=u,n[r]=u,function eC(e,t,n,r,o){const a=o.hostBindings;if(a){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const p=~t.index;(function tC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=p&&u.push(p),u.push(n,r,a)}}(e,t,r,ea(e,n,o.hostVars,St),o)}function Uo(e,t,n,r,o,a){const u=Pt(e,t);!function iu(e,t,n,r,o,a,u){if(null==a)e.removeAttribute(t,o,n);else{const p=null==u?te(a):u(a,r||"",o);e.setAttribute(t,o,p,n)}}(t[at],u,a,e.value,n,r,o)}function uC(e,t,n,r,o,a){const u=a[t];if(null!==u)for(let p=0;p<u.length;)Ih(r,n,u[p++],u[p++],u[p++])}function Ih(e,t,n,r,o){const a=pn(null);try{const u=e.inputTransforms;null!==u&&u.hasOwnProperty(r)&&(o=u[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{pn(a)}}function dC(e,t,n){let r=null,o=0;for(;o<n.length;){const a=n[o];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const u=e[a];for(let p=0;p<u.length;p+=2)if(u[p]===t){r.push(a,u[p+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Ah(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Rh(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r+1];if(-1!==a){const u=e.data[a];Rs(n[r]),u.contentQueries(2,t[a],a)}}}function pc(e,t){return e[$n]?e[vr][It]=t:e[$n]=t,e[vr]=t,t}function su(e,t,n){Rs(0);const r=pn(null);try{t(e,n)}finally{pn(r)}}function Ph(e){return e[Zn]||(e[Zn]=[])}function Oh(e){return e.cleanup||(e.cleanup=[])}function kh(e,t){const n=e[cr],r=n?n.get(es,null):null;r&&r.handleError(t)}function au(e,t,n,r,o){for(let a=0;a<n.length;){const u=n[a++],p=n[a++];Ih(e.data[u],t[u],r,p,o)}}function ei(e,t,n){const r=yt(t,e);!function lf(e,t,n){e.setValue(t,n)}(e[at],r,n)}function fC(e,t){const n=mn(t,e),r=n[$e];!function hC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[_e];null!==o&&null===n[En]&&(n[En]=qf(o,n[cr])),cu(r,n,n[Ut])}function cu(e,t,n){Ps(t);try{const r=e.viewQuery;null!==r&&su(1,r,n);const o=e.template;null!==o&&Dh(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Rh(e,t),e.staticViewQueries&&su(2,e.viewQuery,n);const a=e.components;null!==a&&function pC(e,t){for(let n=0;n<t.length;n++)fC(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[lt]&=-5,Na()}}let Nh=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const a=typeof Zone>"u"?null:Zone.current,u=new ba(n,E=>{this.all.has(E)&&this.queue.set(E,a)},o);let p;this.all.add(u),u.notify();const v=()=>{u.cleanup(),p?.(),this.all.delete(u),this.queue.delete(u)};return p=r?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=xt({token:e,providedIn:"root",factory:()=>new e}),e})();function gc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,a=0;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?a=p:1==a?o=he(o,p):2==a&&(r=he(r,p+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function ta(e,t,n,r,o=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(st(a)),Yt(a)){for(let p=hn;p<a.length;p++){const v=a[p],E=v[$e].firstChild;null!==E&&ta(v[$e],v,E,r)}a[In]!==a[_e]&&r.push(a[In])}const u=n.type;if(8&u)ta(e,t,n.child,r);else if(32&u){const p=gl(n,t);let v;for(;v=p();)r.push(v)}else if(16&u){const p=_f(t,n);if(Array.isArray(p))r.push(...p);else{const v=$s(t[on]);ta(v[$e],v,p,r,!0)}}n=o?n.projectionNext:n.next}return r}function mc(e,t,n,r=!0){const o=t[Xn].rendererFactory;o.begin&&o.begin();try{Fh(e,t,e.template,n)}catch(u){throw r&&kh(t,u),u}finally{o.end&&o.end(),t[Xn].effectManager?.flush()}}function Fh(e,t,n,r){const o=t[lt];if(256!=(256&o)){t[Xn].effectManager?.flush(),Ps(t);try{Ur(t),function Ia(e){return ft.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Dh(e,t,n,2,r);const u=3==(3&o);if(u){const E=e.preOrderCheckHooks;null!==E&&Ft(t,E,null)}else{const E=e.preOrderHooks;null!==E&&or(t,E,0,null),_i(t,0)}if(function _C(e){for(let t=sf(e);null!==t;t=af(t)){if(!t[qo])continue;const n=t[Kr];for(let r=0;r<n.length;r++){Gc(n[r])}}}(t),Lh(t,2),null!==e.contentQueries&&Rh(e,t),u){const E=e.contentCheckHooks;null!==E&&Ft(t,E)}else{const E=e.contentHooks;null!==E&&or(t,E,1),_i(t,1)}!function U_(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=dh(t,Tt);try{for(let o=0;o<n.length;o++){const a=n[o];if(a<0)si(~a);else{const u=a,p=n[++o],v=n[++o];Dd(p,u),r.runInContext(v,2,t[u])}}}finally{null===t[Tt]&&fh(t,Tt),si(-1)}}(e,t);const p=e.components;null!==p&&Bh(t,p,0);const v=e.viewQuery;if(null!==v&&su(2,v,r),u){const E=e.viewCheckHooks;null!==E&&Ft(t,E)}else{const E=e.viewHooks;null!==E&&or(t,E,2),_i(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[lt]&=-73,Ea(t)}finally{Na()}}}function Lh(e,t){for(let n=sf(e);null!==n;n=af(n))for(let r=hn;r<n.length;r++)Vh(n[r],t)}function CC(e,t,n){Vh(mn(t,e),n)}function Vh(e,t){if(!function Pr(e){return 128==(128&e[lt])}(e))return;const n=e[$e];if(80&e[lt]&&0===t||1024&e[lt]||2===t)Fh(n,e,n.template,e[Ut]);else if(e[Qn]>0){Lh(e,1);const o=e[$e].components;null!==o&&Bh(e,o,1)}}function Bh(e,t,n){for(let r=0;r<t.length;r++)CC(e,t[r],n)}class na{get rootNodes(){const t=this._lView,n=t[$e];return ta(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(t){this._lView[Ut]=t}get destroyed(){return 256==(256&this._lView[lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[it];if(Yt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(yl(t,r),$a(n,r))}this._attachedToViewContainer=!1}df(this._lView[$e],this._lView)}onDestroy(t){!function Ss(e,t){if(256==(256&e[lt]))throw new Pe(911,!1);null===e[er]&&(e[er]=[]),e[er].push(t)}(this._lView,t)}markForCheck(){Xs(this._cdRefInjectingView||this._lView)}detach(){this._lView[lt]&=-129}reattach(){this._lView[lt]|=128}detectChanges(){mc(this._lView[$e],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yv(e,t){Hs(e,t,t[at],2,null,null)}(this._lView[$e],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=t}}class DC extends na{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;mc(t[$e],t,t[Ut],!1)}checkNoChanges(){}get context(){return null}}class jh extends uc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=wt(t);return new ra(n,this.ngModule)}}function $h(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class SC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=_n(r);const o=this.injector.get(t,Kl,r);return o!==Kl||n===Kl?o:this.parentInjector.get(t,n,r)}}class ra extends Qf{get inputs(){return $h(this.componentDef.inputs)}get outputs(){return $h(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function bn(e){return e.map(Do).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let a=(o=o||this.ngModule)instanceof Si?o:o?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const u=a?new SC(t,a):t,p=u.get(eh,null);if(null===p)throw new Pe(407,!1);const A={rendererFactory:p,sanitizer:u.get(M_,null),effectManager:u.get(Nh,null)},L=p.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",de=r?function G_(e,t,n,r){const a=r.get(oh,!1)||n===Wn.ShadowDom,u=e.selectRootElement(t,a);return function z_(e){Sh(e)}(u),u}(L,r,this.componentDef.encapsulation,u):Ja(L,X,function bC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(X)),He=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Xe=nu(0,null,null,1,0,null,null,null,null,null,null),Ae=hc(null,Xe,null,He,null,null,A,L,u,null,null);let _t,Ot;Ps(Ae);try{const Bt=this.componentDef;let wr,$c=null;Bt.findHostDirectiveDefs?(wr=[],$c=new Map,Bt.findHostDirectiveDefs(Bt,wr,$c),wr.push(Bt)):wr=[Bt];const SE=function wC(e,t){const n=e[$e],r=tt;return e[r]=t,rs(n,r,2,"#host",null)}(Ae,de),EE=function TC(e,t,n,r,o,a,u){const p=o[$e];!function MC(e,t,n,r){for(const o of e)t.mergedAttrs=hr(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(gc(t,t.mergedAttrs,!0),null!==n&&Sf(r,n,t))}(r,e,t,u);let v=null;null!==t&&(v=qf(t,o[cr]));const E=a.rendererFactory.createRenderer(t,n);let A=16;n.signals?A=4096:n.onPush&&(A=64);const L=hc(o,bh(n),null,A,o[e.index],e,a,E,null,null,v);return p.firstCreatePass&&ou(p,e,r.length-1),pc(o,L),o[e.index]=L}(SE,de,Bt,wr,Ae,A,L);Ot=gn(Xe,tt),de&&function AC(e,t,n,r){if(r)fr(e,n,["ng-version",I_.full]);else{const{attrs:o,classes:a}=function ao(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===o?""!==a&&t.push(a,e[++r]):8===o&&n.push(a);else{if(!fn(o))break;o=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&fr(e,n,o),a&&a.length>0&&bf(e,n,a.join(" "))}}(L,Bt,de,r),void 0!==n&&function RC(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const a=n[o];r.push(null!=a?Array.from(a):null)}}(Ot,this.ngContentSelectors,n),_t=function IC(e,t,n,r,o,a){const u=Yn(),p=o[$e],v=Pt(u,o);Th(p,o,u,n,null,r);for(let A=0;A<n.length;A++)Sr(Ci(o,p,u.directiveStart+A,u),o);Mh(p,o,u),v&&Sr(v,o);const E=Ci(o,p,u.directiveStart+u.componentOffset,u);if(e[Ut]=o[Ut]=E,null!==a)for(const A of a)A(E,t);return Xl(p,u,e),E}(EE,Bt,wr,$c,Ae,[PC]),cu(Xe,Ae,null)}finally{Na()}return new EC(this.componentType,_t,Xi(Ot,Ae),Ae,Ot)}}class EC extends C_{constructor(t,n,r,o,a){super(),this.location=r,this._rootLView=o,this._tNode=a,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new DC(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const a=this._rootLView;au(a[$e],a,o,t,n),this.previousInputValues.set(t,n),Xs(mn(this._tNode.index,a))}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function PC(){const e=Yn();Qe(Oe()[$e],e)}function lu(e){let t=function Uh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(ur(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Pe(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const u=e;u.inputs=yc(e.inputs),u.inputTransforms=yc(e.inputTransforms),u.declaredInputs=yc(e.declaredInputs),u.outputs=yc(e.outputs);const p=o.hostBindings;p&&NC(e,p);const v=o.viewQuery,E=o.contentQueries;if(v&&xC(e,v),E&&kC(e,E),pe(e.inputs,o.inputs),pe(e.declaredInputs,o.declaredInputs),pe(e.outputs,o.outputs),null!==o.inputTransforms&&(null===u.inputTransforms&&(u.inputTransforms={}),pe(u.inputTransforms,o.inputTransforms)),ur(o)&&o.data.animation){const A=e.data;A.animation=(A.animation||[]).concat(o.data.animation)}}const a=o.features;if(a)for(let u=0;u<a.length;u++){const p=a[u];p&&p.ngInherit&&p(e),p===lu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function OC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=hr(o.hostAttrs,n=hr(n,o.hostAttrs))}}(r)}function yc(e){return e===Fn?{}:e===Dt?[]:e}function xC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function kC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,a)=>{t(r,o,a),n(r,o,a)}:t}function NC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function Wh(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[2]&&(n[r]=o[2])}e.inputTransforms=n}function vc(e){return!!uu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function uu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Er(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function du(e,t,n,r){const o=Oe();return Er(o,vi(),t)&&(Vt(),Uo(h(),o,e,t,n,r)),du}function is(e,t,n,r){return Er(e,vi(),n)?t+te(n)+r:St}function ss(e,t,n,r,o,a){const p=function Ei(e,t,n,r){const o=Er(e,t,n);return Er(e,t+1,r)||o}(e,function yo(){return ft.lFrame.bindingIndex}(),n,o);return Bo(2),p?t+te(n)+r+te(o)+a:St}function ip(e,t,n,r,o,a,u,p){const v=Oe(),E=Vt(),A=e+tt,L=E.firstCreatePass?function sD(e,t,n,r,o,a,u,p,v){const E=t.consts,A=rs(t,e,4,u||null,rr(E,p));ru(t,n,A,rr(E,v)),Qe(t,A);const L=A.tView=nu(2,A,r,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,E,null);return null!==t.queries&&(t.queries.template(t,A),L.queries=t.queries.embeddedTView(A)),A}(A,E,v,t,n,r,o,a,u):E.data[A];Io(L,!1);const X=sp(E,v,L,e);ae()&&Xa(E,v,X,L),Sr(X,v),pc(v,v[A]=Ah(X,v,X,L)),Ko(L)&&eu(E,v,L),null!=u&&tu(v,L,p)}let sp=function ap(e,t,n,r){return Te(!0),t[at].createComment("")};function yu(e,t,n){const r=Oe();return Er(r,vi(),t)&&to(Vt(),h(),r,e,t,r[at],n,!1),yu}function vu(e,t,n,r,o){const u=o?"class":"style";au(e,n,t.inputs[u],u,r)}function Sc(e,t,n,r){const o=Oe(),a=Vt(),u=tt+e,p=o[at],v=a.firstCreatePass?function dD(e,t,n,r,o,a){const u=t.consts,v=rs(t,e,2,r,rr(u,o));return ru(t,n,v,rr(u,a)),null!==v.attrs&&gc(v,v.attrs,!1),null!==v.mergedAttrs&&gc(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(u,a,o,t,n,r):a.data[u],E=cp(a,o,v,p,t,e);o[u]=E;const A=Ko(v);return Io(v,!0),Sf(p,E,v),32!=(32&v.flags)&&ae()&&Xa(a,o,E,v),0===function Or(){return ft.lFrame.elementDepthCount}()&&Sr(E,o),function Wc(){ft.lFrame.elementDepthCount++}(),A&&(eu(a,o,v),Xl(a,v,o)),null!==r&&tu(o,v),Sc}function Ec(){let e=Yn();ji()?function $i(){ft.lFrame.isParent=!1}():(e=e.parent,Io(e,!1));const t=e;(function Ta(e){return ft.skipHydrationRootTNode===e})(t)&&function ws(){ft.skipHydrationRootTNode=null}(),function Vi(){ft.lFrame.elementDepthCount--}();const n=Vt();return n.firstCreatePass&&(Qe(n,e),dt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function vy(e){return 0!=(8&e.flags)}(t)&&vu(n,t,Oe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function _y(e){return 0!=(16&e.flags)}(t)&&vu(n,t,Oe(),t.stylesWithoutHost,!1),Ec}function _u(e,t,n,r){return Sc(e,t,n,r),Ec(),_u}let cp=(e,t,n,r,o,a)=>(Te(!0),Ja(r,o,function x(){return ft.lFrame.currentNamespace}()));function dp(){return Oe()}function bu(e){return!!e&&"function"==typeof e.then}function fp(e){return!!e&&"function"==typeof e.subscribe}function Su(e,t,n,r){const o=Oe(),a=Vt(),u=Yn();return function pp(e,t,n,r,o,a,u){const p=Ko(r),E=e.firstCreatePass&&Oh(e),A=t[Ut],L=Ph(t);let X=!0;if(3&r.type||u){const ke=Pt(r,t),He=u?u(ke):ke,Xe=L.length,Ae=u?Ot=>u(st(Ot[r.index])):r.index;let _t=null;if(!u&&p&&(_t=function yD(e,t,n,r){const o=e.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const u=o[a];if(u===n&&o[a+1]===r){const p=t[Zn],v=o[a+2];return p.length>v?p[v]:null}"string"==typeof u&&(a+=2)}return null}(e,t,o,r.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=a,_t.__ngLastListenerFn__=a,X=!1;else{a=mp(r,t,A,a,!1);const Ot=n.listen(He,o,a);L.push(a,Ot),E&&E.push(o,Ae,Xe,Xe+1)}}else a=mp(r,t,A,a,!1);const de=r.outputs;let Ie;if(X&&null!==de&&(Ie=de[o])){const ke=Ie.length;if(ke)for(let He=0;He<ke;He+=2){const Bt=t[Ie[He]][Ie[He+1]].subscribe(a),wr=L.length;L.push(a,Bt),E&&E.push(o,r.index,wr,-(wr+1))}}}(a,o,o[at],u,e,t,r),Su}function gp(e,t,n,r){try{return we(6,t,n),!1!==n(r)}catch(o){return kh(e,o),!1}finally{we(7,t,n)}}function mp(e,t,n,r,o){return function a(u){if(u===Function)return r;Xs(e.componentOffset>-1?mn(e.index,t):t);let v=gp(t,n,r,u),E=a.__ngNextListenerFn__;for(;E;)v=gp(t,n,E,u)&&v,E=E.__ngNextListenerFn__;return o&&!1===v&&u.preventDefault(),v}}function yp(e=1){return function bd(e){return(ft.lFrame.contextLView=function Sd(e,t){for(;e>0;)t=t[_r],e--;return t}(e,ft.lFrame.contextLView))[Ut]}(e)}function wc(e,t,n,r,o){const a=Oe(),u=is(a,t,n,r);return u!==St&&to(Vt(),h(),a,e,u,a[at],o,!1),wc}function Tc(e,t){return e<<17|t<<2}function di(e){return e>>17&32767}function Eu(e){return 2|e}function wi(e){return(131068&e)>>2}function wu(e,t){return-131069&e|t<<2}function Tu(e){return 1|e}function Mp(e,t,n,r,o){const a=e[n+1],u=null===t;let p=r?di(a):wi(a),v=!1;for(;0!==p&&(!1===v||u);){const A=e[p+1];TD(e[p],t)&&(v=!0,e[p+1]=r?Tu(A):Eu(A)),p=r?di(A):wi(A)}v&&(e[n+1]=r?Eu(a):Tu(a))}function TD(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Zi(e,t)>=0}const Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ip(e){return e.substring(Kn.key,Kn.keyEnd)}function MD(e){return e.substring(Kn.value,Kn.valueEnd)}function Ap(e,t){const n=Kn.textEnd;return n===t?-1:(t=Kn.keyEnd=function RD(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Kn.key=t,n),hs(e,t,n))}function Rp(e,t){const n=Kn.textEnd;let r=Kn.key=hs(e,t,n);return n===r?-1:(r=Kn.keyEnd=function PD(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Op(e,r,n),r=Kn.value=hs(e,r,n),r=Kn.valueEnd=function OD(e,t,n){let r=-1,o=-1,a=-1,u=t,p=u;for(;u<n;){const v=e.charCodeAt(u++);if(59===v)return p;34===v||39===v?p=u=xp(e,v,u,n):t===u-4&&85===a&&82===o&&76===r&&40===v?p=u=xp(e,41,u,n):v>32&&(p=u),a=o,o=r,r=-33&v}return p}(e,r,n),Op(e,r,n))}function Pp(e){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=e.length}function hs(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Op(e,t,n,r){return(t=hs(e,t,n))<n&&t++,t}function xp(e,t,n,r){let o=-1,a=n;for(;a<r;){const u=e.charCodeAt(a++);if(u==t&&92!==o)return a;o=92==u&&92===o?0:u}throw new Error}function Mu(e,t){return function Ro(e,t,n,r){const o=Oe(),a=Vt(),u=Bo(2);a.firstUpdatePass&&Lp(a,e,u,r),t!==St&&Er(o,u,t)&&Bp(a,a.data[br()],o,o[at],e,o[u+1]=function $D(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=U(li(e)))),e}(t,n),r,u)}(e,t,null,!0),Mu}function xD(e,t){for(let n=function AD(e){return Pp(e),Rp(e,hs(e,0,Kn.textEnd))}(t);n>=0;n=Rp(t,n))Vp(e,Ip(t),MD(t))}function Np(e){Po(BD,zo,e,!0)}function zo(e,t){for(let n=function ID(e){return Pp(e),Ap(e,hs(e,0,Kn.textEnd))}(t);n>=0;n=Ap(t,n))eo(e,Ip(t),!0)}function Po(e,t,n,r){const o=Vt(),a=Bo(2);o.firstUpdatePass&&Lp(o,null,a,r);const u=Oe();if(n!==St&&Er(u,a,n)){const p=o.data[br()];if($p(p,r)&&!Fp(o,a)){let v=r?p.classesWithoutHost:p.stylesWithoutHost;null!==v&&(n=he(v,n||"")),vu(o,p,u,n,r)}else!function jD(e,t,n,r,o,a,u,p){o===St&&(o=Dt);let v=0,E=0,A=0<o.length?o[0]:null,L=0<a.length?a[0]:null;for(;null!==A||null!==L;){const X=v<o.length?o[v+1]:void 0,de=E<a.length?a[E+1]:void 0;let ke,Ie=null;A===L?(v+=2,E+=2,X!==de&&(Ie=L,ke=de)):null===L||null!==A&&A<L?(v+=2,Ie=A):(E+=2,Ie=L,ke=de),null!==Ie&&Bp(e,t,n,r,Ie,ke,u,p),A=v<o.length?o[v]:null,L=E<a.length?a[E]:null}}(o,p,u,u[at],u[a+1],u[a+1]=function VD(e,t,n){if(null==n||""===n)return Dt;const r=[],o=li(n);if(Array.isArray(o))for(let a=0;a<o.length;a++)e(r,o[a],!0);else if("object"==typeof o)for(const a in o)o.hasOwnProperty(a)&&e(r,a,o[a]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,a)}}function Fp(e,t){return t>=e.expandoStartIndex}function Lp(e,t,n,r){const o=e.data;if(null===o[n+1]){const a=o[br()],u=Fp(e,n);$p(a,r)&&null===t&&!u&&(t=!1),t=function kD(e,t,n,r){const o=function As(e){const t=ft.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=ca(n=Iu(null,e,t,n,r),t.attrs,r),a=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==o)if(n=Iu(o,e,t,n,r),null===a){let v=function ND(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==wi(r))return e[di(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Iu(null,e,t,v[1],r),v=ca(v,t.attrs,r),function FD(e,t,n,r){e[di(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else a=function LD(e,t,n){let r;const o=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<o;a++)r=ca(r,e[a].hostAttrs,n);return ca(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(o,a,t,r),function ED(e,t,n,r,o,a){let u=a?t.classBindings:t.styleBindings,p=di(u),v=wi(u);e[r]=n;let A,E=!1;if(Array.isArray(n)?(A=n[1],(null===A||Zi(n,A)>0)&&(E=!0)):A=n,o)if(0!==v){const X=di(e[p+1]);e[r+1]=Tc(X,p),0!==X&&(e[X+1]=wu(e[X+1],r)),e[p+1]=function bD(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=Tc(p,0),0!==p&&(e[p+1]=wu(e[p+1],r)),p=r;else e[r+1]=Tc(v,0),0===p?p=r:e[v+1]=wu(e[v+1],r),v=r;E&&(e[r+1]=Eu(e[r+1])),Mp(e,A,r,!0),Mp(e,A,r,!1),function wD(e,t,n,r,o){const a=o?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Zi(a,t)>=0&&(n[r+1]=Tu(n[r+1]))}(t,A,e,r,a),u=Tc(p,v),a?t.classBindings=u:t.styleBindings=u}(o,a,t,n,u,r)}}function Iu(e,t,n,r,o){let a=null;const u=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<u&&(a=t[p],r=ca(r,a.hostAttrs,o),a!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function ca(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let a=0;a<t.length;a++){const u=t[a];"number"==typeof u?o=u:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),eo(e,u,!!n||t[++a]))}return void 0===e?null:e}function Vp(e,t,n){eo(e,t,li(n))}function BD(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&eo(e,r,n)}function Bp(e,t,n,r,o,a,u,p){if(!(3&t.type))return;const v=e.data,E=v[p+1],A=function SD(e){return 1==(1&e)}(E)?jp(v,t,n,o,wi(E),u):void 0;Mc(A)||(Mc(a)||function DD(e){return 2==(2&e)}(E)&&(a=jp(v,null,n,o,p,u)),function Mv(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let a=-1===r.indexOf("-")?void 0:$o.DashCase;null==o?e.removeStyle(n,r,a):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),a|=$o.Important),e.setStyle(n,r,o,a))}}(r,u,yt(br(),n),o,a))}function jp(e,t,n,r,o,a){const u=null===t;let p;for(;o>0;){const v=e[o],E=Array.isArray(v),A=E?v[1]:v,L=null===A;let X=n[o+1];X===St&&(X=L?Dt:void 0);let de=L?il(X,r):A===r?X:void 0;if(E&&!Mc(de)&&(de=il(v,r)),Mc(de)&&(p=de,u))return p;const Ie=e[o+1];o=u?di(Ie):wi(Ie)}if(null!==t){let v=a?t.residualClasses:t.residualStyles;null!=v&&(p=il(v,r))}return p}function Mc(e){return void 0!==e}function $p(e,t){return 0!=(e.flags&(t?8:16))}function Up(e,t=""){const n=Oe(),r=Vt(),o=e+tt,a=r.firstCreatePass?rs(r,o,1,t,null):r.data[o],u=Hp(r,n,a,t,e);n[o]=u,ae()&&Xa(r,n,u,a),Io(a,!1)}let Hp=(e,t,n,r,o)=>(Te(!0),function Ka(e,t){return e.createText(t)}(t[at],r));function Au(e){return Ic("",e,""),Au}function Ic(e,t,n){const r=Oe(),o=is(r,e,t,n);return o!==St&&ei(r,br(),o),Ic}function Ru(e,t,n,r,o){const a=Oe(),u=ss(a,e,t,n,r,o);return u!==St&&ei(a,br(),u),Ru}function Jp(e,t,n){!function Go(e){Po(Vp,xD,e,!1)}(is(Oe(),e,t,n))}const Ti=void 0;var cb=["en",[["a","p"],["AM","PM"],Ti],[["AM","PM"],Ti,Ti],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ti,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ti,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ti,"{1} 'at' {0}",Ti],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ab(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ps={};function Pu(e){const t=function lb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ug(t);if(n)return n;const r=t.split("-")[0];if(n=ug(r),n)return n;if("en"===r)return cb;throw new Pe(701,!1)}function lg(e){return Pu(e)[ut.PluralCase]}function ug(e){return e in ps||(ps[e]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[e]),ps[e]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const gs="en-US";let dg=gs;function ku(e,t,n,r,o){if(e=ee(e),Array.isArray(e))for(let a=0;a<e.length;a++)ku(e[a],t,n,r,o);else{const a=Vt(),u=Oe();let p=bi(e)?e:ee(e.provide),v=Gf(e);const E=Yn(),A=1048575&E.providerIndexes,L=E.directiveStart,X=E.providerIndexes>>20;if(bi(e)||!e.multi){const de=new ks(v,o,ns),Ie=Fu(p,t,o?A:A+X,L);-1===Ie?(tl(Ba(E,u),a,p),Nu(a,e,t.length),t.push(p),E.directiveStart++,E.directiveEnd++,o&&(E.providerIndexes+=1048576),n.push(de),u.push(de)):(n[Ie]=de,u[Ie]=de)}else{const de=Fu(p,t,A+X,L),Ie=Fu(p,t,A,A+X),He=Ie>=0&&n[Ie];if(o&&!He||!o&&!(de>=0&&n[de])){tl(Ba(E,u),a,p);const Xe=function a0(e,t,n,r,o){const a=new ks(e,n,ns);return a.multi=[],a.index=t,a.componentProviders=0,Fg(a,o,r&&!n),a}(o?s0:o0,n.length,o,r,v);!o&&He&&(n[Ie].providerFactory=Xe),Nu(a,e,t.length,0),t.push(p),E.directiveStart++,E.directiveEnd++,o&&(E.providerIndexes+=1048576),n.push(Xe),u.push(Xe)}else Nu(a,e,de>-1?de:Ie,Fg(n[o?Ie:de],v,!o&&r));!o&&r&&He&&n[Ie].componentProviders++}}}function Nu(e,t,n,r){const o=bi(t),a=function r_(e){return!!e.useClass}(t);if(o||a){const v=(a?ee(t.useClass):t).prototype.ngOnDestroy;if(v){const E=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const A=E.indexOf(n);-1===A?E.push(n,[r,v]):E[A+1].push(r,v)}else E.push(n,v)}}}function Fg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Fu(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function o0(e,t,n,r){return Lu(this.multi,[])}function s0(e,t,n,r){const o=this.multi;let a;if(this.providerFactory){const u=this.providerFactory.componentProviders,p=Ci(n,n[$e],this.providerFactory.index,r);a=p.slice(0,u),Lu(o,a);for(let v=u;v<p.length;v++)a.push(p[v])}else a=[],Lu(o,a);return a}function Lu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Lg(e,t=[]){return n=>{n.providersResolver=(r,o)=>function r0(e,t,n){const r=Vt();if(r.firstCreatePass){const o=ur(e);ku(n,r.data,r.blueprint,o,!0),ku(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class ms{}class Vg{}function c0(e,t){return new Vu(e,t??null,[])}class Vu extends ms{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jh(this);const o=Nt(t);this._bootstrapComponents=Xo(o.bootstrap),this._r3Injector=_h(t,n,[{provide:ms,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...r],U(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Bu extends Vg{constructor(t){super(),this.moduleType=t}create(t){return new Vu(this.moduleType,t,[])}}class Bg extends ms{constructor(t){super(),this.componentFactoryResolver=new jh(this),this.instance=null;const n=new Fl([...t.providers,{provide:ms,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],t.parent||ic(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function jg(e,t,n=null){return new Bg({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let u0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=jf(0,n.type),o=r.length>0?jg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=xt({token:e,providedIn:"environment",factory:()=>new e(ct(Si))}),e})();function $g(e){e.getStandaloneInjector=t=>t.get(u0).getOrCreateStandaloneInjector(e)}function $u(e){return t=>{setTimeout(e,void 0,t)}}const Wo=class F0 extends l.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,a=n||(()=>null),u=r;if(t&&"object"==typeof t){const v=t;o=v.next?.bind(v),a=v.error?.bind(v),u=v.complete?.bind(v)}this.__isAsync&&(a=$u(a),o&&(o=$u(o)),u&&(u=$u(u)));const p=super.subscribe({next:o,error:a,complete:u});return t instanceof N.w0&&t.add(p),p}};function L0(){return this._results[Symbol.iterator]()}class Uu{get changes(){return this._changes||(this._changes=new Wo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Uu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=L0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function vo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ry(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r];if(n&&(o=n(o),a=n(a)),a!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ma=(()=>{class e{}return e.__NG_ELEMENT_ID__=j0,e})();const V0=ma,B0=class extends V0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const u=this._declarationTContainer.tView,p=hc(this._declarationLView,u,t,4096&this._declarationLView[lt]?4096:16,null,u.declTNode,null,null,null,n||null,r||null);p[ho]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[Ln];return null!==E&&(p[Ln]=E.createEmbeddedView(u)),cu(u,p,t),new na(p)}};function j0(){return xc(Yn(),Oe())}function xc(e,t){return 4&e.type?new B0(t,e,Xi(e,t)):null}let kc=(()=>{class e{}return e.__NG_ELEMENT_ID__=Z0,e})();function Z0(){return om(Yn(),Oe())}const Y0=kc,nm=class extends Y0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Xi(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const t=el(this._hostTNode,this._hostLView);if(Ed(t)){const n=La(t,this._hostLView),r=Fa(t);return new Ui(n[$e].data[r+8],n)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=rm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(t,n,r){let o,a;"number"==typeof r?o=r:null!=r&&(o=r.index,a=r.injector);const p=t.createEmbeddedViewImpl(n||{},a,null);return this.insertImpl(p,o,false),p}createComponent(t,n,r,o,a){const u=t&&!function Fs(e){return"function"==typeof e}(t);let p;if(u)p=n;else{const ke=n||{};p=ke.index,r=ke.injector,o=ke.projectableNodes,a=ke.environmentInjector||ke.ngModuleRef}const v=u?t:new ra(wt(t)),E=r||this.parentInjector;if(!a&&null==v.ngModule){const He=(u?E:this.parentInjector).get(Si,null);He&&(a=He)}wt(v.componentType??{});const de=v.create(E,o,null,a);return this.insertImpl(de.hostView,p,false),de}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView,a=o[$e];if(function Mo(e){return Yt(e[it])}(o)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const E=o[it],A=new nm(E,E[ln],E[it]);A.detach(A.indexOf(t))}}const u=this._adjustIndex(n),p=this._lContainer;if(function _v(e,t,n,r){const o=hn+r,a=n.length;r>0&&(n[o-1][It]=t),r<a-hn?(t[It]=n[o],Ld(n,hn+r,t)):(n.push(t),t[It]=null),t[it]=n;const u=t[ho];null!==u&&n!==u&&function Cv(e,t){const n=e[Kr];t[on]!==t[it][it][on]&&(e[qo]=!0),null===n?e[Kr]=[t]:n.push(t)}(u,t);const p=t[Ln];null!==p&&p.insertView(e),t[lt]|=128}(a,o,p,u),!r){const v=Dl(u,p),E=o[at],A=Qa(E,p[In]);null!==A&&function mv(e,t,n,r,o,a){r[_e]=o,r[ln]=t,Hs(e,r,n,1,o,a)}(a,p[ln],E,o,A,v)}return t.attachToViewContainerRef(),Ld(Gu(p),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=rm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);r&&($a(Gu(this._lContainer),n),df(r[$e],r))}detach(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);return r&&null!=$a(Gu(this._lContainer),n)?new na(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function rm(e){return e[8]}function Gu(e){return e[8]||(e[8]=[])}function om(e,t){let n;const r=t[e.index];return Yt(r)?n=r:(n=Ah(r,t,null,e),t[e.index]=n,pc(t,n)),im(n,t,e,r),new nm(n,e,t)}let im=function sm(e,t,n,r){if(e[In])return;let o;o=8&n.type?st(r):function q0(e,t){const n=e[at],r=n.createComment(""),o=Pt(t,e);return Di(n,Qa(n,o),r,function Ev(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[In]=o};class zu{constructor(t){this.queryList=t,this.matches=null}clone(){return new zu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let a=0;a<r;a++){const u=n.getByIndex(a);o.push(this.queries[u.indexInDeclarationView].clone())}return new Wu(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==pm(t,n).matches&&this.queries[n].setDirty()}}class am{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Zu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,o);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new Zu(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Yu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Yu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const a=r[o];this.matchTNodeWithReadOption(t,n,Q0(n,a)),this.matchTNodeWithReadOption(t,n,ja(n,t,a,!1,!1))}else r===ma?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ja(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Qs||o===kc||o===ma&&4&n.type)this.addMatch(n.index,-2);else{const a=ja(n,t,o,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Q0(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function eS(e,t,n,r){return-1===n?function X0(e,t){return 11&e.type?Xi(e,t):4&e.type?xc(e,t):null}(t,e):-2===n?function tS(e,t,n){return n===Qs?Xi(t,e):n===ma?xc(t,e):n===kc?om(t,e):void 0}(e,t,r):Ci(e,e[$e],n,t)}function cm(e,t,n,r){const o=t[Ln].queries[r];if(null===o.matches){const a=e.data,u=n.matches,p=[];for(let v=0;v<u.length;v+=2){const E=u[v];p.push(E<0?null:eS(t,a[E],u[v+1],n.metadata.read))}o.matches=p}return o.matches}function qu(e,t,n,r){const o=e.queries.getByIndex(n),a=o.matches;if(null!==a){const u=cm(e,t,o,n);for(let p=0;p<a.length;p+=2){const v=a[p];if(v>0)r.push(u[p/2]);else{const E=a[p+1],A=t[-v];for(let L=hn;L<A.length;L++){const X=A[L];X[ho]===X[it]&&qu(X[$e],X,E,r)}if(null!==A[Kr]){const L=A[Kr];for(let X=0;X<L.length;X++){const de=L[X];qu(de[$e],de,E,r)}}}}}return r}function lm(e){const t=Oe(),n=Vt(),r=Pa();Rs(r+1);const o=pm(n,r);if(e.dirty&&function Vo(e){return 4==(4&e[lt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const a=o.crossesNgTemplate?qu(n,t,r,[]):cm(n,t,o,r);e.reset(a,E_),e.notifyOnChanges()}return!0}return!1}function um(e,t,n,r){const o=Vt();if(o.firstCreatePass){const a=Yn();(function hm(e,t,n){null===e.queries&&(e.queries=new Zu),e.queries.track(new Yu(t,n))})(o,new am(t,n,r),a.index),function oS(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}!function fm(e,t,n){const r=new Uu(4==(4&n));(function Y_(e,t,n,r){const o=Ph(t);o.push(n),e.firstCreatePass&&Oh(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[Ln]&&(t[Ln]=new Wu),t[Ln].queries.push(new zu(r))}(o,Oe(),n)}function dm(){return function rS(e,t){return e[Ln].queries[t].queryList}(Oe(),Pa())}function pm(e,t){return e.queries.getByIndex(t)}function Ku(e){return!!Nt(e)}const Pm=new nn("Application Initializer");let td=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=gt(Pm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const a=o();if(bu(a))n.push(a);else if(fp(a)){const u=new Promise((p,v)=>{a.subscribe({complete:p,error:v})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Om=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Fc=new nn("LocaleId",{providedIn:"root",factory:()=>gt(Fc,Ue.Optional|Ue.SkipSelf)||function TS(){return typeof $localize<"u"&&$localize.locale||gs}()}),MS=new nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xm=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new q.X(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class IS{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let AS=(()=>{class e{compileModuleSync(n){return new Bu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=Xo(Nt(n).declarations).reduce((u,p)=>{const v=wt(p);return v&&u.push(new ra(v)),u},[]);return new IS(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Fm(...e){}class kr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1),typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function OS(){let e=Xt.requestAnimationFrame,t=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function NS(e){const t=()=>{!function kS(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,rd(e),e.isCheckStableRunning=!0,nd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),rd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,a,u,p)=>{try{return Lm(e),n.invokeTask(o,a,u,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Vm(e)}},onInvoke:(n,r,o,a,u,p,v)=>{try{return Lm(e),n.invoke(o,a,u,p,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),Vm(e)}},onHasTask:(n,r,o,a)=>{n.hasTask(o,a),r===o&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,rd(e),nd(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,o,a)=>(n.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kr.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(kr.isInAngularZone())throw new Pe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const a=this._inner,u=a.scheduleEventTask("NgZoneEvent: "+o,t,xS,Fm,Fm);try{return a.runTask(u,n,r)}finally{a.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const xS={};function nd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Lm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vm(e){e._nesting--,nd(e)}class FS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Bm=new nn("",{providedIn:"root",factory:jm});function jm(){const e=gt(kr);let t=!0;return function K(...e){const t=(0,V.yG)(e),n=(0,V._6)(e,1/0),r=e;return r.length?1===r.length?(0,fe.Xf)(r[0]):(0,Y.J)(n)((0,B.D)(r,t)):I.E}(new Q.y(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new Q.y(o=>{let a;e.runOutsideAngular(()=>{a=e.onStable.subscribe(()=>{kr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const u=e.onUnstable.subscribe(()=>{kr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{a.unsubscribe(),u.unsubscribe()}}).pipe(me()))}const $m=new nn(""),Um=new nn("");let od,LS=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,od||(function VS(e){od=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(ct(kr),ct(Hm),ct(Um))},e.\u0275prov=xt({token:e,factory:e.\u0275fac}),e})(),Hm=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return od?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),fi=null;const Gm=new nn("AllowMultipleToken"),id=new nn("PlatformDestroyListeners"),sd=new nn("appBootstrapListener");class $S{constructor(t,n){this.name=t,this.token=n}}function Zm(e,t,n=[]){const r=`Platform: ${t}`,o=new nn(r);return(a=[])=>{let u=ad();if(!u||u.injector.get(Gm,!1)){const p=[...n,...a,{provide:o,useValue:!0}];e?e(p):function US(e){if(fi&&!fi.get(Gm,!1))throw new Pe(400,!1);(function zm(){!function Ds(e){ki=e}(()=>{throw new Pe(600,!1)})})(),fi=e;const t=e.get(qm);(function Wm(e){e.get(Wf,null)?.forEach(n=>n())})(e)}(function Ym(e=[],t){return ui.create({name:t,providers:[{provide:kl,useValue:"platform"},{provide:id,useValue:new Set([()=>fi=null])},...e]})}(p,r))}return function GS(e){const t=ad();if(!t)throw new Pe(401,!1);return t}()}}function ad(){return fi?.get(qm)??null}let qm=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function zS(e="zone.js",t){return"noop"===e?new FS:"zone.js"===e?new kr(t):e}(r?.ngZone,function Km(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const a=function l0(e,t,n){return new Vu(e,t,n)}(n.moduleType,this.injector,function ty(e){return[{provide:kr,useFactory:e},{provide:Ys,multi:!0,useFactory:()=>{const t=gt(ZS,{optional:!0});return()=>t.initialize()}},{provide:ey,useFactory:WS},{provide:Bm,useFactory:jm}]}(()=>o)),u=a.injector.get(es,null);return o.runOutsideAngular(()=>{const p=o.onError.subscribe({next:v=>{u.handleError(v)}});a.onDestroy(()=>{Lc(this._modules,a),p.unsubscribe()})}),function Jm(e,t,n){try{const r=n();return bu(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,o,()=>{const p=a.injector.get(td);return p.runInitializers(),p.donePromise.then(()=>(function fg(e){un(e,"Expected localeId to be defined"),"string"==typeof e&&(dg=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Fc,gs)||gs),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const o=Qm({},r);return function BS(e,t,n){const r=new Bu(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(n){const r=n.injector.get(_s);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Pe(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(id,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ct(ui))},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Qm(e,t){return Array.isArray(t)?t.reduce(Qm,e):{...e,...t}}let _s=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gt(ey),this.zoneIsStable=gt(Bm),this.componentTypes=[],this.components=[],this.isStable=gt(xm).hasPendingTasks.pipe((0,Ge.w)(n=>n?(0,ie.of)(!1):this.zoneIsStable),function ve(e,t=F.y){return e=e??ye,(0,Ne.e)((n,r)=>{let o,a=!0;n.subscribe((0,Z.x)(r,u=>{const p=t(u);(a||!e(o,p))&&(a=!1,o=p,r.next(u))}))})}(),me()),this._injector=gt(Si)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Qf;if(!this._injector.get(td).done)throw!o&&gr(n),new Pe(405,!1);let u;u=o?n:this._injector.get(uc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const p=function jS(e){return e.isBoundToModule}(u)?void 0:this._injector.get(ms),E=u.create(ui.NULL,[],r||u.selector,p),A=E.location.nativeElement,L=E.injector.get($m,null);return L?.registerApplication(A),E.onDestroy(()=>{this.detachView(E.hostView),Lc(this.components,E),L?.unregisterApplication(A)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Pe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Lc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(sd,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Pe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ey=new nn("",{providedIn:"root",factory:()=>gt(es).handleError.bind(void 0)});function WS(){const e=gt(kr),t=gt(es);return n=>e.runOutsideAngular(()=>t.handleError(n))}let ZS=(()=>{class e{constructor(){this.zone=gt(kr),this.applicationRef=gt(_s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let qS=(()=>{class e{}return e.__NG_ELEMENT_ID__=KS,e})();function KS(e){return function JS(e,t,n){if(Un(e)&&!n){const r=mn(e.index,t);return new na(r,r)}return 47&e.type?new na(t[on],t):null}(Yn(),Oe(),16==(16&e))}class iy{constructor(){}supports(t){return vc(t)}create(t){return new rE(t)}}const nE=(e,t)=>t;class rE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nE}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,a=null;for(;n||r;){const u=!r||n&&n.currentIndex<ay(r,o,a)?n:r,p=ay(u,o,a),v=u.currentIndex;if(u===r)o--,r=r._nextRemoved;else if(n=n._next,null==u.previousIndex)o++;else{a||(a=[]);const E=p-o,A=v-o;if(E!=A){for(let X=0;X<E;X++){const de=X<a.length?a[X]:a[X]=0,Ie=de+X;A<=Ie&&Ie<E&&(a[X]=de+1)}a[u.previousIndex]=A-E}}p!==v&&t(u,p,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!vc(t))throw new Pe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,a,u,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)a=t[p],u=this._trackByFn(p,a),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,a,u,p)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,u,p),r=!0),n=n._next}else o=0,function UC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,p=>{u=this._trackByFn(o,p),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,p,u,o)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,u,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,o)):t=this._addAfter(new oE(n,r),a,o),t}_verifyReinsertion(t,n,r,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,a=t._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new sy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oE{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new iE,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ay(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class cy{constructor(){}supports(t){return t instanceof Map||uu(t)}create(){return new sE}}class sE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||uu(t)))throw new Pe(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const a=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const a=o._prev,u=o._next;return a&&(a._next=u),u&&(u._prev=a),o._next=null,o._prev=null,o}const r=new aE(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class aE{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ly(){return new fd([new iy])}let fd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ly()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Pe(901,!1)}}return e.\u0275prov=xt({token:e,providedIn:"root",factory:ly}),e})();function uy(){return new hd([new cy])}let hd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||uy()),deps:[[e,new Ga,new Ha]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Pe(901,!1)}}return e.\u0275prov=xt({token:e,providedIn:"root",factory:uy}),e})();const uE=Zm(null,"core",[]);let dE=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ct(_s))},e.\u0275mod=lo({type:e}),e.\u0275inj=Ye({}),e})();function CE(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function bE(e){const t=wt(e);if(!t)return null;const n=new ra(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},95:(et,J,T)=>{"use strict";T.d(J,{Wl:()=>F,Fj:()=>re,NI:()=>Pn,u:()=>Ut,cw:()=>ct,sg:()=>$e,u5:()=>Gt,JJ:()=>Ye,JL:()=>rt,YN:()=>vr,eT:()=>jr,UX:()=>$r,Q7:()=>In,EJ:()=>$n,kI:()=>ee,_Y:()=>uo,Kr:()=>Rr});var l=T(4946),N=T(6814),q=T(7715),Q=T(5592),Y=T(7453),fe=T(4829),I=T(4564),V=T(8251),B=T(7400),K=T(2714),Ce=T(7398);let Ne=(()=>{class S{constructor(s,i){this._renderer=s,this._elementRef=i,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(s,i){this._renderer.setProperty(this._elementRef.nativeElement,s,i)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.Qsj),l.Y36(l.SBq))},S.\u0275dir=l.lG2({type:S}),S})(),me=(()=>{class S extends Ne{}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,features:[l.qOj]}),S})();const Fe=new l.OlP("NgValueAccessor"),Ge={provide:Fe,useExisting:(0,l.Gpc)(()=>F),multi:!0};let F=(()=>{class S extends me{writeValue(s){this.setProperty("checked",s)}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.checked)})("blur",function(){return i.onTouched()})},features:[l._Bn([Ge]),l.qOj]}),S})();const Z={provide:Fe,useExisting:(0,l.Gpc)(()=>re),multi:!0},ye=new l.OlP("CompositionEventMode");let re=(()=>{class S extends Ne{constructor(s,i,c){super(s,i),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ve(){const S=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(S.toLowerCase())}())}writeValue(s){this.setProperty("value",s??"")}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ye,8))},S.\u0275dir=l.lG2({type:S,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,i){1&s&&l.NdJ("input",function(f){return i._handleInput(f.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(f){return i._compositionEnd(f.target.value)})},features:[l._Bn([Z]),l.qOj]}),S})();function pe(S){return null==S||("string"==typeof S||Array.isArray(S))&&0===S.length}function U(S){return null!=S&&"number"==typeof S.length}const he=new l.OlP("NgValidators"),le=new l.OlP("NgAsyncValidators"),W=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ee{static min(D){return function $(S){return D=>{if(pe(D.value)||pe(S))return null;const s=parseFloat(D.value);return!isNaN(s)&&s<S?{min:{min:S,actual:D.value}}:null}}(D)}static max(D){return function De(S){return D=>{if(pe(D.value)||pe(S))return null;const s=parseFloat(D.value);return!isNaN(s)&&s>S?{max:{max:S,actual:D.value}}:null}}(D)}static required(D){return We(D)}static requiredTrue(D){return function Me(S){return!0===S.value?null:{required:!0}}(D)}static email(D){return function Pe(S){return pe(S.value)||W.test(S.value)?null:{email:!0}}(D)}static minLength(D){return function ge(S){return D=>pe(D.value)||!U(D.value)?null:D.value.length<S?{minlength:{requiredLength:S,actualLength:D.value.length}}:null}(D)}static maxLength(D){return function te(S){return D=>U(D.value)&&D.value.length>S?{maxlength:{requiredLength:S,actualLength:D.value.length}}:null}(D)}static pattern(D){return function ce(S){if(!S)return Re;let D,s;return"string"==typeof S?(s="","^"!==S.charAt(0)&&(s+="^"),s+=S,"$"!==S.charAt(S.length-1)&&(s+="$"),D=new RegExp(s)):(s=S.toString(),D=S),i=>{if(pe(i.value))return null;const c=i.value;return D.test(c)?null:{pattern:{requiredPattern:s,actualValue:c}}}}(D)}static nullValidator(D){return null}static compose(D){return ht(D)}static composeAsync(D){return pt(D)}}function We(S){return pe(S.value)?{required:!0}:null}function Re(S){return null}function Ve(S){return null!=S}function xe(S){return(0,l.QGY)(S)?(0,q.D)(S):S}function Be(S){let D={};return S.forEach(s=>{D=null!=s?{...D,...s}:D}),0===Object.keys(D).length?null:D}function qe(S,D){return D.map(s=>s(S))}function nt(S){return S.map(D=>function Kt(S){return!S.validate}(D)?D:s=>D.validate(s))}function ht(S){if(!S)return null;const D=S.filter(Ve);return 0==D.length?null:function(s){return Be(qe(s,D))}}function Ct(S){return null!=S?ht(nt(S)):null}function pt(S){if(!S)return null;const D=S.filter(Ve);return 0==D.length?null:function(s){return function ie(...S){const D=(0,I.jO)(S),{args:s,keys:i}=(0,Y.D)(S),c=new Q.y(f=>{const{length:m}=s;if(!m)return void f.complete();const b=new Array(m);let O=m,R=m;for(let H=0;H<m;H++){let j=!1;(0,fe.Xf)(s[H]).subscribe((0,V.x)(f,ne=>{j||(j=!0,R--),b[H]=ne},()=>O--,void 0,()=>{(!O||!j)&&(R||f.next(i?(0,K.n)(i,b):b),f.complete())}))}});return D?c.pipe((0,B.Z)(D)):c}(qe(s,D).map(xe)).pipe((0,Ce.U)(Be))}}function Lt(S){return null!=S?pt(nt(S)):null}function yn(S,D){return null===S?[D]:Array.isArray(S)?[...S,D]:[S,D]}function vn(S){return S._rawValidators}function en(S){return S._rawAsyncValidators}function wn(S){return S?Array.isArray(S)?S:[S]:[]}function Zt(S,D){return Array.isArray(S)?S.includes(D):S===D}function ir(S,D){const s=wn(D);return wn(S).forEach(c=>{Zt(s,c)||s.push(c)}),s}function un(S,D){return wn(D).filter(s=>!Zt(S,s))}class Le{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(D){this._rawValidators=D||[],this._composedValidatorFn=Ct(this._rawValidators)}_setAsyncValidators(D){this._rawAsyncValidators=D||[],this._composedAsyncValidatorFn=Lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(D){this._onDestroyCallbacks.push(D)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(D=>D()),this._onDestroyCallbacks=[]}reset(D=void 0){this.control&&this.control.reset(D)}hasError(D,s){return!!this.control&&this.control.hasError(D,s)}getError(D,s){return this.control?this.control.getError(D,s):null}}class Jt extends Le{get formDirective(){return null}get path(){return null}}class xn extends Le{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class An{constructor(D){this._cd=D}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ye=(()=>{class S extends An{constructor(s){super(s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(xn,2))},S.\u0275dir=l.lG2({type:S,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,i){2&s&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),S})(),rt=(()=>{class S extends An{constructor(s){super(s)}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(Jt,10))},S.\u0275dir=l.lG2({type:S,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,i){2&s&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),S})();const Vn="VALID",Tn="INVALID",Jn="PENDING",jt="DISABLED";function Bn(S){return(se(S)?S.validators:S)||null}function oe(S,D){return(se(D)?D.asyncValidators:S)||null}function se(S){return null!=S&&!Array.isArray(S)&&"object"==typeof S}class Ke{constructor(D,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(D),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(D){this._rawValidators=this._composedValidatorFn=D}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(D){this._rawAsyncValidators=this._composedAsyncValidatorFn=D}get parent(){return this._parent}get valid(){return this.status===Vn}get invalid(){return this.status===Tn}get pending(){return this.status==Jn}get disabled(){return this.status===jt}get enabled(){return this.status!==jt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(D){this._assignValidators(D)}setAsyncValidators(D){this._assignAsyncValidators(D)}addValidators(D){this.setValidators(ir(D,this._rawValidators))}addAsyncValidators(D){this.setAsyncValidators(ir(D,this._rawAsyncValidators))}removeValidators(D){this.setValidators(un(D,this._rawValidators))}removeAsyncValidators(D){this.setAsyncValidators(un(D,this._rawAsyncValidators))}hasValidator(D){return Zt(this._rawValidators,D)}hasAsyncValidator(D){return Zt(this._rawAsyncValidators,D)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(D={}){this.touched=!0,this._parent&&!D.onlySelf&&this._parent.markAsTouched(D)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(D=>D.markAllAsTouched())}markAsUntouched(D={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}markAsDirty(D={}){this.pristine=!1,this._parent&&!D.onlySelf&&this._parent.markAsDirty(D)}markAsPristine(D={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}markAsPending(D={}){this.status=Jn,!1!==D.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!D.onlySelf&&this._parent.markAsPending(D)}disable(D={}){const s=this._parentMarkedDirty(D.onlySelf);this.status=jt,this.errors=null,this._forEachChild(i=>{i.disable({...D,onlySelf:!0})}),this._updateValue(),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...D,skipPristineCheck:s}),this._onDisabledChange.forEach(i=>i(!0))}enable(D={}){const s=this._parentMarkedDirty(D.onlySelf);this.status=Vn,this._forEachChild(i=>{i.enable({...D,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent}),this._updateAncestors({...D,skipPristineCheck:s}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(D){this._parent&&!D.onlySelf&&(this._parent.updateValueAndValidity(D),D.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(D){this._parent=D}getRawValue(){return this.value}updateValueAndValidity(D={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vn||this.status===Jn)&&this._runAsyncValidator(D.emitEvent)),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!D.onlySelf&&this._parent.updateValueAndValidity(D)}_updateTreeValidity(D={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(D)),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jt:Vn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(D){if(this.asyncValidator){this.status=Jn,this._hasOwnPendingAsyncValidator=!0;const s=xe(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:D})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(D,s={}){this.errors=D,this._updateControlsErrors(!1!==s.emitEvent)}get(D){let s=D;return null==s||(Array.isArray(s)||(s=s.split(".")),0===s.length)?null:s.reduce((i,c)=>i&&i._find(c),this)}getError(D,s){const i=s?this.get(s):this;return i&&i.errors?i.errors[D]:null}hasError(D,s){return!!this.getError(D,s)}get root(){let D=this;for(;D._parent;)D=D._parent;return D}_updateControlsErrors(D){this.status=this._calculateStatus(),D&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(D)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?jt:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jn)?Jn:this._anyControlsHaveStatus(Tn)?Tn:Vn}_anyControlsHaveStatus(D){return this._anyControls(s=>s.status===D)}_anyControlsDirty(){return this._anyControls(D=>D.dirty)}_anyControlsTouched(){return this._anyControls(D=>D.touched)}_updatePristine(D={}){this.pristine=!this._anyControlsDirty(),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}_updateTouched(D={}){this.touched=this._anyControlsTouched(),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}_registerOnCollectionChange(D){this._onCollectionChange=D}_setUpdateStrategy(D){se(D)&&null!=D.updateOn&&(this._updateOn=D.updateOn)}_parentMarkedDirty(D){return!D&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(D){return null}_assignValidators(D){this._rawValidators=Array.isArray(D)?D.slice():D,this._composedValidatorFn=function Ee(S){return Array.isArray(S)?Ct(S):S||null}(this._rawValidators)}_assignAsyncValidators(D){this._rawAsyncValidators=Array.isArray(D)?D.slice():D,this._composedAsyncValidatorFn=function G(S){return Array.isArray(S)?Lt(S):S||null}(this._rawAsyncValidators)}}class ct extends Ke{constructor(D,s,i){super(Bn(s),oe(i,s)),this.controls=D,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(D,s){return this.controls[D]?this.controls[D]:(this.controls[D]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(D,s,i={}){this.registerControl(D,s),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(D,s={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(D,s,i={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],s&&this.registerControl(D,s),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(D){return this.controls.hasOwnProperty(D)&&this.controls[D].enabled}setValue(D,s={}){(function je(S,D,s){S._forEachChild((i,c)=>{if(void 0===s[c])throw new l.vHH(1002,"")})})(this,0,D),Object.keys(D).forEach(i=>{(function ue(S,D,s){const i=S.controls;if(!(D?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[s])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(D[i],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(D,s={}){null!=D&&(Object.keys(D).forEach(i=>{const c=this.controls[i];c&&c.patchValue(D[i],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(D={},s={}){this._forEachChild((i,c)=>{i.reset(D[c],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(D,s,i)=>(D[i]=s.getRawValue(),D))}_syncPendingControls(){let D=this._reduceChildren(!1,(s,i)=>!!i._syncPendingControls()||s);return D&&this.updateValueAndValidity({onlySelf:!0}),D}_forEachChild(D){Object.keys(this.controls).forEach(s=>{const i=this.controls[s];i&&D(i,s)})}_setUpControls(){this._forEachChild(D=>{D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(D){for(const[s,i]of Object.entries(this.controls))if(this.contains(s)&&D(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(s,i,c)=>((i.enabled||this.disabled)&&(s[c]=i.value),s))}_reduceChildren(D,s){let i=D;return this._forEachChild((c,f)=>{i=s(i,c,f)}),i}_allControlsDisabled(){for(const D of Object.keys(this.controls))if(this.controls[D].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(D){return this.controls.hasOwnProperty(D)?this.controls[D]:null}}const $t=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>vt}),vt="always";function dn(S,D,s=vt){Fn(S,D),D.valueAccessor.writeValue(S.value),(S.disabled||"always"===s)&&D.valueAccessor.setDisabledState?.(S.disabled),function jn(S,D){D.valueAccessor.registerOnChange(s=>{S._pendingValue=s,S._pendingChange=!0,S._pendingDirty=!0,"change"===S.updateOn&&Mr(S,D)})}(S,D),function ro(S,D){const s=(i,c)=>{D.valueAccessor.writeValue(i),c&&D.viewToModelUpdate(i)};S.registerOnChange(s),D._registerOnDestroy(()=>{S._unregisterOnChange(s)})}(S,D),function zr(S,D){D.valueAccessor.registerOnTouched(()=>{S._pendingTouched=!0,"blur"===S.updateOn&&S._pendingChange&&Mr(S,D),"submit"!==S.updateOn&&S.markAsTouched()})}(S,D),function Wn(S,D){if(D.valueAccessor.setDisabledState){const s=i=>{D.valueAccessor.setDisabledState(i)};S.registerOnDisabledChange(s),D._registerOnDestroy(()=>{S._unregisterOnDisabledChange(s)})}}(S,D)}function mt(S,D,s=!0){const i=()=>{};D.valueAccessor&&(D.valueAccessor.registerOnChange(i),D.valueAccessor.registerOnTouched(i)),Dt(S,D),S&&(D._invokeOnDestroyCallbacks(),S._registerOnCollectionChange(()=>{}))}function Mn(S,D){S.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(D)})}function Fn(S,D){const s=vn(S);null!==D.validator?S.setValidators(yn(s,D.validator)):"function"==typeof s&&S.setValidators([s]);const i=en(S);null!==D.asyncValidator?S.setAsyncValidators(yn(i,D.asyncValidator)):"function"==typeof i&&S.setAsyncValidators([i]);const c=()=>S.updateValueAndValidity();Mn(D._rawValidators,c),Mn(D._rawAsyncValidators,c)}function Dt(S,D){let s=!1;if(null!==S){if(null!==D.validator){const c=vn(S);if(Array.isArray(c)&&c.length>0){const f=c.filter(m=>m!==D.validator);f.length!==c.length&&(s=!0,S.setValidators(f))}}if(null!==D.asyncValidator){const c=en(S);if(Array.isArray(c)&&c.length>0){const f=c.filter(m=>m!==D.asyncValidator);f.length!==c.length&&(s=!0,S.setAsyncValidators(f))}}}const i=()=>{};return Mn(D._rawValidators,i),Mn(D._rawAsyncValidators,i),s}function Mr(S,D){S._pendingDirty&&S.markAsDirty(),S.setValue(S._pendingValue,{emitModelToViewChange:!1}),D.viewToModelUpdate(S._pendingValue),S._pendingChange=!1}function so(S,D){const s=S.indexOf(D);s>-1&&S.splice(s,1)}function Lr(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}const Pn=class extends Ke{constructor(D=null,s,i){super(Bn(s),oe(i,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(D),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),se(s)&&(s.nonNullable||s.initialValueIsDefault)&&(this.defaultValue=Lr(D)?D.value:D)}setValue(D,s={}){this.value=this._pendingValue=D,this._onChange.length&&!1!==s.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==s.emitViewToModelChange)),this.updateValueAndValidity(s)}patchValue(D,s={}){this.setValue(D,s)}reset(D=this.defaultValue,s={}){this._applyFormState(D),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(D){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(D){this._onChange.push(D)}_unregisterOnChange(D){so(this._onChange,D)}registerOnDisabledChange(D){this._onDisabledChange.push(D)}_unregisterOnDisabledChange(D){so(this._onDisabledChange,D)}_forEachChild(D){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(D){Lr(D)?(this.value=this._pendingValue=D.value,D.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=D}};let uo=(()=>{class S{}return S.\u0275fac=function(s){return new(s||S)},S.\u0275dir=l.lG2({type:S,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),S})(),cn=(()=>{class S{}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({}),S})();const bo={provide:Fe,useExisting:(0,l.Gpc)(()=>jr),multi:!0};let jr=(()=>{class S extends me{writeValue(s){this.setProperty("value",parseFloat(s))}registerOnChange(s){this.onChange=i=>{s(""==i?null:parseFloat(i))}}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.value)})("input",function(f){return i.onChange(f.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([bo]),l.qOj]}),S})();const mr=new l.OlP("NgModelWithFormControlWarning"),_e={provide:Jt,useExisting:(0,l.Gpc)(()=>$e)};let $e=(()=>{class S extends Jt{constructor(s,i,c){super(),this.callSetDisabledState=c,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(s),this._setAsyncValidators(i)}ngOnChanges(s){this._checkFormPresent(),s.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(s){const i=this.form.get(s.path);return dn(i,s,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(s),i}getControl(s){return this.form.get(s.path)}removeControl(s){mt(s.control||null,s,!1),function pr(S,D){const s=S.indexOf(D);s>-1&&S.splice(s,1)}(this.directives,s)}addFormGroup(s){this._setUpFormContainer(s)}removeFormGroup(s){this._cleanUpFormContainer(s)}getFormGroup(s){return this.form.get(s.path)}addFormArray(s){this._setUpFormContainer(s)}removeFormArray(s){this._cleanUpFormContainer(s)}getFormArray(s){return this.form.get(s.path)}updateModel(s,i){this.form.get(s.path).setValue(i)}onSubmit(s){return this.submitted=!0,function ko(S,D){S._syncPendingControls(),D.forEach(s=>{const i=s.control;"submit"===i.updateOn&&i._pendingChange&&(s.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(s),"dialog"===s?.target?.method}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_updateDomValue(){this.directives.forEach(s=>{const i=s.control,c=this.form.get(s.path);i!==c&&(mt(i||null,s),(S=>S instanceof Pn)(c)&&(dn(c,s,this.callSetDisabledState),s.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(s){const i=this.form.get(s.path);(function Dn(S,D){Fn(S,D)})(i,s),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(s){if(this.form){const i=this.form.get(s.path);i&&function Rn(S,D){return Dt(S,D)}(i,s)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fn(this.form,this),this._oldForm&&Dt(this._oldForm,this)}_checkFormPresent(){}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(he,10),l.Y36(le,10),l.Y36($t,8))},S.\u0275dir=l.lG2({type:S,selectors:[["","formGroup",""]],hostBindings:function(s,i){1&s&&l.NdJ("submit",function(f){return i.onSubmit(f)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([_e]),l.qOj,l.TTD]}),S})();const Zn={provide:xn,useExisting:(0,l.Gpc)(()=>Ut)};let Ut=(()=>{class S extends xn{set isDisabled(s){}constructor(s,i,c,f,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=s,this._setValidators(i),this._setAsyncValidators(c),this.valueAccessor=function Fr(S,D){if(!D)return null;let s,i,c;return Array.isArray(D),D.forEach(f=>{f.constructor===re?s=f:function Nr(S){return Object.getPrototypeOf(S.constructor)===me}(f)?i=f:c=f}),c||i||s||null}(0,f)}ngOnChanges(s){this._added||this._setUpControl(),function hr(S,D){if(!S.hasOwnProperty("model"))return!1;const s=S.model;return!!s.isFirstChange()||!Object.is(D,s.currentValue)}(s,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}get path(){return function Cn(S,D){return[...D.path,S]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return S._ngModelWarningSentOnce=!1,S.\u0275fac=function(s){return new(s||S)(l.Y36(Jt,13),l.Y36(he,10),l.Y36(le,10),l.Y36(Fe,10),l.Y36(mr,8))},S.\u0275dir=l.lG2({type:S,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Zn]),l.qOj,l.TTD]}),S})();const cr={provide:Fe,useExisting:(0,l.Gpc)(()=>$n),multi:!0};function Xn(S,D){return null==S?`${D}`:(D&&"object"==typeof D&&(D="Object"),`${S}: ${D}`.slice(0,50))}let $n=(()=>{class S extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){this.value=s;const c=Xn(this._getOptionId(s),s);this.setProperty("value",c)}registerOnChange(s){this.onChange=i=>{this.value=this._getOptionValue(i),s(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(s){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),s))return i;return null}_getOptionValue(s){const i=function at(S){return S.split(":")[0]}(s);return this._optionMap.has(i)?this._optionMap.get(i):s}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([cr]),l.qOj]}),S})(),vr=(()=>{class S{constructor(s,i,c){this._element=s,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(s){null!=this._select&&(this._select._optionMap.set(this.id,s),this._setElementValue(Xn(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._setElementValue(s),this._select&&this._select.writeValue(this._select.value)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36($n,9))},S.\u0275dir=l.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})();const _r={provide:Fe,useExisting:(0,l.Gpc)(()=>Ln),multi:!0};function on(S,D){return null==S?`${D}`:("string"==typeof D&&(D=`'${D}'`),D&&"object"==typeof D&&(D="Object"),`${S}: ${D}`.slice(0,50))}let Ln=(()=>{class S extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){let i;if(this.value=s,Array.isArray(s)){const c=s.map(f=>this._getOptionId(f));i=(f,m)=>{f._setSelected(c.indexOf(m.toString())>-1)}}else i=(c,f)=>{c._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(s){this.onChange=i=>{const c=[],f=i.selectedOptions;if(void 0!==f){const m=f;for(let b=0;b<m.length;b++){const R=this._getOptionValue(m[b].value);c.push(R)}}else{const m=i.options;for(let b=0;b<m.length;b++){const O=m[b];if(O.selected){const R=this._getOptionValue(O.value);c.push(R)}}}this.value=c,s(c)}}_registerOption(s){const i=(this._idCounter++).toString();return this._optionMap.set(i,s),i}_getOptionId(s){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,s))return i;return null}_getOptionValue(s){const i=function ho(S){return S.split(":")[0]}(s);return this._optionMap.has(i)?this._optionMap.get(i)._value:s}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,i){1&s&&l.NdJ("change",function(f){return i.onChange(f.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([_r]),l.qOj]}),S})(),Rr=(()=>{class S{constructor(s,i,c){this._element=s,this._renderer=i,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(s){null!=this._select&&(this._value=s,this._setElementValue(on(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._select?(this._value=s,this._setElementValue(on(this.id,s)),this._select.writeValue(this._select.value)):this._setElementValue(s)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}_setSelected(s){this._renderer.setProperty(this._element.nativeElement,"selected",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(s){return new(s||S)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ln,9))},S.\u0275dir=l.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})(),En=(()=>{class S{constructor(){this._validator=Re}ngOnChanges(s){if(this.inputName in s){const i=this.normalizeInput(s[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Re,this._onChange&&this._onChange()}}validate(s){return this._validator(s)}registerOnValidatorChange(s){this._onChange=s}enabled(s){return null!=s}}return S.\u0275fac=function(s){return new(s||S)},S.\u0275dir=l.lG2({type:S,features:[l.TTD]}),S})();const So={provide:he,useExisting:(0,l.Gpc)(()=>In),multi:!0};let In=(()=>{class S extends En{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=s=>We}enabled(s){return s}}return S.\u0275fac=function(){let D;return function(i){return(D||(D=l.n5z(S)))(i||S)}}(),S.\u0275dir=l.lG2({type:S,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,i){2&s&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([So]),l.qOj]}),S})(),Qr=(()=>{class S{}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[cn]}),S})(),Gt=(()=>{class S{static withConfig(s){return{ngModule:S,providers:[{provide:$t,useValue:s.callSetDisabledState??vt}]}}}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[Qr]}),S})(),$r=(()=>{class S{static withConfig(s){return{ngModule:S,providers:[{provide:mr,useValue:s.warnOnNgModelWithFormControl??"always"},{provide:$t,useValue:s.callSetDisabledState??vt}]}}}return S.\u0275fac=function(s){return new(s||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[Qr]}),S})()},6593:(et,J,T)=>{"use strict";T.d(J,{Dx:()=>xn,b2:()=>Zt,q6:()=>yn});var l=T(4946),N=T(6814);class q extends N.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Q extends q{static makeCurrent(){(0,N.HT)(new Q)}onAndCancel(oe,G,se){return oe.addEventListener(G,se),()=>{oe.removeEventListener(G,se)}}dispatchEvent(oe,G){oe.dispatchEvent(G)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,G){return(G=G||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,G){return"window"===G?window:"document"===G?oe:"body"===G?oe.body:null}getBaseHref(oe){const G=function fe(){return Y=Y||document.querySelector("base"),Y?Y.getAttribute("href"):null}();return null==G?null:function V(Ee){I=I||document.createElement("a"),I.setAttribute("href",Ee);const oe=I.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(G)}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,N.Mx)(document.cookie,oe)}}let I,Y=null,K=(()=>{class Ee{build(){return new XMLHttpRequest}}return Ee.\u0275fac=function(G){return new(G||Ee)},Ee.\u0275prov=l.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const ie=new l.OlP("EventManagerPlugins");let Ce=(()=>{class Ee{constructor(G,se){this._zone=se,this._eventNameToPlugin=new Map,G.forEach(ue=>{ue.manager=this}),this._plugins=G.slice().reverse()}addEventListener(G,se,ue){return this._findPluginFor(se).addEventListener(G,se,ue)}getZone(){return this._zone}_findPluginFor(G){let se=this._eventNameToPlugin.get(G);if(se)return se;if(se=this._plugins.find(je=>je.supports(G)),!se)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(G,se),se}}return Ee.\u0275fac=function(G){return new(G||Ee)(l.LFG(ie),l.LFG(l.R0b))},Ee.\u0275prov=l.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Ne{constructor(oe){this._doc=oe}}const me="ng-app-id";let Fe=(()=>{class Ee{constructor(G,se,ue,je={}){this.doc=G,this.appId=se,this.nonce=ue,this.platformId=je,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,N.PM)(je),this.resetHostNodes()}addStyles(G){for(const se of G)1===this.changeUsageCount(se,1)&&this.onStyleAdded(se)}removeStyles(G){for(const se of G)this.changeUsageCount(se,-1)<=0&&this.onStyleRemoved(se)}ngOnDestroy(){const G=this.styleNodesInDOM;G&&(G.forEach(se=>se.remove()),G.clear());for(const se of this.getAllStyles())this.onStyleRemoved(se);this.resetHostNodes()}addHost(G){this.hostNodes.add(G);for(const se of this.getAllStyles())this.addStyleToHost(G,se)}removeHost(G){this.hostNodes.delete(G)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(G){for(const se of this.hostNodes)this.addStyleToHost(se,G)}onStyleRemoved(G){const se=this.styleRef;se.get(G)?.elements?.forEach(ue=>ue.remove()),se.delete(G)}collectServerRenderedStyles(){const G=this.doc.head?.querySelectorAll(`style[${me}="${this.appId}"]`);if(G?.length){const se=new Map;return G.forEach(ue=>{null!=ue.textContent&&se.set(ue.textContent,ue)}),se}return null}changeUsageCount(G,se){const ue=this.styleRef;if(ue.has(G)){const je=ue.get(G);return je.usage+=se,je.usage}return ue.set(G,{usage:se,elements:[]}),se}getStyleElement(G,se){const ue=this.styleNodesInDOM,je=ue?.get(se);if(je?.parentNode===G)return ue.delete(se),je.removeAttribute(me),je;{const Ke=this.doc.createElement("style");return this.nonce&&Ke.setAttribute("nonce",this.nonce),Ke.textContent=se,this.platformIsServer&&Ke.setAttribute(me,this.appId),Ke}}addStyleToHost(G,se){const ue=this.getStyleElement(G,se);G.appendChild(ue);const je=this.styleRef,Ke=je.get(se)?.elements;Ke?Ke.push(ue):je.set(se,{elements:[ue],usage:1})}resetHostNodes(){const G=this.hostNodes;G.clear(),G.add(this.doc.head)}}return Ee.\u0275fac=function(G){return new(G||Ee)(l.LFG(N.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},Ee.\u0275prov=l.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Ge={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},F=/%COMP%/g,Z="%COMP%",ve=`_nghost-${Z}`,ye=`_ngcontent-${Z}`,pe=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function le(Ee,oe){return oe.map(G=>G.replace(F,Ee))}let W=(()=>{class Ee{constructor(G,se,ue,je,Ke,ct,ot,gt=null){this.eventManager=G,this.sharedStylesHost=se,this.appId=ue,this.removeStylesOnCompDestory=je,this.doc=Ke,this.platformId=ct,this.ngZone=ot,this.nonce=gt,this.rendererByCompId=new Map,this.platformIsServer=(0,N.PM)(ct),this.defaultRenderer=new ee(G,Ke,ot,this.platformIsServer)}createRenderer(G,se){if(!G||!se)return this.defaultRenderer;this.platformIsServer&&se.encapsulation===l.ifc.ShadowDom&&(se={...se,encapsulation:l.ifc.Emulated});const ue=this.getOrCreateRenderer(G,se);return ue instanceof ge?ue.applyToHost(G):ue instanceof Pe&&ue.applyStyles(),ue}getOrCreateRenderer(G,se){const ue=this.rendererByCompId;let je=ue.get(se.id);if(!je){const Ke=this.doc,ct=this.ngZone,ot=this.eventManager,gt=this.sharedStylesHost,_n=this.removeStylesOnCompDestory,zn=this.platformIsServer;switch(se.encapsulation){case l.ifc.Emulated:je=new ge(ot,gt,se,this.appId,_n,Ke,ct,zn);break;case l.ifc.ShadowDom:return new Me(ot,gt,G,se,Ke,ct,this.nonce,zn);default:je=new Pe(ot,gt,se,_n,Ke,ct,zn)}je.onDestroy=()=>ue.delete(se.id),ue.set(se.id,je)}return je}ngOnDestroy(){this.rendererByCompId.clear()}}return Ee.\u0275fac=function(G){return new(G||Ee)(l.LFG(Ce),l.LFG(Fe),l.LFG(l.AFp),l.LFG(pe),l.LFG(N.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},Ee.\u0275prov=l.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class ee{constructor(oe,G,se,ue){this.eventManager=oe,this.doc=G,this.ngZone=se,this.platformIsServer=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(oe,G){return G?this.doc.createElementNS(Ge[G]||G,oe):this.doc.createElement(oe)}createComment(oe){return this.doc.createComment(oe)}createText(oe){return this.doc.createTextNode(oe)}appendChild(oe,G){(We(oe)?oe.content:oe).appendChild(G)}insertBefore(oe,G,se){oe&&(We(oe)?oe.content:oe).insertBefore(G,se)}removeChild(oe,G){oe&&oe.removeChild(G)}selectRootElement(oe,G){let se="string"==typeof oe?this.doc.querySelector(oe):oe;if(!se)throw new l.vHH(5104,!1);return G||(se.textContent=""),se}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,G,se,ue){if(ue){G=ue+":"+G;const je=Ge[ue];je?oe.setAttributeNS(je,G,se):oe.setAttribute(G,se)}else oe.setAttribute(G,se)}removeAttribute(oe,G,se){if(se){const ue=Ge[se];ue?oe.removeAttributeNS(ue,G):oe.removeAttribute(`${se}:${G}`)}else oe.removeAttribute(G)}addClass(oe,G){oe.classList.add(G)}removeClass(oe,G){oe.classList.remove(G)}setStyle(oe,G,se,ue){ue&(l.JOm.DashCase|l.JOm.Important)?oe.style.setProperty(G,se,ue&l.JOm.Important?"important":""):oe.style[G]=se}removeStyle(oe,G,se){se&l.JOm.DashCase?oe.style.removeProperty(G):oe.style[G]=""}setProperty(oe,G,se){oe[G]=se}setValue(oe,G){oe.nodeValue=G}listen(oe,G,se){if("string"==typeof oe&&!(oe=(0,N.q)().getGlobalEventTarget(this.doc,oe)))throw new Error(`Unsupported event target ${oe} for event ${G}`);return this.eventManager.addEventListener(oe,G,this.decoratePreventDefault(se))}decoratePreventDefault(oe){return G=>{if("__ngUnwrap__"===G)return oe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>oe(G)):oe(G))&&G.preventDefault()}}}function We(Ee){return"TEMPLATE"===Ee.tagName&&void 0!==Ee.content}class Me extends ee{constructor(oe,G,se,ue,je,Ke,ct,ot){super(oe,je,Ke,ot),this.sharedStylesHost=G,this.hostEl=se,this.shadowRoot=se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gt=le(ue.id,ue.styles);for(const _n of gt){const zn=document.createElement("style");ct&&zn.setAttribute("nonce",ct),zn.textContent=_n,this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}appendChild(oe,G){return super.appendChild(this.nodeOrShadowRoot(oe),G)}insertBefore(oe,G,se){return super.insertBefore(this.nodeOrShadowRoot(oe),G,se)}removeChild(oe,G){return super.removeChild(this.nodeOrShadowRoot(oe),G)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pe extends ee{constructor(oe,G,se,ue,je,Ke,ct,ot){super(oe,je,Ke,ct),this.sharedStylesHost=G,this.removeStylesOnCompDestory=ue,this.rendererUsageCount=0,this.styles=ot?le(ot,se.styles):se.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ge extends Pe{constructor(oe,G,se,ue,je,Ke,ct,ot){const gt=ue+"-"+se.id;super(oe,G,se,je,Ke,ct,ot,gt),this.contentAttr=function U(Ee){return ye.replace(F,Ee)}(gt),this.hostAttr=function he(Ee){return ve.replace(F,Ee)}(gt)}applyToHost(oe){this.applyStyles(),this.setAttribute(oe,this.hostAttr,"")}createElement(oe,G){const se=super.createElement(oe,G);return super.setAttribute(se,this.contentAttr,""),se}}let te=(()=>{class Ee extends Ne{constructor(G){super(G)}supports(G){return!0}addEventListener(G,se,ue){return G.addEventListener(se,ue,!1),()=>this.removeEventListener(G,se,ue)}removeEventListener(G,se,ue){return G.removeEventListener(se,ue)}}return Ee.\u0275fac=function(G){return new(G||Ee)(l.LFG(N.K0))},Ee.\u0275prov=l.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const ce=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ve={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let xe=(()=>{class Ee extends Ne{constructor(G){super(G)}supports(G){return null!=Ee.parseEventName(G)}addEventListener(G,se,ue){const je=Ee.parseEventName(se),Ke=Ee.eventCallback(je.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,N.q)().onAndCancel(G,je.domEventName,Ke))}static parseEventName(G){const se=G.toLowerCase().split("."),ue=se.shift();if(0===se.length||"keydown"!==ue&&"keyup"!==ue)return null;const je=Ee._normalizeKey(se.pop());let Ke="",ct=se.indexOf("code");if(ct>-1&&(se.splice(ct,1),Ke="code."),ce.forEach(gt=>{const _n=se.indexOf(gt);_n>-1&&(se.splice(_n,1),Ke+=gt+".")}),Ke+=je,0!=se.length||0===je.length)return null;const ot={};return ot.domEventName=ue,ot.fullKey=Ke,ot}static matchEventFullKeyCode(G,se){let ue=Re[G.key]||G.key,je="";return se.indexOf("code.")>-1&&(ue=G.code,je="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),ce.forEach(Ke=>{Ke!==ue&&(0,Ve[Ke])(G)&&(je+=Ke+".")}),je+=ue,je===se)}static eventCallback(G,se,ue){return je=>{Ee.matchEventFullKeyCode(je,G)&&ue.runGuarded(()=>se(je))}}static _normalizeKey(G){return"esc"===G?"escape":G}}return Ee.\u0275fac=function(G){return new(G||Ee)(l.LFG(N.K0))},Ee.\u0275prov=l.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const yn=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:N.bD},{provide:l.g9A,useValue:function ht(){Q.makeCurrent()},multi:!0},{provide:N.K0,useFactory:function pt(){return(0,l.RDi)(document),document},deps:[]}]),vn=new l.OlP(""),en=[{provide:l.rWj,useClass:class B{addToWindow(oe){l.dqk.getAngularTestability=(se,ue=!0)=>{const je=oe.findTestabilityInTree(se,ue);if(null==je)throw new l.vHH(5103,!1);return je},l.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(se=>{const ue=l.dqk.getAllAngularTestabilities();let je=ue.length,Ke=!1;const ct=function(ot){Ke=Ke||ot,je--,0==je&&se(Ke)};ue.forEach(function(ot){ot.whenStable(ct)})})}findTestabilityInTree(oe,G,se){return null==G?null:oe.getTestability(G)??(se?(0,N.q)().isShadowRoot(G)?this.findTestabilityInTree(oe,G.host,!0):this.findTestabilityInTree(oe,G.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],wn=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ct(){return new l.qLn},deps:[]},{provide:ie,useClass:te,multi:!0,deps:[N.K0,l.R0b,l.Lbi]},{provide:ie,useClass:xe,multi:!0,deps:[N.K0]},W,Fe,Ce,{provide:l.FYo,useExisting:W},{provide:N.JF,useClass:K,deps:[]},[]];let Zt=(()=>{class Ee{constructor(G){}static withServerTransition(G){return{ngModule:Ee,providers:[{provide:l.AFp,useValue:G.appId}]}}}return Ee.\u0275fac=function(G){return new(G||Ee)(l.LFG(vn,12))},Ee.\u0275mod=l.oAB({type:Ee}),Ee.\u0275inj=l.cJS({providers:[...wn,...en],imports:[N.ez,l.hGG]}),Ee})(),xn=(()=>{class Ee{constructor(G){this._doc=G}getTitle(){return this._doc.title}setTitle(G){this._doc.title=G||""}}return Ee.\u0275fac=function(G){return new(G||Ee)(l.LFG(N.K0))},Ee.\u0275prov=l.Yz7({token:Ee,factory:function(G){let se=null;return se=G?new G:function Jt(){return new xn((0,l.LFG)(N.K0))}(),se},providedIn:"root"}),Ee})();typeof window<"u"&&window},6538:(et,J,T)=>{"use strict";T.d(J,{F0:()=>Or,rH:()=>Vi,Od:()=>Es,Bz:()=>Pa,lC:()=>$n});var l=T(4946),N=T(5592),q=T(4674),Y=T(7715),fe=T(2096),I=T(5619),V=T(7453),B=T(2737),K=T(7400),ie=T(4564),Ce=T(2714),Ne=T(8251),me=T(7103);function Fe(...h){const g=(0,ie.yG)(h),d=(0,ie.jO)(h),{args:y,keys:w}=(0,V.D)(h);if(0===y.length)return(0,Y.D)([],g);const x=new N.y(function Ge(h,g,d=B.y){return y=>{F(g,()=>{const{length:w}=h,x=new Array(w);let k=w,ae=w;for(let Te=0;Te<w;Te++)F(g,()=>{const Ze=(0,Y.D)(h[Te],g);let Qe=!1;Ze.subscribe((0,Ne.x)(y,Ft=>{x[Te]=Ft,Qe||(Qe=!0,ae--),ae||y.next(d(x.slice()))},()=>{--k||y.complete()}))},y)},y)}}(y,g,w?k=>(0,Ce.n)(w,k):B.y));return d?x.pipe((0,K.Z)(d)):x}function F(h,g,d){h?(0,me.f)(d,h,g):g()}const ve=(0,T(2306).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"});var ye=T(7537);function pe(...h){return function re(){return(0,ye.J)(1)}()((0,Y.D)(h,(0,ie.yG)(h)))}var U=T(4829);function he(h){return new N.y(g=>{(0,U.Xf)(h()).subscribe(g)})}var le=T(8407);function W(h,g){const d=(0,q.m)(h)?h:()=>h,y=w=>w.error(d());return new N.y(g?w=>g.schedule(y,0,w):y)}var ee=T(6232),$=T(7394),De=T(9360);function We(){return(0,De.e)((h,g)=>{let d=null;h._refCount++;const y=(0,Ne.x)(g,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(d=null);const w=h._connection,x=d;d=null,w&&(!x||w===x)&&w.unsubscribe(),g.unsubscribe()});h.subscribe(y),y.closed||(d=h.connect())})}class Me extends N.y{constructor(g,d){super(),this.source=g,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,De.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new $.w0;const d=this.getSubject();g.add(this.source.subscribe((0,Ne.x)(d,void 0,()=>{this._teardown(),d.complete()},y=>{this._teardown(),d.error(y)},()=>this._teardown()))),g.closed&&(this._connection=null,g=$.w0.EMPTY)}return g}refCount(){return We()(this)}}var Pe=T(8645),ge=T(6814),te=T(7398),ce=T(4664);function Re(h){return h<=0?()=>ee.E:(0,De.e)((g,d)=>{let y=0;g.subscribe((0,Ne.x)(d,w=>{++y<=h&&(d.next(w),h<=y&&d.complete())}))})}function xe(h,g){return(0,De.e)((d,y)=>{let w=0;d.subscribe((0,Ne.x)(y,x=>h.call(g,x,w++)&&y.next(x)))})}var Be=T(1631);function qe(h){return(0,De.e)((g,d)=>{let y=!1;g.subscribe((0,Ne.x)(d,w=>{y=!0,d.next(w)},()=>{y||d.next(h),d.complete()}))})}function Kt(h=nt){return(0,De.e)((g,d)=>{let y=!1;g.subscribe((0,Ne.x)(d,w=>{y=!0,d.next(w)},()=>y?d.complete():d.error(h())))})}function nt(){return new ve}function ht(h,g){const d=arguments.length>=2;return y=>y.pipe(h?xe((w,x)=>h(w,x,y)):B.y,Re(1),d?qe(g):Kt(()=>new ve))}function Ct(h,g){return(0,q.m)(g)?(0,Be.z)(h,g,1):(0,Be.z)(h,1)}function pt(h,g,d){const y=(0,q.m)(h)||g||d?{next:h,error:g,complete:d}:h;return y?(0,De.e)((w,x)=>{var k;null===(k=y.subscribe)||void 0===k||k.call(y);let ae=!0;w.subscribe((0,Ne.x)(x,Te=>{var Ze;null===(Ze=y.next)||void 0===Ze||Ze.call(y,Te),x.next(Te)},()=>{var Te;ae=!1,null===(Te=y.complete)||void 0===Te||Te.call(y),x.complete()},Te=>{var Ze;ae=!1,null===(Ze=y.error)||void 0===Ze||Ze.call(y,Te),x.error(Te)},()=>{var Te,Ze;ae&&(null===(Te=y.unsubscribe)||void 0===Te||Te.call(y)),null===(Ze=y.finalize)||void 0===Ze||Ze.call(y)}))}):B.y}function Lt(h){return(0,De.e)((g,d)=>{let x,y=null,w=!1;y=g.subscribe((0,Ne.x)(d,void 0,void 0,k=>{x=(0,U.Xf)(h(k,Lt(h)(g))),y?(y.unsubscribe(),y=null,x.subscribe(d)):w=!0})),w&&(y.unsubscribe(),y=null,x.subscribe(d))})}function en(h){return h<=0?()=>ee.E:(0,De.e)((g,d)=>{let y=[];g.subscribe((0,Ne.x)(d,w=>{y.push(w),h<y.length&&y.shift()},()=>{for(const w of y)d.next(w);d.complete()},void 0,()=>{y=null}))})}function ir(h){return(0,De.e)((g,d)=>{try{g.subscribe(d)}finally{d.add(h)}})}var un=T(6593);const Le="primary",Jt=Symbol("RouteTitle");class xn{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d[0]:d}return null}getAll(g){if(this.has(g)){const d=this.params[g];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function An(h){return new xn(h)}function xt(h,g,d){const y=d.path.split("/");if(y.length>h.length||"full"===d.pathMatch&&(g.hasChildren()||y.length<h.length))return null;const w={};for(let x=0;x<y.length;x++){const k=y[x],ae=h[x];if(k.startsWith(":"))w[k.substring(1)]=ae;else if(k!==ae.path)return null}return{consumed:h.slice(0,y.length),posParams:w}}function Ye(h,g){const d=h?Object.keys(h):void 0,y=g?Object.keys(g):void 0;if(!d||!y||d.length!=y.length)return!1;let w;for(let x=0;x<d.length;x++)if(w=d[x],!rt(h[w],g[w]))return!1;return!0}function rt(h,g){if(Array.isArray(h)&&Array.isArray(g)){if(h.length!==g.length)return!1;const d=[...h].sort(),y=[...g].sort();return d.every((w,x)=>y[x]===w)}return h===g}function Tr(h){return h.length>0?h[h.length-1]:null}function an(h){return function Q(h){return!!h&&(h instanceof N.y||(0,q.m)(h.lift)&&(0,q.m)(h.subscribe))}(h)?h:(0,l.QGY)(h)?(0,Y.D)(Promise.resolve(h)):(0,fe.of)(h)}const kn={exact:function Qt(h,g,d){if(!dr(h.segments,g.segments)||!sr(h.segments,g.segments,d)||h.numberOfChildren!==g.numberOfChildren)return!1;for(const y in g.children)if(!h.children[y]||!Qt(h.children[y],g.children[y],d))return!1;return!0},subset:Ue},Nn={exact:function Gr(h,g){return Ye(h,g)},subset:function no(h,g){return Object.keys(g).length<=Object.keys(h).length&&Object.keys(g).every(d=>rt(h[d],g[d]))},ignored:()=>!0};function rn(h,g,d){return kn[d.paths](h.root,g.root,d.matrixParams)&&Nn[d.queryParams](h.queryParams,g.queryParams)&&!("exact"===d.fragment&&h.fragment!==g.fragment)}function Ue(h,g,d){return Co(h,g,g.segments,d)}function Co(h,g,d,y){if(h.segments.length>d.length){const w=h.segments.slice(0,d.length);return!(!dr(w,d)||g.hasChildren()||!sr(w,d,y))}if(h.segments.length===d.length){if(!dr(h.segments,d)||!sr(h.segments,d,y))return!1;for(const w in g.children)if(!h.children[w]||!Ue(h.children[w],g.children[w],y))return!1;return!0}{const w=d.slice(0,h.segments.length),x=d.slice(h.segments.length);return!!(dr(h.segments,w)&&sr(h.segments,w,y)&&h.children[Le])&&Co(h.children[Le],g,x,y)}}function sr(h,g,d){return g.every((y,w)=>Nn[d](h[w].parameters,y.parameters))}class kt{constructor(g=new bt([],{}),d={},y=null){this.root=g,this.queryParams=d,this.fragment=y}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return Jn.serialize(this)}}class bt{constructor(g,d){this.segments=g,this.children=d,this.parent=null,Object.values(d).forEach(y=>y.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jt(this)}}class Gn{constructor(g,d){this.path=g,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=An(this.parameters)),this._parameterMap}toString(){return Ke(this)}}function dr(h,g){return h.length===g.length&&h.every((d,y)=>d.path===g[y].path)}let Vn=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return new Tn},providedIn:"root"}),h})();class Tn{parse(g){const d=new Mn(g);return new kt(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(g){const d=`/${Bn(g.root,!0)}`,y=function ot(h){const g=Object.keys(h).map(d=>{const y=h[d];return Array.isArray(y)?y.map(w=>`${oe(d)}=${oe(w)}`).join("&"):`${oe(d)}=${oe(y)}`}).filter(d=>!!d);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${d}${y}${"string"==typeof g.fragment?`#${function G(h){return encodeURI(h)}(g.fragment)}`:""}`}}const Jn=new Tn;function jt(h){return h.segments.map(g=>Ke(g)).join("/")}function Bn(h,g){if(!h.hasChildren())return jt(h);if(g){const d=h.children[Le]?Bn(h.children[Le],!1):"",y=[];return Object.entries(h.children).forEach(([w,x])=>{w!==Le&&y.push(`${w}:${Bn(x,!1)}`)}),y.length>0?`${d}(${y.join("//")})`:d}{const d=function Mt(h,g){let d=[];return Object.entries(h.children).forEach(([y,w])=>{y===Le&&(d=d.concat(g(w,y)))}),Object.entries(h.children).forEach(([y,w])=>{y!==Le&&(d=d.concat(g(w,y)))}),d}(h,(y,w)=>w===Le?[Bn(h.children[Le],!1)]:[`${w}:${Bn(y,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[Le]?`${jt(h)}/${d[0]}`:`${jt(h)}/(${d.join("//")})`}}function Ee(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oe(h){return Ee(h).replace(/%3B/gi,";")}function se(h){return Ee(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ue(h){return decodeURIComponent(h)}function je(h){return ue(h.replace(/\+/g,"%20"))}function Ke(h){return`${se(h.path)}${function ct(h){return Object.keys(h).map(g=>`;${se(g)}=${se(h[g])}`).join("")}(h.parameters)}`}const gt=/^[^\/()?;#]+/;function _n(h){const g=h.match(gt);return g?g[0]:""}const zn=/^[^\/()?;=#]+/,vt=/^[^=?&#]+/,dn=/^[^&#]+/;class Mn{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let y={};return this.peekStartsWith("(")&&(y=this.parseParens(!1)),(g.length>0||Object.keys(d).length>0)&&(y[Le]=new bt(g,d)),y}parseSegment(){const g=_n(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(g),new Gn(ue(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const d=function $t(h){const g=h.match(zn);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let y="";if(this.consumeOptional("=")){const w=_n(this.remaining);w&&(y=w,this.capture(y))}g[ue(d)]=ue(y)}parseQueryParam(g){const d=function Cn(h){const g=h.match(vt);return g?g[0]:""}(this.remaining);if(!d)return;this.capture(d);let y="";if(this.consumeOptional("=")){const k=function mt(h){const g=h.match(dn);return g?g[0]:""}(this.remaining);k&&(y=k,this.capture(y))}const w=je(d),x=je(y);if(g.hasOwnProperty(w)){let k=g[w];Array.isArray(k)||(k=[k],g[w]=k),k.push(x)}else g[w]=x}parseParens(g){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const y=_n(this.remaining),w=this.remaining[y.length];if("/"!==w&&")"!==w&&";"!==w)throw new l.vHH(4010,!1);let x;y.indexOf(":")>-1?(x=y.slice(0,y.indexOf(":")),this.capture(x),this.capture(":")):g&&(x=Le);const k=this.parseChildren();d[x]=1===Object.keys(k).length?k[Le]:new bt([],k),this.consumeOptional("//")}return d}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new l.vHH(4011,!1)}}function Wn(h){return h.segments.length>0?new bt([],{[Le]:h}):h}function Fn(h){const g={};for(const y of Object.keys(h.children)){const x=Fn(h.children[y]);if(y===Le&&0===x.segments.length&&x.hasChildren())for(const[k,ae]of Object.entries(x.children))g[k]=ae;else(x.segments.length>0||x.hasChildren())&&(g[y]=x)}return function Dt(h){if(1===h.numberOfChildren&&h.children[Le]){const g=h.children[Le];return new bt(h.segments.concat(g.segments),g.children)}return h}(new bt(h.segments,g))}function jn(h){return h instanceof kt}function Mr(h){let g;const w=Wn(function d(x){const k={};for(const Te of x.children){const Ze=d(Te);k[Te.outlet]=Ze}const ae=new bt(x.url,k);return x===h&&(g=ae),ae}(h.root));return g??w}function ro(h,g,d,y){let w=h;for(;w.parent;)w=w.parent;if(0===g.length)return Ir(w,w,w,d,y);const x=function xo(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new fr(!0,0,h);let g=0,d=!1;const y=h.reduce((w,x,k)=>{if("object"==typeof x&&null!=x){if(x.outlets){const ae={};return Object.entries(x.outlets).forEach(([Te,Ze])=>{ae[Te]="string"==typeof Ze?Ze.split("/"):Ze}),[...w,{outlets:ae}]}if(x.segmentPath)return[...w,x.segmentPath]}return"string"!=typeof x?[...w,x]:0===k?(x.split("/").forEach((ae,Te)=>{0==Te&&"."===ae||(0==Te&&""===ae?d=!0:".."===ae?g++:""!=ae&&w.push(ae))}),w):[...w,x]},[]);return new fr(d,g,y)}(g);if(x.toRoot())return Ir(w,w,new bt([],{}),d,y);const k=function hr(h,g,d){if(h.isAbsolute)return new Wr(g,!0,0);if(!d)return new Wr(g,!1,NaN);if(null===d.parent)return new Wr(d,!0,0);const y=Dn(h.commands[0])?0:1;return function Nr(h,g,d){let y=h,w=g,x=d;for(;x>w;){if(x-=w,y=y.parent,!y)throw new l.vHH(4005,!1);w=y.segments.length}return new Wr(y,!1,w-x)}(d,d.segments.length-1+y,h.numberOfDoubleDots)}(x,w,h),ae=k.processChildren?pr(k.segmentGroup,k.index,x.commands):Fr(k.segmentGroup,k.index,x.commands);return Ir(w,k.segmentGroup,ae,d,y)}function Dn(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function Rn(h){return"object"==typeof h&&null!=h&&h.outlets}function Ir(h,g,d,y,w){let k,x={};y&&Object.entries(y).forEach(([Te,Ze])=>{x[Te]=Array.isArray(Ze)?Ze.map(Qe=>`${Qe}`):`${Ze}`}),k=h===g?d:oo(h,g,d);const ae=Wn(Fn(k));return new kt(ae,x,w)}function oo(h,g,d){const y={};return Object.entries(h.children).forEach(([w,x])=>{y[w]=x===g?d:oo(x,g,d)}),new bt(h.segments,y)}class fr{constructor(g,d,y){if(this.isAbsolute=g,this.numberOfDoubleDots=d,this.commands=y,g&&y.length>0&&Dn(y[0]))throw new l.vHH(4003,!1);const w=y.find(Rn);if(w&&w!==Tr(y))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wr{constructor(g,d,y){this.segmentGroup=g,this.processChildren=d,this.index=y}}function Fr(h,g,d){if(h||(h=new bt([],{})),0===h.segments.length&&h.hasChildren())return pr(h,g,d);const y=function No(h,g,d){let y=0,w=g;const x={match:!1,pathIndex:0,commandIndex:0};for(;w<h.segments.length;){if(y>=d.length)return x;const k=h.segments[w],ae=d[y];if(Rn(ae))break;const Te=`${ae}`,Ze=y<d.length-1?d[y+1]:null;if(w>0&&void 0===Te)break;if(Te&&Ze&&"object"==typeof Ze&&void 0===Ze.outlets){if(!so(Te,Ze,k))return x;y+=2}else{if(!so(Te,{},k))return x;y++}w++}return{match:!0,pathIndex:w,commandIndex:y}}(h,g,d),w=d.slice(y.commandIndex);if(y.match&&y.pathIndex<h.segments.length){const x=new bt(h.segments.slice(0,y.pathIndex),{});return x.children[Le]=new bt(h.segments.slice(y.pathIndex),h.children),pr(x,0,w)}return y.match&&0===w.length?new bt(h.segments,{}):y.match&&!h.hasChildren()?Zr(h,g,d):y.match?pr(h,0,w):Zr(h,g,d)}function pr(h,g,d){if(0===d.length)return new bt(h.segments,{});{const y=function ko(h){return Rn(h[0])?h[0].outlets:{[Le]:h}}(d),w={};if(!y[Le]&&h.children[Le]&&1===h.numberOfChildren&&0===h.children[Le].segments.length){const x=pr(h.children[Le],g,d);return new bt(h.segments,x.children)}return Object.entries(y).forEach(([x,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(w[x]=Fr(h.children[x],g,k))}),Object.entries(h.children).forEach(([x,k])=>{void 0===y[x]&&(w[x]=k)}),new bt(h.segments,w)}}function Zr(h,g,d){const y=h.segments.slice(0,g);let w=0;for(;w<d.length;){const x=d[w];if(Rn(x)){const Te=fn(x.outlets);return new bt(y,Te)}if(0===w&&Dn(d[0])){y.push(new Gn(h.segments[g].path,io(d[0]))),w++;continue}const k=Rn(x)?x.outlets[Le]:`${x}`,ae=w<d.length-1?d[w+1]:null;k&&ae&&Dn(ae)?(y.push(new Gn(k,io(ae))),w+=2):(y.push(new Gn(k,{})),w++)}return new bt(y,{})}function fn(h){const g={};return Object.entries(h).forEach(([d,y])=>{"string"==typeof y&&(y=[y]),null!==y&&(g[d]=Zr(new bt([],{}),0,y))}),g}function io(h){const g={};return Object.entries(h).forEach(([d,y])=>g[d]=`${y}`),g}function so(h,g,d){return h==d.path&&Ye(g,d.parameters)}const Lr="imperative";class Pn{constructor(g,d){this.id=g,this.url=d}}class Fo extends Pn{constructor(g,d,y="imperative",w=null){super(g,d),this.type=0,this.navigationTrigger=y,this.restoredState=w}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ar extends Pn{constructor(g,d,y){super(g,d),this.urlAfterRedirects=y,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vr extends Pn{constructor(g,d,y,w){super(g,d),this.reason=y,this.code=w,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Do extends Pn{constructor(g,d,y,w){super(g,d),this.reason=y,this.code=w,this.type=16}}class bn extends Pn{constructor(g,d,y,w){super(g,d),this.error=y,this.target=w,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ao extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zo extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends Pn{constructor(g,d,y,w,x){super(g,d),this.urlAfterRedirects=y,this.state=w,this.shouldActivate=x,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class co extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni extends Pn{constructor(g,d,y,w){super(g,d),this.urlAfterRedirects=y,this.state=w,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo{constructor(g){this.route=g,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lo{constructor(g){this.route=g,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uo{constructor(g){this.snapshot=g,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Br{constructor(g){this.snapshot=g,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(g){this.snapshot=g,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(g){this.snapshot=g,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(g,d,y){this.routerEvent=g,this.position=d,this.anchor=y,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nt,this.attachRef=null}}let Nt=(()=>{class h{constructor(){this.contexts=new Map}onChildOutletCreated(d,y){const w=this.getOrCreateContext(d);w.outlet=y,this.contexts.set(d,w)}onChildOutletDestroyed(d){const y=this.getContext(d);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const d=this.contexts;return this.contexts=new Map,d}onOutletReAttached(d){this.contexts=d}getOrCreateContext(d){let y=this.getContext(d);return y||(y=new gr,this.contexts.set(d,y)),y}getContext(d){return this.contexts.get(d)||null}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class bo{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const d=this.pathFromRoot(g);return d.length>1?d[d.length-2]:null}children(g){const d=jr(g,this._root);return d?d.children.map(y=>y.value):[]}firstChild(g){const d=jr(g,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(g){const d=mr(g,this._root);return d.length<2?[]:d[d.length-2].children.map(w=>w.value).filter(w=>w!==g)}pathFromRoot(g){return mr(g,this._root).map(d=>d.value)}}function jr(h,g){if(h===g.value)return g;for(const d of g.children){const y=jr(h,d);if(y)return y}return null}function mr(h,g){if(h===g.value)return[g];for(const d of g.children){const y=mr(h,d);if(y.length)return y.unshift(g),y}return[]}class ar{constructor(g,d){this.value=g,this.children=d}toString(){return`TreeNode(${this.value})`}}function yr(h){const g={};return h&&h.children.forEach(d=>g[d.value.outlet]=d),g}class _e extends bo{constructor(g,d){super(g),this.snapshot=d,Ut(this,g)}toString(){return this.snapshot.toString()}}function $e(h,g){const d=function lt(h,g){const k=new ln([],{},{},"",{},Le,g,null,{});return new Zn("",new ar(k,[]))}(0,g),y=new I.X([new Gn("",{})]),w=new I.X({}),x=new I.X({}),k=new I.X({}),ae=new I.X(""),Te=new it(y,w,k,ae,x,Le,g,d.root);return Te.snapshot=d.root,new _e(new ar(Te,[]),d)}class it{constructor(g,d,y,w,x,k,ae,Te){this.urlSubject=g,this.paramsSubject=d,this.queryParamsSubject=y,this.fragmentSubject=w,this.dataSubject=x,this.outlet=k,this.component=ae,this._futureSnapshot=Te,this.title=this.dataSubject?.pipe((0,te.U)(Ze=>Ze[Jt]))??(0,fe.of)(void 0),this.url=g,this.params=d,this.queryParams=y,this.fragment=w,this.data=x}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,te.U)(g=>An(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,te.U)(g=>An(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function It(h,g="emptyOnly"){const d=h.pathFromRoot;let y=0;if("always"!==g)for(y=d.length-1;y>=1;){const w=d[y],x=d[y-1];if(w.routeConfig&&""===w.routeConfig.path)y--;else{if(x.component)break;y--}}return function Qn(h){return h.reduce((g,d)=>({params:{...g.params,...d.params},data:{...g.data,...d.data},resolve:{...d.data,...g.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(y))}class ln{get title(){return this.data?.[Jt]}constructor(g,d,y,w,x,k,ae,Te,Ze){this.url=g,this.params=d,this.queryParams=y,this.fragment=w,this.data=x,this.outlet=k,this.component=ae,this.routeConfig=Te,this._resolve=Ze}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=An(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(y=>y.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zn extends bo{constructor(g,d){super(d),this.url=g,Ut(this,d)}toString(){return cr(this._root)}}function Ut(h,g){g.value._routerState=h,g.children.forEach(d=>Ut(h,d))}function cr(h){const g=h.children.length>0?` { ${h.children.map(cr).join(", ")} } `:"";return`${h.value}${g}`}function Xn(h){if(h.snapshot){const g=h.snapshot,d=h._futureSnapshot;h.snapshot=d,Ye(g.queryParams,d.queryParams)||h.queryParamsSubject.next(d.queryParams),g.fragment!==d.fragment&&h.fragmentSubject.next(d.fragment),Ye(g.params,d.params)||h.paramsSubject.next(d.params),function sn(h,g){if(h.length!==g.length)return!1;for(let d=0;d<h.length;++d)if(!Ye(h[d],g[d]))return!1;return!0}(g.url,d.url)||h.urlSubject.next(d.url),Ye(g.data,d.data)||h.dataSubject.next(d.data)}else h.snapshot=h._futureSnapshot,h.dataSubject.next(h._futureSnapshot.data)}function at(h,g){const d=Ye(h.params,g.params)&&function Xt(h,g){return dr(h,g)&&h.every((d,y)=>Ye(d.parameters,g[y].parameters))}(h.url,g.url);return d&&!(!h.parent!=!g.parent)&&(!h.parent||at(h.parent,g.parent))}let $n=(()=>{class h{constructor(){this.activated=null,this._activatedRoute=null,this.name=Le,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Nt),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(_r,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(d){if(d.name){const{firstChange:y,previousValue:w}=d.name;if(y)return;this.isTrackedInParentContexts(w)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(w)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(d){return this.parentContexts.getContext(d)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const d=this.parentContexts.getContext(this.name);d?.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,y){this.activated=d,this._activatedRoute=y,this.location.insert(d.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,y){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=d;const w=this.location,k=d.snapshot.component,ae=this.parentContexts.getOrCreateContext(this.name).children,Te=new vr(d,ae,w.injector);this.activated=w.createComponent(k,{index:w.length,injector:Te,environmentInjector:y??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275dir=l.lG2({type:h,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),h})();class vr{constructor(g,d,y){this.route=g,this.childContexts=d,this.parent=y}get(g,d){return g===it?this.route:g===Nt?this.childContexts:this.parent.get(g,d)}}const _r=new l.OlP("");let on=(()=>{class h{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(d){this.unsubscribeFromRouteData(d),this.subscribeToRouteData(d)}unsubscribeFromRouteData(d){this.outletDataSubscriptions.get(d)?.unsubscribe(),this.outletDataSubscriptions.delete(d)}subscribeToRouteData(d){const{activatedRoute:y}=d,w=Fe([y.queryParams,y.params,y.data]).pipe((0,ce.w)(([x,k,ae],Te)=>(ae={...x,...k,...ae},0===Te?(0,fe.of)(ae):Promise.resolve(ae)))).subscribe(x=>{if(!d.isActivated||!d.activatedComponentRef||d.activatedRoute!==y||null===y.component)return void this.unsubscribeFromRouteData(d);const k=(0,l.qFp)(y.component);if(k)for(const{templateName:ae}of k.inputs)d.activatedComponentRef.setInput(ae,x[ae]);else this.unsubscribeFromRouteData(d)});this.outletDataSubscriptions.set(d,w)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})();function lr(h,g,d){if(d&&h.shouldReuseRoute(g.value,d.value.snapshot)){const y=d.value;y._futureSnapshot=g.value;const w=function Ln(h,g,d){return g.children.map(y=>{for(const w of d.children)if(h.shouldReuseRoute(y.value,w.value.snapshot))return lr(h,y,w);return lr(h,y)})}(h,g,d);return new ar(y,w)}{if(h.shouldAttach(g.value)){const x=h.retrieve(g.value);if(null!==x){const k=x.route;return k.value._futureSnapshot=g.value,k.children=g.children.map(ae=>lr(h,ae)),k}}const y=function Rr(h){return new it(new I.X(h.url),new I.X(h.params),new I.X(h.queryParams),new I.X(h.fragment),new I.X(h.data),h.outlet,h.component,h)}(g.value),w=g.children.map(x=>lr(h,x));return new ar(y,w)}}const Yr="ngNavigationCancelingError";function er(h,g){const{redirectTo:d,navigationBehaviorOptions:y}=jn(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,w=En(!1,0,g);return w.url=d,w.navigationBehaviorOptions=y,w}function En(h,g,d){const y=new Error("NavigationCancelingError: "+(h||""));return y[Yr]=!0,y.cancellationCode=g,d&&(y.url=d),y}function po(h){return Tt(h)&&jn(h.url)}function Tt(h){return h&&h[Yr]}let tt=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275cmp=l.Xpm({type:h,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(d,y){1&d&&l._UZ(0,"router-outlet")},dependencies:[$n],encapsulation:2}),h})();function Ht(h){const g=h.children&&h.children.map(Ht),d=g?{...h,children:g}:{...h};return!d.component&&!d.loadComponent&&(g||d.loadChildren)&&d.outlet&&d.outlet!==Le&&(d.component=tt),d}function Yt(h){return h.outlet||Le}function Un(h){if(!h)return null;if(h.routeConfig?._injector)return h.routeConfig._injector;for(let g=h.parent;g;g=g.parent){const d=g.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class Rt{constructor(g,d,y,w,x){this.routeReuseStrategy=g,this.futureState=d,this.currState=y,this.forwardEvent=w,this.inputBindingEnabled=x}activate(g){const d=this.futureState._root,y=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,y,g),Xn(this.futureState.root),this.activateChildRoutes(d,y,g)}deactivateChildRoutes(g,d,y){const w=yr(d);g.children.forEach(x=>{const k=x.value.outlet;this.deactivateRoutes(x,w[k],y),delete w[k]}),Object.values(w).forEach(x=>{this.deactivateRouteAndItsChildren(x,y)})}deactivateRoutes(g,d,y){const w=g.value,x=d?d.value:null;if(w===x)if(w.component){const k=y.getContext(w.outlet);k&&this.deactivateChildRoutes(g,d,k.children)}else this.deactivateChildRoutes(g,d,y);else x&&this.deactivateRouteAndItsChildren(d,y)}deactivateRouteAndItsChildren(g,d){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,d):this.deactivateRouteAndOutlet(g,d)}detachAndStoreRouteSubtree(g,d){const y=d.getContext(g.value.outlet),w=y&&g.value.component?y.children:d,x=yr(g);for(const k of Object.keys(x))this.deactivateRouteAndItsChildren(x[k],w);if(y&&y.outlet){const k=y.outlet.detach(),ae=y.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:k,route:g,contexts:ae})}}deactivateRouteAndOutlet(g,d){const y=d.getContext(g.value.outlet),w=y&&g.value.component?y.children:d,x=yr(g);for(const k of Object.keys(x))this.deactivateRouteAndItsChildren(x[k],w);y&&(y.outlet&&(y.outlet.deactivate(),y.children.onOutletDeactivated()),y.attachRef=null,y.route=null)}activateChildRoutes(g,d,y){const w=yr(d);g.children.forEach(x=>{this.activateRoutes(x,w[x.value.outlet],y),this.forwardEvent(new wt(x.value.snapshot))}),g.children.length&&this.forwardEvent(new Br(g.value.snapshot))}activateRoutes(g,d,y){const w=g.value,x=d?d.value:null;if(Xn(w),w===x)if(w.component){const k=y.getOrCreateContext(w.outlet);this.activateChildRoutes(g,d,k.children)}else this.activateChildRoutes(g,d,y);else if(w.component){const k=y.getOrCreateContext(w.outlet);if(this.routeReuseStrategy.shouldAttach(w.snapshot)){const ae=this.routeReuseStrategy.retrieve(w.snapshot);this.routeReuseStrategy.store(w.snapshot,null),k.children.onOutletReAttached(ae.contexts),k.attachRef=ae.componentRef,k.route=ae.route.value,k.outlet&&k.outlet.attach(ae.componentRef,ae.route.value),Xn(ae.route.value),this.activateChildRoutes(g,null,k.children)}else{const ae=Un(w.snapshot);k.attachRef=null,k.route=w,k.injector=ae,k.outlet&&k.outlet.activateWith(w,k.injector),this.activateChildRoutes(g,null,k.children)}}else this.activateChildRoutes(g,null,y)}}class Qr{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class go{constructor(g,d){this.component=g,this.route=d}}function Ii(h,g,d){const y=h._root;return wo(y,g?g._root:null,d,[y.value])}function Xr(h,g){const d=Symbol(),y=g.get(h,d);return y===d?"function"!=typeof h||(0,l.Z0I)(h)?g.get(h):h:y}function wo(h,g,d,y,w={canDeactivateChecks:[],canActivateChecks:[]}){const x=yr(g);return h.children.forEach(k=>{(function pi(h,g,d,y,w={canDeactivateChecks:[],canActivateChecks:[]}){const x=h.value,k=g?g.value:null,ae=d?d.getContext(h.value.outlet):null;if(k&&x.routeConfig===k.routeConfig){const Te=function ri(h,g,d){if("function"==typeof d)return d(h,g);switch(d){case"pathParamsChange":return!dr(h.url,g.url);case"pathParamsOrQueryParamsChange":return!dr(h.url,g.url)||!Ye(h.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!at(h,g)||!Ye(h.queryParams,g.queryParams);default:return!at(h,g)}}(k,x,x.routeConfig.runGuardsAndResolvers);Te?w.canActivateChecks.push(new Qr(y)):(x.data=k.data,x._resolvedData=k._resolvedData),wo(h,g,x.component?ae?ae.children:null:d,y,w),Te&&ae&&ae.outlet&&ae.outlet.isActivated&&w.canDeactivateChecks.push(new go(ae.outlet.component,k))}else k&&To(g,ae,w),w.canActivateChecks.push(new Qr(y)),wo(h,null,x.component?ae?ae.children:null:d,y,w)})(k,x[k.value.outlet],d,y.concat([k.value]),w),delete x[k.value.outlet]}),Object.entries(x).forEach(([k,ae])=>To(ae,d.getContext(k),w)),w}function To(h,g,d){const y=yr(h),w=h.value;Object.entries(y).forEach(([x,k])=>{To(k,w.component?g?g.children.getContext(x):null:g,d)}),d.canDeactivateChecks.push(new go(w.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,w))}function Gt(h){return"function"==typeof h}function b(h){return h instanceof ve||"EmptyError"===h?.name}const O=Symbol("INITIAL_VALUE");function R(){return(0,ce.w)(h=>Fe(h.map(g=>g.pipe(Re(1),function Ve(...h){const g=(0,ie.yG)(h);return(0,De.e)((d,y)=>{(g?pe(h,d,g):pe(h,d)).subscribe(y)})}(O)))).pipe((0,te.U)(g=>{for(const d of g)if(!0!==d){if(d===O)return O;if(!1===d||d instanceof kt)return d}return!0}),xe(g=>g!==O),Re(1)))}function va(h){return(0,le.z)(pt(g=>{if(jn(g))throw er(0,g)}),(0,te.U)(g=>!0===g))}class tr{constructor(g){this.segmentGroup=g||null}}class oi{constructor(g){this.urlTree=g}}function pn(h){return W(new tr(h))}function Ri(h){return W(new oi(h))}class Oi{constructor(g,d){this.urlSerializer=g,this.urlTree=d}noMatchError(g){return new l.vHH(4002,!1)}lineralizeSegments(g,d){let y=[],w=d.root;for(;;){if(y=y.concat(w.segments),0===w.numberOfChildren)return(0,fe.of)(y);if(w.numberOfChildren>1||!w.children[Le])return W(new l.vHH(4e3,!1));w=w.children[Le]}}applyRedirectCommands(g,d,y){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),g,y)}applyRedirectCreateUrlTree(g,d,y,w){const x=this.createSegmentGroup(g,d.root,y,w);return new kt(x,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(g,d){const y={};return Object.entries(g).forEach(([w,x])=>{if("string"==typeof x&&x.startsWith(":")){const ae=x.substring(1);y[w]=d[ae]}else y[w]=x}),y}createSegmentGroup(g,d,y,w){const x=this.createSegments(g,d.segments,y,w);let k={};return Object.entries(d.children).forEach(([ae,Te])=>{k[ae]=this.createSegmentGroup(g,Te,y,w)}),new bt(x,k)}createSegments(g,d,y,w){return d.map(x=>x.path.startsWith(":")?this.findPosParam(g,x,w):this.findOrReturn(x,y))}findPosParam(g,d,y){const w=y[d.path.substring(1)];if(!w)throw new l.vHH(4001,!1);return w}findOrReturn(g,d){let y=0;for(const w of d){if(w.path===g.path)return d.splice(y),w;y++}return g}}const Jo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(h,g,d,y,w){const x=xi(h,g,d);return x.matched?(y=function Yo(h,g){return h.providers&&!h._injector&&(h._injector=(0,l.MMx)(h.providers,g,`Route: ${h.path}`)),h._injector??g}(g,y),function Cs(h,g,d,y){const w=g.canMatch;if(!w||0===w.length)return(0,fe.of)(!0);const x=w.map(k=>{const ae=Xr(k,h);return an(function c(h){return h&&Gt(h.canMatch)}(ae)?ae.canMatch(g,d):h.runInContext(()=>ae(g,d)))});return(0,fe.of)(x).pipe(R(),va())}(y,g,d).pipe((0,te.U)(k=>!0===k?x:{...Jo}))):(0,fe.of)(x)}function xi(h,g,d){if(""===g.path)return"full"===g.pathMatch&&(h.hasChildren()||d.length>0)?{...Jo}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const w=(g.matcher||xt)(d,h,g);if(!w)return{...Jo};const x={};Object.entries(w.posParams??{}).forEach(([ae,Te])=>{x[ae]=Te.path});const k=w.consumed.length>0?{...x,...w.consumed[w.consumed.length-1].parameters}:x;return{matched:!0,consumedSegments:w.consumed,remainingSegments:d.slice(w.consumed.length),parameters:k,positionalParamSegments:w.posParams??{}}}function ki(h,g,d,y){return d.length>0&&function mi(h,g,d){return d.some(y=>Ni(h,g,y)&&Yt(y)!==Le)}(h,d,y)?{segmentGroup:new bt(g,Ds(y,new bt(d,h.children))),slicedSegments:[]}:0===d.length&&function Ca(h,g,d){return d.some(y=>Ni(h,g,y))}(h,d,y)?{segmentGroup:new bt(h.segments,gi(h,0,d,y,h.children)),slicedSegments:d}:{segmentGroup:new bt(h.segments,h.children),slicedSegments:d}}function gi(h,g,d,y,w){const x={};for(const k of y)if(Ni(h,d,k)&&!w[Yt(k)]){const ae=new bt([],{});x[Yt(k)]=ae}return{...w,...x}}function Ds(h,g){const d={};d[Le]=g;for(const y of h)if(""===y.path&&Yt(y)!==Le){const w=new bt([],{});d[Yt(y)]=w}return d}function Ni(h,g,d){return(!(h.hasChildren()||g.length>0)||"full"!==d.pathMatch)&&""===d.path}class ba{constructor(g,d,y,w,x,k,ae){this.injector=g,this.configLoader=d,this.rootComponentType=y,this.config=w,this.urlTree=x,this.paramsInheritanceStrategy=k,this.urlSerializer=ae,this.allowRedirects=!0,this.applyRedirects=new Oi(this.urlSerializer,this.urlTree)}noMatchError(g){return new l.vHH(4002,!1)}recognize(){const g=ki(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,g,Le).pipe(Lt(d=>{if(d instanceof oi)return this.allowRedirects=!1,this.urlTree=d.urlTree,this.match(d.urlTree);throw d instanceof tr?this.noMatchError(d):d}),(0,te.U)(d=>{const y=new ln([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Le,this.rootComponentType,null,{}),w=new ar(y,d),x=new Zn("",w),k=function zr(h,g,d=null,y=null){return ro(Mr(h),g,d,y)}(y,[],this.urlTree.queryParams,this.urlTree.fragment);return k.queryParams=this.urlTree.queryParams,x.url=this.urlSerializer.serialize(k),this.inheritParamsAndData(x._root),{state:x,tree:k}}))}match(g){return this.processSegmentGroup(this.injector,this.config,g.root,Le).pipe(Lt(y=>{throw y instanceof tr?this.noMatchError(y):y}))}inheritParamsAndData(g){const d=g.value,y=It(d,this.paramsInheritanceStrategy);d.params=Object.freeze(y.params),d.data=Object.freeze(y.data),g.children.forEach(w=>this.inheritParamsAndData(w))}processSegmentGroup(g,d,y,w){return 0===y.segments.length&&y.hasChildren()?this.processChildren(g,d,y):this.processSegment(g,d,y,y.segments,w,!0)}processChildren(g,d,y){const w=[];for(const x of Object.keys(y.children))"primary"===x?w.unshift(x):w.push(x);return(0,Y.D)(w).pipe(Ct(x=>{const k=y.children[x],ae=function dt(h,g){const d=h.filter(y=>Yt(y)===g);return d.push(...h.filter(y=>Yt(y)!==g)),d}(d,x);return this.processSegmentGroup(g,ae,k,x)}),function vn(h,g){return(0,De.e)(function yn(h,g,d,y,w){return(x,k)=>{let ae=d,Te=g,Ze=0;x.subscribe((0,Ne.x)(k,Qe=>{const Ft=Ze++;Te=ae?h(Te,Qe,Ft):(ae=!0,Qe),y&&k.next(Te)},w&&(()=>{ae&&k.next(Te),k.complete()})))}}(h,g,arguments.length>=2,!0))}((x,k)=>(x.push(...k),x)),qe(null),function wn(h,g){const d=arguments.length>=2;return y=>y.pipe(h?xe((w,x)=>h(w,x,y)):B.y,en(1),d?qe(g):Kt(()=>new ve))}(),(0,Be.z)(x=>{if(null===x)return pn(y);const k=Li(x);return function Sa(h){h.sort((g,d)=>g.value.outlet===Le?-1:d.value.outlet===Le?1:g.value.outlet.localeCompare(d.value.outlet))}(k),(0,fe.of)(k)}))}processSegment(g,d,y,w,x,k){return(0,Y.D)(d).pipe(Ct(ae=>this.processSegmentAgainstRoute(ae._injector??g,d,ae,y,w,x,k).pipe(Lt(Te=>{if(Te instanceof tr)return(0,fe.of)(null);throw Te}))),ht(ae=>!!ae),Lt(ae=>{if(b(ae))return function Da(h,g,d){return 0===g.length&&!h.children[d]}(y,w,x)?(0,fe.of)([]):pn(y);throw ae}))}processSegmentAgainstRoute(g,d,y,w,x,k,ae){return function Hc(h,g,d,y){return!!(Yt(h)===y||y!==Le&&Ni(g,d,h))&&("**"===h.path||xi(g,h,d).matched)}(y,w,x,k)?void 0===y.redirectTo?this.matchSegmentAgainstRoute(g,w,y,x,k,ae):ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,w,d,y,x,k):pn(w):pn(w)}expandSegmentAgainstRouteUsingRedirect(g,d,y,w,x,k){return"**"===w.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,y,w,k):this.expandRegularSegmentAgainstRouteUsingRedirect(g,d,y,w,x,k)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,d,y,w){const x=this.applyRedirects.applyRedirectCommands([],y.redirectTo,{});return y.redirectTo.startsWith("/")?Ri(x):this.applyRedirects.lineralizeSegments(y,x).pipe((0,Be.z)(k=>{const ae=new bt(k,{});return this.processSegment(g,d,ae,k,w,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,d,y,w,x,k){const{matched:ae,consumedSegments:Te,remainingSegments:Ze,positionalParamSegments:Qe}=xi(d,w,x);if(!ae)return pn(d);const Ft=this.applyRedirects.applyRedirectCommands(Te,w.redirectTo,Qe);return w.redirectTo.startsWith("/")?Ri(Ft):this.applyRedirects.lineralizeSegments(w,Ft).pipe((0,Be.z)(or=>this.processSegment(g,y,d,or.concat(Ze),k,!1)))}matchSegmentAgainstRoute(g,d,y,w,x,k){let ae;if("**"===y.path){const Te=w.length>0?Tr(w).parameters:{},Ze=new ln(w,Te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(y),Yt(y),y.component??y._loadedComponent??null,y,M(y));ae=(0,fe.of)({snapshot:Ze,consumedSegments:[],remainingSegments:[]}),d.children={}}else ae=_a(d,y,w,g).pipe((0,te.U)(({matched:Te,consumedSegments:Ze,remainingSegments:Qe,parameters:Ft})=>Te?{snapshot:new ln(Ze,Ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_(y),Yt(y),y.component??y._loadedComponent??null,y,M(y)),consumedSegments:Ze,remainingSegments:Qe}:null));return ae.pipe((0,ce.w)(Te=>null===Te?pn(d):this.getChildConfig(g=y._injector??g,y,w).pipe((0,ce.w)(({routes:Ze})=>{const Qe=y._loadedInjector??g,{snapshot:Ft,consumedSegments:or,remainingSegments:_i}=Te,{segmentGroup:ai,slicedSegments:ci}=ki(d,or,_i,Ze);if(0===ci.length&&ai.hasChildren())return this.processChildren(Qe,Ze,ai).pipe((0,te.U)(Ao=>null===Ao?null:[new ar(Ft,Ao)]));if(0===Ze.length&&0===ci.length)return(0,fe.of)([new ar(Ft,[])]);const xs=Yt(y)===x;return this.processSegment(Qe,Ze,ai,ci,xs?Le:x,!0).pipe((0,te.U)(Ao=>[new ar(Ft,Ao)]))}))))}getChildConfig(g,d,y){return d.children?(0,fe.of)({routes:d.children,injector:g}):d.loadChildren?void 0!==d._loadedRoutes?(0,fe.of)({routes:d._loadedRoutes,injector:d._loadedInjector}):function Ai(h,g,d,y){const w=g.canLoad;if(void 0===w||0===w.length)return(0,fe.of)(!0);const x=w.map(k=>{const ae=Xr(k,h);return an(function S(h){return h&&Gt(h.canLoad)}(ae)?ae.canLoad(g,d):h.runInContext(()=>ae(g,d)))});return(0,fe.of)(x).pipe(R(),va())}(g,d,y).pipe((0,Be.z)(w=>w?this.configLoader.loadChildren(g,d).pipe(pt(x=>{d._loadedRoutes=x.routes,d._loadedInjector=x.injector})):function Pi(h){return W(En(!1,3))}())):(0,fe.of)({routes:[],injector:g})}}function Fi(h){const g=h.value.routeConfig;return g&&""===g.path}function Li(h){const g=[],d=new Set;for(const y of h){if(!Fi(y)){g.push(y);continue}const w=g.find(x=>y.value.routeConfig===x.value.routeConfig);void 0!==w?(w.children.push(...y.children),d.add(w)):g.push(y)}for(const y of d){const w=Li(y.children);g.push(new ar(y.value,w))}return g.filter(y=>!d.has(y))}function _(h){return h.data||{}}function M(h){return h.resolve||{}}function qt(h){return"string"==typeof h.title||null===h.title}function st(h){return(0,ce.w)(g=>{const d=h(g);return d?(0,Y.D)(d).pipe((0,te.U)(()=>g)):(0,fe.of)(g)})}const At=new l.OlP("ROUTES");let yt=(()=>{class h{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(d){if(this.componentLoaders.get(d))return this.componentLoaders.get(d);if(d._loadedComponent)return(0,fe.of)(d._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(d);const y=an(d.loadComponent()).pipe((0,te.U)(tn),pt(x=>{this.onLoadEndListener&&this.onLoadEndListener(d),d._loadedComponent=x}),ir(()=>{this.componentLoaders.delete(d)})),w=new Me(y,()=>new Pe.x).pipe(We());return this.componentLoaders.set(d,w),w}loadChildren(d,y){if(this.childrenLoaders.get(y))return this.childrenLoaders.get(y);if(y._loadedRoutes)return(0,fe.of)({routes:y._loadedRoutes,injector:y._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(y);const x=this.loadModuleFactoryOrRoutes(y.loadChildren).pipe((0,te.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(y);let Te,Ze;return Array.isArray(ae)?Ze=ae:(Te=ae.create(d).injector,Ze=Te.get(At,[],l.XFs.Self|l.XFs.Optional).flat()),{routes:Ze.map(Ht),injector:Te}}),ir(()=>{this.childrenLoaders.delete(y)})),k=new Me(x,()=>new Pe.x).pipe(We());return this.childrenLoaders.set(y,k),k}loadModuleFactoryOrRoutes(d){return an(d()).pipe((0,te.U)(tn),(0,Be.z)(y=>y instanceof l.YKP||Array.isArray(y)?(0,fe.of)(y):(0,Y.D)(this.compiler.compileModuleAsync(y))))}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function tn(h){return function Pt(h){return h&&"object"==typeof h&&"default"in h}(h)?h.default:h}let gn=(()=>{class h{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Pe.x,this.configLoader=(0,l.f3M)(yt),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Vn),this.rootContexts=(0,l.f3M)(Nt),this.inputBindingEnabled=null!==(0,l.f3M)(_r,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=w=>this.events.next(new Lo(w)),this.configLoader.onLoadStartListener=w=>this.events.next(new lo(w))}complete(){this.transitions?.complete()}handleNavigationRequest(d){const y=++this.navigationId;this.transitions?.next({...this.transitions.value,...d,id:y})}setupNavigations(d){return this.transitions=new I.X({id:0,currentUrlTree:d.currentUrlTree,currentRawUrl:d.currentUrlTree,extractedUrl:d.urlHandlingStrategy.extract(d.currentUrlTree),urlAfterRedirects:d.urlHandlingStrategy.extract(d.currentUrlTree),rawUrl:d.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lr,restoredState:null,currentSnapshot:d.routerState.snapshot,targetSnapshot:null,currentRouterState:d.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xe(y=>0!==y.id),(0,te.U)(y=>({...y,extractedUrl:d.urlHandlingStrategy.extract(y.rawUrl)})),(0,ce.w)(y=>{let w=!1,x=!1;return(0,fe.of)(y).pipe(pt(k=>{this.currentNavigation={id:k.id,initialUrl:k.rawUrl,extractedUrl:k.extractedUrl,trigger:k.source,extras:k.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ce.w)(k=>{const ae=d.browserUrlTree.toString(),Te=!d.navigated||k.extractedUrl.toString()!==ae||ae!==d.currentUrlTree.toString();if(!Te&&"reload"!==(k.extras.onSameUrlNavigation??d.onSameUrlNavigation)){const Qe="";return this.events.next(new Do(k.id,d.serializeUrl(y.rawUrl),Qe,0)),d.rawUrlTree=k.rawUrl,k.resolve(null),ee.E}if(d.urlHandlingStrategy.shouldProcessUrl(k.rawUrl))return nr(k.source)&&(d.browserUrlTree=k.extractedUrl),(0,fe.of)(k).pipe((0,ce.w)(Qe=>{const Ft=this.transitions?.getValue();return this.events.next(new Fo(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),Qe.source,Qe.restoredState)),Ft!==this.transitions?.getValue()?ee.E:Promise.resolve(Qe)}),function C(h,g,d,y,w,x){return(0,Be.z)(k=>function bs(h,g,d,y,w,x,k="emptyOnly"){return new ba(h,g,d,y,w,k,x).recognize()}(h,g,d,y,k.extractedUrl,w,x).pipe((0,te.U)(({state:ae,tree:Te})=>({...k,targetSnapshot:ae,urlAfterRedirects:Te}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,d.config,this.urlSerializer,d.paramsInheritanceStrategy),pt(Qe=>{if(y.targetSnapshot=Qe.targetSnapshot,y.urlAfterRedirects=Qe.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Qe.urlAfterRedirects},"eager"===d.urlUpdateStrategy){if(!Qe.extras.skipLocationChange){const or=d.urlHandlingStrategy.merge(Qe.urlAfterRedirects,Qe.rawUrl);d.setBrowserUrl(or,Qe)}d.browserUrlTree=Qe.urlAfterRedirects}const Ft=new ao(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Ft)}));if(Te&&d.urlHandlingStrategy.shouldProcessUrl(d.rawUrlTree)){const{id:Qe,extractedUrl:Ft,source:or,restoredState:_i,extras:ai}=k,ci=new Fo(Qe,this.urlSerializer.serialize(Ft),or,_i);this.events.next(ci);const xs=$e(0,this.rootComponentType).snapshot;return y={...k,targetSnapshot:xs,urlAfterRedirects:Ft,extras:{...ai,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(y)}{const Qe="";return this.events.next(new Do(k.id,d.serializeUrl(y.extractedUrl),Qe,1)),d.rawUrlTree=k.rawUrl,k.resolve(null),ee.E}}),pt(k=>{const ae=new Zo(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(ae)}),(0,te.U)(k=>y={...k,guards:Ii(k.targetSnapshot,k.currentSnapshot,this.rootContexts)}),function H(h,g){return(0,Be.z)(d=>{const{targetSnapshot:y,currentSnapshot:w,guards:{canActivateChecks:x,canDeactivateChecks:k}}=d;return 0===k.length&&0===x.length?(0,fe.of)({...d,guardsResult:!0}):function j(h,g,d,y){return(0,Y.D)(h).pipe((0,Be.z)(w=>function Wt(h,g,d,y,w){const x=g&&g.routeConfig?g.routeConfig.canDeactivate:null;if(!x||0===x.length)return(0,fe.of)(!0);const k=x.map(ae=>{const Te=Un(g)??w,Ze=Xr(ae,Te);return an(function i(h){return h&&Gt(h.canDeactivate)}(Ze)?Ze.canDeactivate(h,g,d,y):Te.runInContext(()=>Ze(h,g,d,y))).pipe(ht())});return(0,fe.of)(k).pipe(R())}(w.component,w.route,d,g,y)),ht(w=>!0!==w,!0))}(k,y,w,h).pipe((0,Be.z)(ae=>ae&&function $r(h){return"boolean"==typeof h}(ae)?function ne(h,g,d,y){return(0,Y.D)(g).pipe(Ct(w=>pe(function ze(h,g){return null!==h&&g&&g(new uo(h)),(0,fe.of)(!0)}(w.route.parent,y),function Se(h,g){return null!==h&&g&&g(new fo(h)),(0,fe.of)(!0)}(w.route,y),function zt(h,g,d){const y=g[g.length-1],x=g.slice(0,g.length-1).reverse().map(k=>function hi(h){const g=h.routeConfig?h.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:h,guards:g}:null}(k)).filter(k=>null!==k).map(k=>he(()=>{const ae=k.guards.map(Te=>{const Ze=Un(k.node)??d,Qe=Xr(Te,Ze);return an(function s(h){return h&&Gt(h.canActivateChild)}(Qe)?Qe.canActivateChild(y,h):Ze.runInContext(()=>Qe(y,h))).pipe(ht())});return(0,fe.of)(ae).pipe(R())}));return(0,fe.of)(x).pipe(R())}(h,w.path,d),function Et(h,g,d){const y=g.routeConfig?g.routeConfig.canActivate:null;if(!y||0===y.length)return(0,fe.of)(!0);const w=y.map(x=>he(()=>{const k=Un(g)??d,ae=Xr(x,k);return an(function D(h){return h&&Gt(h.canActivate)}(ae)?ae.canActivate(g,h):k.runInContext(()=>ae(g,h))).pipe(ht())}));return(0,fe.of)(w).pipe(R())}(h,w.route,d))),ht(w=>!0!==w,!0))}(y,x,h,g):(0,fe.of)(ae)),(0,te.U)(ae=>({...d,guardsResult:ae})))})}(this.environmentInjector,k=>this.events.next(k)),pt(k=>{if(y.guardsResult=k.guardsResult,jn(k.guardsResult))throw er(0,k.guardsResult);const ae=new ti(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot,!!k.guardsResult);this.events.next(ae)}),xe(k=>!!k.guardsResult||(d.restoreHistory(k),this.cancelNavigationTransition(k,"",3),!1)),st(k=>{if(k.guards.canActivateChecks.length)return(0,fe.of)(k).pipe(pt(ae=>{const Te=new co(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Te)}),(0,ce.w)(ae=>{let Te=!1;return(0,fe.of)(ae).pipe(function P(h,g){return(0,Be.z)(d=>{const{targetSnapshot:y,guards:{canActivateChecks:w}}=d;if(!w.length)return(0,fe.of)(d);let x=0;return(0,Y.D)(w).pipe(Ct(k=>function z(h,g,d,y){const w=h.routeConfig,x=h._resolve;return void 0!==w?.title&&!qt(w)&&(x[Jt]=w.title),function be(h,g,d,y){const w=function we(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}(h);if(0===w.length)return(0,fe.of)({});const x={};return(0,Y.D)(w).pipe((0,Be.z)(k=>function Je(h,g,d,y){const w=Un(g)??y,x=Xr(h,w);return an(x.resolve?x.resolve(g,d):w.runInContext(()=>x(g,d)))}(h[k],g,d,y).pipe(ht(),pt(ae=>{x[k]=ae}))),en(1),function Zt(h){return(0,te.U)(()=>h)}(x),Lt(k=>b(k)?ee.E:W(k)))}(x,h,g,y).pipe((0,te.U)(k=>(h._resolvedData=k,h.data=It(h,d).resolve,w&&qt(w)&&(h.data[Jt]=w.title),null)))}(k.route,y,h,g)),pt(()=>x++),en(1),(0,Be.z)(k=>x===w.length?(0,fe.of)(d):ee.E))})}(d.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>Te=!0,complete:()=>{Te||(d.restoreHistory(ae),this.cancelNavigationTransition(ae,"",2))}}))}),pt(ae=>{const Te=new ni(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Te)}))}),st(k=>{const ae=Te=>{const Ze=[];Te.routeConfig?.loadComponent&&!Te.routeConfig._loadedComponent&&Ze.push(this.configLoader.loadComponent(Te.routeConfig).pipe(pt(Qe=>{Te.component=Qe}),(0,te.U)(()=>{})));for(const Qe of Te.children)Ze.push(...ae(Qe));return Ze};return Fe(ae(k.targetSnapshot.root)).pipe(qe(),Re(1))}),st(()=>this.afterPreactivation()),(0,te.U)(k=>{const ae=function ho(h,g,d){const y=lr(h,g._root,d?d._root:void 0);return new _e(y,g)}(d.routeReuseStrategy,k.targetSnapshot,k.currentRouterState);return y={...k,targetRouterState:ae}}),pt(k=>{d.currentUrlTree=k.urlAfterRedirects,d.rawUrlTree=d.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl),d.routerState=k.targetRouterState,"deferred"===d.urlUpdateStrategy&&(k.extras.skipLocationChange||d.setBrowserUrl(d.rawUrlTree,k),d.browserUrlTree=k.urlAfterRedirects)}),((h,g,d,y)=>(0,te.U)(w=>(new Rt(g,w.targetRouterState,w.currentRouterState,d,y).activate(h),w)))(this.rootContexts,d.routeReuseStrategy,k=>this.events.next(k),this.inputBindingEnabled),Re(1),pt({next:k=>{w=!0,this.lastSuccessfulNavigation=this.currentNavigation,d.navigated=!0,this.events.next(new Ar(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(d.currentUrlTree))),d.titleStrategy?.updateTitle(k.targetRouterState.snapshot),k.resolve(!0)},complete:()=>{w=!0}}),ir(()=>{w||x||this.cancelNavigationTransition(y,"",1),this.currentNavigation?.id===y.id&&(this.currentNavigation=null)}),Lt(k=>{if(x=!0,Tt(k)){po(k)||(d.navigated=!0,d.restoreHistory(y,!0));const ae=new Vr(y.id,this.urlSerializer.serialize(y.extractedUrl),k.message,k.cancellationCode);if(this.events.next(ae),po(k)){const Te=d.urlHandlingStrategy.merge(k.url,d.rawUrlTree),Ze={skipLocationChange:y.extras.skipLocationChange,replaceUrl:"eager"===d.urlUpdateStrategy||nr(y.source)};d.scheduleNavigation(Te,Lr,null,Ze,{resolve:y.resolve,reject:y.reject,promise:y.promise})}else y.resolve(!1)}else{d.restoreHistory(y,!0);const ae=new bn(y.id,this.urlSerializer.serialize(y.extractedUrl),k,y.targetSnapshot??void 0);this.events.next(ae);try{y.resolve(d.errorHandler(k))}catch(Te){y.reject(Te)}}return ee.E}))}))}cancelNavigationTransition(d,y,w){const x=new Vr(d.id,this.urlSerializer.serialize(d.extractedUrl),y,w);this.events.next(x),d.resolve(!1)}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function nr(h){return h!==Lr}let mn=(()=>{class h{buildTitle(d){let y,w=d.root;for(;void 0!==w;)y=this.getResolvedTitleForRoute(w)??y,w=w.children.find(x=>x.outlet===Le);return y}getResolvedTitleForRoute(d){return d.data[Jt]}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(Vo)},providedIn:"root"}),h})(),Vo=(()=>{class h extends mn{constructor(d){super(),this.title=d}updateTitle(d){const y=this.buildTitle(d);void 0!==y&&this.title.setTitle(y)}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(un.Dx))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Pr=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(rr)},providedIn:"root"}),h})();class Mo{shouldDetach(g){return!1}store(g,d){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,d){return g.routeConfig===d.routeConfig}}let rr=(()=>{class h extends Mo{}return h.\u0275fac=function(){let g;return function(y){return(g||(g=l.n5z(h)))(y||h)}}(),h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const Ur=new l.OlP("",{providedIn:"root",factory:()=>({})});let Gc=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:function(){return(0,l.f3M)(Ea)},providedIn:"root"}),h})(),Ea=(()=>{class h{shouldProcessUrl(d){return!0}extract(d){return d}merge(d,y){return d}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var Cr=(()=>((Cr=Cr||{})[Cr.COMPLETE=0]="COMPLETE",Cr[Cr.FAILED=1]="FAILED",Cr[Cr.REDIRECTING=2]="REDIRECTING",Cr))();function Ss(h,g){h.events.pipe(xe(d=>d instanceof Ar||d instanceof Vr||d instanceof bn||d instanceof Do),(0,te.U)(d=>d instanceof Ar||d instanceof Do?Cr.COMPLETE:d instanceof Vr&&(0===d.code||1===d.code)?Cr.REDIRECTING:Cr.FAILED),xe(d=>d!==Cr.REDIRECTING),Re(1)).subscribe(()=>{g()})}function zc(h){throw h}function ft(h,g,d){return g.parse("/")}const wa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},md={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class h{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Ur,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||zc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ft,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Gc),this.routeReuseStrategy=(0,l.f3M)(Pr),this.titleStrategy=(0,l.f3M)(mn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(At,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(gn),this.urlSerializer=(0,l.f3M)(Vn),this.location=(0,l.f3M)(ge.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(_r,{optional:!0}),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$e(0,null),this.navigationTransitions.setupNavigations(this).subscribe(d=>{this.lastSuccessfulId=d.id,this.currentPageId=this.browserPageId??0},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)})}resetRootComponentType(d){this.routerState.root.component=d,this.navigationTransitions.rootComponentType=d}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const d=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lr,d)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const y="popstate"===d.type?"popstate":"hashchange";"popstate"===y&&setTimeout(()=>{this.navigateToSyncWithBrowser(d.url,y,d.state)},0)}))}navigateToSyncWithBrowser(d,y,w){const x={replaceUrl:!0},k=w?.navigationId?w:null;if(w){const Te={...w};delete Te.navigationId,delete Te.\u0275routerPageId,0!==Object.keys(Te).length&&(x.state=Te)}const ae=this.parseUrl(d);this.scheduleNavigation(ae,y,k,x)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(d){this.config=d.map(Ht),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(d,y={}){const{relativeTo:w,queryParams:x,fragment:k,queryParamsHandling:ae,preserveFragment:Te}=y,Ze=Te?this.currentUrlTree.fragment:k;let Ft,Qe=null;switch(ae){case"merge":Qe={...this.currentUrlTree.queryParams,...x};break;case"preserve":Qe=this.currentUrlTree.queryParams;break;default:Qe=x||null}null!==Qe&&(Qe=this.removeEmptyProps(Qe));try{Ft=Mr(w?w.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof d[0]||!d[0].startsWith("/"))&&(d=[]),Ft=this.currentUrlTree.root}return ro(Ft,d,Qe,Ze??null)}navigateByUrl(d,y={skipLocationChange:!1}){const w=jn(d)?d:this.parseUrl(d),x=this.urlHandlingStrategy.merge(w,this.rawUrlTree);return this.scheduleNavigation(x,Lr,null,y)}navigate(d,y={skipLocationChange:!1}){return function Wc(h){for(let g=0;g<h.length;g++)if(null==h[g])throw new l.vHH(4008,!1)}(d),this.navigateByUrl(this.createUrlTree(d,y),y)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let y;try{y=this.urlSerializer.parse(d)}catch(w){y=this.malformedUriErrorHandler(w,this.urlSerializer,d)}return y}isActive(d,y){let w;if(w=!0===y?{...wa}:!1===y?{...md}:y,jn(d))return rn(this.currentUrlTree,d,w);const x=this.parseUrl(d);return rn(this.currentUrlTree,x,w)}removeEmptyProps(d){return Object.keys(d).reduce((y,w)=>{const x=d[w];return null!=x&&(y[w]=x),y},{})}scheduleNavigation(d,y,w,x,k){if(this.disposed)return Promise.resolve(!1);let ae,Te,Ze;k?(ae=k.resolve,Te=k.reject,Ze=k.promise):Ze=new Promise((Ft,or)=>{ae=Ft,Te=or});const Qe=this.pendingTasks.add();return Ss(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Qe))}),this.navigationTransitions.handleNavigationRequest({source:y,restoredState:w,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:d,extras:x,resolve:ae,reject:Te,promise:Ze,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ze.catch(Ft=>Promise.reject(Ft))}setBrowserUrl(d,y){const w=this.urlSerializer.serialize(d);if(this.location.isCurrentPathEqualTo(w)||y.extras.replaceUrl){const k={...y.extras.state,...this.generateNgRouterState(y.id,this.browserPageId)};this.location.replaceState(w,"",k)}else{const x={...y.extras.state,...this.generateNgRouterState(y.id,(this.browserPageId??0)+1)};this.location.go(w,"",x)}}restoreHistory(d,y=!1){if("computed"===this.canceledNavigationResolution){const x=this.currentPageId-(this.browserPageId??this.currentPageId);0!==x?this.location.historyGo(x):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===x&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(y&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(d,y){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:y}:{navigationId:d}}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Vi=(()=>{class h{constructor(d,y,w,x,k,ae){this.router=d,this.route=y,this.tabIndexAttribute=w,this.renderer=x,this.el=k,this.locationStrategy=ae,this.href=null,this.commands=null,this.onChanges=new Pe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Te=k.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Te||"area"===Te,this.isAnchorElement?this.subscription=d.events.subscribe(Ze=>{Ze instanceof Ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(d){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",d)}ngOnChanges(d){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(d,y,w,x,k){return!!(null===this.urlTree||this.isAnchorElement&&(0!==d||y||w||x||k||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const d=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",d)}applyAttributeValue(d,y){const w=this.renderer,x=this.el.nativeElement;null!==y?w.setAttribute(x,d,y):w.removeAttribute(x,d)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return h.\u0275fac=function(d){return new(d||h)(l.Y36(Or),l.Y36(it),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ge.S$))},h.\u0275dir=l.lG2({type:h,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(d,y){1&d&&l.NdJ("click",function(x){return y.onClick(x.button,x.ctrlKey,x.shiftKey,x.altKey,x.metaKey)}),2&d&&l.uIk("target",y.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]}),h})(),Es=(()=>{class h{get isActive(){return this._isActive}constructor(d,y,w,x,k){this.router=d,this.element=y,this.renderer=w,this.cdr=x,this.link=k,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=d.events.subscribe(ae=>{ae instanceof Ar&&this.update()})}ngAfterContentInit(){(0,fe.of)(this.links.changes,(0,fe.of)(null)).pipe((0,ye.J)()).subscribe(d=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const d=[...this.links.toArray(),this.link].filter(y=>!!y).map(y=>y.onChanges);this.linkInputChangesSubscription=(0,Y.D)(d).pipe((0,ye.J)()).subscribe(y=>{this._isActive!==this.isLinkActive(this.router)(y)&&this.update()})}set routerLinkActive(d){const y=Array.isArray(d)?d:d.split(" ");this.classes=y.filter(w=>!!w)}ngOnChanges(d){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const d=this.hasActiveLinks();this._isActive!==d&&(this._isActive=d,this.cdr.markForCheck(),this.classes.forEach(y=>{d?this.renderer.addClass(this.element.nativeElement,y):this.renderer.removeClass(this.element.nativeElement,y)}),d&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(d))})}isLinkActive(d){const y=function ii(h){return!!h.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return w=>!!w.urlTree&&d.isActive(w.urlTree,y)}hasActiveLinks(){const d=this.isLinkActive(this.router);return this.link&&d(this.link)||this.links.some(d)}}return h.\u0275fac=function(d){return new(d||h)(l.Y36(Or),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Vi,8))},h.\u0275dir=l.lG2({type:h,selectors:[["","routerLinkActive",""]],contentQueries:function(d,y,w){if(1&d&&l.Suo(w,Vi,5),2&d){let x;l.iGM(x=l.CRH())&&(y.links=x)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),h})();class Ta{}let Zc=(()=>{class h{constructor(d,y,w,x,k){this.router=d,this.injector=w,this.preloadingStrategy=x,this.loader=k}setUpPreloading(){this.subscription=this.router.events.pipe(xe(d=>d instanceof Ar),Ct(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,y){const w=[];for(const x of y){x.providers&&!x._injector&&(x._injector=(0,l.MMx)(x.providers,d,`Route: ${x.path}`));const k=x._injector??d,ae=x._loadedInjector??k;(x.loadChildren&&!x._loadedRoutes&&void 0===x.canLoad||x.loadComponent&&!x._loadedComponent)&&w.push(this.preloadConfig(k,x)),(x.children||x._loadedRoutes)&&w.push(this.processRoutes(ae,x.children??x._loadedRoutes))}return(0,Y.D)(w).pipe((0,ye.J)())}preloadConfig(d,y){return this.preloadingStrategy.preload(y,()=>{let w;w=y.loadChildren&&void 0===y.canLoad?this.loader.loadChildren(d,y):(0,fe.of)(null);const x=w.pipe((0,Be.z)(k=>null===k?(0,fe.of)(void 0):(y._loadedRoutes=k.routes,y._loadedInjector=k.injector,this.processRoutes(k.injector??d,k.routes))));if(y.loadComponent&&!y._loadedComponent){const k=this.loader.loadComponent(y);return(0,Y.D)([x,k]).pipe((0,ye.J)())}return x})}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(Or),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ta),l.LFG(yt))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const ws=new l.OlP("");let Oe=(()=>{class h{constructor(d,y,w,x,k={}){this.urlSerializer=d,this.transitions=y,this.viewportScroller=w,this.zone=x,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof Ar?(this.lastId=d.id,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.urlAfterRedirects).fragment)):d instanceof Do&&0===d.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Sn&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,y){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sn(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,y))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return h.\u0275fac=function(d){l.$Z()},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})();function mo(h,g){return{\u0275kind:h,\u0275providers:g}}function ji(){const h=(0,l.f3M)(l.zs3);return g=>{const d=h.get(l.z2F);if(g!==d.components[0])return;const y=h.get(Or),w=h.get($i);1===h.get(Ms)&&y.initialNavigation(),h.get(yo,null,l.XFs.Optional)?.setUpPreloading(),h.get(ws,null,l.XFs.Optional)?.init(),y.resetRootComponentType(d.componentTypes[0]),w.closed||(w.next(),w.complete(),w.unsubscribe())}}const $i=new l.OlP("",{factory:()=>new Pe.x}),Ms=new l.OlP("",{providedIn:"root",factory:()=>1}),yo=new l.OlP("");function Ia(h){return mo(0,[{provide:yo,useExisting:Zc},{provide:Ta,useExisting:h}])}const Ra=new l.OlP("ROUTER_FORROOT_GUARD"),Is=[ge.Ye,{provide:Vn,useClass:Tn},Or,Nt,{provide:it,useFactory:function Ts(h){return h.routerState.root},deps:[Or]},yt,[]];function As(){return new l.PXZ("Router",Or)}let Pa=(()=>{class h{constructor(d){}static forRoot(d,y){return{ngModule:h,providers:[Is,[],{provide:At,multi:!0,useValue:d},{provide:Ra,useFactory:Ps,deps:[[Or,new l.FiY,new l.tp0]]},{provide:Ur,useValue:y||{}},y?.useHash?{provide:ge.S$,useClass:ge.Do}:{provide:ge.S$,useClass:ge.b0},{provide:ws,useFactory:()=>{const h=(0,l.f3M)(ge.EM),g=(0,l.f3M)(l.R0b),d=(0,l.f3M)(Ur),y=(0,l.f3M)(gn),w=(0,l.f3M)(Vn);return d.scrollOffset&&h.setOffset(d.scrollOffset),new Oe(w,y,h,g,d)}},y?.preloadingStrategy?Ia(y.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:As},y?.initialNavigation?xa(y):[],y?.bindToComponentInputs?mo(8,[on,{provide:_r,useExisting:on}]).\u0275providers:[],[{provide:Os,useFactory:ji},{provide:l.tb,multi:!0,useExisting:Os}]]}}static forChild(d){return{ngModule:h,providers:[{provide:At,multi:!0,useValue:d}]}}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(Ra,8))},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({}),h})();function Ps(h){return"guarded"}function xa(h){return["disabled"===h.initialNavigation?mo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const g=(0,l.f3M)(Or);return()=>{g.setUpLocationChangeListener()}}},{provide:Ms,useValue:2}]).\u0275providers:[],"enabledBlocking"===h.initialNavigation?mo(2,[{provide:Ms,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:g=>{const d=g.get(ge.V_,Promise.resolve());return()=>d.then(()=>new Promise(y=>{const w=g.get(Or),x=g.get($i);Ss(w,()=>{y(!0)}),g.get(gn).afterPreactivation=()=>(y(!0),x.closed?(0,fe.of)(void 0):x),w.initialNavigation()}))}}]).\u0275providers:[]]}const Os=new l.OlP("")},9659:(et,J,T)=>{"use strict";T.d(J,{Z:()=>ye});var l=T(5861);const N=new WeakMap,q=new WeakMap,Q=new WeakMap,Y=Symbol("anyProducer"),fe=Promise.resolve(),I=Symbol("listenerAdded"),V=Symbol("listenerRemoved");let B=!1,K=!1;function ie(pe){if("string"!=typeof pe&&"symbol"!=typeof pe&&"number"!=typeof pe)throw new TypeError("`eventName` must be a string, symbol, or number")}function Ce(pe){if("function"!=typeof pe)throw new TypeError("listener must be a function")}function Ne(pe,U){const he=q.get(pe);if(he.has(U))return he.get(U)}function me(pe,U){const he="string"==typeof U||"symbol"==typeof U||"number"==typeof U?U:Y,le=Q.get(pe);if(le.has(he))return le.get(he)}function Ge(pe,U){U=Array.isArray(U)?U:[U];let he=!1,le=()=>{},W=[];const ee={enqueue($){W.push($),le()},finish(){he=!0,le()}};for(const $ of U){let De=me(pe,$);De||(De=new Set,Q.get(pe).set($,De)),De.add(ee)}return{next(){var $=this;return(0,l.Z)(function*(){return W?0===W.length?he?(W=void 0,$.next()):(yield new Promise(De=>{le=De}),$.next()):{done:!1,value:yield W.shift()}:{done:!0}})()},return($){var De=arguments;return(0,l.Z)(function*(){W=void 0;for(const We of U){const Me=me(pe,We);Me&&(Me.delete(ee),0===Me.size&&Q.get(pe).delete(We))}return le(),De.length>0?{done:!0,value:yield $}:{done:!0}})()},[Symbol.asyncIterator](){return this}}}function F(pe){if(void 0===pe)return re;if(!Array.isArray(pe))throw new TypeError("`methodNames` must be an array of strings");for(const U of pe)if(!re.includes(U))throw"string"!=typeof U?new TypeError("`methodNames` element must be a string"):new Error(`${U} is not Emittery method`);return pe}const Z=pe=>pe===I||pe===V;function ve(pe,U,he){if(Z(U))try{B=!0,pe.emit(U,he)}finally{B=!1}}class ye{static mixin(U,he){return he=F(he),le=>{if("function"!=typeof le)throw new TypeError("`target` must be function");for(const $ of he)if(void 0!==le.prototype[$])throw new Error(`The property \`${$}\` already exists on \`target\``);Object.defineProperty(le.prototype,U,{enumerable:!1,get:function W(){return Object.defineProperty(this,U,{enumerable:!1,value:new ye}),this[U]}});const ee=$=>function(...De){return this[U][$](...De)};for(const $ of he)Object.defineProperty(le.prototype,$,{enumerable:!1,value:ee($)});return le}}static get isDebugEnabled(){if("object"!=typeof globalThis.process?.env)return K;const{env:U}=globalThis.process??{env:{}};return"emittery"===U.DEBUG||"*"===U.DEBUG||K}static set isDebugEnabled(U){K=U}constructor(U={}){N.set(this,new Set),q.set(this,new Map),Q.set(this,new Map),Q.get(this).set(Y,new Set),this.debug=U.debug??{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(he,le,W,ee)=>{try{ee=JSON.stringify(ee)}catch{ee=`Object with the following keys failed to stringify: ${Object.keys(ee).join(",")}`}("symbol"==typeof W||"number"==typeof W)&&(W=W.toString());const $=new Date,De=`${$.getHours()}:${$.getMinutes()}:${$.getSeconds()}.${$.getMilliseconds()}`;console.log(`[${De}][emittery:${he}][${le}] Event Name: ${W}\n\tdata: ${ee}`)})}logIfDebugEnabled(U,he,le){(ye.isDebugEnabled||this.debug.enabled)&&this.debug.logger(U,this.debug.name,he,le)}on(U,he){Ce(he),U=Array.isArray(U)?U:[U];for(const le of U){ie(le);let W=Ne(this,le);W||(W=new Set,q.get(this).set(le,W)),W.add(he),this.logIfDebugEnabled("subscribe",le,void 0),Z(le)||ve(this,I,{eventName:le,listener:he})}return this.off.bind(this,U,he)}off(U,he){Ce(he),U=Array.isArray(U)?U:[U];for(const le of U){ie(le);const W=Ne(this,le);W&&(W.delete(he),0===W.size&&q.get(this).delete(le)),this.logIfDebugEnabled("unsubscribe",le,void 0),Z(le)||ve(this,V,{eventName:le,listener:he})}}once(U){let he;const le=new Promise(W=>{he=this.on(U,ee=>{he(),W(ee)})});return le.off=he,le}events(U){U=Array.isArray(U)?U:[U];for(const he of U)ie(he);return Ge(this,U)}emit(U,he){var le=this;return(0,l.Z)(function*(){if(ie(U),Z(U)&&!B)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");le.logIfDebugEnabled("emit",U,he),function Fe(pe,U,he){const le=Q.get(pe);if(le.has(U))for(const W of le.get(U))W.enqueue(he);if(le.has(Y)){const W=Promise.all([U,he]);for(const ee of le.get(Y))ee.enqueue(W)}}(le,U,he);const W=Ne(le,U)??new Set,ee=N.get(le),$=[...W],De=Z(U)?[]:[...ee];yield fe,yield Promise.all([...$.map(function(){var We=(0,l.Z)(function*(Me){if(W.has(Me))return Me(he)});return function(Me){return We.apply(this,arguments)}}()),...De.map(function(){var We=(0,l.Z)(function*(Me){if(ee.has(Me))return Me(U,he)});return function(Me){return We.apply(this,arguments)}}())])})()}emitSerial(U,he){var le=this;return(0,l.Z)(function*(){if(ie(U),Z(U)&&!B)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");le.logIfDebugEnabled("emitSerial",U,he);const W=Ne(le,U)??new Set,ee=N.get(le),$=[...W],De=[...ee];yield fe;for(const We of $)W.has(We)&&(yield We(he));for(const We of De)ee.has(We)&&(yield We(U,he))})()}onAny(U){return Ce(U),this.logIfDebugEnabled("subscribeAny",void 0,void 0),N.get(this).add(U),ve(this,I,{listener:U}),this.offAny.bind(this,U)}anyEvent(){return Ge(this)}offAny(U){Ce(U),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),ve(this,V,{listener:U}),N.get(this).delete(U)}clearListeners(U){U=Array.isArray(U)?U:[U];for(const he of U)if(this.logIfDebugEnabled("clear",he,void 0),"string"==typeof he||"symbol"==typeof he||"number"==typeof he){const le=Ne(this,he);le&&le.clear();const W=me(this,he);if(W){for(const ee of W)ee.finish();W.clear()}}else{N.get(this).clear();for(const[le,W]of q.get(this).entries())W.clear(),q.get(this).delete(le);for(const[le,W]of Q.get(this).entries()){for(const ee of W)ee.finish();W.clear(),Q.get(this).delete(le)}}}listenerCount(U){U=Array.isArray(U)?U:[U];let he=0;for(const le of U)if("string"!=typeof le){typeof le<"u"&&ie(le),he+=N.get(this).size;for(const W of q.get(this).values())he+=W.size;for(const W of Q.get(this).values())he+=W.size}else he+=N.get(this).size+(Ne(this,le)?.size??0)+(me(this,le)?.size??0)+(me(this)?.size??0);return he}bindMethods(U,he){if("object"!=typeof U||null===U)throw new TypeError("`target` must be an object");he=F(he);for(const le of he){if(void 0!==U[le])throw new Error(`The property \`${le}\` already exists on \`target\``);Object.defineProperty(U,le,{enumerable:!1,value:this[le].bind(this)})}}}const re=Object.getOwnPropertyNames(ye.prototype).filter(pe=>"constructor"!==pe);Object.defineProperty(ye,"listenerAdded",{value:I,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(ye,"listenerRemoved",{value:V,writable:!1,enumerable:!0,configurable:!1})},5861:(et,J,T)=>{"use strict";function l(q,Q,Y,fe,I,V,B){try{var K=q[V](B),ie=K.value}catch(Ce){return void Y(Ce)}K.done?Q(ie):Promise.resolve(ie).then(fe,I)}function N(q){return function(){var Q=this,Y=arguments;return new Promise(function(fe,I){var V=q.apply(Q,Y);function B(ie){l(V,fe,I,B,K,"next",ie)}function K(ie){l(V,fe,I,B,K,"throw",ie)}B(void 0)})}}T.d(J,{Z:()=>N})},7582:(et,J,T)=>{"use strict";function Ce(ge,te,ce,Re){return new(ce||(ce=Promise))(function(xe,Be){function qe(ht){try{nt(Re.next(ht))}catch(Ct){Be(Ct)}}function Kt(ht){try{nt(Re.throw(ht))}catch(Ct){Be(Ct)}}function nt(ht){ht.done?xe(ht.value):function Ve(xe){return xe instanceof ce?xe:new ce(function(Be){Be(xe)})}(ht.value).then(qe,Kt)}nt((Re=Re.apply(ge,te||[])).next())})}function re(ge){return this instanceof re?(this.v=ge,this):new re(ge)}function pe(ge,te,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Re=ce.apply(ge,te||[]),xe=[];return Ve={},Be("next"),Be("throw"),Be("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function Be(pt){Re[pt]&&(Ve[pt]=function(Lt){return new Promise(function(yn,vn){xe.push([pt,Lt,yn,vn])>1||qe(pt,Lt)})})}function qe(pt,Lt){try{!function Kt(pt){pt.value instanceof re?Promise.resolve(pt.value.v).then(nt,ht):Ct(xe[0][2],pt)}(Re[pt](Lt))}catch(yn){Ct(xe[0][3],yn)}}function nt(pt){qe("next",pt)}function ht(pt){qe("throw",pt)}function Ct(pt,Lt){pt(Lt),xe.shift(),xe.length&&qe(xe[0][0],xe[0][1])}}function he(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,te=ge[Symbol.asyncIterator];return te?te.call(ge):(ge=function Ge(ge){var te="function"==typeof Symbol&&Symbol.iterator,ce=te&&ge[te],Re=0;if(ce)return ce.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Re>=ge.length&&(ge=void 0),{value:ge&&ge[Re++],done:!ge}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),ce={},Re("next"),Re("throw"),Re("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function Re(xe){ce[xe]=ge[xe]&&function(Be){return new Promise(function(qe,Kt){!function Ve(xe,Be,qe,Kt){Promise.resolve(Kt).then(function(nt){xe({value:nt,done:qe})},Be)}(qe,Kt,(Be=ge[xe](Be)).done,Be.value)})}}}T.d(J,{FC:()=>pe,KL:()=>he,mG:()=>Ce,qq:()=>re})}},et=>{et(et.s=8956)}]);